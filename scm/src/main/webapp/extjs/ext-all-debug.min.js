var Ext=Ext||{};Ext._startTime=new Date().getTime();(function(){var g=this,l=Object.prototype,m=l.toString,c=true,d={toString:1},b=function(){},a=function(){var n=a.caller.caller;return n.$owner.prototype[n.$name].apply(this,arguments)},h,k=/\S/,e,j=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=true;Ext.global=g;for(h in d){c=null}if(c){c=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}Ext.enumerables=c;Ext.apply=function(s,n,o){if(o){Ext.apply(s,o)}if(s&&n&&typeof n==="object"){var p,q,r;for(p in n){s[p]=n[p]}if(c){for(q=c.length;q--;){r=c[q];if(n.hasOwnProperty(r)){s[r]=n[r]}}}}return s};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:b,identityFn:function(n){return n},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(o,n){var p;if(o){for(p in n){if(o[p]===undefined){o[p]=n[p]}}}return o},iterate:function(o,n,p){if(Ext.isEmpty(o)){return}if(p===undefined){p=o}if(Ext.isIterable(o)){Ext.Array.each.call(Ext.Array,o,n,p)}else{Ext.Object.each.call(Ext.Object,o,n,p)}}});Ext.apply(Ext,{extend:(function(){var o=l.constructor,n=function(q){for(var p in q){if(!q.hasOwnProperty(p)){continue}this[p]=q[p]}};return function(r,t,q){if(Ext.isObject(t)){q=t;t=r;r=q.constructor!==o?q.constructor:function(){t.apply(this,arguments)}}var p=function(){},s,u=t.prototype;p.prototype=u;s=r.prototype=new p();s.constructor=r;r.superclass=u;if(u.constructor===o){u.constructor=t}r.override=function(v){Ext.override(r,v)};s.override=n;s.proto=s;r.override(q);r.extend=function(v){return Ext.extend(r,v)};return r}}()),override:function(q,o){if(q.$isClass){q.override(o)}else{if(typeof q=="function"){Ext.apply(q.prototype,o)}else{var p=q.self,n,r;if(p&&p.$isClass){for(n in o){if(o.hasOwnProperty(n)){r=o[n];if(typeof r=="function"){r.$name=n;r.$owner=p;r.$previous=q.hasOwnProperty(n)?q[n]:a}q[n]=r}}}else{Ext.apply(q,o)}}}return q}});Ext.apply(Ext,{valueFrom:function(p,o,n){return Ext.isEmpty(p,n)?o:p},typeOf:function(p){var n,o;if(p===null){return"null"}n=typeof p;if(n==="undefined"||n==="string"||n==="number"||n==="boolean"){return n}o=m.call(p);switch(o){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(n==="function"){return"function"}if(n==="object"){if(p.nodeType!==undefined){if(p.nodeType===3){return(k).test(p.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}},coerce:function(n,q){var o=Ext.typeOf(n),r=Ext.typeOf(q),p=typeof n==="string";if(o!==r){switch(r){case"string":return String(n);case"number":return Number(n);case"boolean":return p&&(!n||n==="false")?false:Boolean(n);case"null":return p&&(!n||n==="null")?null:n;case"undefined":return p&&(!n||n==="undefined")?undefined:n;case"date":return p&&isNaN(n)?Ext.Date.parse(n,Ext.Date.defaultFormat):Date(Number(n))}}return n},isEmpty:function(o,n){return(o===null)||(o===undefined)||(!n?o==="":false)||(Ext.isArray(o)&&o.length===0)},isArray:("isArray" in Array)?Array.isArray:function(n){return m.call(n)==="[object Array]"},isDate:function(n){return m.call(n)==="[object Date]"},isObject:(m.call(null)==="[object Object]")?function(n){return n!==null&&n!==undefined&&m.call(n)==="[object Object]"&&n.ownerDocument===undefined}:function(n){return m.call(n)==="[object Object]"},isSimpleObject:function(n){return n instanceof Object&&n.constructor===Object},isPrimitive:function(o){var n=typeof o;return n==="string"||n==="number"||n==="boolean"},isFunction:function(n){return !!(n&&n.$extIsFunction)},isNumber:function(n){return typeof n==="number"&&isFinite(n)},isNumeric:function(n){return !isNaN(parseFloat(n))&&isFinite(n)},isString:function(n){return typeof n==="string"},isBoolean:function(n){return typeof n==="boolean"},isElement:function(n){return n?n.nodeType===1:false},isTextNode:function(n){return n?n.nodeName==="#text":false},isDefined:function(n){return typeof n!=="undefined"},isIterable:function(n){if(!n||typeof n.length!=="number"||typeof n==="string"||n.$extIsFunction){return false}if(!n.propertyIsEnumerable){return !!n.item}if(n.hasOwnProperty("length")&&!n.propertyIsEnumerable("length")){return true}return j.test(m.call(n))}});Ext.apply(Ext,{clone:function(p){var t,o,q,r,n,s;if(p===null||p===undefined){return p}if(p.nodeType&&p.cloneNode){return p.cloneNode(true)}t=m.call(p);if(t==="[object Date]"){return new Date(p.getTime())}if(t==="[object Array]"){o=p.length;n=[];while(o--){n[o]=Ext.clone(p[o])}}else{if(t==="[object Object]"&&p.constructor===Object){n={};for(s in p){n[s]=Ext.clone(p[s])}if(c){for(q=c.length;q--;){r=c[q];if(p.hasOwnProperty(r)){n[r]=p[r]}}}}}return n||p},getUniqueGlobalNamespace:function(){var o=this.uniqueGlobalNamespace,n;if(o===undefined){n=0;do{o="ExtBox"+(++n)}while(Ext.global[o]!==undefined);Ext.global[o]=Ext;this.uniqueGlobalNamespace=o}return o},functionFactoryCache:{},cacheableFunctionFactory:function(){var s=this,n=Array.prototype.slice.call(arguments),o=s.functionFactoryCache,q,p,r;if(Ext.isSandboxed){r=n.length;if(r>0){r--;n[r]="var Ext=window."+Ext.name+";"+n[r]}}q=n.join("");p=o[q];if(!p){p=Function.prototype.constructor.apply(Function.prototype,n);o[q]=p}return p},functionFactory:function(){var p=this,n=Array.prototype.slice.call(arguments),o;if(Ext.isSandboxed){o=n.length;if(o>0){o--;n[o]="var Ext=window."+Ext.name+";"+n[o]}}return Function.prototype.constructor.apply(Function.prototype,n)},Logger:{verbose:b,log:b,info:b,warn:b,error:function(n){throw new Error(n)},deprecate:b}});Ext.type=Ext.typeOf;e=Ext.app;if(!e){e=Ext.app={}}Ext.apply(e,{namespaces:{},collectNamespaces:function(p){var n=Ext.app.namespaces,o;for(o in p){if(p.hasOwnProperty(o)){n[o]=true}}},addNamespaces:function(q){var p=Ext.app.namespaces,n,o;if(!Ext.isArray(q)){q=[q]}for(n=0,o=q.length;n<o;n++){p[q[n]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(n){var p=Ext.app.namespaces,o="",q;for(q in p){if(p.hasOwnProperty(q)&&q.length>o.length&&(q+"."===n.substring(0,q.length+1))){o=q}}return o===""?undefined:o}})}());Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){(function(){var Ext=this.Ext;eval($$code)}())};(function(){var a="4.2.1.883",b;Ext.Version=b=Ext.extend(Object,{constructor:function(e){var c,d;if(e instanceof b){return e}this.version=this.shortVersion=String(e).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");d=this.version.search(/([^\d\.])/);if(d!==-1){this.release=this.version.substr(d,e.length);this.shortVersion=this.version.substr(0,d)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");c=this.version.split(".");this.major=parseInt(c.shift()||0,10);this.minor=parseInt(c.shift()||0,10);this.patch=parseInt(c.shift()||0,10);this.build=parseInt(c.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(c){return b.compare(this.version,c)===1},isGreaterThanOrEqual:function(c){return b.compare(this.version,c)>=0},isLessThan:function(c){return b.compare(this.version,c)===-1},isLessThanOrEqual:function(c){return b.compare(this.version,c)<=0},equals:function(c){return b.compare(this.version,c)===0},match:function(c){c=String(c);return this.version.substr(0,c.length)===c},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(b,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(c){return !c?0:(isNaN(c)?this.releaseValueMap[c]||c:parseInt(c,10))},compare:function(c,g){var d,h,e;c=new b(c).toArray();g=new b(g).toArray();for(e=0;e<Math.max(c.length,g.length);e++){d=this.getComponentValue(c[e]);h=this.getComponentValue(g[e]);if(d<h){return -1}else{if(d>h){return 1}}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(c,d){Ext.versions[c]=new b(d);Ext.lastRegisteredVersion=Ext.versions[c];return this},getVersion:function(c){if(c===undefined){return Ext.lastRegisteredVersion}return Ext.versions[c]},deprecate:function(d,g,c,e){if(b.compare(Ext.getVersion(d),g)<1){c.call(e)}}});Ext.setVersion("core",a)}());Ext.String=(function(){var n=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,h=/('|\\)/g,k=/\{(\d+)\}/g,j=/([-.*+?\^${}()|\[\]\/\\])/g,a=/^\s+|\s+$/g,p=/\s+/,o=/(^[^a-z]*|[^\w])/gi,c,e,d,g,m=function(r,q){return c[q]},l=function(r,q){return(q in e)?e[q]:String.fromCharCode(parseInt(q.substr(2),10))},b=function(r,q){if(r===null||r===undefined||q===null||q===undefined){return false}return q.length<=r.length};return{insert:function(t,u,q){if(!t){return u}if(!u){return t}var r=t.length;if(!q&&q!==0){q=r}if(q<0){q*=-1;if(q>=r){q=0}else{q=r-q}}if(q===0){t=u+t}else{if(q>=t.length){t+=u}else{t=t.substr(0,q)+u+t.substr(q)}}return t},startsWith:function(t,u,q){var r=b(t,u);if(r){if(q){t=t.toLowerCase();u=u.toLowerCase()}r=t.lastIndexOf(u,0)===0}return r},endsWith:function(u,q,r){var t=b(u,q);if(t){if(r){u=u.toLowerCase();q=q.toLowerCase()}t=u.indexOf(q,u.length-q.length)!==-1}return t},createVarName:function(q){return q.replace(o,"")},htmlEncode:function(q){return(!q)?q:String(q).replace(d,m)},htmlDecode:function(q){return(!q)?q:String(q).replace(g,l)},addCharacterEntities:function(u){var q=[],s=[],t,r;for(t in u){r=u[t];e[t]=r;c[r]=t;q.push(r);s.push(t)}d=new RegExp("("+q.join("|")+")","g");g=new RegExp("("+s.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){c={};e={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(r,q){if(!Ext.isEmpty(q)){return r+(r.indexOf("?")===-1?"?":"&")+q}return r},trim:function(q){return q.replace(n,"")},capitalize:function(q){return q.charAt(0).toUpperCase()+q.substr(1)},uncapitalize:function(q){return q.charAt(0).toLowerCase()+q.substr(1)},ellipsis:function(s,r,u){if(s&&s.length>r){if(u){var t=s.substr(0,r-2),q=Math.max(t.lastIndexOf(" "),t.lastIndexOf("."),t.lastIndexOf("!"),t.lastIndexOf("?"));if(q!==-1&&q>=(r-15)){return t.substr(0,q)+"..."}}return s.substr(0,r-3)+"..."}return s},escapeRegex:function(q){return q.replace(j,"\\$1")},escape:function(q){return q.replace(h,"\\$1")},toggle:function(r,s,q){return r===s?q:s},leftPad:function(t,s,q){var r=String(t);q=q||" ";while(r.length<s){r=q+r}return r},format:function(r){var q=Ext.Array.toArray(arguments,1);return r.replace(k,function(t,s){return q[s]})},repeat:function(t,r,u){if(r<1){r=0}for(var q=[],s=r;s--;){q.push(t)}return q.join(u||"")},splitWords:function(q){if(q&&typeof q=="string"){return q.replace(a,"").split(p)}return q||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var c=this,a=(0.9).toFixed()!=="1",b=Math;Ext.apply(this,{constrain:function(g,e,d){var h=parseFloat(g);return(h<e)?e:((h>d)?d:h)},snap:function(j,d,h,g){var e;if(j===undefined||j<h){return h||0}if(d){e=j%d;if(e!==0){j-=e;if(e*2>=d){j+=d}else{if(e*2<-d){j-=d}}}}return c.constrain(j,h,g)},snapInRange:function(j,d,g,e){var h;g=(g||0);if(j===undefined||j<g){return g}if(d&&(h=((j-g)%d))){j-=h;h*=2;if(h>=d){j+=d}}if(e!==undefined){if(j>(e=c.snapInRange(e,d,g))){j=e}}return j},toFixed:a?function(g,e){e=e||0;var d=b.pow(10,e);return(b.round(g*d)/d).toFixed(e)}:function(e,d){return e.toFixed(d)},from:function(e,d){if(isFinite(e)){e=parseFloat(e)}return !isNaN(e)?e:d},randomInt:function(d,e){return b.floor(b.random()*(e-d+1)+d)},correctFloat:function(d){return parseFloat(d.toPrecision(14))}});Ext.num=function(){return c.from.apply(this,arguments)}};(function(){var a=Array.prototype,n=a.slice,z=(function(){var e=[],B,A=20;if(!e.splice){return false}while(A--){e.push("A")}e.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");B=e.length;e.splice(13,0,"XXX");if(B+1!=e.length){return false}return true}()),t="forEach" in a,v="map" in a,u="indexOf" in a,r="every" in a,x="some" in a,s="filter" in a,y=(function(){var e=[1,2,3,4,5].sort(function(){return 0});return e[0]===1&&e[1]===2&&e[2]===3&&e[3]===4&&e[4]===5}()),w=true,h,c,k,o;try{if(typeof document!=="undefined"){n.call(document.getElementsByTagName("body"))}}catch(b){w=false}function j(e,A){return(A<0)?Math.max(0,e.length+A):Math.min(e.length,A)}function m(A,C,I,D){var e=D?D.length:0,E=A.length,G=j(A,C),H,L,K,J,F,B;if(G===E){if(e){A.push.apply(A,D)}}else{H=Math.min(I,E-G);L=G+H;K=L+e-H;J=E-L;F=E-H;if(K<L){for(B=0;B<J;++B){A[K+B]=A[L+B]}}else{if(K>L){for(B=J;B--;){A[K+B]=A[L+B]}}}if(e&&G===F){A.length=F;A.push.apply(A,D)}else{A.length=F+e;for(B=0;B<e;++B){A[G+B]=D[B]}}}return A}function l(e,A,C,B){if(B&&B.length){if(A===0&&!C){e.unshift.apply(e,B)}else{if(A<e.length){e.splice.apply(e,[A,C].concat(B))}else{e.push.apply(e,B)}}}else{e.splice(A,C)}return e}function g(e,A,B){return m(e,A,B)}function d(e,A,B){e.splice(A,B);return e}function q(e,A,C){var B=j(e,A),D=e.slice(A,j(e,B+C));if(arguments.length<4){m(e,B,C)}else{m(e,B,C,n.call(arguments,3))}return D}function p(e){return e.splice.apply(e,n.call(arguments,1))}c=z?d:g;k=z?l:m;o=z?p:q;h=Ext.Array={each:function(e,A,E,D){e=h.from(e);var B,C=e.length;if(D!==true){for(B=0;B<C;B++){if(A.call(E||e[B],e[B],B,e)===false){return B}}}else{for(B=C-1;B>-1;B--){if(A.call(E||e[B],e[B],B,e)===false){return B}}}return true},forEach:t?function(e,A,B){e.forEach(A,B)}:function(e,A,D){var B=0,C=e.length;for(;B<C;B++){A.call(D,e[B],B,e)}},indexOf:u?function(e,B,A){return a.indexOf.call(e,B,A)}:function(e,C,A){var B,D=e.length;for(B=(A<0)?Math.max(0,D+A):A||0;B<D;B++){if(e[B]===C){return B}}return -1},contains:u?function(e,A){return a.indexOf.call(e,A)!==-1}:function(e,B){var A,C;for(A=0,C=e.length;A<C;A++){if(e[A]===B){return true}}return false},toArray:function(C,D,A){if(!C||!C.length){return[]}if(typeof C==="string"){C=C.split("")}if(w){return n.call(C,D||0,A||C.length)}var e=[],B;D=D||0;A=A?((A<0)?C.length+A:A):C.length;for(B=D;B<A;B++){e.push(C[B])}return e},pluck:function(e,D){var E=[],A,C,B;for(A=0,C=e.length;A<C;A++){B=e[A];E.push(B[D])}return E},map:v?function(e,A,B){return e.map(A,B)}:function(e,A,E){var D=[],B=0,C=e.length;for(;B<C;B++){D[B]=A.call(E,e[B],B,e)}return D},every:r?function(e,A,B){return e.every(A,B)}:function(e,A,D){var B=0,C=e.length;for(;B<C;++B){if(!A.call(D,e[B],B,e)){return false}}return true},some:x?function(e,A,B){return e.some(A,B)}:function(e,A,D){var B=0,C=e.length;for(;B<C;++B){if(A.call(D,e[B],B,e)){return true}}return false},equals:function(e,A){var C=e.length,D=A.length,B;if(e===A){return true}if(C!==D){return false}for(B=0;B<C;++B){if(e[B]!==A[B]){return false}}return true},clean:function(e){var D=[],A=0,C=e.length,B;for(;A<C;A++){B=e[A];if(!Ext.isEmpty(B)){D.push(B)}}return D},unique:function(e){var A=[],B=0,D=e.length,C;for(;B<D;B++){C=e[B];if(h.indexOf(A,C)===-1){A.push(C)}}return A},filter:s?function(e,A,B){return e.filter(A,B)}:function(e,A,E){var D=[],B=0,C=e.length;for(;B<C;B++){if(A.call(E,e[B],B,e)){D.push(e[B])}}return D},findBy:function(e,A,D){var B=0,C=e.length;for(;B<C;B++){if(A.call(D||e,e[B],B)){return e[B]}}return null},from:function(B,e){if(B===undefined||B===null){return[]}if(Ext.isArray(B)){return(e)?n.call(B):B}var A=typeof B;if(B&&B.length!==undefined&&A!=="string"&&(A!=="function"||!B.apply)){return h.toArray(B)}return[B]},remove:function(e,B){var A=h.indexOf(e,B);if(A!==-1){c(e,A,1)}return e},include:function(e,A){if(!h.contains(e,A)){e.push(A)}},clone:function(e){return n.call(e)},merge:function(){var e=n.call(arguments),A=[],B,C;for(B=0,C=e.length;B<C;B++){A=A.concat(e[B])}return h.unique(A)},intersect:function(){var H=[],B=n.call(arguments),C,e,A,K,M,L,N,D,E,F,G,I,J;if(!B.length){return H}C=B.length;for(G=M=0;G<C;G++){L=B[G];if(!K||L.length<K.length){K=L;M=G}}K=h.unique(K);c(B,M,1);N=K.length;C=B.length;for(G=0;G<N;G++){D=K[G];F=0;for(I=0;I<C;I++){e=B[I];A=e.length;for(J=0;J<A;J++){E=e[J];if(D===E){F++;break}}}if(F===C){H.push(D)}}return H},difference:function(e,A){var B=n.call(e),E=B.length,C,D,F;for(C=0,F=A.length;C<F;C++){for(D=0;D<E;D++){if(B[D]===A[C]){c(B,D,1);D--;E--}}}return B},slice:([1,2].slice(1,undefined).length?function(e,A,B){return n.call(e,A,B)}:function(e,A,B){if(typeof A==="undefined"){return n.call(e)}if(typeof B==="undefined"){return n.call(e,A)}return n.call(e,A,B)}),sort:y?function(e,A){if(A){return e.sort(A)}else{return e.sort()}}:function(e,F){var D=e.length,B=0,A,C,E,G;for(;B<D;B++){E=B;for(C=B+1;C<D;C++){if(F){A=F(e[C],e[E]);if(A<0){E=C}}else{if(e[C]<e[E]){E=C}}}if(E!==B){G=e[B];e[B]=e[E];e[E]=G}}return e},flatten:function(e){var B=[];function A(C){var D,E,F;for(D=0,E=C.length;D<E;D++){F=C[D];if(Ext.isArray(F)){A(F)}else{B.push(F)}}return B}return A(e)},min:function(e,A){var E=e[0],B,D,C;for(B=0,D=e.length;B<D;B++){C=e[B];if(A){if(A(E,C)===1){E=C}}else{if(C<E){E=C}}}return E},max:function(e,A){var E=e[0],B,D,C;for(B=0,D=e.length;B<D;B++){C=e[B];if(A){if(A(E,C)===-1){E=C}}else{if(C>E){E=C}}}return E},mean:function(e){return e.length>0?h.sum(e)/e.length:undefined},sum:function(e){var D=0,A,C,B;for(A=0,C=e.length;A<C;A++){B=e[A];D+=B}return D},toMap:function(e,A,D){var C={},B=e.length;if(!A){while(B--){C[e[B]]=B+1}}else{if(typeof A=="string"){while(B--){C[e[B][A]]=B+1}}else{while(B--){C[A.call(D,e[B])]=B+1}}}return C},toValueMap:function(e,A,D){var C={},B=e.length;if(!A){while(B--){C[e[B]]=e[B]}}else{if(typeof A=="string"){while(B--){C[e[B][A]]=e[B]}}else{while(B--){C[A.call(D,e[B])]=e[B]}}}return C},erase:c,insert:function(e,A,B){return k(e,A,0,B)},replace:k,splice:o,push:function(e){var B=arguments.length,A=1,C;if(e===undefined){e=[]}else{if(!Ext.isArray(e)){e=[e]}}for(;A<B;A++){C=arguments[A];Array.prototype.push[Ext.isIterable(C)?"apply":"call"](e,C)}return e}};Ext.each=h.each;h.union=h.merge;Ext.min=h.min;Ext.max=h.max;Ext.sum=h.sum;Ext.mean=h.mean;Ext.flatten=h.flatten;Ext.clean=h.clean;Ext.unique=h.unique;Ext.pluck=h.pluck;Ext.toArray=function(){return h.toArray.apply(h,arguments)}}());Ext.Function={flexSetter:function(a){return function(c,d){var g,e;if(c===null){return this}if(typeof c!=="string"){for(g in c){if(c.hasOwnProperty(g)){a.call(this,g,c[g])}}if(Ext.enumerables){for(e=Ext.enumerables.length;e--;){g=Ext.enumerables[e];if(c.hasOwnProperty(g)){a.call(this,g,c[g])}}}}else{a.call(this,c,d)}return this}},bind:function(c,e,b,a){if(arguments.length===2){return function(){return c.apply(e,arguments)}}var d=c,g=Array.prototype.slice;return function(){var h=b||arguments;if(a===true){h=g.call(arguments,0);h=h.concat(b)}else{if(typeof a=="number"){h=g.call(arguments,0);Ext.Array.insert(h,a,b)}}return d.apply(e||Ext.global,h)}},pass:function(b,a,c){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else{a=a!==undefined?[a]:[]}}return function(){var d=[].concat(a);d.push.apply(d,arguments);return b.apply(c||this,d)}},alias:function(b,a){return function(){return b[a].apply(b,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(c,b,e,d){var a=c;if(!Ext.isFunction(b)){return c}else{d=Ext.isDefined(d)?d:null;return function(){var h=this,g=arguments;b.target=h;b.method=c;return(b.apply(e||h||Ext.global,g)!==false)?c.apply(h||Ext.global,g):d}}},createDelayed:function(d,c,e,b,a){if(e||b){d=Ext.Function.bind(d,e,b,a)}return function(){var h=this,g=Array.prototype.slice.call(arguments);setTimeout(function(){d.apply(h,g)},c)}},defer:function(c,d,e,b,a){c=Ext.Function.bind(c,e,b,a);if(d>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){c()}:c,d)}c();return 0},createSequence:function(b,a,c){if(!a){return b}else{return function(){var d=b.apply(this,arguments);a.apply(c||this,arguments);return d}}},createBuffered:function(c,b,d,a){var e;return function(){var g=a||Array.prototype.slice.call(arguments,0),h=d||this;if(e){clearTimeout(e)}e=setTimeout(function(){c.apply(h,g)},b)}},createThrottled:function(c,d,h){var g,a,e,j,b=function(){c.apply(h||this,e);g=Ext.Date.now()};return function(){a=Ext.Date.now()-g;e=arguments;clearTimeout(j);if(!g||(a>=d)){b()}else{j=setTimeout(b,d-a)}}},interceptBefore:function(d,c,a,e){var b=d[c]||Ext.emptyFn;return(d[c]=function(){var g=a.apply(e||this,arguments);b.apply(this,arguments);return g})},interceptAfter:function(d,c,a,e){var b=d[c]||Ext.emptyFn;return(d[c]=function(){b.apply(this,arguments);return a.apply(e||this,arguments)})}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");(function(){var b=function(){},a=Ext.Object={chain:Object.create||function(c){b.prototype=c;var d=new b();b.prototype=null;return d},toQueryObjects:function(e,k,h){var j=a.toQueryObjects,g=[],c,d;if(Ext.isArray(k)){for(c=0,d=k.length;c<d;c++){if(h){g=g.concat(j(e+"["+c+"]",k[c],true))}else{g.push({name:e,value:k[c]})}}}else{if(Ext.isObject(k)){for(c in k){if(k.hasOwnProperty(c)){if(h){g=g.concat(j(e+"["+c+"]",k[c],true))}else{g.push({name:e,value:k[c]})}}}}else{g.push({name:e,value:k})}}return g},toQueryString:function(g,m){var k=[],l=[],c,d,e,h,n;for(c in g){if(g.hasOwnProperty(c)){k=k.concat(a.toQueryObjects(c,g[c],m))}}for(d=0,e=k.length;d<e;d++){h=k[d];n=h.value;if(Ext.isEmpty(n)){n=""}else{if(Ext.isDate(n)){n=Ext.Date.toString(n)}}l.push(encodeURIComponent(h.name)+"="+encodeURIComponent(String(n)))}return l.join("&")},fromQueryString:function(s,t){var r=s.replace(/^\?/,"").split("&"),p={},v,c,n,w,d,k,q,e,u,l,m,h,g,o;for(d=0,k=r.length;d<k;d++){q=r[d];if(q.length>0){c=q.split("=");n=decodeURIComponent(c[0]);w=(c[1]!==undefined)?decodeURIComponent(c[1]):"";if(!t){if(p.hasOwnProperty(n)){if(!Ext.isArray(p[n])){p[n]=[p[n]]}p[n].push(w)}else{p[n]=w}}else{l=n.match(/(\[):?([^\]]*)\]/g);m=n.match(/^([^\[]+)/);n=m[0];h=[];if(l===null){p[n]=w;continue}for(e=0,u=l.length;e<u;e++){g=l[e];g=(g.length===2)?"":g.substring(1,g.length-1);h.push(g)}h.unshift(n);v=p;for(e=0,u=h.length;e<u;e++){g=h[e];if(e===u-1){if(Ext.isArray(v)&&g===""){v.push(w)}else{v[g]=w}}else{if(v[g]===undefined||typeof v[g]==="string"){o=h[e+1];v[g]=(Ext.isNumeric(o)||o==="")?[]:{}}v=v[g]}}}}}return p},each:function(d,c,g){for(var e in d){if(d.hasOwnProperty(e)){if(c.call(g||d,e,d[e],d)===false){return}}}},merge:function(d){var e=1,h=arguments.length,j=a.merge,c=Ext.clone,k,g,m,l;for(;e<h;e++){k=arguments[e];for(g in k){m=k[g];if(m&&m.constructor===Object){l=d[g];if(l&&l.constructor===Object){j(l,m)}else{d[g]=c(m)}}else{d[g]=m}}}return d},mergeIf:function(d){var e=1,h=arguments.length,c=Ext.clone,j,g,k;for(;e<h;e++){j=arguments[e];for(g in j){if(!(g in d)){k=j[g];if(k&&k.constructor===Object){d[g]=c(k)}else{d[g]=k}}}}return d},getKey:function(c,e){for(var d in c){if(c.hasOwnProperty(d)&&c[d]===e){return d}}return null},getValues:function(c){var e=[],d;for(d in c){if(c.hasOwnProperty(d)){e.push(c[d])}}return e},getKeys:(typeof Object.keys=="function")?function(c){if(!c){return[]}return Object.keys(c)}:function(d){var c=[],e;for(e in d){if(d.hasOwnProperty(e)){c.push(e)}}return c},getSize:function(c){var e=0,d;for(d in c){if(c.hasOwnProperty(d)){e++}}return e},isEmpty:function(d){for(var c in d){if(d.hasOwnProperty(c)){return false}}return true},equals:(function(){var c=function(e,g){var d;for(d in e){if(e.hasOwnProperty(d)){if(e[d]!==g[d]){return false}}}return true};return function(d,e){if(d===e){return true}if(d&&e){return c(d,e)&&c(e,d)}else{if(!d&&!e){return d===e}else{return false}}}})(),classify:function(d){var j=d,g=[],h={},e=function(){var l=0,m=g.length,n;for(;l<m;l++){n=g[l];this[n]=new h[n]()}},c,k;for(c in d){if(d.hasOwnProperty(c)){k=d[c];if(k&&k.constructor===Object){g.push(c);h[c]=a.classify(k)}}}e.prototype=j;return e}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var c=Ext.Array.from(arguments),d="";if((typeof c[1]==="string")){d=c[1]+"&";c[1]=false}return d+a.toQueryString.apply(a,c)};Ext.urlDecode=function(){return a.fromQueryString.apply(a,arguments)}}());Ext.Date=new function(){var j=this,h=/(\\.)/g,c=/([gGhHisucUOPZ]|MS)/,b=/([djzmnYycU]|MS)/,g=/\\/gi,e=/\{(\d+)\}/g,d=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),a=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function k(m){var l=Array.prototype.slice.call(arguments,1);return m.replace(e,function(o,n){return l[n]})}Ext.apply(j,{now:Date.now||function(){return +new Date()},toString:function(l){var m=Ext.String.leftPad;return l.getFullYear()+"-"+m(l.getMonth()+1,2,"0")+"-"+m(l.getDate(),2,"0")+"T"+m(l.getHours(),2,"0")+":"+m(l.getMinutes(),2,"0")+":"+m(l.getSeconds(),2,"0")},getElapsed:function(l,m){return Math.abs(l-(m||j.now()))},useStrict:false,formatCodeToRegex:function(l,m){var n=j.parseCodes[l];if(n){n=typeof n=="function"?n():n;j.parseCodes[l]=n}return n?Ext.applyIf({c:n.c?k(n.c,m||"{0}"):n.c},n):{g:0,c:null,s:Ext.String.escapeRegex(l)}},parseFunctions:{MS:function(l,n){var m=(l||"").match(d);return m?new Date(((m[1]||"")+m[2])*1):null},time:function(l,n){var m=parseInt(l,10);if(m||m===0){return new Date(m)}return null},timestamp:function(l,n){var m=parseInt(l,10);if(m||m===0){return new Date(m*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return j.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(l){return Ext.Date.monthNames[l].substring(0,3)},getShortDayName:function(l){return Ext.Date.dayNames[l].substring(0,3)},getMonthNumber:function(l){return Ext.Date.monthNumbers[l.substring(0,1).toUpperCase()+l.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(l){return c.test(l.replace(h,""))},formatContainsDateInfo:function(l){return b.test(l.replace(h,""))},unescapeFormat:function(l){return l.replace(g,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var m,n,p,q,o;for(m="Y-m-dTH:i:sP",n=[],p=0,q=m.length;p<q;++p){o=m.charAt(p);n.push(o=="T"?"'T'":j.getFormatCode(o))}return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(u,q,l,o,p,t,r){o=o||0;p=p||0;t=t||0;r=r||0;var n=j.add(new Date(u<100?100:u,q-1,l,o,p,t,r),j.YEAR,u<100?u-100:0);return u==n.getFullYear()&&q==n.getMonth()+1&&l==n.getDate()&&o==n.getHours()&&p==n.getMinutes()&&t==n.getSeconds()&&r==n.getMilliseconds()},parse:function(m,l,o){var n=j.parseFunctions;if(n[l]==null){j.createParser(l)}return n[l].call(j,m,Ext.isDefined(o)?o:j.useStrict)},parseDate:function(m,l,n){return j.parse(m,l,n)},getFormatCode:function(l){var m=j.formatCodes[l];if(m){m=typeof m=="function"?m():m;j.formatCodes[l]=m}return m||("'"+Ext.String.escape(l)+"'")},createFormat:function(n){var m=[],p=false,l="",o;for(o=0;o<n.length;++o){l=n.charAt(o);if(!p&&l=="\\"){p=true}else{if(p){p=false;m.push("'"+Ext.String.escape(l)+"'")}else{m.push(j.getFormatCode(l))}}}j.formatFunctions[n]=Ext.functionFactory("return "+m.join("+"))},createParser:function(p){var u=j.parseRegexes.length,o=1,m=[],t=[],v=false,n="",q=0,r=p.length,l=[],s;for(;q<r;++q){n=p.charAt(q);if(!v&&n=="\\"){v=true}else{if(v){v=false;t.push(Ext.String.escape(n))}else{s=j.formatCodeToRegex(n,o);o+=s.g;t.push(s.s);if(s.g&&s.c){if(s.calcAtEnd){l.push(s.c)}else{m.push(s.c)}}}}}m=m.concat(l);j.parseRegexes[u]=new RegExp("^"+t.join("")+"$","i");j.parseFunctions[p]=Ext.functionFactory("input","strict",k(a,u,m.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var l=[],m=0;m<7;l.push(j.getShortDayName(m)),++m){}return{g:0,c:null,s:"(?:"+l.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+j.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+j.monthNames.join("|")+")"}},M:function(){for(var l=[],m=0;m<12;l.push(j.getShortMonthName(m)),++m){}return Ext.applyIf({s:"("+l.join("|")+")"},j.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var n=[],m=[j.formatCodeToRegex("Y",1),j.formatCodeToRegex("m",2),j.formatCodeToRegex("d",3),j.formatCodeToRegex("H",4),j.formatCodeToRegex("i",5),j.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",j.formatCodeToRegex("P",8).c,"}else{",j.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],o,p;for(o=0,p=m.length;o<p;++o){n.push(m[o].c)}return{g:1,c:n.join(""),s:[m[0].s,"(?:","-",m[1].s,"(?:","-",m[2].s,"(?:","(?:T| )?",m[3].s,":",m[4].s,"(?::",m[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(l,m){return j.format(l,m)},isEqual:function(l,m){if(l&&m){return(l.getTime()===m.getTime())}return !(l||m)},format:function(l,m){var n=j.formatFunctions;if(!Ext.isDate(l)){return""}if(n[m]==null){j.createFormat(m)}return n[m].call(l)+""},getTimezone:function(l){return l.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(m,l){var n=m.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(l?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(n){var q=0,l=Ext.Date.clone(n),p=n.getMonth(),o;for(o=0,l.setDate(1),l.setMonth(0);o<p;l.setMonth(++o)){q+=j.getDaysInMonth(l)}return q+n.getDate()-1},getWeekOfYear:(function(){var l=86400000,m=7*l;return function(o){var p=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()+3)/l,n=Math.floor(p/7),q=new Date(n*m).getUTCFullYear();return n-Math.floor(Date.UTC(q,0,7)/m)+1}}()),isLeapYear:function(l){var m=l.getFullYear();return !!((m&3)==0&&(m%100||(m%400==0&&m)))},getFirstDayOfMonth:function(l){var m=(l.getDay()-(l.getDate()-1))%7;return(m<0)?(m+7):m},getLastDayOfMonth:function(l){return j.getLastDateOfMonth(l).getDay()},getFirstDateOfMonth:function(l){return new Date(l.getFullYear(),l.getMonth(),1)},getLastDateOfMonth:function(l){return new Date(l.getFullYear(),l.getMonth(),j.getDaysInMonth(l))},getDaysInMonth:(function(){var l=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var o=n.getMonth();return o==1&&j.isLeapYear(n)?29:l[o]}}()),getSuffix:function(l){switch(l.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(l){return new Date(l.getTime())},isDST:function(l){return new Date(l.getFullYear(),0,1).getTimezoneOffset()!=l.getTimezoneOffset()},clearTime:function(o,m){if(m){return Ext.Date.clearTime(Ext.Date.clone(o))}var n=o.getDate(),p,l;o.setHours(0);o.setMinutes(0);o.setSeconds(0);o.setMilliseconds(0);if(o.getDate()!=n){for(p=1,l=j.add(o,Ext.Date.HOUR,p);l.getDate()!=n;p++,l=j.add(o,Ext.Date.HOUR,p)){}o.setDate(n);o.setHours(l.getHours())}return o},add:function(n,r,s){var m=Ext.Date.clone(n),o=Ext.Date,p,q,l=0;if(!r||s===0){return m}q=s-parseInt(s,10);s=parseInt(s,10);if(s){switch(r.toLowerCase()){case Ext.Date.MILLI:m.setTime(m.getTime()+s);break;case Ext.Date.SECOND:m.setTime(m.getTime()+s*1000);break;case Ext.Date.MINUTE:m.setTime(m.getTime()+s*60*1000);break;case Ext.Date.HOUR:m.setTime(m.getTime()+s*60*60*1000);break;case Ext.Date.DAY:m.setDate(m.getDate()+s);break;case Ext.Date.MONTH:p=n.getDate();if(p>28){p=Math.min(p,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n),Ext.Date.MONTH,s)).getDate())}m.setDate(p);m.setMonth(n.getMonth()+s);break;case Ext.Date.YEAR:p=n.getDate();if(p>28){p=Math.min(p,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n),Ext.Date.YEAR,s)).getDate())}m.setDate(p);m.setFullYear(n.getFullYear()+s);break}}if(q){switch(r.toLowerCase()){case Ext.Date.MILLI:l=1;break;case Ext.Date.SECOND:l=1000;break;case Ext.Date.MINUTE:l=1000*60;break;case Ext.Date.HOUR:l=1000*60*60;break;case Ext.Date.DAY:l=1000*60*60*24;break;case Ext.Date.MONTH:p=j.getDaysInMonth(m);l=1000*60*60*24*p;break;case Ext.Date.YEAR:p=(j.isLeapYear(m)?366:365);l=1000*60*60*24*p;break}if(l){m.setTime(m.getTime()+l*q)}}return m},subtract:function(l,m,n){return j.add(l,m,-n)},between:function(l,n,m){var o=l.getTime();return n.getTime()<=o&&o<=m.getTime()},compat:function(){var l=window.Date,m,v=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],q=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],t=v.length,n=q.length,u,o,r;for(r=0;r<t;r++){u=v[r];l[u]=j[u]}for(m=0;m<n;m++){o=q[m];l.prototype[o]=function(){var p=Array.prototype.slice.call(arguments);p.unshift(this);return j[o].apply(j,p)}}}})};(function(b){var d=[],a=function(){},c=function(e,k,g,h){var j=function(){var l=this.callParent(arguments);e.apply(this,arguments);return l};j.$name=g;j.$owner=h;if(k){j.$previous=k.$previous;k.$previous=j}return j};Ext.apply(a,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(k){var l=k.prototype,e,m,g,h,j,n;m=this.prototype=Ext.Object.chain(l);m.self=this;this.superclass=m.superclass=l;if(!k.$isClass){e=Ext.Base.prototype;for(g in e){if(g in m){m[g]=e[g]}}}n=l.$inheritableStatics;if(n){for(g=0,h=n.length;g<h;g++){j=n[g];if(!this.hasOwnProperty(j)){this[j]=k[j]}}}if(k.$onExtended){this.$onExtended=k.$onExtended.slice()}m.config=new m.configClass();m.initConfigList=m.initConfigList.slice();m.initConfigMap=Ext.clone(m.initConfigMap);m.configMap=Ext.Object.chain(m.configMap)},$onExtended:[],triggerExtended:function(){var g=this.$onExtended,j=g.length,h,e;if(j>0){for(h=0;h<j;h++){e=g[h];e.fn.apply(e.scope||this,arguments)}}},onExtended:function(e,g){this.$onExtended.push({fn:e,scope:g});return this},addConfig:function(e,j){var p=this.prototype,g=Ext.Class.configNameCache,k=p.configMap,l=p.initConfigList,m=p.initConfigMap,h=p.config,n,o,q;for(o in e){if(e.hasOwnProperty(o)){if(!k[o]){k[o]=true}q=e[o];n=g[o].initialized;if(!m[o]&&q!==null&&!p[n]){m[o]=true;l.push(o)}}}if(j){Ext.merge(h,e)}else{Ext.mergeIf(h,e)}p.configClass=Ext.Object.classify(h)},addStatics:function(g){var e,h;for(h in g){if(g.hasOwnProperty(h)){e=g[h];if(typeof e=="function"&&!e.$isClass&&e!==Ext.emptyFn&&e!==Ext.identityFn){e.$owner=this;e.$name=h}this[h]=e}}return this},addInheritableStatics:function(j){var g,e,l=this.prototype,k,h;g=l.$inheritableStatics;e=l.$hasInheritableStatics;if(!g){g=l.$inheritableStatics=[];e=l.$hasInheritableStatics={}}for(k in j){if(j.hasOwnProperty(k)){h=j[k];this[k]=h;if(!e[k]){e[k]=true;g.push(k)}}}return this},addMembers:function(k){var n=this.prototype,e=Ext.enumerables,m=[],g,h,l,j;for(l in k){m.push(l)}if(e){m.push.apply(m,e)}for(g=0,h=m.length;g<h;g++){l=m[g];if(k.hasOwnProperty(l)){j=k[l];if(typeof j=="function"&&!j.$isClass&&j!==Ext.emptyFn&&j!==Ext.identityFn){j.$owner=this;j.$name=l}n[l]=j}}return this},addMember:function(g,e){if(typeof e=="function"&&!e.$isClass&&e!==Ext.emptyFn&&e!==Ext.identityFn){e.$owner=this;e.$name=g}this.prototype[g]=e;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(g,l){var n=this.prototype,h=g.prototype,j,k,m,e,o;l=Ext.Array.from(l);for(j=0,k=l.length;j<k;j++){m=l[j];o=h[m];if(typeof o=="function"){e=Ext.Function.clone(o);e.$owner=this;e.$name=m;n[m]=e}else{n[m]=o}}return this},override:function(l){var j=this,g=Ext.enumerables,q=j.prototype,e=Ext.Function.clone,m,h,k,p,n,o;if(arguments.length===2){m=l;l={};l[m]=arguments[1];g=null}do{n=[];p=null;for(m in l){if(m=="statics"){p=l[m]}else{if(m=="inheritableStatics"){j.addInheritableStatics(l[m])}else{if(m=="config"){j.addConfig(l[m],true)}else{n.push(m)}}}}if(g){n.push.apply(n,g)}for(h=n.length;h--;){m=n[h];if(l.hasOwnProperty(m)){k=l[m];if(typeof k=="function"&&!k.$className&&k!==Ext.emptyFn&&k!==Ext.identityFn){if(typeof k.$owner!="undefined"){k=e(k)}k.$owner=j;k.$name=m;o=q[m];if(o){k.$previous=o}}q[m]=k}}q=j;l=p}while(l);return this},callParent:function(e){var g;return(g=this.callParent.caller)&&(g.$previous||((g=g.$owner?g:g.caller)&&g.$owner.superclass.self[g.$name])).apply(this,e||d)},callSuper:function(e){var g;return(g=this.callSuper.caller)&&((g=g.$owner?g:g.caller)&&g.$owner.superclass.self[g.$name]).apply(this,e||d)},mixin:function(p,n){var l=this,m=n.prototype,q=l.prototype,j,s,h,k,r,o,g,e;if(typeof m.onClassMixedIn!="undefined"){m.onClassMixedIn.call(n,l)}if(!q.hasOwnProperty("mixins")){if("mixins" in q){q.mixins=Ext.Object.chain(q.mixins)}else{q.mixins={}}}for(j in m){o=m[j];if(j==="mixins"){Ext.merge(q.mixins,o)}else{if(j==="xhooks"){for(g in o){e=o[g];e.$previous=Ext.emptyFn;if(q.hasOwnProperty(g)){c(e,q[g],g,l)}else{q[g]=c(e,null,g,l)}}}else{if(!(j==="mixinId"||j==="config")&&(q[j]===undefined)){q[j]=o}}}}s=m.$inheritableStatics;if(s){for(h=0,k=s.length;h<k;h++){r=s[h];if(!l.hasOwnProperty(r)){l[r]=n[r]}}}if("config" in m){l.addConfig(m.config,false)}q.mixins[p]=m;return l},getName:function(){return Ext.getClassName(this)},createAlias:b(function(e,g){this.override(e,function(){return this[g].apply(this,arguments)})}),addXtype:function(g){var e=this.prototype,k=e.xtypesMap,h=e.xtypes,j=e.xtypesChain;if(!e.hasOwnProperty("xtypesMap")){k=e.xtypesMap=Ext.merge({},e.xtypesMap||{});h=e.xtypes=e.xtypes?[].concat(e.xtypes):[];j=e.xtypesChain=e.xtypesChain?[].concat(e.xtypesChain):[];e.xtype=g}if(!k[g]){k[g]=true;h.push(g);j.push(g);Ext.ClassManager.setAlias(this,"widget."+g)}return this}});a.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,g=this.self;if(!e){return g}return e.$owner},callParent:function(e){var g,h=(g=this.callParent.caller)&&(g.$previous||((g=g.$owner?g:g.caller)&&g.$owner.superclass[g.$name]));return h.apply(this,e||d)},callSuper:function(e){var g,h=(g=this.callSuper.caller)&&((g=g.$owner?g:g.caller)&&g.$owner.superclass[g.$name]);return h.apply(this,e||d)},self:a,constructor:function(){return this},initConfig:function(e){var n=e,g=Ext.Class.configNameCache,h=new this.configClass(),j=this.initConfigList,k=this.configMap,q,l,o,p,m;this.initConfig=Ext.emptyFn;this.initialConfig=n||{};this.config=e=(n)?Ext.merge(h,e):h;if(n){j=j.slice();for(p in n){if(k[p]){if(n[p]!==null){j.push(p);this[g[p].initialized]=false}}}}for(l=0,o=j.length;l<o;l++){p=j[l];q=g[p];m=q.initialized;if(!this[m]){this[m]=true;this[q.set].call(this,e[p])}}return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(g,e){if(!g){return this}var h=Ext.Class.configNameCache,j=this.config,k=this.configMap,l=this.initialConfig,m,n;e=Boolean(e);for(m in g){if(e&&l.hasOwnProperty(m)){continue}n=g[m];j[m]=n;if(k[m]){this[h[m].set](n)}}return this},getConfig:function(g){var e=Ext.Class.configNameCache;return this[e[g].get]()},getInitialConfig:function(g){var e=this.config;if(!g){return e}else{return e[g]}},onConfigUpdate:function(k,e,m){var n=this.self,g,h,j,p,o,l;k=Ext.Array.from(k);m=m||this;for(g=0,h=k.length;g<h;g++){j=k[g];p="update"+Ext.String.capitalize(j);o=this[p]||Ext.emptyFn;l=function(){o.apply(this,arguments);m[e].apply(m,arguments)};l.$name=p;l.$owner=n;this[p]=l}},destroy:function(){this.destroy=Ext.emptyFn}});a.prototype.callOverridden=a.prototype.callParent;Ext.Base=a}(Ext.Function.flexSetter));(function(){var e,a=Ext.Base,d=[],b,c;for(b in a){if(a.hasOwnProperty(b)){d.push(b)}}c=d.length;function g(h){function j(){return this.constructor.apply(this,arguments)||null}return j}Ext.Class=e=function(h,j,k){if(typeof h!="function"){k=j;j=h;h=null}if(!j){j={}}h=e.create(h,j);e.process(h,j,k);return h};Ext.apply(e,{onBeforeCreated:function(h,j,k){h.addMembers(j);k.onCreated.call(h,h)},create:function(h,j){var l,k;if(!h){h=g()}for(k=0;k<c;k++){l=d[k];h[l]=a[l]}return h},process:function(h,k,p){var u=k.preprocessors||e.defaultPreprocessors,v=this.preprocessors,l={onBeforeCreated:this.onBeforeCreated},s=[],q,t,m,o,n,w,r;delete k.preprocessors;for(m=0,o=u.length;m<o;m++){q=u[m];if(typeof q=="string"){q=v[q];t=q.properties;if(t===true){s.push(q.fn)}else{if(t){for(n=0,w=t.length;n<w;n++){r=t[n];if(k.hasOwnProperty(r)){s.push(q.fn);break}}}}}else{s.push(q)}}l.onCreated=p?p:Ext.emptyFn;l.preprocessors=s;this.doProcess(h,k,l)},doProcess:function(h,j,l){var m=this,o=l.preprocessors,n=o.shift(),k=m.doProcess;for(;n;n=o.shift()){if(n.call(m,h,j,l,k)===false){return}}l.onBeforeCreated.apply(m,arguments)},preprocessors:{},registerPreprocessor:function(j,h,l,k,m){if(!k){k="last"}if(!l){l=[j]}this.preprocessors[j]={name:j,properties:l||false,fn:h};this.setDefaultPreprocessorPosition(j,k,m);return this},getPreprocessor:function(h){return this.preprocessors[h]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(h){this.defaultPreprocessors=Ext.Array.from(h);return this},setDefaultPreprocessorPosition:function(k,l,m){var h=this.defaultPreprocessors,j;if(typeof l=="string"){if(l==="first"){h.unshift(k);return this}else{if(l==="last"){h.push(k);return this}}l=(l==="after")?1:-1}j=Ext.Array.indexOf(h,m);if(j!==-1){Ext.Array.splice(h,Math.max(0,j+l),0,k)}return this},configNameCache:{},getConfigNameMap:function(l){var h=this.configNameCache,k=h[l],j;if(!k){j=l.charAt(0).toUpperCase()+l.substr(1);k=h[l]={internal:l,initialized:"_is"+j+"Initialized",apply:"apply"+j,update:"update"+j,set:"set"+j,get:"get"+j,doSet:"doSet"+j,changeEvent:l.toLowerCase()+"change"}}return k}});e.registerPreprocessor("extend",function(k,l,n){var h=Ext.Base,j=h.prototype,m=l.extend,p,q,o;delete l.extend;if(m&&m!==Object){p=m}else{p=h}q=p.prototype;if(!p.$isClass){for(o in j){if(!q[o]){q[o]=j[o]}}}k.extend(p);k.triggerExtended.apply(k,arguments);if(l.onClassExtended){k.onExtended(l.onClassExtended,k);delete l.onClassExtended}},true);e.registerPreprocessor("statics",function(h,j){h.addStatics(j.statics);delete j.statics});e.registerPreprocessor("inheritableStatics",function(h,j){h.addInheritableStatics(j.inheritableStatics);delete j.inheritableStatics});e.registerPreprocessor("config",function(h,k){var j=k.config,l=h.prototype;delete k.config;Ext.Object.each(j,function(u,z){var v=e.getConfigNameMap(u),t=v.internal,s=v.initialized,m=v.apply,y=v.update,x=v.set,o=v.get,q=(x in l)||k.hasOwnProperty(x),p=(m in l)||k.hasOwnProperty(m),r=(y in l)||k.hasOwnProperty(y),w,n;if(z===null||(!q&&!p&&!r)){l[t]=z;l[s]=true}else{l[s]=false}if(!q){k[x]=function(D){var B=this[t],A=this[m],C=this[y];if(!this[s]){this[s]=true}if(A){D=A.call(this,D,B)}if(typeof D!="undefined"){this[t]=D;if(C&&D!==B){C.call(this,D,B)}}return this}}if(!(o in l)||k.hasOwnProperty(o)){n=k[o]||false;if(n){w=function(){return n.apply(this,arguments)}}else{w=function(){return this[t]}}k[o]=function(){var A;if(!this[s]){this[s]=true;this[x](this.config[u])}A=this[o];if("$previous" in A){A.$previous=w}else{this[o]=w}return w.apply(this,arguments)}}});h.addConfig(j,true)});e.registerPreprocessor("mixins",function(h,j,k){var o=j.mixins,p,n,l,m;delete j.mixins;Ext.Function.interceptBefore(k,"onCreated",function(){if(o instanceof Array){for(l=0,m=o.length;l<m;l++){n=o[l];p=n.prototype.mixinId||n.$className;h.mixin(p,n)}}else{for(var q in o){if(o.hasOwnProperty(q)){h.mixin(q,o[q])}}}})});Ext.extend=function(h,l,k){if(arguments.length===2&&Ext.isObject(l)){k=l;l=h;h=null}var j;if(!l){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}k.extend=l;k.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(h){j=new e(h,k);j.prototype.constructor=h}else{j=new e(k)}j.prototype.override=function(p){for(var n in p){if(p.hasOwnProperty(n)){this[n]=p[n]}}};return j}}());(function(d,a,c,b,e){function g(){function j(){return this.constructor.apply(this,arguments)||null}return j}var h=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(j){var k=this.existCache,l,m,n,p,o;if(this.classes[j]||k[j]){return true}p=e;o=this.parseNamespace(j);for(l=0,m=o.length;l<m;l++){n=o[l];if(typeof n!="string"){p=n}else{if(!p||!p[n]){return false}p=p[n]}}k[j]=true;this.triggerCreated(j);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(l){var p=this.createdListeners,s=this.nameCreatedListeners,k=this.maps.nameToAlternates[l],t=[l],m,q,n,u,o,r;for(m=0,q=p.length;m<q;m++){o=p[m];o.fn.call(o.scope,l)}if(k){t.push.apply(t,k)}for(m=0,q=t.length;m<q;m++){r=t[m];p=s[r];if(p){for(n=0,u=p.length;n<u;n++){o=p[n];o.fn.call(o.scope,r)}delete s[r]}}},onCreated:function(k,o,j){var m=this.createdListeners,n=this.nameCreatedListeners,l={fn:k,scope:o};if(j){if(this.isCreated(j)){k.call(o,j);return}if(!n[j]){n[j]=[]}n[j].push(l)}else{m.push(l)}},parseNamespace:function(o){var j=this.namespaceParseCache,p,r,s,n,q,k,t,l,m;if(this.enableNamespaceParseCache){if(j.hasOwnProperty(o)){return j[o]}}p=[];r=this.namespaceRewrites;s=e;n=o;for(l=0,m=r.length;l<m;l++){q=r[l];k=q.from;t=q.to;if(n===k||n.substring(0,k.length)===k){n=n.substring(k.length);if(typeof t!="string"){s=t}else{p=p.concat(t.split("."))}break}}p.push(s);p=p.concat(n.split("."));if(this.enableNamespaceParseCache){j[o]=p}return p},setNamespace:function(m,q){var p=e,o=this.parseNamespace(m),l=o.length-1,k=o[l],j,n;for(j=0;j<l;j++){n=o[j];if(typeof n!="string"){p=n}else{if(!p[n]){p[n]={}}p=p[n]}}p[k]=q;return p[k]},createNamespaces:function(){var p=e,o,n,k,l,m,q;for(k=0,m=arguments.length;k<m;k++){o=this.parseNamespace(arguments[k]);for(l=0,q=o.length;l<q;l++){n=o[l];if(typeof n!="string"){p=n}else{if(!p[n]){p[n]={}}p=p[n]}}}return p},set:function(m,p){var l=this,k=l.maps,n=k.nameToAlternates,o=l.getName(p),j;l.classes[m]=l.setNamespace(m,p);if(o&&o!==m){k.alternateToName[m]=o;j=n[o]||(n[o]=[]);j.push(m)}return this},get:function(m){var j=this.classes,p,o,n,k,l;if(j[m]){return j[m]}p=e;o=this.parseNamespace(m);for(k=0,l=o.length;k<l;k++){n=o[k];if(typeof n!="string"){p=n}else{if(!p||!p[n]){return null}p=p[n]}}return p},setAlias:function(m,j){var k=this.maps.aliasToName,n=this.maps.nameToAliases,l;if(typeof m=="string"){l=m}else{l=this.getName(m)}if(j&&k[j]!==l){k[j]=l}if(!n[l]){n[l]=[]}if(j){Ext.Array.include(n[l],j)}return this},addNameAliasMappings:function(k){var m=this.maps.aliasToName,p=this.maps.nameToAliases,n,l,j,o;for(n in k){l=p[n]||(p[n]=[]);for(o=0;o<k[n].length;o++){j=k[n][o];if(!m[j]){m[j]=n;l.push(j)}}}return this},addNameAlternateMappings:function(l){var m=this.maps.alternateToName,p=this.maps.nameToAlternates,n,j,k,o;for(n in l){j=p[n]||(p[n]=[]);for(o=0;o<l[n].length;o++){k=l[n][o];if(!m[k]){m[k]=n;j.push(k)}}}return this},getByAlias:function(j){return this.get(this.getNameByAlias(j))},getNameByAlias:function(j){return this.maps.aliasToName[j]||""},getNameByAlternate:function(j){return this.maps.alternateToName[j]||""},getAliasesByName:function(j){return this.maps.nameToAliases[j]||[]},getName:function(j){return j&&j.$className||""},getClass:function(j){return j&&j.self||null},create:function(j,m,k){var l=g();if(typeof m=="function"){m=m(l)}m.$className=j;return new d(l,m,function(){var u=m.postprocessors||h.defaultPostprocessors,v=h.postprocessors,t=[],q,n,p,o,w,r,s;delete m.postprocessors;for(n=0,p=u.length;n<p;n++){q=u[n];if(typeof q=="string"){q=v[q];r=q.properties;if(r===true){t.push(q.fn)}else{if(r){for(o=0,w=r.length;o<w;o++){s=r[o];if(m.hasOwnProperty(s)){t.push(q.fn);break}}}}}else{t.push(q)}}m.postprocessors=t;m.createdFn=k;h.processCreate(j,this,m)})},processCreate:function(j,k,l){var n=this,o=l.postprocessors.shift(),m=l.createdFn;if(!o){if(j){n.set(j,k)}if(m){m.call(k,k)}if(j){n.triggerCreated(j)}return}if(o.call(n,j,k,l,n.processCreate)!==false){n.processCreate(j,k,l)}},createOverride:function(j,m,l){var n=this,o=m.override,p=m.requires,q=m.uses,k=function(){var r,s;if(p){s=p;p=null;Ext.Loader.require(s,k)}else{r=n.get(o);delete m.override;delete m.requires;delete m.uses;Ext.override(r,m);n.triggerCreated(j);if(q){Ext.Loader.addUsedClasses(q)}if(l){l.call(r)}}};n.existCache[j]=true;n.onCreated(k,n,o);return n},instantiateByAlias:function(){var j=arguments[0],k=c.call(arguments),l=this.getNameByAlias(j);if(!l){l=this.maps.aliasToName[j];Ext.syncRequire(l)}k[0]=l;return this.instantiate.apply(this,k)},instantiate:function(){var m=arguments[0],n=typeof m,k=c.call(arguments,1),j=m,o,l;if(n!="function"){if(n!="string"&&k.length===0){k=[m];m=m.xclass}l=this.get(m)}else{l=m}if(!l){o=this.getNameByAlias(m);if(o){m=o;l=this.get(m)}}if(!l){o=this.getNameByAlternate(m);if(o){m=o;l=this.get(m)}}if(!l){Ext.syncRequire(m);l=this.get(m)}return this.getInstantiator(k.length)(l,k)},dynInstantiate:function(k,j){j=b(j,true);j.unshift(k);return this.instantiate.apply(this,j)},getInstantiator:function(n){var m=this.instantiators,l,k,j;l=m[n];if(!l){k=n;j=[];for(k=0;k<n;k++){j.push("a["+k+"]")}l=m[n]=new Function("c","a","return new c("+j.join(",")+")")}return l},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(k,j,m,l,n){if(!l){l="last"}if(!m){m=[k]}this.postprocessors[k]={name:k,properties:m||false,fn:j};this.setDefaultPostprocessorPosition(k,l,n);return this},setDefaultPostprocessors:function(j){this.defaultPostprocessors=b(j);return this},setDefaultPostprocessorPosition:function(l,m,n){var j=this.defaultPostprocessors,k;if(typeof m=="string"){if(m==="first"){j.unshift(l);return this}else{if(m==="last"){j.push(l);return this}}m=(m==="after")?1:-1}k=Ext.Array.indexOf(j,n);if(k!==-1){Ext.Array.splice(j,Math.max(0,k+m),0,l)}return this},getNamesByExpression:function(l){var q=this.maps.nameToAliases,p=[],o,j,k,r,s,m,n;if(l.indexOf("*")!==-1){l=l.replace(/\*/g,"(.*?)");s=new RegExp("^"+l+"$");for(o in q){if(q.hasOwnProperty(o)){k=q[o];if(o.search(s)!==-1){p.push(o)}else{for(m=0,n=k.length;m<n;m++){j=k[m];if(j.search(s)!==-1){p.push(o);break}}}}}}else{r=this.getNameByAlias(l);if(r){p.push(r)}else{r=this.getNameByAlternate(l);if(r){p.push(r)}else{p.push(l)}}}return p}};h.registerPostprocessor("alias",function(o,k,l){var j=l.alias,m,n;for(m=0,n=j.length;m<n;m++){a=j[m];this.setAlias(k,a)}},["xtype","alias"]);h.registerPostprocessor("singleton",function(m,j,k,l){if(k.singleton){l.call(this,m,new j(),k)}else{return true}return false});h.registerPostprocessor("alternateClassName",function(p,l,m){var k=m.alternateClassName,n,o,j;if(!(k instanceof Array)){k=[k]}for(n=0,o=k.length;n<o;n++){j=k[n];this.set(j,l)}});Ext.apply(Ext,{create:a(h,"instantiate"),widget:function(n,l){var p=n,j,k,o,m;if(typeof p!="string"){l=n;p=l.xtype}else{l=l||{}}if(l.isComponent){return l}j="widget."+p;k=h.getNameByAlias(j);if(!k){m=true}o=h.get(k);if(m||!o){return h.instantiateByAlias(j,l)}return new o(l)},createByAlias:a(h,"instantiateByAlias"),define:function(j,l,k){if(l.override){return h.createOverride.apply(h,arguments)}return h.create.apply(h,arguments)},undefine:function(o){var n=h.classes,r=h.maps,k=r.aliasToName,t=r.nameToAliases,m=r.alternateToName,u=r.nameToAlternates,j=t[o],l=u[o],w,v,s,q;delete h.namespaceParseCache[o];delete t[o];delete u[o];delete n[o];if(j){for(q=j.length;q--;){delete k[j[q]]}}if(l){for(q=l.length;q--;){delete m[l[q]]}}w=h.parseNamespace(o);v=w.length-1;s=w[0];for(q=1;q<v;q++){s=s[w[q]];if(!s){return}}try{delete s[w[v]]}catch(p){s[w[v]]=undefined}},getClassName:a(h,"getName"),getDisplayName:function(j){if(j){if(j.displayName){return j.displayName}if(j.$name&&j.$class){return Ext.getClassName(j.$class)+"#"+j.$name}if(j.$className){return j.$className}}return"Anonymous"},getClass:a(h,"getClass"),namespace:a(h,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;d.registerPreprocessor("className",function(j,k){if(k.$className){j.$className=k.$className}},true,"first");d.registerPreprocessor("alias",function(l,m){var p=l.prototype,t=b(m.xtype),k=b(m.alias),q="widget.",r=q.length,u=Array.prototype.slice.call(p.xtypesChain||[]),v=Ext.merge({},p.xtypesMap||{}),n,o,j,s;for(n=0,o=k.length;n<o;n++){j=k[n];if(j.substring(0,r)===q){s=j.substring(r);Ext.Array.include(t,s)}}l.xtype=m.xtype=t[0];m.xtypes=t;for(n=0,o=t.length;n<o;n++){s=t[n];if(!v[s]){v[s]=true;u.push(s)}}m.xtypesChain=u;m.xtypesMap=v;Ext.Function.interceptAfter(m,"onClassCreated",function(){var y=p.mixins,w,x;for(w in y){if(y.hasOwnProperty(w)){x=y[w];t=x.xtypes;if(t){for(n=0,o=t.length;n<o;n++){s=t[n];if(!v[s]){v[s]=true;u.push(s)}}}}}});for(n=0,o=t.length;n<o;n++){s=t[n];Ext.Array.include(k,q+s)}m.alias=k},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));if(Ext._alternatesMetadata){Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);Ext._alternatesMetadata=null}if(Ext._aliasMetadata){Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);Ext._aliasMetadata=null}Ext.Loader=new function(){var p=this,q=Ext.ClassManager,c=Ext.Class,k=Ext.Function.flexSetter,a=Ext.Function.alias,r=Ext.Function.pass,g=Ext.Function.defer,b=Ext.Array.erase,h=["extend","mixins","requires"],o={},l=[],x=/\/\.\//g,j=/\./g,w=0;Ext.apply(p,{isInHistory:o,history:l,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:undefined},setConfig:function(z,A){if(Ext.isObject(z)&&arguments.length===1){Ext.merge(p.config,z);if("paths" in z){Ext.app.collectNamespaces(z.paths)}}else{p.config[z]=(Ext.isObject(A))?Ext.merge(p.config[z],A):A;if(z==="paths"){Ext.app.collectNamespaces(A)}}return p},getConfig:function(z){if(z){return p.config[z]}return p.config},setPath:k(function(z,A){p.config.paths[z]=A;Ext.app.namespaces[z]=true;w++;return p}),addClassPathMappings:function(A){var z;if(w==0){p.config.paths=A}else{for(z in A){p.config.paths[z]=A[z]}}w++;return p},getPath:function(z){var A="",B=p.config.paths,C=p.getPrefix(z);if(C.length>0){if(C===z){return B[C]}A=B[C];z=z.substring(C.length+1)}if(A.length>0){A+="/"}return A.replace(x,"/")+z.replace(j,"/")+".js"},getPrefix:function(z){var B=p.config.paths,C,A="";if(B.hasOwnProperty(z)){return z}for(C in B){if(B.hasOwnProperty(C)&&C+"."===z.substring(0,C.length+1)){if(C.length>A.length){A=C}}}return A},isAClassNameWithAKnownPrefix:function(z){var A=p.getPrefix(z);return A!==""&&A!==z},require:function(A,B,C,z){if(B){B.call(C)}},syncRequire:function(){},exclude:function(z){return{require:function(A,B,C){return p.require(A,B,C,z)},syncRequire:function(A,B,C){return p.syncRequire(A,B,C,z)}}},onReady:function(z,C,D,B){var A;if(D!==false&&Ext.onDocumentReady){A=z;z=function(){Ext.onDocumentReady(A,C,B)}}z.call(C)}});var s=[],m={},n={},d={},v={},t=[],y=[],u={},e=function(z,A){return A.priority-z.priority};Ext.apply(p,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:s,isClassFileLoaded:m,isFileLoaded:n,readyListeners:t,optionalRequires:y,requiresMap:u,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:d,scriptsLoading:0,syncModeEnabled:false,scriptElements:v,refreshQueue:function(){var C=s.length,z,A,B,D;if(!C&&!p.scriptsLoading){return p.triggerReady()}for(z=0;z<C;z++){A=s[z];if(A){D=A.requires;if(D.length>p.numLoadedFiles){continue}for(B=0;B<D.length;){if(q.isCreated(D[B])){b(D,B,1)}else{B++}}if(A.requires.length===0){b(s,z,1);A.callback.call(A.scope);p.refreshQueue();break}}}return p},injectScriptElement:function(I,E,C,G,z){var H=document.createElement("script"),B=false,A=p.config,F=function(){if(!B){B=true;H.onload=H.onreadystatechange=H.onerror=null;if(typeof A.scriptChainDelay=="number"){g(E,A.scriptChainDelay,G)}else{E.call(G)}p.cleanupScriptElement(H,A.preserveScripts===false,A.garbageCollect)}},D=function(J){g(C,1,G);p.cleanupScriptElement(H,A.preserveScripts===false,A.garbageCollect)};H.type="text/javascript";H.onerror=D;z=z||A.scriptCharset;if(z){H.charset=z}if("addEventListener" in H){H.onload=F}else{if("readyState" in H){H.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){F()}}}else{H.onload=F}}H.src=I;(p.documentHead||document.getElementsByTagName("head")[0]).appendChild(H);return H},removeScriptElement:function(z){if(v[z]){p.cleanupScriptElement(v[z],true,!!p.getConfig("garbageCollect"));delete v[z]}return p},cleanupScriptElement:function(D,C,A){var B;D.onload=D.onreadystatechange=D.onerror=null;if(C){Ext.removeNode(D);if(A){for(B in D){try{if(B!="src"){D[B]=null}delete D[B]}catch(z){}}}}return p},loadScript:function(F){var z=p.getConfig(),A=typeof F=="string",I=A?F:F.url,B=!A&&F.onError,C=!A&&F.onLoad,G=!A&&F.scope,D=function(){p.numPendingFiles--;p.scriptsLoading--;if(B){B.call(G,"Failed loading '"+I+"', please verify that the file exists")}if(p.numPendingFiles+p.scriptsLoading===0){p.refreshQueue()}},E=function(){p.numPendingFiles--;p.scriptsLoading--;if(C){C.call(G)}if(p.numPendingFiles+p.scriptsLoading===0){p.refreshQueue()}},H;p.isLoading=true;p.numPendingFiles++;p.scriptsLoading++;H=z.disableCaching?(I+"?"+z.disableCachingParam+"="+Ext.Date.now()):I;v[I]=p.injectScriptElement(H,E,D)},loadScriptFile:function(K,F,E,H,J){if(n[K]){return p}var z=p.getConfig(),D=K+(z.disableCaching?("?"+z.disableCachingParam+"="+Ext.Date.now()):""),C=false,L,I,G,A="";H=H||p;p.isLoading=true;if(!J){G=function(){};v[K]=p.injectScriptElement(D,F,G,H)}else{if(typeof XMLHttpRequest!="undefined"){L=new XMLHttpRequest()}else{L=new ActiveXObject("Microsoft.XMLHTTP")}try{L.open("GET",D,false);L.send(null)}catch(B){C=true}I=(L.status===1223)?204:(L.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:"))?200:L.status;C=C||(I===0);if(C){}else{if((I>=200&&I<300)||(I===304)){if(!Ext.isIE){A="\n//@ sourceURL="+K}Ext.globalEval(L.responseText+A);F.call(H)}else{}}L=null}},syncRequire:function(){var z=p.syncModeEnabled;if(!z){p.syncModeEnabled=true}p.require.apply(p,arguments);if(!z){p.syncModeEnabled=false}p.refreshQueue()},require:function(H,J,R,F){var D={},L={},E=[],P=[],B=[],Q=[],z,T,I,G,C,A,O,K,M,N,S;if(F){F=(typeof F==="string")?[F]:F;for(K=0,N=F.length;K<N;K++){C=F[K];if(typeof C=="string"&&C.length>0){E=q.getNamesByExpression(C);for(M=0,S=E.length;M<S;M++){D[E[M]]=true}}}}H=(typeof H==="string")?[H]:(H?H:[]);if(J){if(J.length>0){z=function(){var U=[],V,W;for(V=0,W=Q.length;V<W;V++){U.push(q.get(Q[V]))}return J.apply(this,U)}}else{z=J}}else{z=Ext.emptyFn}R=R||Ext.global;for(K=0,N=H.length;K<N;K++){G=H[K];if(typeof G=="string"&&G.length>0){P=q.getNamesByExpression(G);S=P.length;for(M=0;M<S;M++){O=P[M];if(D[O]!==true){Q.push(O);if(!q.isCreated(O)&&!L[O]){L[O]=true;B.push(O)}}}}}if(B.length>0){if(!p.config.enabled){throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((B.length>1)?"es":"")+": "+B.join(", "))}}else{z.call(R);return p}T=p.syncModeEnabled;if(!T){s.push({requires:B.slice(),callback:z,scope:R})}N=B.length;for(K=0;K<N;K++){A=B[K];I=p.getPath(A);if(T&&m.hasOwnProperty(A)){if(!m[A]){p.numPendingFiles--;p.removeScriptElement(I);delete m[A]}}if(!m.hasOwnProperty(A)){m[A]=false;d[A]=I;p.numPendingFiles++;p.loadScriptFile(I,r(p.onFileLoaded,[A,I],p),r(p.onFileLoadError,[A,I],p),p,T)}}if(T){z.call(R);if(N===1){return q.get(A)}}return p},onFileLoaded:function(z,A){var B=m[z];p.numLoadedFiles++;m[z]=true;n[A]=true;if(!B){p.numPendingFiles--}if(p.numPendingFiles===0){p.refreshQueue()}},onFileLoadError:function(z,B,A,C){p.numPendingFiles--;p.hasFileLoadError=true},addUsedClasses:function(z){var A,B,C;if(z){z=(typeof z=="string")?[z]:z;for(B=0,C=z.length;B<C;B++){A=z[B];if(typeof A=="string"&&!Ext.Array.contains(y,A)){y.push(A)}}}return p},triggerReady:function(){var z,A=y;if(p.isLoading){p.isLoading=false;if(A.length!==0){A=A.slice();y.length=0;p.require(A,p.triggerReady,p);return p}}Ext.Array.sort(t,e);while(t.length&&!p.isLoading){z=t.shift();z.fn.call(z.scope)}return p},onReady:function(z,C,D,B){var A;if(D!==false&&Ext.onDocumentReady){A=z;z=function(){Ext.onDocumentReady(A,C,B)}}if(!p.isLoading){z.call(C)}else{t.push({fn:z,scope:C,priority:(B&&B.priority)||0})}},historyPush:function(z){if(z&&m.hasOwnProperty(z)&&!o[z]){o[z]=true;l.push(z)}return p}});Ext.disableCacheBuster=function(A,B){var z=new Date();z.setTime(z.getTime()+(A?10*365:-1)*24*60*60*1000);z=z.toGMTString();document.cookie="ext-cache=1; expires="+z+"; path="+(B||"/")};Ext.require=a(p,"require");Ext.syncRequire=a(p,"syncRequire");Ext.exclude=a(p,"exclude");Ext.onReady=function(z,B,A){p.onReady(z,B,true,A)};c.registerPreprocessor("loader",function(A,C,F,B){var J=this,D=[],E,z=q.getName(A),G,H,I,O,P,K,L,N,M;for(G=0,I=h.length;G<I;G++){K=h[G];if(C.hasOwnProperty(K)){L=C[K];if(typeof L=="string"){D.push(L)}else{if(L instanceof Array){for(H=0,O=L.length;H<O;H++){P=L[H];if(typeof P=="string"){D.push(P)}}}else{if(typeof L!="function"){for(H in L){if(L.hasOwnProperty(H)){P=L[H];if(typeof P=="string"){D.push(P)}}}}}}}}if(D.length===0){return}p.require(D,function(){for(G=0,I=h.length;G<I;G++){K=h[G];if(C.hasOwnProperty(K)){L=C[K];if(typeof L=="string"){C[K]=q.get(L)}else{if(L instanceof Array){for(H=0,O=L.length;H<O;H++){P=L[H];if(typeof P=="string"){C[K][H]=q.get(P)}}}else{if(typeof L!="function"){for(var Q in L){if(L.hasOwnProperty(Q)){P=L[Q];if(typeof P=="string"){C[K][Q]=q.get(P)}}}}}}}}B.call(J,A,C,F)});return false},true,"after","className");q.registerPostprocessor("uses",function(B,z,A){var C=A.uses;if(C){p.addUsedClasses(C)}});q.onCreated(p.historyPush)};if(Ext._classPathMetadata){Ext.Loader.addClassPathMappings(Ext._classPathMetadata);Ext._classPathMetadata=null}(function(){var d=document.getElementsByTagName("script"),a=d[d.length-1],e=a.src,c=e.substring(0,e.lastIndexOf("/")+1),b=Ext.Loader;b.setConfig({enabled:true,disableCaching:true,paths:{Ext:c+"src"}})})();Ext._endTime=new Date().getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(a){a=a||{};if(Ext.isString(a)){a={msg:a}}var b=this.raise.caller,c;if(b){if(b.$name){a.sourceMethod=b.$name}if(b.$owner){a.sourceClass=b.$owner.$className}}if(Ext.Error.handle(a)!==true){c=Ext.Error.prototype.toString.call(a);Ext.log({msg:c,level:"error",dump:a,stack:true});throw new Ext.Error(a)}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){if(Ext.isString(a)){a={msg:a}}var b=this;Ext.apply(b,a);b.message=b.message||b.msg},toString:function(){var b=this,a=b.sourceClass?b.sourceClass:"",c=b.sourceMethod?"."+b.sourceMethod+"(): ":"",d=b.msg||"(No description provided)";return a+c+d}});Ext.deprecated=function(a){return Ext.emptyFn};Ext.JSON=(new (function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative},pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return Ext.JSON.encodeDate(o)}else{if(Ext.isString(o)){return Ext.JSON.encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0b":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(o,newline){var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(Ext.JSON.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(Ext.JSON.encodeValue(i),":",Ext.JSON.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(!encodingFunction){encodingFunction=isNative()?JSON.stringify:me.encodeValue}return encodingFunction(o)};me.decode=function(json,safe){if(!decodingFunction){decodingFunction=isNative()?JSON.parse:doDecode}try{return decodingFunction(json)}catch(e){if(safe===true){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}}})());Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,rootHierarchyState:{},addCacheEntry:function(e,c,b){b=b||c.dom;var a=Ext.cache,g=e||(c&&c.id)||b.id,d=a[g]||(a[g]={data:{},events:{},dom:b,skipGarbageCollection:!!(b.getElementById||b.navigator)});if(c){c.$cache=d;d.el=c}return d},updateCacheEntry:function(a,b){a.dom=b;if(a.el){a.el.dom=b}return a},id:function(a,c){var b=this,d="";a=Ext.getDom(a,true)||{};if(a===document){a.id=b.documentId}else{if(a===window){a.id=b.windowId}}if(!a.id){if(b.isSandboxed){d=Ext.sandboxName.toLowerCase()+"-"}a.id=d+(c||"ext-gen")+(++Ext.idSeed)}return a.id},escapeId:(function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,a=function(h,g){return"\\"+g},d=function(h,g){return"\\00"+g.charCodeAt(0).toString(16)+" "};return function(g){return e.test(g)?g:g.replace(b,a).replace(c,d)}}()),getBody:(function(){var a;return function(){return a||(a=Ext.get(document.body))}}()),getHead:(function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}()),getDoc:(function(){var a;return function(){return a||(a=Ext.get(document))}}()),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var c=arguments.length,b,a;for(b=0;b<c;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(a.isStore){a.destroyStore()}else{if(Ext.isFunction(a.destroy)){a.destroy()}else{if(a.dom){a.remove()}}}}}}},callback:function(b,g,a,c){var d,e;if(Ext.isFunction(b)){d=b}else{if(g&&Ext.isString(b)){d=g[b]}}if(d){a=a||[];g=g||window;if(c){Ext.defer(d,c,g,a)}else{e=d.apply(g,a)}}return e},resolveMethod:function(a,b){if(Ext.isFunction(a)){return a}return b[a]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(b,a){return Ext.String.urlAppend(b,a)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var a=function(e){return e.test(Ext.userAgent)},J=document.compatMode=="CSS1Compat",Q=function(e,T){var S;return(e&&(S=T.exec(Ext.userAgent)))?parseFloat(S[1]):0},c=document.documentMode,A=a(/opera/),B=A&&a(/version\/10\.5/),j=a(/\bchrome\b/),K=a(/webkit/),C=!j&&a(/safari/),D=C&&a(/applewebkit\/4/),E=C&&a(/version\/3/),F=C&&a(/version\/4/),H=C&&a(/version\/5\.0/),G=C&&a(/version\/5/),s=!A&&a(/msie/),v=s&&((a(/msie 7/)&&c!=8&&c!=9&&c!=10)||c==7),w=s&&((a(/msie 8/)&&c!=7&&c!=9&&c!=10)||c==8),x=s&&((a(/msie 9/)&&c!=7&&c!=8&&c!=10)||c==9),t=s&&((a(/msie 10/)&&c!=7&&c!=8&&c!=9)||c==10),u=s&&a(/msie 6/),n=!K&&a(/gecko/),p=n&&a(/rv:1\.9/),q=n&&a(/rv:2\.0/),r=n&&a(/rv:5\./),o=n&&a(/rv:10\./),k=p&&a(/rv:1\.9\.0/),l=p&&a(/rv:1\.9\.1/),m=p&&a(/rv:1\.9\.2/),L=a(/windows|win32/),z=a(/macintosh|mac os x/),y=a(/linux/),P=null,b=Q(true,/\bchrome\/(\d+\.\d+)/),g=Q(true,/\bfirefox\/(\d+\.\d+)/),h=Q(s,/msie (\d+\.\d+)/),N=Q(A,/version\/(\d+\.\d+)/),O=Q(C,/version\/(\d+\.\d+)/),R=Q(K,/webkit\/(\d+\.\d+)/),I=/^https/i.test(window.location.protocol),M;try{document.execCommand("BackgroundImageCache",false,true)}catch(d){}M=function(){};M.info=M.warn=M.error=Ext.emptyFn;Ext.setVersion("extjs","4.2.1.883");Ext.apply(Ext,{SSL_SECURE_URL:I&&s?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(T,U){if(!T||!document){return null}if(T.dom){return T.dom}else{if(typeof T=="string"){var S=Ext.getElementById(T);if(S&&s&&U){if(T==S.getAttribute("id")){return S}else{return null}}return S}else{return T}}},removeNode:u||v||w?(function(){var e;return function(U){if(U&&U.tagName.toUpperCase()!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(U):Ext.EventManager.removeAll(U);var S=Ext.cache,T=U.id;if(S[T]){delete S[T].dom;delete S[T]}if(w&&U.parentNode){U.parentNode.removeChild(U)}e=e||document.createElement("div");e.appendChild(U);e.innerHTML=""}}}()):function(T){if(T&&T.parentNode&&T.tagName.toUpperCase()!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(T):Ext.EventManager.removeAll(T);var e=Ext.cache,S=T.id;if(e[S]){delete e[S].dom;delete e[S]}T.parentNode.removeChild(T)}},isStrict:J,isIEQuirks:s&&(!J&&(u||v||w||x)),isOpera:A,isOpera10_5:B,isWebKit:K,isChrome:j,isSafari:C,isSafari3:E,isSafari4:F,isSafari5:G,isSafari5_0:H,isSafari2:D,isIE:s,isIE6:u,isIE7:v,isIE7m:u||v,isIE7p:s&&!u,isIE8:w,isIE8m:u||v||w,isIE8p:s&&!(u||v),isIE9:x,isIE9m:u||v||w||x,isIE9p:s&&!(u||v||w),isIE10:t,isIE10m:u||v||w||x||t,isIE10p:s&&!(u||v||w||x),isGecko:n,isGecko3:p,isGecko4:q,isGecko5:r,isGecko10:o,isFF3_0:k,isFF3_5:l,isFF3_6:m,isFF4:4<=g&&g<5,isFF5:5<=g&&g<6,isFF10:10<=g&&g<11,isLinux:y,isWindows:L,isMac:z,chromeVersion:b,firefoxVersion:g,ieVersion:h,operaVersion:N,safariVersion:O,webKitVersion:R,isSecure:I,BLANK_IMAGE_URL:(u||v)?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(T,S,e){return Ext.isEmpty(T,e)?S:T},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(T){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(T)})}else{var S={},U,e,V;for(e in T){if((U=e.split("@"))[1]){V=U[0];if(!S[V]){S[V]=Ext.select(V)}S[V].on(U[1],T[e])}}S=null}},getScrollbarSize:function(T){if(!Ext.isReady){return{}}if(T||!P){var e=document.body,S=document.createElement("div");S.style.width=S.style.height="100px";S.style.overflow="scroll";S.style.position="absolute";e.appendChild(S);P={width:S.offsetWidth-S.clientWidth,height:S.offsetHeight-S.clientHeight};e.removeChild(S)}return P},getScrollBarWidth:function(e){var S=Ext.getScrollbarSize(e);return S.width+2},copyTo:function(e,W,U,X){if(typeof U=="string"){U=U.split(/[,;\s]/)}var S,V=U?U.length:0,T;for(S=0;S<V;S++){T=U[S];if(X||W.hasOwnProperty(T)){e[T]=W[T]}}return e},destroyMembers:function(U){for(var S=1,e=arguments,T=e.length;S<T;S++){Ext.destroy(U[e[S]]);delete U[e[S]]}},log:M,partition:function(T,V){var U=[[],[]],e,W,S=T.length;for(e=0;e<S;e++){W=T[e];U[(V&&V(W,e,T))||(!V&&W)?0:1].push(W)}return U},invoke:function(U,V){var W=[],T=Array.prototype.slice.call(arguments,2),e,X,S=U.length;for(e=0;e<S;e++){X=U[e];if(X&&typeof X[V]=="function"){W.push(X[V].apply(X,T))}else{W.push(undefined)}}return W},zip:function(){var X=Ext.partition(arguments,function(Z){return typeof Z!="function"}),S=X[0],T=X[1][0],W=Ext.max(Ext.pluck(S,"length")),Y=[],U,V,e;for(U=0;U<W;U++){Y[U]=[];if(T){Y[U]=T.apply(T,Ext.pluck(S,U))}else{for(V=0,e=S.length;V<e;V++){Y[U].push(S[V][U])}}}return Y},toSentence:function(T,e){var U=T.length,S,V;if(U<=1){return T[0]}else{S=T.slice(0,U-1);V=T[U-1];return Ext.util.Format.format("{0} {1} {2}",S.join(", "),e||"and",V)}},setGlyphFontFamily:function(e){Ext._glyphFontFamily=e},useShims:u})}());Ext.application=function(b){var a,d,c;if(typeof b==="string"){Ext.require(b,function(){a=Ext.ClassManager.get(b)})}else{Ext.Loader.setPath(b.name,b.appFolder||"app");if(d=b.paths){for(c in d){if(d.hasOwnProperty(c)){Ext.Loader.setPath(c,d[c])}}}b["paths processed"]=true;Ext.define(b.name+".$application",Ext.apply({extend:"Ext.app.Application"},b),function(){a=this})}Ext.onReady(function(){Ext.app.Application.instance=new a()})};(function(){Ext.ns("Ext.util");var k=Ext.util.Format={},j=/<\/?[^>]+>/gi,h=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,g=/\r?\n/g,a=/^#+$/,d=/[\d,\.#]+/,b=/[^\d\.#]/g,e,c={};Ext.apply(k,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(l){return l!==undefined?l:""},defaultValue:function(m,l){return m!==undefined&&m!==""?m:l},substr:"ab".substr(-1)!="b"?function(o,m,l){var n=String(o);return(m<0)?n.substr(Math.max(n.length+m,0),l):n.substr(m,l)}:function(n,m,l){return String(n).substr(m,l)},lowercase:function(l){return String(l).toLowerCase()},uppercase:function(l){return String(l).toUpperCase()},usMoney:function(l){return k.currency(l,"$",2)},currency:function(r,l,m,n){var q="",o=",0",p=0;r=r-0;if(r<0){r=-r;q="-"}m=Ext.isDefined(m)?m:k.currencyPrecision;o+=(m>0?".":"");for(;p<m;p++){o+="0"}r=k.number(r,o);if((n||k.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",q,r,l||k.currencySign)}else{return Ext.String.format("{0}{1}{2}",q,l||k.currencySign,r)}},date:function(m,l){if(!m){return""}if(!Ext.isDate(m)){m=new Date(Date.parse(m))}return Ext.Date.dateFormat(m,l||Ext.Date.defaultFormat)},dateRenderer:function(l){return function(m){return k.date(m,l)}},stripTags:function(l){return !l?l:String(l).replace(j,"")},stripScripts:function(l){return !l?l:String(l).replace(h,"")},fileSize:(function(){var l=1024,m=1048576,n=1073741824;return function(p){var o;if(p<l){if(p===1){o="1 byte"}else{o=p+" bytes"}}else{if(p<m){o=(Math.round(((p*10)/l))/10)+" KB"}else{if(p<n){o=(Math.round(((p*10)/m))/10)+" MB"}else{o=(Math.round(((p*10)/n))/10)+" GB"}}}return o}})(),math:(function(){var l={};return function(n,m){if(!l[m]){l[m]=Ext.functionFactory("v","return v "+m+";")}return l[m](n)}}()),round:function(n,l){var m=Number(n);if(typeof l=="number"){l=Math.pow(10,l);m=Math.round(n*l)/l}return m},number:function(y,q){if(!q){return y}var p=c[q];if(!p){var t=q,m=k.thousandSeparator,n=k.decimalSeparator,r,w,o,u=0,s,x,l;if(q.substr(q.length-2)=="/i"){if(!e){e=new RegExp("[^\\d\\"+k.decimalSeparator+"]","g")}q=q.substr(0,q.length-2);r=q.indexOf(m)!=-1;w=q.replace(e,"").split(n)}else{r=q.indexOf(",")!=-1;w=q.replace(b,"").split(".")}o=q.replace(d,"");if(w.length>2){}else{if(w.length===2){u=w[1].length;x=a.test(w[1])}}l=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(r?",thousandSeparator,thousands=[],j,n,i":"")+(o?',formatString="'+q+'",formatPattern=/[\\d,\\.#]+/':"")+(x?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+u+");"];if(r){if(u){l[l.length]='parts=fnum.split(".");';l[l.length]="fnum=parts[0];"}l[l.length]="if(v>=1000) {";l[l.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(u){l[l.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(u){l[l.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(x){l[l.length]='fnum=fnum.replace(trailingZeroes,"");'}l[l.length]='if(neg&&fnum!=="'+(u?"0."+Ext.String.repeat("0",u):"0")+'")fnum="-"+fnum;';l[l.length]="return ";if(o){l[l.length]="formatString.replace(formatPattern, fnum);"}else{l[l.length]="fnum;"}l[l.length]="};";p=c[t]=Ext.functionFactory("Ext",l.join(""))(Ext)}return p(y)},numberRenderer:function(l){return function(m){return k.number(m,l)}},attributes:function(l){if(typeof l==="object"){var n=[],m;for(m in l){n.push(m,'="',m==="style"?Ext.DomHelper.generateStyles(l[m]):Ext.htmlEncode(l[m]),'"')}l=n.join("")}return l||""},plural:function(n,m,l){return n+" "+(n==1?m:(l?l:m+"s"))},nl2br:function(l){return Ext.isEmpty(l)?"":l.replace(g,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(l){l=l||0;if(typeof l==="number"){return{top:l,right:l,bottom:l,left:l}}var n=l.split(" "),m=n.length;if(m==1){n[1]=n[2]=n[3]=n[0]}else{if(m==2){n[2]=n[0];n[3]=n[1]}else{if(m==3){n[3]=n[1]}}}return{top:parseInt(n[0],10)||0,right:parseInt(n[1],10)||0,bottom:parseInt(n[2],10)||0,left:parseInt(n[3],10)||0}},escapeRegex:function(l){return l.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}());Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){var b=this;if(typeof a=="number"){b.interval=a}else{if(a){Ext.apply(b,a)}}b.tasks=[];b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(a){var b=new Ext.util.TaskRunner.Task(a);b.manager=this;return b},start:function(c){var a=this,b=Ext.Date.now();if(!c.pending){a.tasks.push(c);c.pending=true}c.stopped=false;c.taskStartTime=b;c.taskRunTime=c.fireOnStart!==false?0:c.taskStartTime;c.taskRunCount=0;if(!a.firing){if(c.fireOnStart!==false){a.startTimer(0,b)}else{a.startTimer(c.interval,b)}}return c},stop:function(a){if(!a.stopped){a.stopped=true;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var e=this,o=e.tasks,j=Ext.Date.now(),h=1e+99,d=o.length,a,g,b,m,l,k;e.timerId=null;e.firing=true;for(b=0;b<d||b<(d=o.length);++b){m=o[b];if(!(k=m.stopped)){a=m.taskRunTime+m.interval;if(a<=j){l=1;try{l=m.run.apply(m.scope||m,m.args||[++m.taskRunCount])}catch(n){try{if(m.onError){l=m.onError.call(m.scope||m,m,n)}}catch(c){}}m.taskRunTime=j;if(l===false||m.taskRunCount===m.repeat){e.stop(m);k=true}else{k=m.stopped;a=j+m.interval}}if(!k&&m.duration&&m.duration<=(j-m.taskStartTime)){e.stop(m);k=true}}if(k){m.pending=false;if(!g){g=o.slice(0,b)}}else{if(g){g.push(m)}if(h>a){h=a}}}if(g){e.tasks=g}e.firing=false;if(e.tasks.length){e.startTimer(h-j,Ext.Date.now())}if(e.fireIdleEvent!==false){Ext.EventManager.idleEvent.fire()}},startTimer:function(d,c){var b=this,a=c+d,e=b.timerId;if(e&&b.nextExpires-a>b.interval){clearTimeout(e);e=null}if(!e){if(d<b.interval){d=b.interval}b.timerId=setTimeout(b.timerFn,d);b.nextExpires=a}}},function(){var a=this,b=a.prototype;b.destroy=b.stopAll;Ext.util.TaskManager=Ext.TaskManager=new a();a.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(c){Ext.apply(this,c)},restart:function(c){if(c!==undefined){this.interval=c}this.manager.start(this)},start:function(c){if(this.stopped){this.restart(c)}},stop:function(){this.manager.stop(this)}});b=a.Task.prototype;b.destroy=b.stop});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:true});Ext.define("Ext.perf.Accumulator",(function(){var b=null,e=Ext.global.chrome,c,d=function(){d=function(){return new Date().getTime()};var n,o;if(Ext.isChrome&&e&&e.Interval){n=new e.Interval();n.start();d=function(){return n.microseconds()/1000}}else{if(window.ActiveXObject){try{o=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=o;d=function(){return o.milliseconds}}catch(m){}}else{if(Date.now){d=Date.now}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=d;return d()};function a(m,n){m.sum+=n;m.min=Math.min(m.min,n);m.max=Math.max(m.max,n)}function g(o){var p=o?o:(d()-this.time),n=this,m=n.accum;++m.count;if(!--m.depth){a(m.total,p)}a(m.pure,p-n.childTime);b=n.parent;if(b){++b.accum.childCount;b.childTime+=p}}function h(){return{min:Number.MAX_VALUE,max:0,sum:0}}function j(n,m){return function(){var o=n.enter(),p=m.apply(this,arguments);o.leave();return p}}function k(m){return Math.round(m*100)/100}function l(o,n,m,q){var p={avg:0,min:q.min,max:q.max,sum:0};if(o){m=m||0;p.sum=q.sum-n*m;p.avg=p.sum/o}return p}return{constructor:function(n){var m=this;m.count=m.childCount=m.depth=m.maxDepth=0;m.pure=h();m.total=h();m.name=n},statics:{getTimestamp:d},format:function(m){if(!c){c=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(o){return Math.round(o*100)/100}})}var n=this.getData(m);n.name=this.name;n.pure.type="Pure";n.total.type="Total";n.times=[n.pure,n.total];return c.apply(n)},getData:function(m){var n=this;return{count:n.count,childCount:n.childCount,depth:n.maxDepth,pure:l(n.count,n.childCount,m,n.pure),total:l(n.count,n.childCount,m,n.total)}},enter:function(){var n=this,m={accum:n,leave:g,childTime:0,parent:b};++n.depth;if(n.maxDepth<n.depth){n.maxDepth=n.depth}b=m;m.time=d();return m},monitor:function(n,p,m){var o=this.enter();if(m){n.apply(p,m)}else{n.call(p)}o.leave()},report:function(){Ext.log(this.format())},tap:function(m,r){var q=this,s=typeof r=="string"?[r]:r,o,w,n,u,p,t,v,x;x=function(){if(typeof m=="string"){o=Ext.global;u=m.split(".");for(n=0,p=u.length;n<p;++n){o=o[u[n]]}}else{o=m}for(n=0,p=s.length;n<p;++n){t=s[n];w=t.charAt(0)=="!";if(w){t=t.substring(1)}else{w=!(t in o.prototype)}v=w?o:o.prototype;v[t]=j(q,v[t])}};Ext.ClassManager.onCreated(x,q,m);return q}}}()),function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),h=a.total,e=Ext.perf.Accumulator.getTimestamp,b=0,d,c,g;g=e();do{d=a.enter();d.leave();++b}while(h.sum<100);c=e();return(c-g)/b},get:function(c){var b=this,a=b.accumulatorsByName[c];if(!a){b.accumulatorsByName[c]=a=new Ext.perf.Accumulator(c);b.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(b,a,c){this.get(b).monitor(a,c)},report:function(){var c=this,a=c.accumulators,b=c.calibrate();a.sort(function(d,e){return(d.name<e.name)?-1:((e.name<d.name)?1:0)});c.updateGC();Ext.log("Calibration: "+Math.round(b*100)/100+" msec/sample");Ext.each(a,function(d){Ext.log(d.format(b))})},getData:function(b){var c={},a=this.accumulators;Ext.each(a,function(d){if(b||d.count){c[d.name]=d.getData()}});return c},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure={min:Number.MAX_VALUE,max:0,sum:0};b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,c=Ext.senchaToolbox,b;if(a){a.count=c.garbageCollectionCounter||0;if(a.count){b=a.pure;a.total.sum=b.sum=c.garbageCollectionMilliseconds;b.min=b.max=b.sum/a.count;b=a.total;b.min=b.max=b.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(c){if(!c){c={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=c;var d,g,a,b,e;for(d in c){if(c.hasOwnProperty(d)){g=c[d];a=Ext.Perf.get(d);for(b in g){if(g.hasOwnProperty(b)){e=g[b];a.tap(b,e)}}}}this.watchGC()}});Ext.is={init:function(c){var e=this.platforms,b=e.length,a,d;c=c||window.navigator;for(a=0;a<b;a++){d=e[a];this[d.identity]=d.regex.test(c[d.property])}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();(function(){var b=function(d,g){var h=d.ownerDocument.defaultView,e=(h?h.getComputedStyle(d,null):d.currentStyle)||d.style;return e[g]},c={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};function a(){var d=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return d?d+(Ext.isStrict?"-strict":"-quirks"):""}Ext.supports={init:function(){var h=this,g=document,m=h.toRun||h.tests,j=m.length,e=j&&Ext.isReady&&g.createElement("div"),k=[],d=a(),l,p,o;if(e){e.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join("");g.body.appendChild(e)}p=c[d];while(j--){l=m[j];o=p&&p[j];if(o!==undefined){h[l.identity]=o}else{if(e||l.early){h[l.identity]=l.fn.call(h,g,e)}else{k.push(l)}}}if(e){g.body.removeChild(e)}h.toRun=k},PointerEvents:"pointerEvents" in document.documentElement.style,LocalStorage:(function(){try{return"localStorage" in window&&window.localStorage!==null}catch(d){return false}})(),CSS3BoxShadow:"boxShadow" in document.documentElement.style||"WebkitBoxShadow" in document.documentElement.style||"MozBoxShadow" in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:((typeof window.orientation!="undefined")&&("onorientationchange" in window)),DeviceMotion:("ondevicemotion" in window),Touch:("ontouchstart" in window)&&(!Ext.is.Desktop),TimeoutActualLateness:(function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}()),tests:[{identity:"Transitions",fn:function(e,d){var k=["webkit","Moz","o","ms","khtml"],l="TransitionEnd",m=[k[0]+l,"transitionend",k[2]+l,k[3]+l,k[4]+l],h=k.length,g=0,j=false;for(;g<h;g++){if(b(d,k[g]+"TransitionProperty")){Ext.supports.CSS3Prefix=k[g];Ext.supports.CSS3TransitionEnd=m[g];j=true;break}}return j}},{identity:"RightMargin",fn:function(e,d){var g=e.defaultView;return !(g&&g.getComputedStyle(d.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var d=Ext.webKitVersion;return 0<d&&d<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var d=Ext.webKitVersion;return 0<d&&d<534.24}},{identity:"TransparentColor",fn:function(e,d,g){g=e.defaultView;return !(g&&g.getComputedStyle(d.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(e,d,g){g=e.defaultView;return g&&g.getComputedStyle}},{identity:"Svg",fn:function(d){return !!d.createElementNS&&!!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(d){return !!d.createElement("canvas").getContext}},{identity:"Vml",fn:function(g){var e=g.createElement("div");e.innerHTML="<!--[if vml]><br/><br/><![endif]-->";return(e.childNodes.length==2)}},{identity:"Float",fn:function(e,d){return !!d.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(d){return !!d.createElement("audio").canPlayType}},{identity:"History",fn:function(){var d=window.history;return !!(d&&d.pushState)}},{identity:"CSS3DTransform",fn:function(){return(typeof WebKitCSSMatrix!="undefined"&&new WebKitCSSMatrix().hasOwnProperty("m41"))}},{identity:"CSS3LinearGradient",fn:function(e,d){var l="background-image:",n="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",m="linear-gradient(left top, black, white)",g="-moz-"+m,h="-ms-"+m,j="-o-"+m,k=[l+n,l+m,l+g,l+h,l+j];d.style.cssText=k.join(";");return((""+d.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(e,d){var g=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],j=false,h;for(h=0;h<g.length;h++){if(document.body.style[g[h]]!==undefined){return true}}return j}},{identity:"GeoLocation",fn:function(){return(typeof navigator!="undefined"&&"geolocation" in navigator)||(typeof google!="undefined"&&typeof google.gears!="undefined")}},{identity:"MouseEnterLeave",fn:function(e,d){return("onmouseenter" in d&&"onmouseleave" in d)}},{identity:"MouseWheel",fn:function(e,d){return("onmousewheel" in d)}},{identity:"Opacity",fn:function(e,d){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return false}d.firstChild.style.cssText="opacity:0.73";return d.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(d){return"placeholder" in d.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(e,d){return Ext.isFunction(d.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var d=document.body,h=false,e=document.createElement("div"),g=e.style;if(e.getBoundingClientRect){g.WebkitTransform=g.MozTransform=g.OTransform=g.transform="rotate(90deg)";g.width="100px";g.height="30px";d.appendChild(e);h=e.getBoundingClientRect().height!==100;d.removeChild(e)}return h}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,d){return d.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,d){return d.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var d=[1,2,3,4,5].sort(function(){return 0});return d[0]===1&&d[1]===2&&d[2]===3&&d[3]===4&&d[4]===5}},{identity:"Range",fn:function(){return !!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var d=Ext.supports.Range?document.createRange():false;return d&&!!d.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var d=document.createElement("textarea");return("maxlength" in d)}},{identity:"GetPositionPercentage",fn:function(e,d){return b(d.childNodes[2],"left")=="10%"}},{identity:"PercentageHeightOverflowBug",fn:function(d){var g=false,h,e;if(Ext.getScrollbarSize().height){e=d.createElement("div");h=e.style;h.height="50px";h.width="50px";h.overflow="auto";h.position="absolute";e.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");d.body.appendChild(e);if(e.firstChild.offsetHeight===50){g=true}d.body.removeChild(e)}return g}},{identity:"xOriginBug",fn:function(h,g){g.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var j=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return(d.left!==j.left&&e.right!==j.right)}},{identity:"ScrollWidthInlinePaddingBug",fn:function(d){var g=false,h,e;e=d.createElement("div");h=e.style;h.height="50px";h.width="50px";h.padding="10px";h.overflow="hidden";h.position="absolute";e.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';d.body.appendChild(e);if(e.scrollWidth===70){g=true}d.body.removeChild(e);return g}}]}}());Ext.supports.init();Ext.util.DelayedTask=function(e,h,a,c){var g=this,d,b=function(){clearInterval(g.id);g.id=null;e.apply(h,a||[]);Ext.EventManager.idleEvent.fire()};c=typeof c==="boolean"?c:true;g.id=null;g.delay=function(k,l,m,j){if(c){g.cancel()}d=k||d,e=l||e;h=m||h;a=j||a;if(!g.id){g.id=setInterval(b,d)}};g.cancel=function(){if(g.id){clearInterval(g.id);g.id=null}}};Ext.define("Ext.util.Event",function(){var b=Array.prototype.slice,a=Ext.Array.insert,d=Ext.Array.toArray,c=Ext.util.DelayedTask;return{isEvent:true,suspended:0,noOptions:{},constructor:function(g,e){this.name=e;this.observable=g;this.listeners=[]},addListener:function(e,t,r){var q=this,p,n,s,l,h,g,m,k,j,o;t=t||q.observable;if(!q.isListening(e,t)){n=q.createListener(e,t,r);if(q.firing){q.listeners=q.listeners.slice(0)}p=q.listeners;k=m=p.length;s=r&&r.priority;h=q._highestNegativePriorityIndex;g=(h!==undefined);if(s){l=(s<0);if(!l||g){for(j=(l?h:0);j<m;j++){o=p[j].o?p[j].o.priority||0:0;if(o<s){k=j;break}}}else{q._highestNegativePriorityIndex=k}}else{if(g){k=h}}if(!l&&k<=h){q._highestNegativePriorityIndex++}if(k===m){q.listeners[m]=n}else{a(q.listeners,k,[n])}}},createListener:function(e,l,k){l=l||this.observable;var j=this,h={fn:e,scope:l,ev:j},g=e;if(k){h.o=k;if(k.single){g=j.createSingle(g,h,k,l)}if(k.target){g=j.createTargeted(g,h,k,l)}if(k.delay){g=j.createDelayed(g,h,k,l)}if(k.buffer){g=j.createBuffered(g,h,k,l)}}h.fireFn=g;return h},findListener:function(e,l){var j=this.listeners,g=j.length,h,k;while(g--){h=j[g];if(h){k=h.scope;if(h.fn==e&&(k==(l||this.observable))){return g}}}return -1},isListening:function(e,g){return this.findListener(e,g)!==-1},removeListener:function(e,n){var m=this,h,l,g,j;h=m.findListener(e,n);if(h!=-1){l=m.listeners[h];g=m._highestNegativePriorityIndex;if(m.firing){m.listeners=m.listeners.slice(0)}if(l.task){l.task.cancel();delete l.task}j=l.tasks&&l.tasks.length;if(j){while(j--){l.tasks[j].cancel()}delete l.tasks}m.listeners.splice(h,1);if(g){if(h<g){m._highestNegativePriorityIndex--}else{if(h===g&&h===m.listeners.length){delete m._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var g=this.listeners,e=g.length;while(e--){this.removeListener(g[e].fn,g[e].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var m=this,l=m.listeners,g=l.length,h,e,k,j;if(!m.suspended&&g>0){m.firing=true;e=arguments.length?b.call(arguments,0):[];j=e.length;for(h=0;h<g;h++){k=l[h];if(k.o){e[j]=k.o}if(k&&k.fireFn.apply(k.scope||m.observable,e)===false){return(m.firing=false)}}}m.firing=false;return true},createTargeted:function(e,g,h,j){return function(){if(h.target===arguments[0]){e.apply(j,arguments)}}},createBuffered:function(e,g,h,j){g.task=new c();return function(){g.task.delay(h.buffer,e,j,d(arguments))}},createDelayed:function(e,g,h,j){return function(){var k=new c();if(!g.tasks){g.tasks=[]}g.tasks.push(k);k.delay(h.delay||10,e,j,d(arguments))}},createSingle:function(e,g,h,j){return function(){var k=g.ev;if(k.removeListener(g.fn,j)&&k.observable){k.observable.hasListeners[k.name]--}return e.apply(j,arguments)}}}});Ext.EventManager=new function(){var c=this,a=document,j=window,b=/\\/g,e=Ext.baseCSSPrefix,h=!Ext.isIE9&&"addEventListener" in a,g,d=function(){var l=a.body||a.getElementsByTagName("body")[0],m=[e+"body"],o=[],q=Ext.supports.CSS3LinearGradient,p=Ext.supports.CSS3BorderRadius,n;if(!l){return false}n=l.parentNode;function k(r){m.push(e+r)}if(Ext.isIE&&Ext.isIE9m){k("ie");if(Ext.isIE6){k("ie6")}else{k("ie7p");if(Ext.isIE7){k("ie7")}else{k("ie8p");if(Ext.isIE8){k("ie8")}else{k("ie9p");if(Ext.isIE9){k("ie9")}}}}if(Ext.isIE7m){k("ie7m")}if(Ext.isIE8m){k("ie8m")}if(Ext.isIE9m){k("ie9m")}if(Ext.isIE7||Ext.isIE8){k("ie78")}}if(Ext.isIE10){k("ie10")}if(Ext.isGecko){k("gecko");if(Ext.isGecko3){k("gecko3")}if(Ext.isGecko4){k("gecko4")}if(Ext.isGecko5){k("gecko5")}}if(Ext.isOpera){k("opera")}if(Ext.isWebKit){k("webkit")}if(Ext.isSafari){k("safari");if(Ext.isSafari2){k("safari2")}if(Ext.isSafari3){k("safari3")}if(Ext.isSafari4){k("safari4")}if(Ext.isSafari5){k("safari5")}if(Ext.isSafari5_0){k("safari5_0")}}if(Ext.isChrome){k("chrome")}if(Ext.isMac){k("mac")}if(Ext.isLinux){k("linux")}if(!p){k("nbr")}if(!q){k("nlg")}if(n){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=false}else{Ext.isBorderBox=true}if(!Ext.isBorderBox){o.push(e+"content-box")}if(Ext.isStrict){o.push(e+"strict")}else{o.push(e+"quirks")}Ext.fly(n,"_internal").addCls(o)}Ext.fly(l,"_internal").addCls(m);return true};Ext.apply(c,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:(function(){g=new Ext.util.Event();g.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||new Date().getTime();g.self.prototype.fire.apply(g,arguments);Ext._afterReadytime=new Date().getTime()};return g}()),idleEvent:new Ext.util.Event(),isReadyPaused:function(){return(/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady)},bindReadyEvent:function(){if(c.hasBoundOnReady){return}if(a.readyState=="complete"){c.onReadyEvent({type:a.readyState||"body"})}else{a.addEventListener("DOMContentLoaded",c.onReadyEvent,false);j.addEventListener("load",c.onReadyEvent,false);c.hasBoundOnReady=true}},onReadyEvent:function(k){if(k&&k.type){c.onReadyChain.push(k.type)}if(c.hasBoundOnReady){a.removeEventListener("DOMContentLoaded",c.onReadyEvent,false);j.removeEventListener("load",c.onReadyEvent,false)}if(!Ext.isReady){c.fireDocReady()}},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=new Date().getTime();Ext.isReady=true;Ext.supports.init();c.onWindowUnload();g.onReadyChain=c.onReadyChain;if(Ext.isNumber(c.deferReadyEvent)){Ext.Function.defer(c.fireReadyEvent,c.deferReadyEvent);c.hasDocReadyTimer=true}else{c.fireReadyEvent()}}},fireReadyEvent:function(){c.hasDocReadyTimer=false;c.isFiring=true;while(g.listeners.length&&!c.isReadyPaused()){g.fire()}c.isFiring=false;c.hasFiredReady=true;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(k,m,l){l=l||{};l.single=true;g.addListener(k,m,l);if(!(c.isFiring||c.hasDocReadyTimer)){if(Ext.isReady){c.fireReadyEvent()}else{c.bindReadyEvent()}}},stoppedMouseDownEvent:new Ext.util.Event(),propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(k){var l;k=Ext.getDom(k);if(k===a||k===j){l=k===a?Ext.documentId:Ext.windowId}else{l=Ext.id(k)}if(!Ext.cache[l]){Ext.addCacheEntry(l,null,k)}return l},prepareListenerConfig:function(m,l,n){var p=c.propRe,o,q,k;for(o in l){if(l.hasOwnProperty(o)){if(!p.test(o)){q=l[o];if(typeof q=="function"){k=[m,o,q,l.scope,l]}else{k=[m,o,q.fn,q.scope,q]}if(n){c.removeListener.apply(c,k)}else{c.addListener.apply(c,k)}}}}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(k,l){if(c.mouseEnterLeaveRe.test(k)&&!Ext.supports.MouseEnterLeave){if(l){l=Ext.Function.createInterceptor(l,c.contains)}k=k=="mouseenter"?"mouseover":"mouseout"}else{if(k=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){k="DOMMouseScroll"}}return{eventName:k,fn:l}},contains:function(l){l=l.browserEvent||l;var m=l.currentTarget,k=c.getRelatedTarget(l);if(m&&m.firstChild){while(k){if(k===m){return false}k=k.parentNode;if(k&&(k.nodeType!=1)){k=null}}}return true},addListener:function(p,q,r,v,u){if(typeof q!=="string"){c.prepareListenerConfig(p,q);return}var o=p.dom||Ext.getDom(p),s,k,w,l,t,m,n;if(typeof r==="string"){r=Ext.resolveMethod(r,v||p)}u=u||{};k=c.normalizeEvent(q,r);w=c.createListenerWrap(o,q,k.fn,v,u);l=c.getEventListenerCache(p.dom?p:o,q);q=k.eventName;s=h||(Ext.isIE9&&!o.attachEvent);if(!s){t=c.normalizeId(o);if(t){m=Ext.cache[t][q];if(m&&m.firing){l=c.cloneEventListenerCache(o,q)}}}n=!!u.capture;l.push({fn:r,wrap:w,scope:v,capture:n});if(!s){if(l.length===1){t=c.normalizeId(o,true);r=Ext.Function.bind(c.handleSingleEvent,c,[t,q],true);Ext.cache[t][q]={firing:false,fn:r};o.attachEvent("on"+q,r)}}else{o.addEventListener(q,w,n)}if(o==a&&q=="mousedown"){c.stoppedMouseDownEvent.addListener(w)}},normalizeId:function(k,l){var m;if(k===document){m=Ext.documentId}else{if(k===window){m=Ext.windowId}else{m=k.id}}if(!m&&l){m=c.getId(k)}return m},handleSingleEvent:function(l,o,m){var q=c.getEventListenerCache(o,m),k=Ext.cache[o][m],p,n;if(k.firing){return}k.firing=true;for(n=0,p=q.length;n<p;++n){q[n].wrap(l)}k.firing=false},removeListener:function(p,q,r,x){if(typeof q!=="string"){c.prepareListenerConfig(p,q,true);return}var n=Ext.getDom(p),u,o=p.dom?p:Ext.get(n),l=c.getEventListenerCache(o,q),k=c.normalizeEvent(q).eventName,t=l.length,v,m,s,w,y;if(!n){return}s=h||(Ext.isIE9&&!n.detachEvent);if(typeof r==="string"){r=Ext.resolveMethod(r,x||p)}while(t--){w=l[t];if(w&&(!r||w.fn==r)&&(!x||w.scope===x)){y=w.wrap;if(y.task){clearTimeout(y.task);delete y.task}v=y.tasks&&y.tasks.length;if(v){while(v--){clearTimeout(y.tasks[v])}delete y.tasks}if(!s){u=c.normalizeId(n,true);m=Ext.cache[u][k];if(m&&m.firing){l=c.cloneEventListenerCache(n,k)}if(l.length===1){r=m.fn;delete Ext.cache[u][k];n.detachEvent("on"+k,r)}}else{n.removeEventListener(k,y,w.capture)}if(y&&n==a&&q=="mousedown"){c.stoppedMouseDownEvent.removeListener(y)}Ext.Array.erase(l,t,1)}}},removeAll:function(l){var o=(typeof l==="string")?l:l.id,k,n,m;if(o&&(k=Ext.cache[o])){n=k.events;for(m in n){if(n.hasOwnProperty(m)){c.removeListener(l,m)}}k.events={}}},purgeElement:function(m,n){var l=Ext.getDom(m),o=0,p,k;if(n){c.removeListener(m,n)}else{c.removeAll(m)}if(l&&l.childNodes){k=l.childNodes;for(p=k.length;o<p;o++){c.purgeElement(k[o],n)}}},createListenerWrap:function(k,l,n,q,p){p=p||{};var m,o,r=function(t,s){if(!o){m=["if(!"+Ext.name+") {return;}"];if(p.buffer||p.delay||p.freezeEvent){if(p.freezeEvent){m.push("e = X.EventObject.setEvent(e);")}m.push("e = new X.EventObjectImpl(e, "+(p.freezeEvent?"true":"false")+");")}else{m.push("e = X.EventObject.setEvent(e);")}if(p.delegate){m.push('var result, t = e.getTarget("'+(p.delegate+"").replace(b,"\\\\")+'", this);');m.push("if(!t) {return;}")}else{m.push("var t = e.target, result;")}if(p.target){m.push("if(e.target !== options.target) {return;}")}if(p.stopEvent){m.push("e.stopEvent();")}else{if(p.preventDefault){m.push("e.preventDefault();")}if(p.stopPropagation){m.push("e.stopPropagation();")}}if(p.normalized===false){m.push("e = e.browserEvent;")}if(p.buffer){m.push("(wrap.task && clearTimeout(wrap.task));");m.push("wrap.task = setTimeout(function() {")}if(p.delay){m.push("wrap.tasks = wrap.tasks || [];");m.push("wrap.tasks.push(setTimeout(function() {")}m.push("result = fn.call(scope || dom, e, t, options);");if(p.single){m.push("evtMgr.removeListener(dom, ename, fn, scope);")}if(l!=="mousemove"&&l!=="unload"){m.push("if (evtMgr.idleEvent.listeners.length) {");m.push("evtMgr.idleEvent.fire();");m.push("}")}if(p.delay){m.push("}, "+p.delay+"));")}if(p.buffer){m.push("}, "+p.buffer+");")}m.push("return result;");o=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",m.join("\n"))}return o.call(k,t,p,n,q,l,k,r,s,Ext,c)};return r},getEventCache:function(k){var l,m,n;if(!k){return[]}if(k.$cache){l=k.$cache}else{if(typeof k==="string"){n=k}else{n=c.getId(k)}l=Ext.cache[n]}m=l.events||(l.events={});return m},getEventListenerCache:function(k,m){var l=c.getEventCache(k);return l[m]||(l[m]=[])},cloneEventListenerCache:function(k,m){var l=c.getEventCache(k),n;if(l[m]){n=l[m].slice(0)}else{n=[]}l[m]=n;return n},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(k){c.stopPropagation(k);c.preventDefault(k)},stopPropagation:function(k){k=k.browserEvent||k;if(k.stopPropagation){k.stopPropagation()}else{k.cancelBubble=true}},preventDefault:function(l){l=l.browserEvent||l;if(l.preventDefault){l.preventDefault()}else{l.returnValue=false;try{if(l.ctrlKey||l.keyCode>111&&l.keyCode<124){l.keyCode=-1}}catch(k){}}},getRelatedTarget:function(k){k=k.browserEvent||k;var l=k.relatedTarget;if(!l){if(c.mouseLeaveRe.test(k.type)){l=k.toElement}else{if(c.mouseEnterRe.test(k.type)){l=k.fromElement}}}return c.resolveTextNode(l)},getPageX:function(k){return c.getPageXY(k)[0]},getPageY:function(k){return c.getPageXY(k)[1]},getPageXY:function(m){m=m.browserEvent||m;var n=m.pageX,o=m.pageY,l=a.documentElement,k=a.body;if(!n&&n!==0){n=m.clientX+(l&&l.scrollLeft||k&&k.scrollLeft||0)-(l&&l.clientLeft||k&&k.clientLeft||0);o=m.clientY+(l&&l.scrollTop||k&&k.scrollTop||0)-(l&&l.clientTop||k&&k.clientTop||0)}return[n,o]},getTarget:function(k){k=k.browserEvent||k;return c.resolveTextNode(k.target||k.srcElement)},resolveTextNode:Ext.isGecko?function(k){if(k){var l=HTMLElement.prototype.toString.call(k);if(l!=="[xpconnect wrapped native prototype]"&&l!=="[object XULElement]"){return k.nodeType==3?k.parentNode:k}}}:function(k){return k&&k.nodeType==3?k.parentNode:k},curWidth:0,curHeight:0,onWindowResize:function(k,n,l){var m=c.resizeEvent;if(!m){c.resizeEvent=m=new Ext.util.Event();c.on(j,"resize",c.fireResize,null,{buffer:100})}m.addListener(k,n,l)},fireResize:function(){var l=Ext.Element.getViewWidth(),k=Ext.Element.getViewHeight();if(c.curHeight!=k||c.curWidth!=l){c.curHeight=k;c.curWidth=l;c.resizeEvent.fire(l,k)}},removeResizeListener:function(k,m){var l=c.resizeEvent;if(l){l.removeListener(k,m)}},onWindowUnload:function(k,m,l){var n=c.unloadEvent;if(!n){c.unloadEvent=n=new Ext.util.Event();c.addListener(j,"unload",c.fireUnload)}if(k){n.addListener(k,m,l)}},fireUnload:function(){try{a=j=undefined;var n,o,p,m,k;c.unloadEvent.fire();if(Ext.isGecko3){n=Ext.ComponentQuery.query("gridview");o=0;p=n.length;for(;o<p;o++){n[o].scrollToTop()}}k=Ext.cache;for(m in k){if(k.hasOwnProperty(m)){c.removeAll(m)}}}catch(l){}},removeUnloadListener:function(k,l){var m=c.unloadEvent;if(m){m.removeListener(k,l)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera),getKeyEvent:function(){return c.useKeyDown?"keydown":"keypress"}});if(!h&&document.attachEvent){Ext.apply(c,{pollScroll:function(){var l=true;try{document.documentElement.doScroll("left")}catch(k){l=false}if(l&&document.body){c.onReadyEvent({type:"doScroll"})}else{c.scrollTimeout=setTimeout(c.pollScroll,20)}return l},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var k=document.readyState;if(c.readyStatesRe.test(k)){c.onReadyEvent({type:k})}},bindReadyEvent:function(){var l=true;if(c.hasBoundOnReady){return}try{l=window.frameElement===undefined}catch(k){l=false}if(!l||!a.documentElement.doScroll){c.pollScroll=Ext.emptyFn}if(c.pollScroll()===true){return}if(a.readyState=="complete"){c.onReadyEvent({type:"already "+(a.readyState||"body")})}else{a.attachEvent("onreadystatechange",c.checkReadyState);window.attachEvent("onload",c.onReadyEvent);c.hasBoundOnReady=true}},onReadyEvent:function(k){if(k&&k.type){c.onReadyChain.push(k.type)}if(c.hasBoundOnReady){document.detachEvent("onreadystatechange",c.checkReadyState);window.detachEvent("onload",c.onReadyEvent)}if(Ext.isNumber(c.scrollTimeout)){clearTimeout(c.scrollTimeout);delete c.scrollTimeout}if(!Ext.isReady){c.fireDocReady()}},onReadyChain:[]})}Ext.onReady=function(k,m,l){Ext.Loader.onReady(k,m,true,l)};Ext.onDocumentReady=c.onDocumentReady;c.on=c.addListener;c.un=c.removeListener;Ext.onReady(d)};Ext.define("Ext.util.Observable",function(g){var c=[],a=Array.prototype,b=a.slice,d=Ext.util.Event,e=function(h){if(h instanceof e){return h}this.observable=h;if(arguments[1].isObservable){this.managedListeners=true}this.args=b.call(arguments,1)};e.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{statics:{releaseCapture:function(h){h.fireEventArgs=this.prototype.fireEventArgs},capture:function(k,h,l){var j=function(n,m){return h.apply(l,[n].concat(m))};this.captureArgs(k,j,l)},captureArgs:function(j,h,k){j.fireEventArgs=Ext.Function.createInterceptor(j.fireEventArgs,h,k)},observe:function(h,j){if(h){if(!h.isObservable){Ext.applyIf(h,new this());this.captureArgs(h.prototype,h.fireEventArgs,h)}if(Ext.isObject(j)){h.on(j)}}return h},prepareClass:function(l,j){if(!l.HasListeners){var h=function(){},k=l.superclass.HasListeners||(j&&j.HasListeners)||g.HasListeners;l.prototype.HasListeners=l.HasListeners=h;h.prototype=l.hasListeners=new k()}}},isObservable:true,eventsSuspended:0,constructor:function(h){var j=this;Ext.apply(j,h);if(!j.hasListeners){j.hasListeners=new j.HasListeners()}j.events=j.events||{};if(j.listeners){j.on(j.listeners);j.listeners=null}if(j.bubbleEvents){j.enableBubble(j.bubbleEvents)}},onClassExtended:function(h){if(!h.HasListeners){g.prepareClass(h)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(l,j,k,r,p,o){var n=this,m=n.managedListeners=n.managedListeners||[],h,q;if(typeof j!=="string"){q=arguments.length>4?p:j;p=j;for(j in p){if(p.hasOwnProperty(j)){h=p[j];if(!n.eventOptionsRe.test(j)){n.addManagedListener(l,j,h.fn||h,h.scope||p.scope||r,h.fn?h:q,true)}}}if(p&&p.destroyable){return new e(n,l,p)}}else{if(typeof k==="string"){r=r||n;k=Ext.resolveMethod(k,r)}m.push({item:l,ename:j,fn:k,scope:r,options:p});l.on(j,k,r,p);if(!o&&p&&p.destroyable){return new e(n,l,j,k,r)}}},removeManagedListener:function(n,j,k,s){var q=this,r,h,p,o,m,l;if(typeof j!=="string"){r=j;for(j in r){if(r.hasOwnProperty(j)){h=r[j];if(!q.eventOptionsRe.test(j)){q.removeManagedListener(n,j,h.fn||h,h.scope||r.scope||s)}}}}else{p=q.managedListeners?q.managedListeners.slice():[];if(typeof k==="string"){s=s||q;k=Ext.resolveMethod(k,s)}for(m=0,o=p.length;m<o;m++){q.removeManagedListenerItem(false,p[m],n,j,k,s)}}},fireEvent:function(h){return this.fireEventArgs(h,b.call(arguments,1))},fireEventArgs:function(k,h){k=k.toLowerCase();var m=this,l=m.events,j=l&&l[k],n=true;if(j&&m.hasListeners[k]){n=m.continueFireEvent(k,h||c,j.bubble)}return n},continueFireEvent:function(l,h,j){var o=this,m,k,n=true;do{if(o.eventsSuspended){if((m=o.eventQueue)){m.push([l,h,j])}return n}else{k=o.events[l];if(k&&k!==true){if((n=k.fire.apply(k,h))===false){break}}}}while(j&&(o=o.getBubbleParent()));return n},getBubbleParent:function(){var h=this,j=h.getBubbleTarget&&h.getBubbleTarget();if(j&&j.isObservable){return j}return null},addListener:function(j,l,p,n){var m=this,h,k,o=0;if(typeof j!=="string"){n=j;for(j in n){if(n.hasOwnProperty(j)){h=n[j];if(!m.eventOptionsRe.test(j)){m.addListener(j,h.fn||h,h.scope||n.scope,h.fn?h:n)}}}if(n&&n.destroyable){return new e(m,n)}}else{j=j.toLowerCase();k=m.events[j];if(k&&k.isEvent){o=k.listeners.length}else{m.events[j]=k=new d(m,j)}if(typeof l==="string"){p=p||m;l=Ext.resolveMethod(l,p)}k.addListener(l,p,n);if(k.listeners.length!==o){m.hasListeners._incr_(j)}if(n&&n.destroyable){return new e(m,j,l,p,n)}}},removeListener:function(j,l,o){var m=this,h,k,n;if(typeof j!=="string"){n=j;for(j in n){if(n.hasOwnProperty(j)){h=n[j];if(!m.eventOptionsRe.test(j)){m.removeListener(j,h.fn||h,h.scope||n.scope)}}}}else{j=j.toLowerCase();k=m.events[j];if(k&&k.isEvent){if(typeof l==="string"){o=o||m;l=Ext.resolveMethod(l,o)}if(k.removeListener(l,o)){m.hasListeners._decr_(j)}}}},clearListeners:function(){var j=this.events,k=this.hasListeners,h,l;for(l in j){if(j.hasOwnProperty(l)){h=j[l];if(h.isEvent){delete k[l];h.clearListeners()}}}this.clearManagedListeners()},clearManagedListeners:function(){var k=this.managedListeners||[],h=0,j=k.length;for(;h<j;h++){this.removeManagedListenerItem(true,k[h])}this.managedListeners=[]},removeManagedListenerItem:function(k,m,l,h,j,n){if(k||(m.item===l&&m.ename===h&&(!j||m.fn===j)&&(!n||m.scope===n))){m.item.un(m.ename,m.fn,m.scope);if(!k){Ext.Array.remove(this.managedListeners,m)}}},addEvents:function(n){var m=this,k=m.events||(m.events={}),h,j,l;if(typeof n=="string"){for(j=arguments,l=j.length;l--;){h=j[l];if(!k[h]){k[h]=true}}}else{Ext.applyIf(m.events,n)}},hasListener:function(h){return !!this.hasListeners[h.toLowerCase()]},suspendEvents:function(h){this.eventsSuspended+=1;if(h&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(j){var l=arguments.length,k,h;for(k=0;k<l;k++){h=this.events[arguments[k]];if(h&&h.suspend){h.suspend()}}},resumeEvent:function(){var k=arguments.length,j,h;for(j=0;j<k;j++){h=this.events[arguments[j]];if(h&&h.resume){h.resume()}}},resumeEvents:function(){var h=this,l=h.eventQueue,k,j;if(h.eventsSuspended&&!--h.eventsSuspended){delete h.eventQueue;if(l){k=l.length;for(j=0;j<k;j++){h.continueFireEvent.apply(h,l[j])}}}},relayEvents:function(n,h,o){var l=this,k=h.length,j=0,m,p={};for(;j<k;j++){m=h[j];p[m]=l.createRelayer(o?o+m:m)}l.mon(n,p,null,null,undefined);return new e(l,n,p)},createRelayer:function(k,h){var j=this;return function(){return j.fireEventArgs.call(j,k,h?b.apply(arguments,h):arguments)}},enableBubble:function(k){if(k){var o=this,p=(typeof k=="string")?arguments:k,n=p.length,l=o.events,h,j,m;for(m=0;m<n;++m){h=p[m].toLowerCase();j=l[h];if(!j||typeof j=="boolean"){l[h]=j=new d(o,h)}o.hasListeners._incr_(h);j.bubble=true}}}}},function(){var d=this,g=d.prototype,c=function(){},e=function(j){if(!j.HasListeners){var h=j.prototype;d.prepareClass(j,this);j.onExtended(function(k){d.prepareClass(k)});if(h.onClassMixedIn){Ext.override(j,{onClassMixedIn:function(k){e.call(this,k);this.callParent(arguments)}})}else{h.onClassMixedIn=function(k){e.call(this,k)}}}},b;c.prototype={_decr_:function(h){if(!--this[h]){delete this[h]}},_incr_:function(h){if(this.hasOwnProperty(h)){++this[h]}else{this[h]=1}}};g.HasListeners=d.HasListeners=c;d.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});d.observeClass=d.observe;Ext.globalEvents=b=new d({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return b.addListener.apply(b,arguments)};Ext.un=function(){return b.removeListener.apply(b,arguments)};function a(l){var j=(this.methodEvents=this.methodEvents||{})[l],n,o,h,m=this,k;if(!j){this.methodEvents[l]=j={};j.originalFn=this[l];j.methodName=l;j.before=[];j.after=[];k=function(q,r,p){if((o=q.apply(r||m,p))!==undefined){if(typeof o=="object"){if(o.returnValue!==undefined){n=o.returnValue}else{n=o}h=!!o.cancel}else{if(o===false){h=true}else{n=o}}}};this[l]=function(){var p=Array.prototype.slice.call(arguments,0),q,r,s;n=o=undefined;h=false;for(r=0,s=j.before.length;r<s;r++){q=j.before[r];k(q.fn,q.scope,p);if(h){return n}}if((o=j.originalFn.apply(m,p))!==undefined){n=o}for(r=0,s=j.after.length;r<s;r++){q=j.after[r];k(q.fn,q.scope,p);if(h){return n}}return n}}return j}Ext.apply(g,{onClassMixedIn:e,beforeMethod:function(j,h,k){a.call(this,j).before.push({fn:h,scope:k})},afterMethod:function(j,h,k){a.call(this,j).after.push({fn:h,scope:k})},removeMethodListener:function(m,j,n){var h=this.getMethodEvent(m),k,l;for(k=0,l=h.before.length;k<l;k++){if(h.before[k].fn==j&&h.before[k].scope==n){Ext.Array.erase(h.before,k,1);return}}for(k=0,l=h.after.length;k<l;k++){if(h.after[k].fn==j&&h.after[k].scope==n){Ext.Array.erase(h.after,k,1);return}}},toggleEventLogging:function(h){Ext.util.Observable[h?"capture":"releaseCapture"](this,function(j){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(j,arguments)}})}})});Ext.define("Ext.EventObjectImpl",{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var a;if(Ext.isGecko){a=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else{a=12}a*=3}else{a=120}}return a}()),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){if(a){this.setEvent(a.browserEvent||a,b)}},setEvent:function(b,c){var d=this,a,e;if(b===d||(b&&b.browserEvent)){return b}d.browserEvent=b;if(b){a=b.button?d.btnMap[b.button]:(b.which?b.which-1:-1);if(d.clickRe.test(b.type)&&a==-1){a=0}e={type:b.type,button:a,shiftKey:b.shiftKey,ctrlKey:b.ctrlKey||b.metaKey||false,altKey:b.altKey,keyCode:b.keyCode,charCode:b.charCode,target:Ext.EventManager.getTarget(b),relatedTarget:Ext.EventManager.getRelatedTarget(b),currentTarget:b.currentTarget,xy:(c?d.getXY():null)}}else{e={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]}}Ext.apply(d,e);return d},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){Ext.EventManager.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this.browserEvent;if(a){if(a.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?(this.safariKeys[a]||a):a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy){this.xy=Ext.EventManager.getPageXY(this.browserEvent)}return this.xy},getTarget:function(c,a,b){if(c){return Ext.fly(this.target).findParent(c,a,b)}return b?Ext.get(this.target):this.target},getRelatedTarget:function(c,a,b){if(c&&this.relatedTarget){return Ext.fly(this.relatedTarget).findParent(c,a,b)}return b?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(a){var c=this.WHEEL_SCALE,b=Math.round(a/c);if(!b&&a){b=(a<0)?-1:1}return b},getWheelDeltas:function(){var d=this,c=d.browserEvent,a=0,b=0;if(Ext.isDefined(c.wheelDeltaX)){a=c.wheelDeltaX;b=c.wheelDeltaY}else{if(c.wheelDelta){b=c.wheelDelta}else{if(c.detail){b=-c.detail;if(b>100){b=3}else{if(b<-100){b=-3}}if(Ext.isDefined(c.axis)&&c.axis===c.HORIZONTAL_AXIS){a=b;b=0}}}}return{x:d.correctWheelDelta(a),y:d.correctWheelDelta(b)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(b,c,a){if(b){var e=c?this.getRelatedTarget():this.getTarget(),d;if(e){d=Ext.fly(b,"_internal").contains(e);if(!d&&a){d=e==Ext.getDom(b)}return d}}return false},isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return(a>=33&&a<=40)||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a==this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:(function(){var a,e={},c;if(!Ext.isIE9m&&document.createEvent){a={createHtmlEvent:function(j,l,g,h){var k=j.createEvent("HTMLEvents");k.initEvent(l,g,h);return k},createMouseEvent:function(p,u,h,k,o,l,m,n,g,t,r,j,s){var q=p.createEvent("MouseEvents"),v=p.defaultView||window;if(q.initMouseEvent){q.initMouseEvent(u,h,k,v,o,l,m,l,m,n,g,t,r,j,s)}else{q=p.createEvent("UIEvents");q.initEvent(u,h,k);q.view=v;q.detail=o;q.screenX=l;q.screenY=m;q.clientX=l;q.clientY=m;q.ctrlKey=n;q.altKey=g;q.metaKey=r;q.shiftKey=t;q.button=j;q.relatedTarget=s}return q},createUIEvent:function(k,m,g,h,j){var l=k.createEvent("UIEvents"),n=k.defaultView||window;l.initUIEvent(m,g,h,n,j);return l},fireEvent:function(h,j,g){h.dispatchEvent(g)},fixTarget:function(g){if(g==window&&!g.dispatchEvent){return document}return g}}}else{if(document.createEventObject){c={0:1,1:4,2:2};a={createHtmlEvent:function(j,l,g,h){var k=j.createEventObject();k.bubbles=g;k.cancelable=h;return k},createMouseEvent:function(p,u,h,k,o,l,m,n,g,t,r,j,s){var q=p.createEventObject();q.bubbles=h;q.cancelable=k;q.detail=o;q.screenX=l;q.screenY=m;q.clientX=l;q.clientY=m;q.ctrlKey=n;q.altKey=g;q.shiftKey=t;q.metaKey=r;q.button=c[j]||j;q.relatedTarget=s;return q},createUIEvent:function(k,m,g,h,j){var l=k.createEventObject();l.bubbles=g;l.cancelable=h;return l},fireEvent:function(h,j,g){h.fireEvent("on"+j,g)},fixTarget:function(g){if(g==document){return document.documentElement}return g}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(j,k){var g=k[0],h=k[1];e[j]=function(n,m){var l=a.createHtmlEvent(j,g,h);a.fireEvent(n,j,l)}});function d(j,h){var g=(j!="mousemove");return function(m,l){var n=l.getXY(),k=a.createMouseEvent(m.ownerDocument,j,true,g,h,n[0],n[1],l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget);a.fireEvent(m,j,k)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(g){e[g]=d(g,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(j,k){var g=k[0],h=k[1];e[j]=function(n,m){var l=a.createUIEvent(n.ownerDocument,j,g,h,1);a.fireEvent(n,j,l)}});if(!a){e={};a={fixTarget:Ext.identityFn}}function b(h,g){}return function(k){var h=this,g=e[h.type]||b,j=k?(k.dom||k):h.getTarget();j=a.fixTarget(j);g(j,h)}}())},function(){Ext.EventObject=new Ext.EventObjectImpl()});Ext.define("Ext.dom.AbstractQuery",{select:function(e,k){var h=[],d,a,b,g,c;k=k||document;if(typeof k=="string"){k=document.getElementById(k)}e=e.split(",");for(a=0,g=e.length;a<g;a++){if(typeof e[a]=="string"){if(typeof e[a][0]=="@"){d=k.getAttributeNode(e[a].substring(1));h.push(d)}else{d=k.querySelectorAll(e[a]);for(b=0,c=d.length;b<c;b++){h.push(d[b])}}}}return h},selectNode:function(a,b){return this.select(a,b)[0]},is:function(a,b){if(typeof a=="string"){a=document.getElementById(a)}return this.select(b).indexOf(a)!==-1}});Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:(function(){var b=/([a-z])([A-Z])/g,a={};function c(d,e,g){return e+"-"+g.toLowerCase()}return function(d){return a[d]||(a[d]=d.replace(b,c))}}()),generateMarkup:function(g,b){var e=this,h=typeof g,a,k,j,d,c;if(h=="string"||h=="number"){b.push(g)}else{if(Ext.isArray(g)){for(d=0;d<g.length;d++){if(g[d]){e.generateMarkup(g[d],b)}}}else{j=g.tag||"div";b.push("<",j);for(a in g){if(g.hasOwnProperty(a)){k=g[a];if(!e.confRe.test(a)){if(typeof k=="object"){b.push(" ",a,'="');e.generateStyles(k,b).push('"')}else{b.push(" ",e.attributeTransform[a]||a,'="',k,'"')}}}}if(e.emptyTags.test(j)){b.push("/>")}else{b.push(">");if((k=g.tpl)){k.applyOut(g.tplData,b)}if((k=g.html)){b.push(k)}if((k=g.cn||g.children)){e.generateMarkup(k,b)}c=e.closeTags;b.push(c[j]||(c[j]="</"+j+">"))}}}return b},generateStyles:function(e,c){var b=c||[],d;for(d in e){if(e.hasOwnProperty(d)){b.push(this.decamelizeName(d),":",e[d],";")}}return c||b.join("")},markup:function(b){if(typeof b=="string"){return b}var a=this.generateMarkup(b,[]);return a.join("")},applyStyles:function(a,d){if(d){var b=0,c;a=Ext.fly(a,"_applyStyles");if(typeof d=="function"){d=d.call()}if(typeof d=="string"){d=Ext.util.Format.trim(d).split(this.styleSepRe);for(c=d.length;b<c;){a.setStyle(d[b++],d[b++])}}else{if(Ext.isObject(d)){a.setStyle(d)}}}},insertHtml:function(j,a,d){var c={},h,e,b,g;j=j.toLowerCase();c.beforebegin=["BeforeBegin","previousSibling"];c.afterend=["AfterEnd","nextSibling"];e=a.ownerDocument.createRange();h="setStart"+(this.endRe.test(j)?"After":"Before");if(c[j]){e[h](a);b=e.createContextualFragment(d);a.parentNode.insertBefore(b,j=="beforebegin"?a:a.nextSibling);return a[(j=="beforebegin"?"previous":"next")+"Sibling"]}else{g=(j=="afterbegin"?"first":"last")+"Child";if(a.firstChild){e[h](a[g]);b=e.createContextualFragment(d);if(j=="afterbegin"){a.insertBefore(b,a.firstChild)}else{a.appendChild(b)}}else{a.innerHTML=d}return a[g]}throw'Illegal insertion point -> "'+j+'"'},insertBefore:function(a,b,c){return this.doInsert(a,b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend","nextSibling")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin","firstChild")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend","",true)},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=this.markup(b);return c?Ext.get(a.firstChild):a.firstChild},doInsert:function(b,d,g,e,h,a){var c=this.insertHtml(e,Ext.getDom(b),this.markup(d));return g?Ext.get(c,true):c}});Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(a,b){if(typeof a=="number"){return a+(b||this.defaultUnit||"px")}if(a===""||a=="auto"||a===undefined||a===null){return a||""}if(!this.unitRe.test(a)){return a||""}return a},isAncestor:function(b,a){var d=false;b=Ext.getDom(b);a=Ext.getDom(a);if(b&&a){if(b.contains){return b.contains(a)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16)}else{while((a=a.parentNode)){d=a==b||d}}}}return d},parseBox:function(a){a=a||0;var d=typeof a,c,b;if(d==="number"){return{top:a,right:a,bottom:a,left:a}}else{if(d!=="string"){return a}}c=a.split(" ");b=c.length;if(b==1){c[1]=c[2]=c[3]=c[0]}else{if(b==2){c[2]=c[0];c[3]=c[1]}else{if(b==3){c[3]=c[1]}}}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},unitizeBox:function(e,g){var c=this.addUnits,d=this.parseBox(e);return c(d.top,g)+" "+c(d.right,g)+" "+c(d.bottom,g)+" "+c(d.left,g)},camelReplaceFn:function(c,b){return b.charAt(1).toUpperCase()},normalize:function(a){if(a=="float"){a=Ext.supports.Float?"cssFloat":"styleFloat"}return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(d){var c={},a=this.cssRe,b;if(d){a.lastIndex=0;while((b=a.exec(d))){c[b[1]]=b[2]||""}}return c}}},function(){var b=document,a=null,c=b.compatMode=="CSS1Compat";if(!("activeElement" in b)&&b.addEventListener){b.addEventListener("focus",function(e){if(e&&e.target){a=(e.target==b)?null:e.target}},true)}function d(e,h,g){return function(){e.selectionStart=h;e.selectionEnd=g}}this.addInheritableStatics({getActiveElement:function(){var g;try{g=b.activeElement}catch(h){}g=g||a;if(!g){g=a=document.body}return g},getRightMarginFixCleaner:function(n){var l=Ext.supports,h=l.DisplayChangeInputSelectionBug,j=l.DisplayChangeTextAreaSelectionBug,e,m,k,g;if(h||j){e=b.activeElement||a;m=e&&e.tagName;if((j&&m=="TEXTAREA")||(h&&m=="INPUT"&&e.type=="text")){if(Ext.dom.Element.isAncestor(n,e)){k=e.selectionStart;g=e.selectionEnd;if(Ext.isNumber(k)&&Ext.isNumber(g)){return d(e,k,g)}}}}return Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!c?b.body.scrollHeight:b.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!c?b.body.scrollWidth:b.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?(Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight):self.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?b.body.clientWidth:Ext.isIE9m?b.documentElement.clientWidth:self.innerWidth},serializeForm:function(n){var m=n.elements||(document.forms[n]||Ext.getDom(n)).elements,p=false,l=encodeURIComponent,g="",k=m.length,j,r,w,v,q,h,s,t,u;for(h=0;h<k;h++){j=m[h];r=j.name;w=j.type;v=j.options;if(!j.disabled&&r){if(/select-(one|multiple)/i.test(w)){t=v.length;for(s=0;s<t;s++){u=v[s];if(u.selected){q=u.hasAttribute?u.hasAttribute("value"):u.getAttributeNode("value").specified;g+=Ext.String.format("{0}={1}&",l(r),l(q?u.value:u.text))}}}else{if(!(/file|undefined|reset|button/i.test(w))){if(!(/radio|checkbox/i.test(w)&&!j.checked)&&!(w=="submit"&&p)){g+=l(r)+"="+l(j.value)+"&";p=/submit/i.test(w)}}}}}return g.substr(0,g.length-1)}})});Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(b,j){var g=this,d,c,a,h;if(b.nodeType||b.dom||typeof b=="string"){b=Ext.getDom(b);g.dom.appendChild(b);return !j?Ext.get(b):b}else{if(b.length){d=Ext.fly(document.createDocumentFragment(),"_internal");c=b.length;Ext.DomHelper.useDom=true;for(a=0;a<c;a++){d.appendChild(b[a],j)}Ext.DomHelper.useDom=h;g.dom.appendChild(d.dom);return j?d.dom:d}else{return g.createChild(b,null,j)}}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?Ext.get(a):a}else{return this.createChild(a,this.dom.firstChild,b)}},insertSibling:function(c,n,l){var j=this,a=Ext.core.DomHelper,k=a.useDom,h=(n||"before").toLowerCase()=="after",m,g,d,b;if(Ext.isArray(c)){g=Ext.fly(document.createDocumentFragment(),"_internal");d=c.length;a.useDom=true;for(b=0;b<d;b++){m=g.appendChild(c[b],l)}a.useDom=k;j.dom.parentNode.insertBefore(g.dom,h?j.dom.nextSibling:j.dom);return m}c=c||{};if(c.nodeType||c.dom){m=j.dom.parentNode.insertBefore(Ext.getDom(c),h?j.dom.nextSibling:j.dom);if(!l){m=Ext.get(m)}}else{if(h&&!j.dom.nextSibling){m=a.append(j.dom.parentNode,c,!l)}else{m=a[h?"insertAfter":"insertBefore"](j.dom,c,!l)}}return m},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);b.dom.parentNode.insertBefore(a.dom,b.dom)}else{a=Ext.core.DomHelper.insertBefore(b.dom,a)}delete Ext.cache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b);return b},createChild:function(a,b,c){a=a||{tag:"div"};if(b){return Ext.core.DomHelper.insertBefore(b,a,c!==true)}else{return Ext.core.DomHelper.append(this.dom,a,c!==true)}},wrap:function(a,c,d){var b=Ext.core.DomHelper.insertBefore(this.dom,a||{tag:"div"},true),e=b;if(d){e=Ext.DomQuery.selectNode(d,b.dom)}e.appendChild(this.dom);return c?b.dom:b},insertHtml:function(d,b,c){var a=Ext.core.DomHelper.insertHtml(d,this.dom,b);return c?Ext.get(a):a}});Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var d=this,s=/\w/g,o=/\s+/,q=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,e=Ext.supports.ClassList,l="padding",j="margin",a="border",h="-left",n="-right",p="-top",c="-bottom",r="-width",b={l:a+h+r,r:a+n+r,t:a+p+r,b:a+c+r},m={l:l+h,r:l+n,t:l+p,b:l+c},k={l:j+h,r:j+n,t:j+p,b:j+c},g=new d.Fly();Ext.override(d,{styleHooks:{},addStyles:function(w,y){var A=0,x=(w||"").match(s),t,u=x.length,v,z=[];if(u==1){A=Math.abs(parseFloat(this.getStyle(y[x[0]]))||0)}else{if(u){for(t=0;t<u;t++){v=x[t];z.push(y[v])}z=this.getStyle(z);for(t=0;t<u;t++){v=x[t];A+=Math.abs(parseFloat(z[y[v]])||0)}}}return A},addCls:(function(){var t=function(w){var B=this,y=B.dom,E=B.trimRe,D=w,v,C,z,A,x;if(typeof(w)=="string"){w=w.replace(E,"").split(o)}if(y&&w&&!!(A=w.length)){if(!y.className){y.className=w.join(" ")}else{v=y.classList;if(v){for(z=0;z<A;++z){x=w[z];if(x){if(!v.contains(x)){if(C){C.push(x)}else{C=y.className.replace(E,"");C=C?[C,x]:[x]}}}}if(C){y.className=C.join(" ")}}else{u(D)}}}return B},u=function(v){var y=this,w=y.dom,x;if(w&&v&&v.length){x=Ext.Element.mergeClsList(w.className,v);if(x.changed){w.className=x.join(" ")}}return y};return e?t:u})(),removeCls:function(u){var y=this,v=y.dom,t,x,w;if(typeof(u)=="string"){u=u.replace(y.trimRe,"").split(o)}if(v&&v.className&&u&&!!(x=u.length)){t=v.classList;if(x===1&&t){if(u[0]){t.remove(u[0])}}else{w=Ext.Element.removeCls(v.className,u);if(w.changed){v.className=w.join(" ")}}}return y},radioCls:function(t){var u=this.dom.parentNode.childNodes,y,w,x;t=Ext.isArray(t)?t:[t];for(w=0,x=u.length;w<x;w++){y=u[w];if(y&&y.nodeType==1){g.attach(y).removeCls(t)}}return this.addCls(t)},toggleCls:(function(){var t=function(w){var y=this,x=y.dom,v;if(x){w=w.replace(y.trimRe,"");if(w){v=x.classList;if(v){v.toggle(w)}else{u(w)}}}return y},u=function(v){return this.hasCls(v)?this.removeCls(v):this.addCls(v)};return e?t:u})(),hasCls:(function(){var t=function(w){var x=this.dom,y=false,v;if(x&&w){v=x.classList;if(v){y=v.contains(w)}else{y=u(w)}}return y},u=function(v){var w=this.dom;return w?v&&(" "+w.className+" ").indexOf(" "+v+" ")!==-1:false};return e?t:u})(),replaceCls:function(u,t){return this.removeCls(u).addCls(t)},isStyle:function(t,u){return this.getStyle(t)==u},getStyle:function(F,z){var B=this,u=B.dom,C=typeof F!="string",x=B.styleHooks,E=F,G=E,A=1,v,t,I,w,D,H,y;if(C){I={};E=G[0];y=0;if(!(A=G.length)){return I}}if(!u||u.documentElement){return I||""}v=u.style;if(z){H=v}else{H=u.ownerDocument.defaultView.getComputedStyle(u,null);if(!H){z=true;H=v}}do{w=x[E];if(!w){x[E]=w={name:d.normalize(E)}}if(w.get){D=w.get(u,B,z,H)}else{t=w.name;D=H[t]}if(!C){return D}I[E]=D;E=G[++y]}while(y<A);return I},getStyles:function(){var v=Ext.Array.slice(arguments),u=v.length,t;if(u&&typeof v[u-1]=="boolean"){t=v.pop()}return this.getStyle(v,t)},isTransparent:function(t){var u=this.getStyle(t);return u?q.test(u):false},setStyle:function(y,A){var w=this,t=w.dom,v=w.styleHooks,z=t.style,x=y,u;if(typeof x=="string"){u=v[x];if(!u){v[x]=u={name:d.normalize(x)}}A=(A==null)?"":A;if(u.set){u.set(t,A,w)}else{z[u.name]=A}if(u.afterSet){u.afterSet(t,A,w)}}else{for(x in y){if(y.hasOwnProperty(x)){u=v[x];if(!u){v[x]=u={name:d.normalize(x)}}A=y[x];A=(A==null)?"":A;if(u.set){u.set(t,A,w)}else{z[u.name]=A}if(u.afterSet){u.afterSet(t,A,w)}}}}return w},getHeight:function(t){var u=this.dom,v=t?(u.clientHeight-this.getPadding("tb")):u.offsetHeight;return v>0?v:0},getWidth:function(t){var u=this.dom,v=t?(u.clientWidth-this.getPadding("lr")):u.offsetWidth;return v>0?v:0},setWidth:function(u){var t=this;t.dom.style.width=d.addUnits(u);return t},setHeight:function(t){var u=this;u.dom.style.height=d.addUnits(t);return u},getBorderWidth:function(t){return this.addStyles(t,b)},getPadding:function(t){return this.addStyles(t,m)},margins:k,applyStyles:function(w){if(w){var u,v,t=this.dom;if(typeof w=="function"){w=w.call()}if(typeof w=="string"){w=Ext.util.Format.trim(w).split(/\s*(?::|;)\s*/);for(u=0,v=w.length;u<v;){t.style[d.normalize(w[u++])]=w[u++]}}else{if(typeof w=="object"){this.setStyle(w)}}}},setSize:function(w,t){var u=this,v=u.dom.style;if(Ext.isObject(w)){t=w.height;w=w.width}v.width=d.addUnits(w);v.height=d.addUnits(t);return u},getViewSize:function(){var t=document,u=this.dom;if(u==t||u==t.body){return{width:d.getViewportWidth(),height:d.getViewportHeight()}}else{return{width:u.clientWidth,height:u.clientHeight}}},getSize:function(t){var u=this.dom;return{width:Math.max(0,t?(u.clientWidth-this.getPadding("lr")):u.offsetWidth),height:Math.max(0,t?(u.clientHeight-this.getPadding("tb")):u.offsetHeight)}},repaint:function(){var t=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){g.attach(t).removeCls(Ext.baseCSSPrefix+"repaint")},1);return this},getMargin:function(y){var w=this,t={t:"top",l:"left",r:"right",b:"bottom"},u,x,v;if(!y){v=[];for(u in w.margins){if(w.margins.hasOwnProperty(u)){v.push(w.margins[u])}}x=w.getStyle(v);if(x&&typeof x=="object"){for(u in w.margins){if(w.margins.hasOwnProperty(u)){x[t[u]]=parseFloat(x[w.margins[u]])||0}}}return x}else{return w.addStyles(y,w.margins)}},mask:function(z,A,D){var y=this,v=y.dom,u=(y.$cache||y.getCache()).data,w=u.mask,x,C,t="",B=Ext.baseCSSPrefix;y.addCls(B+"masked");if(y.getStyle("position")=="static"){y.addCls(B+"masked-relative")}if(w){w.remove()}if(A&&typeof A=="string"){t=" "+A}else{t=" "+B+"mask-gray"}x=y.createChild({cls:B+"mask"+((D!==false)?"":(" "+B+"mask-gray")),html:z?('<div class="'+(A||(B+"mask-message"))+'">'+z+"</div>"):""});C=y.getSize();u.mask=x;if(v===document.body){C.height=window.innerHeight;if(y.orientationHandler){Ext.EventManager.unOrientationChange(y.orientationHandler,y)}y.orientationHandler=function(){C=y.getSize();C.height=window.innerHeight;x.setSize(C)};Ext.EventManager.onOrientationChange(y.orientationHandler,y)}x.setSize(C);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var v=this,t=(v.$cache||v.getCache()).data,u=t.mask,w=Ext.baseCSSPrefix;if(u){u.remove();delete t.mask}v.removeCls([w+"masked",w+"masked-relative"]);if(v.dom===document.body){Ext.EventManager.unOrientationChange(v.orientationHandler,v);delete v.orientationHandler}}});Ext.onReady(function(){var B=Ext.supports,A,u,y,z,t;function x(C,D,E,F){var G=F[this.name]||"";return q.test(G)?"transparent":G}function v(D,F,G,I){var H=I.marginRight,E,C;if(H!="0px"){E=D.style;C=E.display;E.display="inline-block";H=(G?I:D.ownerDocument.defaultView.getComputedStyle(D,null)).marginRight;E.display=C}return H}function w(E,G,H,J){var I=J.marginRight,F,C,D;if(I!="0px"){F=E.style;C=d.getRightMarginFixCleaner(E);D=F.display;F.display="inline-block";I=(H?J:E.ownerDocument.defaultView.getComputedStyle(E,"")).marginRight;F.display=D;C()}return I}A=d.prototype.styleHooks;if(B.init){B.init()}if(!B.RightMargin){A.marginRight=A["margin-right"]={name:"marginRight",get:(B.DisplayChangeInputSelectionBug||B.DisplayChangeTextAreaSelectionBug)?w:v}}if(!B.TransparentColor){u=["background-color","border-color","color","outline-color"];for(y=u.length;y--;){z=u[y];t=d.normalize(z);A[z]=A[t]={name:t,get:x}}}})});Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(d,b,c){var g=this.dom,h=document.documentElement,a=0,e;b=b||50;if(isNaN(b)){e=Ext.getDom(b);b=Number.MAX_VALUE}while(g&&g.nodeType==1&&a<b&&g!=h&&g!=e){if(Ext.DomQuery.is(g,d)){return c?Ext.get(g):g}a++;g=g.parentNode}return null},findParentNode:function(d,a,c){var b=Ext.fly(this.dom.parentNode,"_internal");return b?b.findParent(d,a,c):null},up:function(c,a,b){return this.findParentNode(c,a,!b)},select:function(b,a){return Ext.dom.Element.select(b,this.dom,a)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(c,b){var a=Ext.DomQuery.selectNode(c,this.dom);return b?a:Ext.get(a)},child:function(e,d){var c,b=this,a;a=Ext.id(b.dom);a=Ext.escapeId(a);c=Ext.DomQuery.selectNode("#"+a+" > "+e,b.dom);return d?c:Ext.get(c)},parent:function(b,a){return this.matchNode("parentNode","parentNode",b,a)},next:function(b,a){return this.matchNode("nextSibling","nextSibling",b,a)},prev:function(b,a){return this.matchNode("previousSibling","previousSibling",b,a)},first:function(b,a){return this.matchNode("nextSibling","firstChild",b,a)},last:function(b,a){return this.matchNode("previousSibling","lastChild",b,a)},matchNode:function(a,e,d,c){if(!this.dom){return null}var b=this.dom[e];while(b){if(b.nodeType==1&&(!d||Ext.DomQuery.is(b,d))){return !c?Ext.get(b):b}b=b[a]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});Ext.define("Ext.dom.AbstractElement",{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(e){var k=this,c=window.document,g=Ext.dom.Element,a,b,h,d,j;if(!e){return null}if(e.isFly){e=e.dom}if(typeof e=="string"){if(e==Ext.windowId){return g.get(window)}else{if(e==Ext.documentId){return g.get(c)}}a=Ext.cache[e];if(a&&a.skipGarbageCollection){h=a.el;return h}if(!(d=c.getElementById(e))){return null}if(a&&a.el){h=Ext.updateCacheEntry(a,d).el}else{h=new g(d,!!a)}return h}else{if(e.tagName){if(!(j=e.id)){j=Ext.id(e)}a=Ext.cache[j];if(a&&a.el){h=Ext.updateCacheEntry(a,e).el}else{h=new g(e,!!a)}return h}else{if(e instanceof k){if(e!=k.docEl&&e!=k.winEl){j=e.id;a=Ext.cache[j];if(a){Ext.updateCacheEntry(a,c.getElementById(j)||e.dom)}}return e}else{if(e.isComposite){return e}else{if(Ext.isArray(e)){return k.select(e)}else{if(e===c){if(!k.docEl){b=k.docEl=Ext.Object.chain(g.prototype);b.dom=c;b.el=b;b.id=Ext.id(c);k.addToCache(b)}return k.docEl}else{if(e===window){if(!k.winEl){k.winEl=Ext.Object.chain(g.prototype);k.winEl.dom=window;k.winEl.id=Ext.id(window);k.addToCache(k.winEl)}return k.winEl}}}}}}}return null},addToCache:function(a,b){if(a){Ext.addCacheEntry(b,a)}return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var c,b={},e,h,g,k,d,l=[],a=false,m=this.trimRe,n=this.whitespaceRe;for(e=0,h=arguments.length;e<h;e++){c=arguments[e];if(Ext.isString(c)){c=c.replace(m,"").split(n)}if(c){for(g=0,k=c.length;g<k;g++){d=c[g];if(!b[d]){if(e){a=true}b[d]=true}}}}for(d in b){l.push(d)}l.changed=a;return l},removeCls:function(d,h){var b={},e,g,c,j=[],a=false,k=this.whitespaceRe;if(d){if(Ext.isString(d)){d=d.replace(this.trimRe,"").split(k)}for(e=0,g=d.length;e<g;e++){b[d[e]]=true}}if(h){if(Ext.isString(h)){h=h.split(k)}for(e=0,g=h.length;e<g;e++){c=h[e];if(b[c]){a=true;delete b[c]}}}for(c in b){j.push(c)}j.changed=a;return j},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(b,c){var e=this,a=typeof b=="string"?document.getElementById(b):b,d;e.el=e;if(!a){return null}d=a.id;if(!c&&d&&Ext.cache[d]){return Ext.cache[d].el}e.dom=a;e.id=d||Ext.id(a);e.self.addToCache(e)},set:function(c,d){var b=this.dom,a,e;for(a in c){if(c.hasOwnProperty(a)){e=c[a];if(a=="style"){this.applyStyles(e)}else{if(a=="cls"){b.className=e}else{if(d!==false){if(e===undefined){b.removeAttribute(a)}else{b.setAttribute(a,e)}}else{b[a]=e}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var b=this,a=b.dom;if(b.isAnimate){b.stopAnimation()}if(a){Ext.removeNode(a);delete b.dom}},contains:function(b){if(!b){return false}var c=this,a=b.dom||b;return(a===c.dom)||Ext.dom.AbstractElement.isAncestor(c.dom,a)},getAttribute:function(b,c){var a=this.dom;return a.getAttributeNS(c,b)||a.getAttribute(c+":"+b)||a.getAttribute(b)||a[b]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this},setHTML:function(a){if(this.dom){this.dom.innerHTML=a}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(g,a){var b=this,e=b.self,c=b.getVisibilityMode(),d=Ext.baseCSSPrefix;switch(c){case e.VISIBILITY:b.removeCls([d+"hidden-display",d+"hidden-offsets"]);b[g?"removeCls":"addCls"](d+"hidden-visibility");break;case e.DISPLAY:b.removeCls([d+"hidden-visibility",d+"hidden-offsets"]);b[g?"removeCls":"addCls"](d+"hidden-display");break;case e.OFFSETS:b.removeCls([d+"hidden-visibility",d+"hidden-display"]);b[g?"removeCls":"addCls"](d+"hidden-offsets");break}return b},getVisibilityMode:function(){var a=(this.$cache||this.getCache()).data,b=a.visibilityMode;if(b===undefined){a.visibilityMode=b=this.self.DISPLAY}return b},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var b=this,a=b.dom.id||Ext.id(b.dom);b.$cache=Ext.cache[a]||Ext.addCacheEntry(a,null,b.dom);return b.$cache}},function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;if(!b){b=document.createElement("div");a.detachedBodyEl=b=new a.Fly(b);b.isDetachedBody=true}return b};Ext.getElementById=function(d){var c=document.getElementById(d),b;if(!c&&(b=a.detachedBodyEl)){c=b.dom.querySelector("#"+Ext.escapeId(d))}return c};Ext.get=function(b){return Ext.dom.Element.get(b)};this.addStatics({Fly:new Ext.Class({extend:a,isFly:true,constructor:function(b){this.dom=b;this.el=this},attach:function(b){this.dom=b;this.$cache=b.id?Ext.cache[b.id]:null;return this}}),_flyweights:{},fly:function(c,e){var d=null,b=a._flyweights;e=e||"_global";c=Ext.getDom(c);if(c){d=b[e]||(b[e]=new a.Fly());d.dom=c;d.$cache=c.id?Ext.cache[c.id]:null}return d}});Ext.fly=function(){return a.fly.apply(a,arguments)};(function(b){b.destroy=b.remove;if(document.querySelector){b.getById=function(e,c){var d=document.getElementById(e)||this.dom.querySelector("#"+Ext.escapeId(e));return c?d:(d?Ext.get(d):null)}}else{b.getById=function(e,c){var d=document.getElementById(e);return c?d:(d?Ext.get(d):null)}}}(this.prototype))});Ext.define("Ext.dom.Helper",(function(){var b="afterbegin",c="afterend",g="beforebegin",h="beforeend",q="<table>",n="</table>",m=q+"<tbody>",l="</tbody>"+n,p=m+"<tr>",o="</tr>"+l,j=document.createElement("div"),e=["BeforeBegin","previousSibling"],a=["AfterEnd","nextSibling"],d={beforebegin:e,afterend:a},k={beforebegin:e,afterend:a,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{extend:Ext.dom.AbstractHelper,tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:false,createDom:function(x,y){var u,t=document,z,r,A,s,v,w;if(Ext.isArray(x)){u=t.createDocumentFragment();for(v=0,w=x.length;v<w;v++){this.createDom(x[v],u)}}else{if(typeof x=="string"){u=t.createTextNode(x)}else{u=t.createElement(x.tag||"div");z=!!u.setAttribute;for(r in x){if(!this.confRe.test(r)){A=x[r];if(r=="cls"){u.className=A}else{if(z){u.setAttribute(r,A)}else{u[r]=A}}}}Ext.DomHelper.applyStyles(u,x.style);if((s=x.children||x.cn)){this.createDom(s,u)}else{if(x.html){u.innerHTML=x.html}}}}if(y){y.appendChild(u)}return u},ieTable:function(s,x,u,r){j.innerHTML=[x,u,r].join("");var v=-1,t=j,w;while(++v<s){t=t.firstChild}w=t.nextSibling;if(w){w=t;t=document.createDocumentFragment();while(w){nx=w.nextSibling;t.appendChild(w);w=nx}}return t},insertIntoTable:function(z,A,w,x){var y,v,t=A==g,r=A==b,u=A==h,s=A==c;if(z=="td"&&(r||u)||!this.tableElRe.test(z)&&(t||s)){return null}v=t?w:s?w.nextSibling:r?w.firstChild:null;if(t||s){w=w.parentNode}if(z=="td"||(z=="tr"&&(u||r))){y=this.ieTable(4,p,x,o)}else{if(((z=="tbody"||z=="thead")&&(u||r))||(z=="tr"&&(t||s))){y=this.ieTable(3,m,x,l)}else{y=this.ieTable(2,q,x,n)}}w.insertBefore(y,v);return y},createContextualFragment:function(t){var s=document.createDocumentFragment(),u,r;j.innerHTML=t;r=j.childNodes;u=r.length;while(u--){s.appendChild(r[0])}return s},applyStyles:function(r,s){if(s){if(typeof s=="function"){s=s.call()}if(typeof s=="string"){s=Ext.dom.Element.parseStyles(s)}if(typeof s=="object"){Ext.fly(r,"_applyStyles").setStyle(s)}}},createHtml:function(r){return this.markup(r)},doInsert:function(s,u,w,v,x,r){s=s.dom||Ext.getDom(s);var t;if(this.useDom){t=this.createDom(u,null);if(r){s.appendChild(t)}else{(x=="firstChild"?s:s.parentNode).insertBefore(t,s[x]||s)}}else{t=this.insertHtml(v,s,this.markup(u))}return w?Ext.get(t,true):t},overwrite:function(r,s,u){var t;r=Ext.getDom(r);s=this.markup(s);if(Ext.isIE&&this.tableRe.test(r.tagName)){while(r.firstChild){r.removeChild(r.firstChild)}if(s){t=this.insertHtml("afterbegin",r,s);return u?Ext.get(t):t}return null}r.innerHTML=s;return u?Ext.get(r.firstChild):r.firstChild},insertHtml:function(y,r,u){var t,v,w,x,s;y=y.toLowerCase();if(r.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(r.tagName)&&(s=this.insertIntoTable(r.tagName.toLowerCase(),y,r,u))){return s}if((t=k[y])){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){r.insertAdjacentHTML(t[0],u)})}else{r.insertAdjacentHTML(t[0],u)}return r[t[1]]}}else{if(r.nodeType===3){y=y==="afterbegin"?"beforebegin":y;y=y==="beforeend"?"afterend":y}v=Ext.supports.CreateContextualFragment?r.ownerDocument.createRange():undefined;x="setStart"+(this.endRe.test(y)?"After":"Before");if(d[y]){if(v){v[x](r);s=v.createContextualFragment(u)}else{s=this.createContextualFragment(u)}r.parentNode.insertBefore(s,y==g?r:r.nextSibling);return r[(y==g?"previous":"next")+"Sibling"]}else{w=(y==b?"first":"last")+"Child";if(r.firstChild){if(v){v[x](r[w]);s=v.createContextualFragment(u)}else{s=this.createContextualFragment(u)}if(y==b){r.insertBefore(s,r.firstChild)}else{r.appendChild(s)}}else{r.innerHTML=u}return r[w]}}},createTemplate:function(s){var r=this.markup(s);return new Ext.Template(r)}}})(),function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this});Ext.define("Ext.Template",{inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||"")}},constructor:function(c){var g=this,a=arguments,b=[],d=0,e=a.length,h;g.initialConfig={};if(e===1&&Ext.isArray(c)){a=c;e=a.length}if(e>1){for(;d<e;d++){h=a[d];if(typeof h=="object"){Ext.apply(g.initialConfig,h);Ext.apply(g,h)}else{b.push(h)}}}else{b.push(c)}g.html=b.join("");if(g.compiled){g.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(h){var c=this,g=c.disableFormats!==true,a=Ext.util.Format,e=c,d;if(c.compiled){return c.compiled(h).join("")}function b(l,n,k,j){if(k&&g){if(j){j=[h[n]].concat(Ext.functionFactory("return ["+j+"];")())}else{j=[h[n]]}if(k.substr(0,5)=="this."){return e[k.substr(5)].apply(e,j)}else{return a[k].apply(a,j)}}else{return h[n]!==undefined?h[n]:""}}d=c.html.replace(c.re,b);return d},applyOut:function(c,b){var a=this;if(a.compiled){b.push.apply(b,a.compiled(c))}else{b.push(a.apply(c))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(b,a){var c=this;c.html=b;c.compiled=null;return a?c.compile():c},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(a,c,b){return this.doInsert("afterBegin",a,c,b)},insertBefore:function(a,c,b){return this.doInsert("beforeBegin",a,c,b)},insertAfter:function(a,c,b){return this.doInsert("afterEnd",a,c,b)},append:function(a,c,b){return this.doInsert("beforeEnd",a,c,b)},doInsert:function(e,a,d,c){var b=Ext.DomHelper.insertHtml(e,Ext.getDom(a),this.apply(d));return c?Ext.get(b):b},overwrite:function(a,d,c){var b=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(d));return c?Ext.get(b):b}});Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(r){var l=this,j=r.length,c={elseif:"elif"},w=l.topRe,b=l.actionsRe,h,q,p,k,v,n,g,u,d,e,a,o;l.level=0;l.stack=q=[];for(h=0;h<j;h=e){w.lastIndex=h;k=w.exec(r);if(!k){l.doText(r.substring(h,j));break}d=k.index;e=w.lastIndex;if(h<d){l.doText(r.substring(h,d))}if(k[1]){e=r.indexOf("%}",d+2);l.doEval(r.substring(d+2,e));e+=2}else{if(k[2]){e=r.indexOf("]}",d+2);l.doExpr(r.substring(d+2,e));e+=2}else{if(k[3]){l.doTag(k[3])}else{if(k[4]){a=null;while((u=b.exec(k[4]))!==null){p=u[2]||u[3];if(p){p=Ext.String.htmlDecode(p);v=u[1];v=c[v]||v;a=a||{};n=a[v];if(typeof n=="string"){a[v]=[n,p]}else{if(n){a[v].push(p)}else{a[v]=p}}}}if(!a){if(l.elseRe.test(k[4])){l.doElse()}else{if(l.defaultRe.test(k[4])){l.doDefault()}else{l.doTpl();q.push({type:"tpl"})}}}else{if(a["if"]){l.doIf(a["if"],a);q.push({type:"if"})}else{if(a["switch"]){l.doSwitch(a["switch"],a);q.push({type:"switch"})}else{if(a["case"]){l.doCase(a["case"],a)}else{if(a.elif){l.doElseIf(a.elif,a)}else{if(a["for"]){++l.level;if(o=l.propRe.exec(k[4])){a.propName=o[1]||o[2]}l.doFor(a["for"],a);q.push({type:"for",actions:a})}else{if(a.foreach){++l.level;if(o=l.propRe.exec(k[4])){a.propName=o[1]||o[2]}l.doForEach(a.foreach,a);q.push({type:"foreach",actions:a})}else{if(a.exec){l.doExec(a.exec,a);q.push({type:"exec",actions:a})}}}}}}}}}else{if(k[0].length===5){q.push({type:"tpl"})}else{g=q.pop();l.doEnd(g.type,g.actions);if(g.type=="for"||g.type=="foreach"){--l.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(c){var b=this,a=b.generate(c);return b.useEval?b.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(d){var c=this,b="var fm=Ext.util.Format,ts=Object.prototype.toString;",a;c.maxLevel=0;c.body=["var c0=values, a0="+c.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(c.definitions){if(typeof c.definitions==="string"){c.definitions=[c.definitions,b]}else{c.definitions.push(b)}}else{c.definitions=[b]}c.switches=[];c.parse(d);c.definitions.push((c.useEval?"$=":"return")+" function ("+c.fnArgs+") {",c.body.join(""),"}");a=c.definitions.join("\n");c.definitions.length=c.body.length=c.switches.length=0;delete c.definitions;delete c.body;delete c.switches;return a},doText:function(c){var a=this,b=a.body;c=c.replace(a.aposRe,"\\'").replace(a.newLineRe,"\\n");if(a.useIndex){b.push("out[out.length]='",c,"'\n")}else{b.push("out.push('",c,"')\n")}},doExpr:function(a){var b=this.body;b.push("if ((v="+a+") != null) out");if(this.useIndex){b.push("[out.length]=v+''\n")}else{b.push(".push(v+'')\n")}},doTag:function(b){var a=this.parseTag(b);if(a){this.doExpr(a)}else{this.doText("{"+b+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){var c=this;if(a==="."){c.body.push("if (values) {\n")}else{if(c.propNameRe.test(a)){c.body.push("if (",c.parseTag(a),") {\n")}else{c.body.push("if (",c.addFn(a),c.callFn,") {\n")}}if(b.exec){c.doExec(b.exec)}},doElseIf:function(a,b){var c=this;if(a==="."){c.body.push("else if (values) {\n")}else{if(c.propNameRe.test(a)){c.body.push("} else if (",c.parseTag(a),") {\n")}else{c.body.push("} else if (",c.addFn(a),c.callFn,") {\n")}}if(b.exec){c.doExec(b.exec)}},doSwitch:function(a){var b=this;if(a==="."){b.body.push("switch (values) {\n")}else{if(b.propNameRe.test(a)){b.body.push("switch (",b.parseTag(a),") {\n")}else{b.body.push("switch (",b.addFn(a),b.callFn,") {\n")}}b.switches.push(0)},doCase:function(a){var e=this,b=Ext.isArray(a)?a:[a],g=e.switches.length-1,d,c;if(e.switches[g]){e.body.push("break;\n")}else{e.switches[g]++}for(c=0,g=b.length;c<g;++c){d=e.intRe.exec(b[c]);b[c]=d?d[1]:("'"+b[c].replace(e.aposRe,"\\'")+"'")}e.body.push("case ",b.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push("break;\n")}else{a.switches[b]++}a.body.push("default:\n")},doEnd:function(d,a){var c=this,b=c.level-1;if(d=="for"||d=="foreach"){if(a.exec){c.doExec(a.exec)}c.body.push("}\n");c.body.push("parent=p",b,";values=r",b+1,";xcount=n"+b+";xindex=i",b,"+1;xkey=k",b,";\n")}else{if(d=="if"||d=="switch"){c.body.push("}\n")}}},doFor:function(a,b){var d=this,g,c=d.level,h=c-1,e;if(a==="."){g="values"}else{if(d.propNameRe.test(a)){g=d.parseTag(a)}else{g=d.addFn(a)+d.callFn}}if(d.maxLevel<c){d.maxLevel=c;d.body.push("var ")}if(a=="."){e="c"+c}else{e="a"+h+"?c"+h+"[i"+h+"]:c"+h}d.body.push("i",c,"=0,n",c,"=0,c",c,"=",g,",a",c,"=",d.createArrayTest(c),",r",c,"=values,p",c,",k",c,";\n","p",c,"=parent=",e,"\n","if (c",c,"){if(a",c,"){n",c,"=c",c,".length;}else if (c",c,".isMixedCollection){c",c,"=c",c,".items;n",c,"=c",c,".length;}else if(c",c,".isStore){c",c,"=c",c,".data.items;n",c,"=c",c,".length;}else{c",c,"=[c",c,"];n",c,"=1;}}\n","for (xcount=n",c,";i",c,"<n"+c+";++i",c,"){\n","values=c",c,"[i",c,"]");if(b.propName){d.body.push(".",b.propName)}d.body.push("\n","xindex=i",c,"+1\n");if(b.between){d.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')}},doForEach:function(a,b){var d=this,g,c=d.level,h=c-1,e;if(a==="."){g="values"}else{if(d.propNameRe.test(a)){g=d.parseTag(a)}else{g=d.addFn(a)+d.callFn}}if(d.maxLevel<c){d.maxLevel=c;d.body.push("var ")}if(a=="."){e="c"+c}else{e="a"+h+"?c"+h+"[i"+h+"]:c"+h}d.body.push("i",c,"=-1,n",c,"=0,c",c,"=",g,",a",c,"=",d.createArrayTest(c),",r",c,"=values,p",c,",k",c,";\n","p",c,"=parent=",e,"\n","for(k",c," in c",c,"){\n","xindex=++i",c,"+1;\n","xkey=k",c,";\n","values=c",c,"[k",c,"];");if(b.propName){d.body.push(".",b.propName)}if(b.between){d.body.push('if(xindex>1){ out.push("',b.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(a,b){var c=this,d="f"+c.definitions.length;c.definitions.push("function "+d+"("+c.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {","}","}");c.body.push(d+c.callFn+"\n")},addFn:function(a){var b=this,c="f"+b.definitions.length;if(a==="."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return values","}")}else{if(a===".."){b.definitions.push("function "+c+"("+b.fnArgs+") {"," return parent","}")}else{b.definitions.push("function "+c+"("+b.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}")}}return c},parseTag:function(h){var e=this,c=e.tagRe.exec(h),g,b,a,d,j;if(!c){return null}g=c[1];b=c[2];a=c[3];d=c[4];if(g=="."){if(!e.validTypes){e.definitions.push("var validTypes={string:1,number:1,boolean:1};");e.validTypes=true}j='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(g=="#"){j="xindex"}else{if(g=="$"){j="xkey"}else{if(g.substr(0,7)=="parent."){j=g}else{if(isNaN(g)&&g.indexOf("-")==-1&&g.indexOf(".")!=-1){j="values."+g}else{j="values['"+g+"']"}}}}}if(d){j="("+j+d+")"}if(b&&e.useFormat){a=a?","+a:"";if(b.substr(0,5)!="this."){b="fm."+b+"("}else{b+="("}}else{return j}return b+j+a+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(b,a){return this.applyOut(b,[],a).join("")},applyOut:function(h,d,g){var c=this,a;if(!c.fn){a=new Ext.XTemplateCompiler({useFormat:c.disableFormats!==true,definitions:c.definitions});c.fn=a.compile(c.html)}try{c.fn(d,h,g||c.emptyObj,1,1)}catch(b){}return d},compile:function(){return this},statics:{getTpl:function(a,b){var d=a[b],c;if(d&&!d.isTemplate){d=Ext.ClassManager.dynInstantiate("Ext.XTemplate",d);if(a.hasOwnProperty(b)){c=a}else{for(c=a.self.prototype;c&&!c.hasOwnProperty(b);c=c.superclass){}}c[b]=d;d.owner=c}return d||null}}});Ext.ns("Ext.core");Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=(function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(function(){var d=doc.createElement("div");d.innerHTML="<!-- -->text<!-- -->";return d.children&&(d.children.length===0)})(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(function(){var xmlDoc,xmlString='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){xmlDoc=(new DOMParser()).parseFromString(xmlString,"application/xml")}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlString)}return !!xmlDoc.getElementsByTagName("a:b").length})(),longHexToChar=function($0,$1){return String.fromCharCode(parseInt($1,16))},shortToLongHex=function($0,$1){while($1.length<6){$1="0"+$1}return"\\"+$1},charToLongHex=function($0,$1){num=$1.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(selector){return(hasEscapes)?selector.replace(longHex,longHexToChar):selector},setupEscapes=function(path){hasEscapes=(path.indexOf("\\")>-1);if(hasEscapes){path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return path};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function child(parent,index){return parent.children[index]}:function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null};next=useElementPointer?function(n){return n.nextElementSibling}:function(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n};prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n};function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}byClassName=useClassList?function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci,classList;for(i=0;ci=nodeSet[i];i++){classList=ci.classList;if(classList){if(classList.contains(cls)){result[++ri]=ci}}else{if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}}return result}:function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci;for(i=0;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}return result};function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs,i,ni,j,ci,cn,utag,n,cj;if(!ns){return result}tagName=tagName.replace("|",":")||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){tagName=unescapeCssSelector(tagName);if(!supportsColonNsSeparator&&DQ.isXml(ns[0])&&tagName.indexOf(":")!==-1){for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName.split(":").pop());for(j=0;ci=cs[j];j++){if(ci.tagName===tagName){result[++ri]=ci}}}}else{for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(j=0;ci=cs[j];j++){result[++ri]=ci}}}}else{if(mode=="/"||mode==">"){utag=tagName.toUpperCase();for(i=0;ni=ns[i];i++){cn=ni.childNodes;for(j=0;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){a.push.apply(a,b);return a}function byTag(cs,tagName){if(cs.tagName||cs===doc){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1,i,ci;tagName=tagName.toLowerCase();for(i=0;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){id=unescapeCssSelector(id);if(cs.tagName||cs===doc){cs=[cs]}if(!id){return cs}var result=[],ri=-1,i,ci;for(i=0;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=DQ.operators[op],a,xml,hasXml,i,ci;value=unescapeCssSelector(value);for(i=0;ci=cs[i];i++){if(ci.nodeType===1){if(!hasXml){xml=DQ.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=DQ.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}}return result}function byPseudo(cs,name,value){value=unescapeCssSelector(value);return DQ.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r,i,len,c;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(i=1,len=cs.length;i<len;i++){c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1,d,j;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[],i,len;for(i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[],i,len;if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(i=0;i<len1;i++){c1[i]._qdiff=d}for(i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){id=unescapeCssSelector(id);var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return DQ={getStyle:function(el,name){return Ext.fly(el,"_DomQuery").getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||doc;if(typeof root=="string"){root=doc.getElementById(root)}var paths=path.split(","),results=[],i,len,subPath,result;for(i=0,len=paths.length;i<len;i++){subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=DQ.compile(subPath,type);if(!cache[subPath]){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:subPath+" is not a valid selector"})}}else{setupEscapes(subPath)}result=cache[subPath](root);if(result&&result!==doc){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:doc.querySelectorAll?function(path,root,type,single){root=root||doc;if(!DQ.isXml(root)){try{if(root.parentNode&&(root.nodeType!==9)&&path.indexOf(",")===-1&&!startIdRe.test(path)){path="#"+Ext.escapeId(Ext.id(root))+" "+path;root=root.parentNode}return single?[root.querySelector(path)]:Ext.Array.toArray(root.querySelectorAll(path))}catch(e){}}return DQ.jsSelect.call(this,path,root,type)}:function(path,root,type){return DQ.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root,null,true)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=DQ.compile(path,"select")}else{setupEscapes(path)}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=DQ.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=doc.getElementById(el)}var isArray=Ext.isArray(el),result=DQ.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=DQ.compile(ss,"simple")}else{setupEscapes(ss)}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)===0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0,i,n,j,cn,pn;for(i=0;n=c[i];i++){pn=n.parentNode;if(batch!=pn._batch){j=0;for(cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l===0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f===0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1,i,ci,cns,j,cn,empty;for(i=0;ci=c[i];i++){cns=ci.childNodes;j=0;empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if((ci.textContent||ci.innerText||ci.text||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.checked===true){r[++ri]=ci}}return r},not:function(c,ss){return DQ.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s,i,ci,j;for(i=0;ci=c[i];i++){for(j=0;s=ss[j];j++){if(DQ.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=DQ.select,r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},focusable:function(candidates){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isFocusable()){results.push(c)}}return results},visible:function(candidates,deep){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isVisible(deep)){results.push(c)}}return results}}}}());Ext.query=Ext.DomQuery.select;Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(c){var e=this,d,a,b=e.dom.id||Ext.id(e.dom);if(!Ext.fx.Manager.hasFxBlock(b)){if(c.listeners){d=c.listeners;delete c.listeners}if(c.internalListeners){c.listeners=c.internalListeners;delete c.internalListeners}a=new Ext.fx.Anim(e.anim(c));if(d){a.on(d)}Ext.fx.Manager.queueFx(a)}return e},anim:function(b){if(!Ext.isObject(b)){return(b)?{}:false}var e=this,c=b.duration||Ext.fx.Anim.prototype.duration,d=b.easing||"ease",a;if(b.stopAnimation){e.stopAnimation()}Ext.applyIf(b,Ext.fx.Manager.getFxDefaults(e.id));Ext.fx.Manager.setFxDefaults(e.id,{delay:0});a={target:e.dom,remove:b.remove,alternate:b.alternate||false,duration:c,easing:d,callback:b.callback,listeners:b.listeners,iterations:b.iterations||1,scope:b.scope,block:b.block,concurrent:b.concurrent,delay:b.delay||0,paused:true,keyframes:b.keyframes,from:b.from||{},to:Ext.apply({},b)};Ext.apply(a.to,b.to);delete a.to.to;delete a.to.from;delete a.to.remove;delete a.to.alternate;delete a.to.keyframes;delete a.to.iterations;delete a.to.listeners;delete a.to.target;delete a.to.paused;delete a.to.callback;delete a.to.scope;delete a.to.duration;delete a.to.easing;delete a.to.concurrent;delete a.to.block;delete a.to.stopAnimation;delete a.to.delay;return a},slideIn:function(a,g,j){var e=this,c=e.dom,d=c.style,b,k,h,l;a=a||"t";g=g||{};b=function(){var n=this,q=g.listeners,p=Ext.fly(c,"_anim"),o,r,m,s;if(!j){p.fixDisplay()}o=p.getBox();if((a=="t"||a=="b")&&o.height===0){o.height=c.scrollHeight}else{if((a=="l"||a=="r")&&o.width===0){o.width=c.scrollWidth}}r=p.getStyles("width","height","left","right","top","bottom","position","z-index",true);p.setSize(o.width,o.height);if(g.preserveScroll){h=p.cacheScrollValues()}s=p.wrap({id:Ext.id()+"-anim-wrap-for-"+p.dom.id,style:{visibility:j?"visible":"hidden"}});l=s.dom.parentNode;s.setPositioning(p.getPositioning(true));if(s.isStyle("position","static")){s.position("relative")}p.clearPositioning("auto");s.clip();if(h){h()}p.setStyle({visibility:"",position:"absolute"});if(j){s.setSize(o.width,o.height)}switch(a){case"t":m={from:{width:o.width+"px",height:"0px"},to:{width:o.width+"px",height:o.height+"px"}};d.bottom="0px";break;case"l":m={from:{width:"0px",height:o.height+"px"},to:{width:o.width+"px",height:o.height+"px"}};e.anchorAnimX(a);break;case"r":m={from:{x:o.x+o.width,width:"0px",height:o.height+"px"},to:{x:o.x,width:o.width+"px",height:o.height+"px"}};e.anchorAnimX(a);break;case"b":m={from:{y:o.y+o.height,width:o.width+"px",height:"0px"},to:{y:o.y,width:o.width+"px",height:o.height+"px"}};break;case"tl":m={from:{x:o.x,y:o.y,width:"0px",height:"0px"},to:{width:o.width+"px",height:o.height+"px"}};d.bottom="0px";e.anchorAnimX("l");break;case"bl":m={from:{y:o.y+o.height,width:"0px",height:"0px"},to:{y:o.y,width:o.width+"px",height:o.height+"px"}};e.anchorAnimX("l");break;case"br":m={from:{x:o.x+o.width,y:o.y+o.height,width:"0px",height:"0px"},to:{x:o.x,y:o.y,width:o.width+"px",height:o.height+"px"}};e.anchorAnimX("r");break;case"tr":m={from:{x:o.x+o.width,width:"0px",height:"0px"},to:{x:o.x,width:o.width+"px",height:o.height+"px"}};d.bottom="0px";e.anchorAnimX("r");break}s.show();k=Ext.apply({},g);delete k.listeners;k=new Ext.fx.Anim(Ext.applyIf(k,{target:s,duration:500,easing:"ease-out",from:j?m.to:m.from,to:j?m.from:m.to}));k.on("afteranimate",function(){var t=Ext.fly(c,"_anim");t.setStyle(r);if(j){if(g.useDisplay){t.setDisplayed(false)}else{t.hide()}}if(s.dom){if(s.dom.parentNode){s.dom.parentNode.insertBefore(t.dom,s.dom)}else{l.appendChild(t.dom)}s.remove()}if(h){h()}n.end()});if(q){k.on(q)}};e.animate({duration:g.duration?Math.max(g.duration,500)*2:1000,listeners:{beforeanimate:b}});return e},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(e){var d=this,c=d.dom,a,b=d.getBox(),g=d.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true);e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:false});a=function(){var h=Ext.fly(c,"_anim");h.clearOpacity();h.show();this.to={width:b.width*2,height:b.height*2,x:b.x-(b.width/2),y:b.y-(b.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var j=Ext.fly(c,"_anim");if(j){if(e.useDisplay){j.setDisplayed(false)}else{j.hide()}j.setStyle(g);Ext.callback(e.callback,e.scope)}})};d.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:a}}});return d},switchOff:function(d){var c=this,b=c.dom,a;d=Ext.applyIf(d||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});a=function(){var g=Ext.fly(b,"_anim"),e=this,k=g.getSize(),l=g.getXY(),h,j;g.clearOpacity();g.clip();j=g.getPositioning();h=new Ext.fx.Animator({target:b,duration:d.duration,easing:d.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:l[1]+k.height/2},100:{width:1,x:l[0]+k.width/2}}});h.on("afteranimate",function(){var m=Ext.fly(b,"_anim");if(d.useDisplay){m.setDisplayed(false)}else{m.hide()}m.clearOpacity();m.setPositioning(j);m.setSize(k);e.end()})};c.animate({duration:(Math.max(d.duration,500)*2),listeners:{beforeanimate:{fn:a}},callback:d.callback,scope:d.scope});return c},frame:function(b,c,g){var e=this,d=e.dom,a;b=b||"#C3DAF9";c=c||1;g=g||{};a=function(){var k=Ext.fly(d,"_anim"),h=this,j,l,m;k.show();j=k.getBox();l=Ext.getBody().createChild({id:k.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+b}});m=new Ext.fx.Anim({target:l,duration:g.duration||1000,iterations:c,from:{top:j.y,left:j.x,borderWidth:0,opacity:1,height:j.height,width:j.width},to:{top:j.y-20,left:j.x-20,borderWidth:10,opacity:0,height:j.height+40,width:j.width+40}});m.on("afteranimate",function(){l.remove();h.end()})};e.animate({duration:(Math.max(g.duration,500)*2)||2000,listeners:{beforeanimate:{fn:a}},callback:g.callback,scope:g.scope});return e},ghost:function(a,e){var d=this,c=d.dom,b;a=a||"b";b=function(){var g=Ext.fly(c,"_anim"),l=g.getWidth(),h=g.getHeight(),m=g.getXY(),j=g.getPositioning(),k={opacity:0};switch(a){case"t":k.y=m[1]-h;break;case"l":k.x=m[0]-l;break;case"r":k.x=m[0]+l;break;case"b":k.y=m[1]+h;break;case"tl":k.x=m[0]-l;k.y=m[1]-h;break;case"bl":k.x=m[0]-l;k.y=m[1]+h;break;case"br":k.x=m[0]+l;k.y=m[1]+h;break;case"tr":k.x=m[0]+l;k.y=m[1]-h;break}this.to=k;this.on("afteranimate",function(){var n=Ext.fly(c,"_anim");if(n){n.hide();n.clearOpacity();n.setPositioning(j)}})};d.animate(Ext.applyIf(e||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:b}}));return d},highlight:function(b,k){var j=this,c=j.dom,g={},l,m,a,h,d,e;if(c.tagName.match(j.tableTagRe)){return j.select("div").highlight(b,k)}k=k||{};h=k.listeners||{};a=k.attr||"backgroundColor";g[a]=b||"ffff9c";if(!k.to){m={};m[a]=k.endColor||j.getColor(a,"ffffff","")}else{m=k.to}k.listeners=Ext.apply(Ext.apply({},h),{beforeanimate:function(){l=c.style[a];var n=Ext.fly(c,"_anim");n.clearOpacity();n.show();d=h.beforeanimate;if(d){e=d.fn||d;return e.apply(d.scope||h.scope||window,arguments)}},afteranimate:function(){if(c){c.style[a]=l}d=h.afteranimate;if(d){e=d.fn||d;e.apply(d.scope||h.scope||window,arguments)}}});j.animate(Ext.apply({},k,{duration:1000,easing:"ease-in",from:g,to:m}));return j},pause:function(b){var a=this;Ext.fx.Manager.setFxDefaults(a.id,{delay:b});return a},fadeIn:function(c){var b=this,a=b.dom;b.animate(Ext.apply({},c,{opacity:1,internalListeners:{beforeanimate:function(d){var e=Ext.fly(a,"_anim");if(e.isStyle("display","none")){e.setDisplayed("")}else{e.show()}}}}));return this},fadeOut:function(c){var b=this,a=b.dom;c=Ext.apply({opacity:0,internalListeners:{afteranimate:function(d){if(a&&d.to.opacity===0){var e=Ext.fly(a,"_anim");if(c.useDisplay){e.setDisplayed(false)}else{e.hide()}}}}},c);b.animate(c);return b},scale:function(c,a,b){this.animate(Ext.apply({},b,{width:c,height:a}));return this},shift:function(a){this.animate(a);return this},anchorAnimX:function(a){var b=(a==="l")?"right":"left";this.dom.style[b]="0px"}});Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(c,a,d){var b=new Ext.dd.DD(Ext.id(this.dom),c,a);return Ext.apply(b,d)},initDDProxy:function(c,a,d){var b=new Ext.dd.DDProxy(Ext.id(this.dom),c,a);return Ext.apply(b,d)},initDDTarget:function(c,a,d){var b=new Ext.dd.DDTarget(Ext.id(this.dom),c,a);return Ext.apply(b,d)}});Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var c=Ext.dom.Element,o="visibility",b="display",j="none",g="hidden",p="visible",m="offsets",a="asclass",k="nosize",n="originalDisplay",q="visibilityMode",h="isVisible",l=Ext.baseCSSPrefix+"hide-offsets",d=function(t){var r=(t.$cache||t.getCache()).data,s=r[n];if(s===undefined){r[n]=s=""}return s},e=function(s){var r=(s.$cache||s.getCache()).data,t=r[q];if(t===undefined){r[q]=t=c.VISIBILITY}return t};c.override({originalDisplay:"",visibilityMode:1,setVisible:function(u,r){var t=this,s=t.dom,v=e(t);if(typeof r=="string"){switch(r){case b:v=c.DISPLAY;break;case o:v=c.VISIBILITY;break;case m:v=c.OFFSETS;break;case k:case a:v=c.ASCLASS;break}t.setVisibilityMode(v);r=false}if(!r||!t.anim){if(v==c.DISPLAY){return t.setDisplayed(u)}else{if(v==c.OFFSETS){t[u?"removeCls":"addCls"](l)}else{if(v==c.VISIBILITY){t.fixDisplay();s.style.visibility=u?"":g}else{if(v==c.ASCLASS){t[u?"removeCls":"addCls"](t.visibilityCls||c.visibilityCls)}}}}}else{if(u){t.setOpacity(0.01);t.setVisible(true)}if(!Ext.isObject(r)){r={duration:350,easing:"ease-in"}}t.animate(Ext.applyIf({callback:function(){if(!u){Ext.fly(s,"_internal").setVisible(false).setOpacity(1)}},to:{opacity:(u)?1:0}},r))}(t.$cache||t.getCache()).data[h]=u;return t},hasMetrics:function(){var r=e(this);return this.isVisible()||(r==c.OFFSETS)||(r==c.VISIBILITY)},toggle:function(r){var s=this;s.setVisible(!s.isVisible(),s.anim(r));return s},setDisplayed:function(r){if(typeof r=="boolean"){r=r?d(this):j}this.setStyle(b,r);return this},fixDisplay:function(){var r=this;if(r.isStyle(b,j)){r.setStyle(o,g);r.setStyle(b,d(r));if(r.isStyle(b,j)){r.setStyle(b,"block")}}},hide:function(r){if(typeof r=="string"){this.setVisible(false,r);return this}this.setVisible(false,this.anim(r));return this},show:function(r){if(typeof r=="string"){this.setVisible(true,r);return this}this.setVisible(true,this.anim(r));return this}})});Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var k,h=this,l="left",r="right",z="top",e="bottom",p="position",w="static",q="relative",A="z-index",a="BODY",m="padding",b="border",u="-left",v="-right",x="-top",t="-bottom",y="-width",c={l:b+u+y,r:b+v+y,t:b+x+y,b:b+t+y},n={l:m+u,r:m+v,t:m+x,b:m+t},o=[n.l,n.r,n.t,n.b],d=[c.l,c.r,c.t,c.b],s=Math.round,g=document,j=function(B){if(!k){k=new Ext.Element.Fly()}k.attach(B);return k};h.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(B){return h.getXY(B)[0]},getXY:function(E){var B=g.body,D=g.documentElement,G=0,J=0,H=[0,0],C,I;E=Ext.getDom(E);if(E!=g&&E!=B){if(Ext.isIE){try{C=E.getBoundingClientRect();J=D.clientTop||B.clientTop;G=D.clientLeft||B.clientLeft}catch(F){C={left:0,top:0}}}else{C=E.getBoundingClientRect()}I=j(g).getScroll();H=[s(C.left+I.left-G),s(C.top+I.top-J)]}return H},getY:function(B){return h.getXY(B)[1]},setX:function(B,C){h.setXY(B,[C,false])},setXY:function(B,F){(B=Ext.fly(B,"_setXY")).position();var D=B.translatePoints(F),E=B.dom.style,C;E.right="auto";for(C in D){if(!isNaN(D[C])){E[C]=D[C]+"px"}}},setY:function(B,C){h.setXY(B,[false,C])}},center:function(B){return this.alignTo(B||g,"c-c")},clearPositioning:function(B){B=B||"";return this.setStyle({left:B,right:B,top:B,bottom:B,"z-index":"",position:w})},getAnchorToXY:function(C,B,D,E){return C.getAnchorXY(B,D,E)},getBottom:function(B){return(B?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var C=this.getStyle(o),B=this.getStyle(d);return{beforeX:(parseFloat(B[c.l])||0)+(parseFloat(C[n.l])||0),afterX:(parseFloat(B[c.r])||0)+(parseFloat(C[n.r])||0),beforeY:(parseFloat(B[c.t])||0)+(parseFloat(C[n.t])||0),afterY:(parseFloat(B[c.b])||0)+(parseFloat(C[n.b])||0)}},getCenterXY:function(){return this.getAlignToXY(g,"c-c")},getLeft:function(B){return B?this.getLocalX():this.getX()},getLocalX:function(){var B=this,C=B.dom.offsetParent,D=B.getStyle("left");if(!D||D==="auto"){D=0}else{if(B.pxRe.test(D)){D=parseFloat(D)}else{D=B.getX();if(C){D-=h.getX(C)}}}return D},getLocalXY:function(){var B=this,C=B.dom.offsetParent,D=B.getStyle(["left","top"]),E=D.left,F=D.top;if(!E||E==="auto"){E=0}else{if(B.pxRe.test(E)){E=parseFloat(E)}else{E=B.getX();if(C){E-=h.getX(C)}}}if(!F||F==="auto"){F=0}else{if(B.pxRe.test(F)){F=parseFloat(F)}else{F=B.getY();if(C){F-=h.getY(C)}}}return[E,F]},getLocalY:function(){var B=this,C=B.dom.offsetParent,D=B.getStyle("top");if(!D||D==="auto"){D=0}else{if(B.pxRe.test(D)){D=parseFloat(D)}else{D=B.getY();if(C){D-=h.getY(C)}}}return D},getPageBox:function(D){var H=this,C=H.dom,F=C.nodeName==a,K=F?Ext.Element.getViewWidth():C.offsetWidth,E=F?Ext.Element.getViewHeight():C.offsetHeight,L=H.getXY(),J=L[1],I=L[0]+K,B=L[1]+E,G=L[0];if(D){return new Ext.util.Region(J,I,B,G)}else{return{left:G,top:J,width:K,height:E,right:I,bottom:B}}},getPositioning:function(B){var D=this.getStyle(["left","top","position","z-index"]),C=this.dom;if(B){if(D.left==="auto"){D.left=C.offsetLeft+"px"}if(D.top==="auto"){D.top=C.offsetTop+"px"}}return D},getRight:function(B){return(B?this.getLocalX():this.getX())+this.getWidth()},getTop:function(B){return B?this.getLocalY():this.getY()},getX:function(){return h.getX(this.dom)},getXY:function(){return h.getXY(this.dom)},getY:function(){return h.getY(this.dom)},moveTo:function(C,D,B){return this.setXY([C,D],B)},position:function(C,F,D,E){var B=this;if(!C&&B.isStyle(p,w)){B.setStyle(p,q)}else{if(C){B.setStyle(p,C)}}if(F){B.setStyle(A,F)}if(D||E){B.setXY([D||false,E||false])}},setBottom:function(B){this.dom.style[e]=this.addUnits(B);return this},setBounds:function(E,F,D,C,B){return this.setBox({x:E,y:F,width:D,height:C},B)},setLeft:function(B){this.dom.style[l]=this.addUnits(B);return this},setLeftTop:function(B,E){var C=this,D=C.dom.style;D.left=C.addUnits(B);D.top=C.addUnits(E);return C},setLocalX:function(C){var B=this.dom.style;B.right="auto";B.left=(C===null)?"auto":C+"px"},setLocalXY:function(C,D){var B=this.dom.style;B.right="auto";if(C&&C.length){D=C[1];C=C[0]}if(C===null){B.left="auto"}else{if(C!==undefined){B.left=C+"px"}}if(D===null){B.top="auto"}else{if(D!==undefined){B.top=D+"px"}}},setLocalY:function(B){this.dom.style.top=(B===null)?"auto":B+"px"},setLocation:function(C,D,B){return this.setXY([C,D],B)},setPositioning:function(B){return this.setStyle(B)},setRight:function(B){this.dom.style[r]=this.addUnits(B);return this},setTop:function(B){this.dom.style[z]=this.addUnits(B);return this},setX:function(C,B){return this.setXY([C,this.getY()],B)},setXY:function(D,B){var C=this;if(!B||!C.anim){h.setXY(C.dom,D)}else{if(!Ext.isObject(B)){B={}}C.animate(Ext.applyIf({to:{x:D[0],y:D[1]}},B))}return this},setY:function(C,B){return this.setXY([this.getX(),C],B)}});h.getTrueXY=h.getXY});Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var g=this,d=g.dom,b=document,a=b.body,c=b.documentElement,e,h;if(d===b||d===a){e=c.scrollLeft||(a?a.scrollLeft:0);h=c.scrollTop||(a?a.scrollTop:0)}else{e=d.scrollLeft;h=d.scrollTop}return{left:e,top:h}},getScrollLeft:function(){var b=this.dom,a=document;if(b===a||b===a.body){return this.getScroll().left}else{return b.scrollLeft}},getScrollTop:function(){var b=this.dom,a=document;if(b===a||b===a.body){return this.getScroll().top}else{return b.scrollTop}},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},scrollBy:function(b,c,a){var e=this,d=e.dom;if(b.length){a=c;c=b[1];b=b[0]}else{if(typeof b!="number"){a=c;c=b.y;b=b.x}}if(b){e.scrollTo("left",e.constrainScrollLeft(d.scrollLeft+b),a)}if(c){e.scrollTo("top",e.constrainScrollTop(d.scrollTop+c),a)}return e},scrollTo:function(g,j,a){var h=/top/i.test(g),d=this,e=h?"scrollTop":"scrollLeft",c=d.dom,b;if(!a||!d.anim){c[e]=j;c[e]=j}else{b={to:{}};b.to[e]=j;if(Ext.isObject(a)){Ext.applyIf(b,a)}d.animate(b)}return d},scrollIntoView:function(c,m,a,l){var o=this,k=o.dom,q=o.getOffsetsTo(c=Ext.getDom(c)||Ext.getBody().dom),n=q[0]+c.scrollLeft,s=q[1]+c.scrollTop,b=s+k.offsetHeight,r=n+k.offsetWidth,e=c.clientHeight,j=parseInt(c.scrollTop,10),h=parseInt(c.scrollLeft,10),d=j+e,g=h+c.clientWidth,p;if(l){if(a){a=Ext.apply({listeners:{afteranimate:function(){o.scrollChildFly.attach(k).highlight()}}},a)}else{o.scrollChildFly.attach(k).highlight()}}if(k.offsetHeight>e||s<j){p=s}else{if(b>d){p=b-e}}if(p!=null){o.scrollChildFly.attach(c).scrollTo("top",p,a)}if(m!==false){p=null;if(k.offsetWidth>c.clientWidth||n<h){p=n}else{if(r>g){p=r-c.clientWidth}}if(p!=null){o.scrollChildFly.attach(c).scrollTo("left",p,a)}}return o},scrollChildIntoView:function(a,b){this.scrollChildFly.attach(Ext.getDom(a)).scrollIntoView(this,b)},scroll:function(d,e,a){if(!this.isScrollable()){return false}var h=this,g=h.dom,k=d==="r"||d==="l"?"left":"top",j=false,c,b;if(d==="r"){e=-e}if(k==="left"){c=g.scrollLeft;b=h.constrainScrollLeft(c+e)}else{c=g.scrollTop;b=h.constrainScrollTop(c+e)}if(b!==c){this.scrollTo(k,b,a);j=true}return j},constrainScrollLeft:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollWidth-a.clientWidth),0)},constrainScrollTop:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollHeight-a.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly();this.prototype.scrolltoFly=new this.Fly()});Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var g=this,w=document.defaultView,a=/table-row|table-.*-group/,m="_internal",l="hidden",j="height",x="width",n="isClipped",q="overflow",r="overflow-x",s="overflow-y",p="originalClip",c=/#document|body/i,t,v,u,e,o,d,b;if(!w||!w.getComputedStyle){g.prototype.getStyle=function(L,E){var H=this,y=H.dom,I=typeof L!="string",C=H.styleHooks,K=L,M=K,G=1,F=E,k,z,O,B,J,N,D;if(I){O={};K=M[0];D=0;if(!(G=M.length)){return O}}if(!y||y.documentElement){return O||""}z=y.style;if(E){N=z}else{N=y.currentStyle;if(!N){F=true;N=z}}do{B=C[K];if(!B){C[K]=B={name:g.normalize(K)}}if(B.get){J=B.get(y,H,F,N)}else{k=B.name;if(B.canThrow){try{J=N[k]}catch(A){J=""}}else{J=N?N[k]:""}}if(!I){return J}O[K]=J;K=M[++D]}while(D<G);return O}}g.override({getHeight:function(k,C){var B=this,A=B.isStyle("display","none"),z,y;if(A){return 0}z=B.dom.offsetHeight;if(Ext.supports.Direct2DBug){y=B.adjustDirect2DDimension(j);if(C){z+=y}else{if(y>0&&y<0.5){z++}}}if(k){z-=B.getBorderWidth("tb")+B.getPadding("tb")}return(z<0)?0:z},getWidth:function(k,C){var B=this,y=B.dom,A=B.isStyle("display","none"),D,E,z;if(A){return 0}if(C&&Ext.supports.BoundingClientRect){D=y.getBoundingClientRect();E=(B.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect)?(D.bottom-D.top):(D.right-D.left)}else{E=y.offsetWidth}if(Ext.supports.Direct2DBug&&!B.vertical){z=B.adjustDirect2DDimension(x);if(C){E+=z}else{if(z>0&&z<0.5){E++}}}if(k){E-=B.getBorderWidth("lr")+B.getPadding("lr")}return(E<0)?0:E},setWidth:function(z,k){var y=this;z=y.adjustWidth(z);if(!k||!y.anim){y.dom.style.width=y.addUnits(z)}else{if(!Ext.isObject(k)){k={}}y.animate(Ext.applyIf({to:{width:z}},k))}return y},setHeight:function(y,k){var z=this;y=z.adjustHeight(y);if(!k||!z.anim){z.dom.style.height=z.addUnits(y)}else{if(!Ext.isObject(k)){k={}}z.animate(Ext.applyIf({to:{height:y}},k))}return z},applyStyles:function(k){Ext.DomHelper.applyStyles(this.dom,k);return this},setSize:function(A,y,k){var z=this;if(Ext.isObject(A)){k=y;y=A.height;A=A.width}A=z.adjustWidth(A);y=z.adjustHeight(y);if(!k||!z.anim){z.dom.style.width=z.addUnits(A);z.dom.style.height=z.addUnits(y)}else{if(k===true){k={}}z.animate(Ext.applyIf({to:{width:A,height:y}},k))}return z},getViewSize:function(){var z=this,k=z.dom,y=c.test(k.nodeName),A;if(y){A={width:g.getViewWidth(),height:g.getViewHeight()}}else{A={width:k.clientWidth,height:k.clientHeight}}return A},getSize:function(k){return{width:this.getWidth(k),height:this.getHeight(k)}},adjustWidth:function(z){var y=this,k=(typeof z=="number");if(k&&y.autoBoxAdjust&&!y.isBorderBox()){z-=(y.getBorderWidth("lr")+y.getPadding("lr"))}return(k&&z<0)?0:z},adjustHeight:function(k){var z=this,y=(typeof k=="number");if(y&&z.autoBoxAdjust&&!z.isBorderBox()){k-=(z.getBorderWidth("tb")+z.getPadding("tb"))}return(y&&k<0)?0:k},getColor:function(k,z,D){var E=this.getStyle(k),y=D||D===""?D:"#",A,C,B=0;if(!E||(/transparent|inherit/.test(E))){return z}if(/^r/.test(E)){E=E.slice(4,E.length-1).split(",");C=E.length;for(;B<C;B++){A=parseInt(E[B],10);y+=(A<16?"0":"")+A.toString(16)}}else{E=E.replace("#","");y+=E.length==3?E.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):E}return(y.length>5?y.toLowerCase():z)},setOpacity:function(z,k){var y=this;if(!y.dom){return y}if(!k||!y.anim){y.setStyle("opacity",z)}else{if(typeof k!="object"){k={duration:350,easing:"ease-in"}}y.animate(Ext.applyIf({to:{opacity:z}},k))}return y},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(y){var E=this,A=E.dom,z=E.getStyle("display"),C=A.style.display,D=A.style.position,F=y===x?0:1,k=A.currentStyle,B;if(z==="inline"){A.style.display="inline-block"}A.style.position=z.match(a)?"absolute":"static";B=(parseFloat(k[y])||parseFloat(k.msTransformOrigin.split(" ")[F])*2)%1;A.style.position=D;if(z==="inline"){A.style.display=C}return B},clip:function(){var y=this,k=(y.$cache||y.getCache()).data,z;if(!k[n]){k[n]=true;z=y.getStyle([q,r,s]);k[p]={o:z[q],x:z[r],y:z[s]};y.setStyle(q,l);y.setStyle(r,l);y.setStyle(s,l)}return y},unclip:function(){var z=this,y=(z.$cache||z.getCache()).data,k;if(y[n]){y[n]=false;k=y[p];if(k.o){z.setStyle(q,k.o)}if(k.x){z.setStyle(r,k.x)}if(k.y){z.setStyle(s,k.y)}}return z},boxWrap:function(k){k=k||Ext.baseCSSPrefix+"box";var y=Ext.get(this.insertHtml("beforeBegin","<div class='"+k+"'>"+Ext.String.format(g.boxMarkup,k)+"</div>"));Ext.DomQuery.selectNode("."+k+"-mc",y.dom).appendChild(this.dom);return y},getComputedHeight:function(){var y=this,k=Math.max(y.dom.offsetHeight,y.dom.clientHeight);if(!k){k=parseFloat(y.getStyle(j))||0;if(!y.isBorderBox()){k+=y.getFrameWidth("tb")}}return k},getComputedWidth:function(){var k=this,y=Math.max(k.dom.offsetWidth,k.dom.clientWidth);if(!y){y=parseFloat(k.getStyle(x))||0;if(!k.isBorderBox()){y+=k.getFrameWidth("lr")}}return y},getFrameWidth:function(y,k){return(k&&this.isBorderBox())?0:(this.getPadding(y)+this.getBorderWidth(y))},addClsOnOver:function(k,C,B){var A=this,y=A.dom,z=Ext.isFunction(C);A.hover(function(){if(z&&C.call(B||A,A)===false){return}Ext.fly(y,m).addCls(k)},function(){Ext.fly(y,m).removeCls(k)});return A},addClsOnFocus:function(k,C,B){var A=this,y=A.dom,z=Ext.isFunction(C);A.on("focus",function(){if(z&&C.call(B||A,A)===false){return false}Ext.fly(y,m).addCls(k)});A.on("blur",function(){Ext.fly(y,m).removeCls(k)});return A},addClsOnClick:function(k,C,B){var A=this,y=A.dom,z=Ext.isFunction(C);A.on("mousedown",function(){if(z&&C.call(B||A,A)===false){return false}Ext.fly(y,m).addCls(k);var D=Ext.getDoc(),E=function(){Ext.fly(y,m).removeCls(k);D.removeListener("mouseup",E)};D.on("mouseup",E)});return A},getStyleSize:function(){var A=this,k=this.dom,z=c.test(k.nodeName),B,C,y;if(z){return{width:g.getViewWidth(),height:g.getViewHeight()}}B=A.getStyle([j,x],true);if(B.width&&B.width!="auto"){C=parseFloat(B.width);if(A.isBorderBox()){C-=A.getFrameWidth("lr")}}if(B.height&&B.height!="auto"){y=parseFloat(B.height);if(A.isBorderBox()){y-=A.getFrameWidth("tb")}}return{width:C||A.getWidth(true),height:y||A.getHeight(true)}},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var k=this;k.dom.unselectable="";k.removeCls(g.unselectableCls);k.addCls(g.selectableCls);return k},unselectable:function(){var k=this;if(Ext.isOpera){k.dom.unselectable="on"}k.removeCls(g.selectableCls);k.addCls(g.unselectableCls);return k},setVertical:function(k,y){var A=this,B=g.prototype,z;A.vertical=true;if(y){A.addCls(A.verticalCls=y)}A.setWidth=B.setHeight;A.setHeight=B.setWidth;if(!Ext.isIE9m){A.getWidth=B.getHeight;A.getHeight=B.getWidth}A.styleHooks=(k===270)?g.prototype.verticalStyleHooks270:g.prototype.verticalStyleHooks90},setHorizontal:function(){var y=this,k=y.verticalCls;delete y.vertical;if(k){delete y.verticalCls;y.removeCls(k)}delete y.setWidth;delete y.setHeight;if(!Ext.isIE9m){delete y.getWidth;delete y.getHeight}delete y.styleHooks}});g.prototype.styleHooks=t=Ext.dom.AbstractElement.prototype.styleHooks;g.prototype.verticalStyleHooks90=v=Ext.Object.chain(g.prototype.styleHooks);g.prototype.verticalStyleHooks270=u=Ext.Object.chain(g.prototype.styleHooks);v.width={name:"height"};v.height={name:"width"};v["margin-top"]={name:"marginLeft"};v["margin-right"]={name:"marginTop"};v["margin-bottom"]={name:"marginRight"};v["margin-left"]={name:"marginBottom"};v["padding-top"]={name:"paddingLeft"};v["padding-right"]={name:"paddingTop"};v["padding-bottom"]={name:"paddingRight"};v["padding-left"]={name:"paddingBottom"};v["border-top"]={name:"borderLeft"};v["border-right"]={name:"borderTop"};v["border-bottom"]={name:"borderRight"};v["border-left"]={name:"borderBottom"};u.width={name:"height"};u.height={name:"width"};u["margin-top"]={name:"marginRight"};u["margin-right"]={name:"marginBottom"};u["margin-bottom"]={name:"marginLeft"};u["margin-left"]={name:"marginTop"};u["padding-top"]={name:"paddingRight"};u["padding-right"]={name:"paddingBottom"};u["padding-bottom"]={name:"paddingLeft"};u["padding-left"]={name:"paddingTop"};u["border-top"]={name:"borderRight"};u["border-right"]={name:"borderBottom"};u["border-bottom"]={name:"borderLeft"};u["border-left"]={name:"borderTop"};if(Ext.isIE7m){t.fontSize=t["font-size"]={name:"fontSize",canThrow:true};t.fontStyle=t["font-style"]={name:"fontStyle",canThrow:true};t.fontFamily=t["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function h(k,y,z,A){if(A[this.styleName]=="none"){return"0px"}return A[this.name]}e=["Top","Right","Bottom","Left"];o=e.length;while(o--){d=e[o];b="border"+d+"Width";t["border-"+d.toLowerCase()+"-width"]=t[b]={name:b,styleName:"border"+d+"Style",get:h}}}Ext.getDoc().on("selectstart",function(A,y){var k=document.documentElement,B=g.selectableCls,D=g.unselectableCls,C=y&&y.tagName;C=C&&C.toLowerCase();if(C==="input"||C==="textarea"){return}while(y&&y.nodeType===1&&y!==k){var z=Ext.fly(y);if(z.hasCls(B)){return}if(z.hasCls(D)){A.stopEvent();return}y=y.parentNode}})});Ext.onReady(function(){var b=/alpha\(opacity=(.*)\)/i,c=/^\s+|\s+$/g,a=Ext.dom.Element.prototype.styleHooks;a.opacity={name:"opacity",afterSet:function(d,g,e){if(e.isLayer){e.onOpacitySet(g)}}};if(!Ext.supports.Opacity&&Ext.isIE){Ext.apply(a.opacity,{get:function(d){var e=d.style.filter,g,h;if(e.match){g=e.match(b);if(g){h=parseFloat(g[1]);if(!isNaN(h)){return h?h/100:0}}}return 1},set:function(d,h){var e=d.style,g=e.filter.replace(b,"").replace(c,"");e.zoom=1;if(typeof(h)=="number"&&h>=0&&h<1){h*=100;e.filter=g+(g.length?" ":"")+"alpha(opacity="+h+")"}else{e.filter=g}}})}});Ext.define("Ext.util.Positionable",{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(c,a){var b=this.getConstrainVector(a,c);if(b){c[0]+=b[0];c[1]+=b[1]}return c},alignTo:function(c,g,e,a){var d=this,b=d.el;return d.setXY(d.getAlignToXY(c,g,e),b.anim&&!!a?b.anim(a):false)},anchorTo:function(d,b,k,e,j,g){var h=this,l=!Ext.isEmpty(j),a=function(){h.alignTo(d,b,k,e);Ext.callback(g,h)},c=h.getAnchor();h.removeAnchor();Ext.apply(c,{fn:a,scroll:l});Ext.EventManager.onWindowResize(a,null);if(l){Ext.EventManager.on(window,"scroll",a,null,{buffer:!isNaN(j)?j:50})}a();return h},calculateAnchorXY:function(a,d,e,k){var h=this,c=h.el,b=document,g=c.dom==b.body||c.dom==b,m=Math.round,n,l,j;a=(a||"tl").toLowerCase();k=k||{};l=k.width||g?Ext.Element.getViewWidth():h.getWidth();j=k.height||g?Ext.Element.getViewHeight():h.getHeight();switch(a){case"tl":n=[0,0];break;case"bl":n=[0,j];break;case"tr":n=[l,0];break;case"c":n=[m(l*0.5),m(j*0.5)];break;case"t":n=[m(l*0.5),0];break;case"l":n=[0,m(j*0.5)];break;case"r":n=[l,m(j*0.5)];break;case"b":n=[m(l*0.5),j];break;case"tc":n=[m(l*0.5),0];break;case"bc":n=[m(l*0.5),j];break;case"br":n=[l,j]}return[n[0]+d,n[1]+e]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(d,v,q){var m=this,D=Ext.Element.getViewWidth()-10,C=Ext.Element.getViewHeight()-10,j=document,l=j.documentElement,k=j.body,w=(l.scrollLeft||k.scrollLeft||0),z=(l.scrollTop||k.scrollTop||0),c,o,e,p,n,g,B,A,h,a,b,s,r,u,t,E,F;d=Ext.get(d.el||d);if(!d||!d.dom){}q=q||[0,0];v=(!v||v=="?"?"tl-bl?":(!(/-/).test(v)&&v!==""?"tl-"+v:v||"tl-bl")).toLowerCase();v=m.convertPositionSpec(v);c=v.match(m._alignRe);a=c[1];b=c[2];h=!!c[3];o=m.getAnchorXY(a,true);e=m.getAnchorToXY(d,b,false);E=e[0]-o[0]+q[0];F=e[1]-o[1]+q[1];if(h){p=m.getWidth();n=m.getHeight();g=d.getRegion();s=a.charAt(0);r=a.charAt(a.length-1);u=b.charAt(0);t=b.charAt(b.length-1);B=((s=="t"&&u=="b")||(s=="b"&&u=="t"));A=((r=="r"&&t=="l")||(r=="l"&&t=="r"));if(E+p>D+w){E=A?g.left-p:D+w-p}if(E<w){E=A?g.right:w}if(F+n>C+z){F=B?g.top-n:C+z-n}if(F<z){F=B?g.bottom:z}}return[E,F]},getAnchor:function(){var c=this.el,b=(c.$cache||c.getCache()).data,a;if(!c.dom){return}a=b._anchor;if(!a){a=b._anchor={}}return a},getAnchorXY:function(a,h,l){var j=this,k=j.getXY(),c=j.el,b=document,g=c.dom==b.body||c.dom==b,m=c.getScroll(),d=g?m.left:h?0:k[0],e=g?m.top:h?0:k[1];return j.calculateAnchorXY(a,d,e,l)},getBox:function(d,g){var j=this,m=g?j.getLocalXY():j.getXY(),l=m[0],n=m[1],k=j.getWidth(),e=j.getHeight(),c,a,b;if(d){c=j.getBorderPadding();a=c.beforeX;b=c.beforeY;l+=a;n+=b;k-=(a+c.afterX);e-=(b+c.afterY)}return{x:l,left:l,0:l,y:n,top:n,1:n,width:k,height:e,right:l+k,bottom:n+e}},calculateConstrainedPosition:function(b,k,d,l){var e=this,m,c=e.floatParent,g=c?c.getTargetEl():null,h,a,j,n=false;if(d&&c){h=g.getXY();a=g.getBorderPadding();h[0]+=a.beforeX;h[1]+=a.beforeY;if(k){j=[k[0]+h[0],k[1]+h[1]]}}else{j=k}b=b||e.constrainTo||g||e.container||e.el.parent();m=(e.constrainHeader?e.header:e).getConstrainVector(b,j,l);if(m){n=k||e.getPosition(d);n[0]+=m[0];n[1]+=m[1]}return n},getConstrainVector:function(b,d,e){var h=this.getRegion(),j=[0,0],g=(this.shadow&&this.constrainShadow&&!this.shadowDisabled)?this.shadow.getShadowSize():undefined,c=false,a=this.constraintInsets;if(!(b instanceof Ext.util.Region)){b=Ext.get(b.el||b).getViewRegion()}if(a){a=Ext.isObject(a)?a:Ext.Element.parseBox(a);b.adjust(a.top,a.right,a.bottom,a.length)}if(d){h.translateBy(d[0]-h.x,d[1]-h.y)}if(e){h.right=h.left+e[0];h.bottom=h.top+e[1]}if(g){b.adjust(g[0],-g[1],-g[2],g[3])}if(h.right>b.right){c=true;j[0]=(b.right-h.right)}if(h.left+j[0]<b.left){c=true;j[0]=(b.left-h.left)}if(h.bottom>b.bottom){c=true;j[1]=(b.bottom-h.bottom)}if(h.top+j[1]<b.top){c=true;j[1]=(b.top-h.top)}return c?j:false},getOffsetsTo:function(c){var b=this.getXY(),a=Ext.fly(c.el||c,"_internal").getXY();return[b[0]-a[0],b[1]-a[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var g=this,b=g.el,d=b.dom.nodeName==="BODY",a,j,h,k,e,l,c;if(d){j=b.getScroll();e=j.left;k=j.top;l=Ext.dom.AbstractElement.getViewportWidth();c=Ext.dom.AbstractElement.getViewportHeight()}else{a=g.getBorderPadding();h=g.getXY();e=h[0]+a.beforeX;k=h[1]+a.beforeY;l=g.getWidth(true);c=g.getHeight(true)}return new Ext.util.Region(k,e+l,k+c,e)},move:function(c,d,a){var h=this,m=h.getXY(),l=m[0],n=m[1],g=[l-d,n],j=[l+d,n],k=[l,n-d],b=[l,n+d],e={l:g,left:g,r:j,right:j,t:k,top:k,up:k,b:b,bottom:b,down:b};c=c.toLowerCase();h.setXY([e[c][0],e[c][1]],a)},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return this},setBox:function(b,a){var j=this,e=j.el,l=b.x,n=b.y,m=[l,n],k=b.width,g=b.height,d=(j.constrain||j.constrainHeader),c=d&&j.calculateConstrainedPosition(null,[l,n],false,[k,g]);if(c){l=c[0];n=c[1]}if(!a||!e.anim){j.setSize(k,g);j.setXY([l,n]);j.afterSetPosition(l,n)}else{j.animate(Ext.applyIf({to:{x:l,y:n,width:e.adjustWidth(k),height:e.adjustHeight(g)},listeners:{afteranimate:Ext.Function.bind(j.afterSetPosition,j,[l,n])}},a))}return j},setRegion:function(b,a){return this.setBox({x:b.left,y:b.top,width:b.right-b.left,height:b.bottom-b.top},a)},translatePoints:function(b,c){var a=this.translateXY(b,c);return{left:a.x,top:a.y}},translateXY:function(h,k){var c=this,a=c.el,e=a.getStyle(c._positionTopLeft),d=e.position=="relative",b=parseFloat(e.left),g=parseFloat(e.top),j=c.getXY();if(Ext.isArray(h)){k=h[1];h=h[0]}if(isNaN(b)){b=d?0:a.dom.offsetLeft}if(isNaN(g)){g=d?0:a.dom.offsetTop}b=(typeof h=="number")?h-j[0]+b:undefined;g=(typeof k=="number")?k-j[1]+g:undefined;return{x:b,y:g}}});Ext.define("Ext.dom.Element",function(d){var g="hidden",c=document,m="visibility",b="display",k="none",n=Ext.baseCSSPrefix+"masked",o=Ext.baseCSSPrefix+"masked-relative",e=Ext.baseCSSPrefix+"mask-msg",a=/^body/i,l,j=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},h=function(p){var t=[],u=-1,s,q;for(s=0;q=p[s];s++){if(q.scrollTop>0||q.scrollLeft>0){t[++u]=q}}return t};return{extend:Ext.dom.AbstractElement,alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:[Ext.util.Positionable],addUnits:function(){return d.addUnits.apply(d,arguments)},focus:function(p,q){var s=this;q=q||s.dom;try{if(Number(p)){Ext.defer(s.focus,p,s,[null,q])}else{q.focus()}}catch(r){}return s},blur:function(){var r=this,p=r.dom;if(p!==document.body){try{p.blur()}catch(q){}return r}else{return r.focus(undefined,p)}},isBorderBox:function(){var p=Ext.isBorderBox;if(p&&Ext.isIE7m){p=!((this.dom.tagName||"").toLowerCase() in j)}return p},hover:function(s,r,t,q){var p=this;p.on("mouseenter",s,t||p.dom,q);p.on("mouseleave",r,t||p.dom,q);return p},getAttributeNS:function(q,p){return this.getAttribute(p,q)},getAttribute:(Ext.isIE&&!(Ext.isIE9p&&c.documentMode>=9))?function(q,r){var p=this.dom,s;if(r){s=typeof p[r+":"+q];if(s!="undefined"&&s!="unknown"){return p[r+":"+q]||null}return null}if(q==="for"){q="htmlFor"}return p[q]||null}:function(q,r){var p=this.dom;if(r){return p.getAttributeNS(r,q)||p.getAttribute(r+":"+q)}return p.getAttribute(q)||p[q]||null},cacheScrollValues:function(){var r=this,t,p,q,u=[],s=function(){for(q=0;q<t.length;q++){p=t[q];p.scrollLeft=u[q][0];p.scrollTop=u[q][1]}};if(!Ext.DomQuery.pseudos.isScrolled){Ext.DomQuery.pseudos.isScrolled=h}t=r.query(":isScrolled");for(q=0;q<t.length;q++){p=t[q];u[q]=[p.scrollLeft,p.scrollTop]}return s},autoBoxAdjust:true,isVisible:function(p){var r=this,q=r.dom,s=q.ownerDocument.documentElement;if(!l){l=new d.Fly()}while(q!==s){if(!q||q.nodeType===11||(l.attach(q)).isStyle(m,g)||l.isStyle(b,k)){return false}if(!p){break}q=q.parentNode}return true},isDisplayed:function(){return !this.isStyle(b,k)},enableDisplayMode:function(p){var q=this;q.setVisibilityMode(d.DISPLAY);if(!Ext.isEmpty(p)){(q.$cache||q.getCache()).data.originalDisplay=p}return q},mask:function(y,z,s){var x=this,q=x.dom,A=q.style.setExpression,p=(x.$cache||x.getCache()).data,w=p.maskShimEl,u=p.maskEl,v=p.maskMsg,B,t;if(!(a.test(q.tagName)&&x.getStyle("position")=="static")){x.addCls(o)}if(u){u.remove()}if(v){v.remove()}if(w){w.remove()}if(Ext.isIE6){w=Ext.DomHelper.append(q,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},true);p.maskShimEl=w;w.setDisplayed(true)}Ext.DomHelper.append(q,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:z?e+" "+z:e,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:y||""}}}]);v=Ext.get(q.lastChild);u=Ext.get(v.dom.previousSibling);p.maskMsg=v;p.maskEl=u;x.addCls(n);u.setDisplayed(true);if(typeof y=="string"){v.setDisplayed(true);v.center(x)}else{v.setDisplayed(false)}if(!Ext.supports.IncludePaddingInWidthCalculation&&A){try{u.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');B='this.parentNode.clientWidth + "px"';if(w){w.dom.style.setExpression("width",B)}u.dom.style.setExpression("width",B)}catch(r){}}if(!Ext.supports.IncludePaddingInHeightCalculation&&A){try{t="this.parentNode."+(q==c.body?"scrollHeight":"offsetHeight")+' + "px"';if(w){w.dom.style.setExpression("height",t)}u.dom.style.setExpression("height",t)}catch(r){}}else{if(Ext.isIE9m&&!(Ext.isIE7&&Ext.isStrict)&&x.getStyle("height")=="auto"){if(w){w.setSize(undefined,s||x.getHeight())}u.setSize(undefined,s||x.getHeight())}}return u},unmask:function(){var t=this,p=(t.$cache||t.getCache()).data,q=p.maskEl,s=p.maskShimEl,r=p.maskMsg,u;if(q){u=q.dom.style;if(u.clearExpression){u.clearExpression("width");u.clearExpression("height")}if(q){q.remove();delete p.maskEl}if(r){r.remove();delete p.maskMsg}t.removeCls([n,o]);if(s){u=s.dom.style;if(u.clearExpression){u.clearExpression("width");u.clearExpression("height")}s.remove();delete p.maskShimEl}}},isMasked:function(){var t=this,p=(t.$cache||t.getCache()).data,r=p.maskEl,s=p.maskMsg,q=false;if(r&&r.isVisible()){if(s){s.center(t)}q=true}return q},createShim:function(){var p=c.createElement("iframe"),q;p.frameBorder="0";p.className=Ext.baseCSSPrefix+"shim";p.src=Ext.SSL_SECURE_URL;q=Ext.get(this.dom.parentNode.insertBefore(p,this.dom));q.autoBoxAdjust=false;return q},addKeyListener:function(r,q,s){var p;if(typeof r!="object"||Ext.isArray(r)){p={target:this,key:r,fn:q,scope:s}}else{p={target:this,key:r.key,shift:r.shift,ctrl:r.ctrl,alt:r.alt,fn:q,scope:s}}return new Ext.util.KeyMap(p)},addKeyMap:function(p){return new Ext.util.KeyMap(Ext.apply({target:this},p))},on:function(p,q,s,r){Ext.EventManager.on(this,p,q,s||this,r);return this},un:function(p,q,r){Ext.EventManager.un(this,p,q,r||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(p){return d.select(p,false,this.dom)}}},function(){var DOC=document,EC=Ext.cache,Element=this,AbstractElement=Ext.dom.AbstractElement,focusRe=/^a|button|embed|iframe|input|object|select|textarea$/i,nonSpaceRe=/\S/,scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,useDocForId=!Ext.isIE8m,internalFly;Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function garbageCollect(){if(!Ext.enableGarbageCollector){clearInterval(Element.collectorThreadId)}else{var eid,d,o,t;for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}o=EC[eid];if(o.skipGarbageCollection){continue}d=o.dom;if(d&&(!d.parentNode||(!d.offsetParent&&!Ext.getElementById(eid)))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}delete EC[eid]}}if(Ext.isIE){t={};for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}t[eid]=EC[eid]}EC=Ext.cache=t}}}Element.collectorThreadId=setInterval(garbageCollect,30000);Element.addMethods({monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){timer=setTimeout(Ext.Function.bind(handler,scope||me,[e]),delay)},mouseenter:function(){clearTimeout(timer)},freezeEvent:true};me.on(listeners);return listeners},swallowEvent:function(eventName,preventDefault){var me=this,e,eLen,fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){eLen=eventName.length;for(e=0;e<eLen;e++){me.on(eventName[e],fn)}return me}me.on(eventName,fn);return me},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e)})},clean:function(forceReclean){var me=this,dom=me.dom,data=(me.$cache||me.getCache()).data,n=dom.firstChild,ni=-1,nx;if(data.isCleaned&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType==3){if(!(nonSpaceRe.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType==3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{internalFly.attach(n).clean();n.nodeIndex=++ni}n=nx}data.isCleaned=true;return me},load:function(options){this.getLoader().load(options);return this},getLoader:function(){var me=this,data=(me.$cache||me.getCache()).data,loader=data.loader;if(!loader){data.loader=loader=new Ext.ElementLoader({target:me})}return loader},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,destNode,sourceNode,nodeType,newAttrs,attLen,attName;if(Ext.isIE9m&&dest.mergeAttributes){dest.mergeAttributes(source,true);dest.src=source.src}else{newAttrs=source.attributes;attLen=newAttrs.length;for(i=0;i<attLen;i++){attName=newAttrs[i].name;if(attName!=="id"){dest.setAttribute(attName,newAttrs[i].value)}}}if(sourceLen!==destLen){dest.innerHTML=source.innerHTML;return}for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destNode=destNodes[i];nodeType=sourceNode.nodeType;if(nodeType!==destNode.nodeType||(nodeType===1&&sourceNode.tagName!==destNode.tagName)){dest.innerHTML=source.innerHTML;return}if(nodeType===3){destNode.data=sourceNode.data}else{if(sourceNode.id&&destNode.id!==sourceNode.id){destNode.id=sourceNode.id}destNode.style.cssText=sourceNode.style.cssText;destNode.className=sourceNode.className;internalFly.attach(destNode).syncContent(sourceNode)}}},update:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'"></span>';interval=setInterval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id))){return false}clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while((match=scriptTagRe.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(config,renderTo,matchBox){config=(typeof config=="object")?config:{tag:"div",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},needsTabIndex:function(){if(this.dom){if((this.dom.nodeName==="a")&&(!this.dom.href)){return true}return !focusRe.test(this.dom.nodeName)}},isFocusable:function(asFocusEl){var dom=this.dom,tabIndexAttr=dom.getAttributeNode("tabIndex"),tabIndex,nodeName=dom.nodeName,canFocus=false;if(tabIndexAttr&&tabIndexAttr.specified){tabIndex=tabIndexAttr.value}if(dom&&!dom.disabled){if(tabIndex==-1){canFocus=Ext.FocusManager&&Ext.FocusManager.enabled&&asFocusEl}else{if(focusRe.test(nodeName)){if((nodeName!=="a")||dom.href){canFocus=true}}else{canFocus=tabIndex!=null&&tabIndex>=0}}canFocus=canFocus&&this.isVisible(true)}return canFocus}});if(Ext.isIE){Element.prototype.getById=function(id,asDom){var dom=this.dom,cacheItem,el,ret;if(dom){el=(useDocForId&&DOC.getElementById(id))||dom.all[id];if(el){if(asDom){ret=el}else{cacheItem=EC[id];if(cacheItem&&cacheItem.el){ret=Ext.updateCacheEntry(cacheItem,el).el}else{ret=new Element(el)}}return ret}}return asDom?Ext.getDom(id):Element.get(id)}}Element.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"});Element.Fly=AbstractElement.Fly=new Ext.Class({extend:Element,isFly:true,constructor:function(dom){this.dom=dom;this.el=this},attach:AbstractElement.Fly.prototype.attach});internalFly=new Element.Fly();if(Ext.isIE){Ext.getElementById=function(id){var el=DOC.getElementById(id),detachedBodyEl;if(!el&&(detachedBodyEl=AbstractElement.detachedBodyEl)){el=detachedBodyEl.dom.all[id]}return el}}else{if(!DOC.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(id){return DOC.getElementById(id)}}}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var b,a=Ext.dom.Element.prototype,c=this.prototype;for(b in a){if(typeof a[b]=="function"){(function(d){c[d]=c[d]||function(){return this.invoke(d,arguments)}}).call(c,b)}}}},constructor:function(a,b){this.elements=[];this.add(a,b);this.el=new Ext.dom.AbstractElement.Fly()},isComposite:true,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(b,e){var a=this.elements,c,d;if(!b){return this}if(typeof b=="string"){b=Ext.dom.Element.selectorFunction(b,e)}else{if(b.isComposite){b=b.elements}else{if(!Ext.isIterable(b)){b=[b]}}}for(c=0,d=b.length;c<d;++c){a.push(this.transformElement(b[c]))}return this},invoke:function(d,a){var c=this.elements,g=c.length,b,e;d=Ext.dom.Element.prototype[d];for(e=0;e<g;e++){b=c[e];if(b){d.apply(this.getElement(b),a)}}return this},item:function(b){var a=this.elements[b],c=null;if(a){c=this.getElement(a)}return c},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(c,d,k,j){var b=this.elements,h=b.length,g,a;for(g=0;g<h;g++){a=b[g];if(a){Ext.EventManager.on(a,c,d,k||a,j)}}return this},each:function(c,j){var h=this,b=h.elements,g=b.length,d,a;for(d=0;d<g;d++){a=b[d];if(a){a=this.getElement(a);if(c.call(j||a,a,h,d)===false){break}}}return h},fill:function(a){var b=this;b.elements=[];b.add(a);return b},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(k){var h=this,c=h.elements,g=c.length,j=[],d=0,e=typeof k=="function",a,b;for(;d<g;d++){b=c[d];a=false;if(b){b=h.getElement(b);if(e){a=k.call(b,b,h,d)!==false}else{a=b.is(k)}if(a){j.push(h.transformElement(b))}}}h.elements=j;return h},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(c,g,b){var e=!isNaN(c)?c:this.indexOf(c),a;if(e>-1){g=Ext.getDom(g);if(b){a=this.elements[e];a.parentNode.insertBefore(g,a);Ext.removeNode(a)}Ext.Array.splice(this.elements,e,1,g)}return this},clear:function(d){var c=this,a=c.elements,b=a.length-1;if(d){for(;b>=0;b--){Ext.removeNode(a[b])}}this.elements=[]},addElements:function(c,d){if(!c){return this}if(typeof c=="string"){c=Ext.dom.Element.selectorFunction(c,d)}var g=this.elements,b=c.length,a;for(a=0;a<b;a++){g.push(Ext.get(c[a]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(d,h){d=[].concat(d);var g=this,b=g.elements,e=d.length,j,a,c;for(c=0;c<e;c++){j=d[c];if((a=(b[j]||b[j=g.indexOf(j)]))){if(h){if(a.dom){a.remove()}else{Ext.removeNode(a)}}Ext.Array.erase(b,j,1)}}return g}},function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery){Ext.dom.Element.selectorFunction=Ext.DomQuery.select}Ext.dom.Element.select=function(c,b){var a;if(typeof c=="string"){a=Ext.dom.Element.selectorFunction(c,b)}else{if(c.length!==undefined){a=c}else{}}return new Ext.CompositeElementLite(a)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},function(){Ext.dom.Element.select=function(c,d,b){var a;if(typeof c=="string"){a=Ext.dom.Element.selectorFunction(c,b)}else{if(c.length!==undefined){a=c}else{}}return(d===true)?new Ext.CompositeElement(a):new Ext.CompositeElementLite(a)}});Ext.select=Ext.Element.select;Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.util.Observable},generation:0,constructor:function(a){a=a||{};var c=this,b=a.keyFn;c.initialConfig=a;c.addEvents("add","clear","remove","replace");c.mixins.observable.constructor.call(c,a);c.clear(true);if(b){c.getKey=b}},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,c){var b=this;if(arguments.length===1){c=a;a=b.getKey(c)}if(b.containsKey(a)){return b.replace(a,c)}b.map[a]=c;++b.length;b.generation++;if(b.hasListeners.add){b.fireEvent("add",b,a,c)}return c},replace:function(a,e){var c=this,b=c.map,d;if(arguments.length===1){e=a;a=c.getKey(e)}if(!c.containsKey(a)){c.add(a,e)}d=b[a];b[a]=e;c.generation++;if(c.hasListeners.replace){c.fireEvent("replace",c,a,e,d)}return e},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return false},removeAtKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.generation++;if(b.hasListeners.remove){b.fireEvent("remove",b,a,c)}return true}return false},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(a){var b=this;if(a||b.generation){b.map={};b.length=0;b.generation=a?0:b.generation+1}if(a!==true&&b.hasListeners.clear){b.fireEvent("clear",b)}return b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(b){var a=[],c,d=this.map;for(c in d){if(d.hasOwnProperty(c)){a.push(b?c:d[c])}}return a},each:function(a,e){var b=Ext.apply({},this.map),c,d=this.length;e=e||this;for(c in b){if(b.hasOwnProperty(c)){if(a.call(e,c,b[c],d)===false){break}}}return this},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b])}}a.resumeEvents();return a},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a]===c){return a}}return undefined}});Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,c){var d=a[this.typeName]||a.type||c,b=this.types[d];return new b(a)},onAvailable:function(d,c,g){var a=this.all,e,b;if(a.containsKey(d)){e=a.get(d);c.call(g||e,e)}else{b=function(k,j,h){if(j==d){c.call(g||h,h);a.un("add",b)}};a.on("add",b)}},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.ComponentManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(a,b){if(typeof a=="string"){return Ext.widget(a)}if(a.isComponent){return a}return Ext.widget(a.xtype||b,a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});Ext.define("Ext.ComponentQuery",{singleton:true},function(){var a=this,b=Ext.dom.Query.operators,p=/(\d*)n\+?(\d*)/,q=/\D/,j=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),k=function(s,t){return t.method.apply(this,[s].concat(t.args))},m=function(v,x){var y=[],u=0,w=v.length,s,t=x!==">";for(;u<w;u++){s=v[u];if(s.getRefItems){y=y.concat(s.getRefItems(t))}}return y},l=function(u){var w=[],t=0,v=u.length,s;for(;t<v;t++){s=u[t];while(!!(s=s.getRefOwner())){w.push(s)}}return w},h=function(u,y,x){if(y==="*"){return u.slice()}else{var w=[],t=0,v=u.length,s;for(;t<v;t++){s=u[t];if(s.isXType(y,x)){w.push(s)}}return w}},d=function(v,t){var x=[],u=0,w=v.length,s;for(;u<w;u++){s=v[u];if(s.hasCls(t)){x.push(s)}}return x},c=function(v,B,z,t){var E=[],u=0,x=v.length,y,A,s,D,w,C;if(B.charAt(0)==="@"){y=true;B=B.substr(1)}if(B.charAt(0)==="?"){y=true;A=true;B=B.substr(1)}for(;u<x;u++){s=v[u];if(!y||s.hasOwnProperty(B)){D=s[B];if(A){E.push(s)}else{if(z==="~="){if(D){if(!Ext.isArray(D)){D=D.split(" ")}for(w=0,C=D.length;w<C;w++){if(b[z](Ext.coerce(D[w],t),t)){E.push(s);break}}}}else{if(!t?!!s[B]:b[z](Ext.coerce(D,t),t)){E.push(s)}}}}}return E},e=function(v,u){var x=[],t=0,w=v.length,s;for(;t<w;t++){s=v[t];if(s.getItemId()===u){x.push(s)}}return x},g=function(s,t,u){return a.pseudos[t](s,u)},o=/^(\s?([>\^])\s?|\s|$)/,r=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,n=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:h},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:c},{re:/^#([\w\-]+)/,method:e},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:g},{re:/^(?:\{([^\}]+)\})/,method:j}];a.Query=Ext.extend(Object,{constructor:function(s){s=s||{};Ext.apply(this,s)},execute:function(w){var v=this.operations,s=0,t=v.length,u,x;if(!w){x=Ext.ComponentManager.all.getArray()}else{if(Ext.isIterable(w)){x=w}else{if(w.isMixedCollection){x=w.items}}}for(;s<t;s++){u=v[s];if(u.mode==="^"){x=l(x||[w])}else{if(u.mode){x=m(x||[w],u.mode)}else{x=k(x||m([w]),u)}}if(s===t-1){return x}}return[]},is:function(s){var x=this.operations,t=Ext.isArray(s)?s:[s],y=t.length,v=x[x.length-1],w,u;t=k(t,v);if(t.length===y){if(x.length>1){for(u=0,w=t.length;u<w;u++){if(Ext.Array.indexOf(this.execute(),t[u])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(t,z){var u=Ext.ComponentQuery,v=0,x=t.length,y=[],w=-1,s;for(;v<x;++v){s=t[v];if(!u.is(s,z)){y[++w]=s}}return y},first:function(s){var t=[];if(s.length>0){t.push(s[0])}return t},last:function(s){var t=s.length,u=[];if(t>0){u.push(s[t-1])}return u},focusable:function(t){var v=t.length,w=[],u=0,s;for(;u<v;u++){s=t[u];if(s.isFocusable()){w.push(s)}}return w},"nth-child":function(t,s){var A=[],x=p.exec(s=="even"&&"2n"||s=="odd"&&"2n+1"||!q.test(s)&&"n+"+s||s),u=(x[1]||1)-0,w=x[2]-0,v,y,z;for(v=0;y=t[v];v++){z=v+1;if(u==1){if(w==0||z==w){A.push(y)}}else{if((z+w)%u==0){A.push(y)}}}return A}},query:function(B,A){var C=B.split(","),v=C.length,u=0,y=[],w=[],t={},x,z,s;for(;u<v;u++){B=Ext.String.trim(C[u]);x=this.cache[B]||(this.cache[B]=this.parse(B));y=y.concat(x.execute(A))}if(v>1){z=y.length;for(u=0;u<z;u++){s=y[u];if(!t[s.id]){w.push(s);t[s.id]=true}}y=w}return y},is:function(s,w){if(!w){return true}var x=w.split(","),u=x.length,t=0,v;for(;t<u;t++){w=Ext.String.trim(x[t]);v=this.cache[w]||(this.cache[w]=this.parse(w));if(v.is(s)){return true}}return false},parse:function(A){var z=[],u=n.length,t,C,v,y,B,s,w,x;while(A&&t!==A){t=A;C=A.match(r);if(C){v=C[1];if(v==="#"){z.push({method:e,args:[Ext.String.trim(C[2])]})}else{if(v==="."){z.push({method:d,args:[Ext.String.trim(C[2])]})}else{z.push({method:h,args:[Ext.String.trim(C[2]),Boolean(C[3])]})}}A=A.replace(C[0],"")}while(!(y=A.match(o))){for(s=0;A&&s<u;s++){w=n[s];B=A.match(w.re);x=w.method;if(B){z.push({method:Ext.isString(w.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[x].concat(B.slice(1)))):w.method,args:B.slice(1)});A=A.replace(B[0],"");break}if(s===(u-1)){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(y[1]){z.push({mode:y[2]||y[1]});A=A.replace(y[0],"")}}return new a.Query({operations:z})}})});Ext.define("Ext.util.ProtoElement",(function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(c){var d=this;Ext.apply(d,c);d.classList=a(d.cls);d.classMap=b(d.classList);delete d.cls;if(Ext.isFunction(d.style)){d.styleFn=d.style;delete d.style}else{if(typeof d.style=="string"){d.style=Ext.Element.parseStyles(d.style)}else{if(d.style){d.style=Ext.apply({},d.style)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(g){var n=this,d=(typeof g==="string")?a(g):g,k=d.length,l=n.classList,m=n.classMap,h=n.flushClassList,j=0,e;for(;j<k;++j){e=d[j];if(!m[e]){m[e]=true;l.push(e);if(h){h.push(e);delete n.removedClasses[e]}}}return n},hasCls:function(c){return c in this.classMap},removeCls:function(e){var l=this,j=l.classList,m=(l.classList=[]),n=b(a(e)),h=j.length,k=l.classMap,o=l.removedClasses,g,d;for(g=0;g<h;++g){d=j[g];if(n[d]){if(o){if(k[d]){o[d]=true;Ext.Array.remove(l.flushClassList,d)}}delete k[d]}else{m.push(d)}}return l},setStyle:function(d,g){var c=this,e=c.style||(c.style={});if(typeof d=="string"){if(arguments.length===1){c.setStyle(Ext.Element.parseStyles(d))}else{e[d]=g}}else{Ext.apply(e,d)}return c},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(h){var d=this,c=d.flushClassList||d.classList,e=d.removedClasses,g;if(d.styleFn){g=Ext.apply({},d.styleFn());Ext.apply(g,d.style)}else{g=d.style}h[d.clsProp]=c.join(" ");if(g){h[d.styleProp]=d.styleIsText?Ext.DomHelper.generateStyles(g):g}if(e){e=Ext.Object.getKeys(e);if(e.length){h[d.removedProp]=e.join(" ")}}if(d.unselectableAttr){h.unselectable="on"}return h}}}()));Ext.define("Ext.PluginManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(a,b,c){var d;if(a.init){d=a}else{if(c){a=Ext.apply({},a);a.cmp=c}else{c=a.cmp}if(a.xclass){d=Ext.create(a)}else{d=Ext.ClassManager.getByAlias(("plugin."+(a.ptype||b)));if(typeof d==="function"){d=new d(a)}}}if(d&&c&&d.setCmp&&!d.setCmpCalled){d.setCmp(c);d.setCmpCalled=true}return d},findByType:function(e,a){var c=[],g=this.types,d,b;for(d in g){if(!g.hasOwnProperty(d)){continue}b=g[d];if(b.type==e&&(!a||(a===true&&b.isDefault))){c.push(b)}}return c}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}});Ext.define("Ext.util.Filter",{id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(b){var e=true,g=a.length,d,c;for(d=0;e&&d<g;d++){c=a[d];if(!c.disabled){e=e&&c.filterFn.call(c.scope||c,b)}}return e}:function(){return true}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){var b=this;b.initialConfig=a;Ext.apply(b,a);b.filter=b.filter||b.filterFn;if(b.filter===undefined){b.setValue(a.value)}},setValue:function(b){var a=this;a.value=b;if(a.property===undefined||a.value===undefined){}else{a.filter=a.createFilterFn()}a.filterFn=a.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var b=this,a=b.createValueMatcher(),c=b.property;if(b.operator){return b.operatorFns[b.operator]}else{return function(d){var e=b.getRoot(d)[c];return a===null?e===null:a.test(e)}}},getRoot:function(a){var b=this.root;return b===undefined?a:a[b]},createValueMatcher:function(){var e=this,g=e.value,a=e.anyMatch,d=e.exactMatch,b=e.caseSensitive,c=Ext.String.escapeRegex;if(g===null){return g}if(!g.exec){g=String(g);if(a===true){g=c(g)}else{g="^"+c(g);if(d===true){g+="$"}}g=new RegExp(g,b?"":"i")}return g},serialize:function(){var a=this,b=Ext.apply({},a.initialConfig);b.value=a.value;return b}},function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]});Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(a,b){var c=this;if(arguments.length===1&&Ext.isObject(a)){c.initialConfig=a;Ext.apply(c,a)}else{c.allowFunctions=a===true;if(b){c.getKey=b}c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}}c.items=[];c.map={};c.keys=[];c.indexMap={};c.length=0;c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(a,c){var b=this.length,d;if(arguments.length===1){d=this.insert(b,a)}else{d=this.insert(b,a,c)}return d},getKey:function(a){return a.id},replace:function(b,d){var c=this,e,a;if(arguments.length==1){d=arguments[0];b=c.getKey(d)}e=c.map[b];if(typeof b=="undefined"||b===null||typeof e=="undefined"){return c.add(b,d)}c.generation++;a=c.indexOfKey(b);c.items[a]=d;c.map[b]=d;if(c.hasListeners.replace){c.fireEvent("replace",b,e,d)}return d},updateKey:function(h,g){var e=this,d=e.map,b=e.indexMap,a=e.indexOfKey(h),c;if(a>-1){c=d[h];delete d[h];delete b[h];d[g]=c;b[g]=a;e.keys[a]=g;e.generation++}},addAll:function(c){var b=this,a;if(arguments.length>1||Ext.isArray(c)){b.insert(b.length,arguments.length>1?arguments:c)}else{for(a in c){if(c.hasOwnProperty(a)){if(b.allowFunctions||typeof c[a]!="function"){b.add(a,c[a])}}}}},each:function(a,g){var d=Ext.Array.push([],this.items),b=0,e=d.length,c;for(;b<e;b++){c=d[b];if(a.call(g||c,c,b,e)===false){break}}},eachKey:function(a,g){var d=this.keys,c=this.items,b=0,e=d.length;for(;b<e;b++){a.call(g||window,d[b],c[b],b,e)}},findBy:function(a,g){var d=this.keys,c=this.items,b=0,e=c.length;for(;b<e;b++){if(a.call(g||window,c[b],d[b])){return c[b]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;if(Ext.isIterable(b)){d=this.doInsert(a,b,c)}else{if(arguments.length>2){d=this.doInsert(a,[b],[c])}else{d=this.doInsert(a,[b])}d=d[0]}return d},doInsert:function(d,g,l){var j=this,e,p,c,h=g.length,a=h,b=j.hasListeners.add,q,k={},o,m,n;if(l!=null){j.useLinearSearch=true}else{l=g;g=new Array(h);for(c=0;c<h;c++){g[c]=this.getKey(l[c])}}j.suspendEvents();for(c=0;c<h;c++){e=g[c];p=j.indexOfKey(e);if(p!==-1){if(p<d){d--}j.removeAt(p)}if(e!=null){if(k[e]!=null){o=true;a--}k[e]=c}}j.resumeEvents();if(o){m=g;n=l;g=new Array(a);l=new Array(a);c=0;for(e in k){g[c]=m[k[e]];l[c]=n[k[e]];c++}h=a}q=d===j.length&&j.indexGeneration===j.generation;Ext.Array.insert(j.items,d,l);Ext.Array.insert(j.keys,d,g);j.length+=h;j.generation++;if(q){j.indexGeneration=j.generation}for(c=0;c<h;c++,d++){e=g[c];if(e!=null){j.map[e]=l[c];if(q){j.indexMap[e]=d}}if(b){j.fireEvent("add",d,l[c],e)}}return l},remove:function(c){var b=this,d,a;if(!b.useLinearSearch&&(d=b.getKey(c))){a=b.indexOfKey(d)}else{a=Ext.Array.indexOf(b.items,c)}return(a===-1)?false:b.removeAt(a)},removeAll:function(b){var c=this,a;if(b||c.hasListeners.remove){if(b){for(a=b.length-1;a>=0;--a){c.remove(b[a])}}else{while(c.length){c.removeAt(0)}}}else{c.length=c.items.length=c.keys.length=0;c.map={};c.indexMap={};c.generation++;c.indexGeneration=c.generation}},removeAt:function(a){var c=this,d,b;if(a<c.length&&a>=0){c.length--;d=c.items[a];Ext.Array.erase(c.items,a,1);b=c.keys[a];if(typeof b!="undefined"){delete c.map[b]}Ext.Array.erase(c.keys,a,1);if(c.hasListeners.remove){c.fireEvent("remove",d,b)}c.generation++;return d}return false},removeRange:function(b,h){var e=this,g,c,a,d,j,k;if(b<e.length&&b>=0){if(!h){h=1}d=Math.min(b+h,e.length);h=d-b;k=d===e.length;j=k&&e.indexGeneration===e.generation;for(a=b;a<d;a++){c=e.keys[a];if(c!=null){delete e.map[c];if(j){delete e.indexMap[c]}}}g=e.items[a-1];e.length-=h;e.generation++;if(j){e.indexGeneration=e.generation}if(k){e.items.length=e.keys.length=e.length}else{e.items.splice(b,h);e.keys.splice(b,h)}return g}return false},removeAtKey:function(b){var d=this,c=d.keys,a;if(b==null){for(a=c.length-1;a>=0;a--){if(c[a]==null){d.removeAt(a)}}}else{return d.removeAt(d.indexOfKey(b))}},getCount:function(){return this.length},indexOf:function(c){var b=this,a;if(c!=null){if(!b.useLinearSearch&&(a=b.getKey(c))){return this.indexOfKey(a)}return Ext.Array.indexOf(b.items,c)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var e=this,b=e.indexMap={},c=e.keys,d=c.length,a;for(a=0;a<d;a++){b[c[a]]=a}e.indexGeneration=e.generation},get:function(b){var c=this,d=c.map[b],a=d!==undefined?d:(typeof b=="number")?c.items[b]:undefined;return typeof a!="function"||c.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(c){var b=this,a;if(c!=null){if(!b.useLinearSearch&&(a=b.getKey(c))){return this.map[a]!=null}return Ext.Array.indexOf(this.items,c)!==-1}return false},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(d,e,g,a){var j=this.extractValues(d,e),c=j.length,h=0,b;g=g||0;a=(a||a===0)?a:c-1;for(b=g;b<=a;b++){h+=j[b]}return h},collect:function(e,g,a){var l=this.extractValues(e,g),d=l.length,b={},j=[],k,h,c;for(c=0;c<d;c++){k=l[c];h=String(k);if((a||!Ext.isEmpty(k))&&!b[h]){b[h]=true;j.push(k)}}return j},extractValues:function(a,b){var c=this.items;if(b){c=Ext.Array.pluck(c,b)}return Ext.Array.pluck(c,a)},hasRange:function(b,a){return(a<this.length)},getRange:function(h,a){var d=this,b=d.items,e=[],c=b.length,j,g;if(c<1){return e}if(h>a){g=true;j=h;h=a;a=j}if(h<0){h=0}if(a==null||a>=c){a=c-1}e=b.slice(h,a+1);if(g&&e.length){e.reverse()}return e},filter:function(d,e,a,b){var c=[];if(Ext.isString(d)){c.push(new Ext.util.Filter({property:d,value:e,anyMatch:a,caseSensitive:b}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){c=c.concat(d)}}return this.filterBy(Ext.util.Filter.createFilterFn(c))},filterBy:function(a,j){var g=this,h=new g.self(g.initialConfig),d=g.keys,c=g.items,e=c.length,b;h.getKey=g.getKey;for(b=0;b<e;b++){if(a.call(j||g,c[b],d[b])){h.add(d[b],c[b])}}return h},findIndex:function(c,e,d,a,b){if(Ext.isEmpty(e,false)){return -1}e=this.createValueMatcher(e,a,b);return this.findIndexBy(function(g){return g&&e.test(g[c])},null,d)},findIndexBy:function(a,h,j){var g=this,d=g.keys,c=g.items,b=j||0,e=c.length;for(;b<e;b++){if(a.call(h||g,c[b],d[b])){return b}}return -1},createValueMatcher:function(e,a,b,d){if(!e.exec){var c=Ext.String.escapeRegex;e=String(e);if(a===true){e=c(e)}else{e="^"+c(e);if(d===true){e+="$"}}e=new RegExp(e,b?"":"i")}return e},clone:function(){var b=this,a=new this.self(b.initialConfig);a.add(b.keys,b.items);return a}});Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a);b.updateSortFunction()},createSortFunction:function(d){var b=this,a=b.direction||"ASC",c=a.toUpperCase()=="DESC"?-1:1;return function(e,g){return c*d.call(b,e,g)}},defaultSorterFn:function(b,c){var a=this,d=a.transform,e=a.getRoot(b)[a.property],g=a.getRoot(c)[a.property];if(d){e=d(e);g=d(g)}return e>g?1:(e<g?-1:0)},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(a){var b=this;b.direction=a?a.toUpperCase():a;b.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC");a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn;b.sort=b.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}});Ext.define("Ext.util.Sortable",{isSortable:true,defaultSortDirection:"ASC",statics:{createComparator:function(a){return a&&a.length?function(d,e){var g=a[0].sort(d,e),c=a.length,b=1;for(;b<c;b++){g=g||a[b].sort.call(this,d,e)}return g}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(false,function(c){return c.id||c.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(g,a,h,b){var c=this,e,d;if(Ext.isArray(g)){b=h;h=a;d=g}else{if(Ext.isObject(g)){b=h;h=a;d=[g]}else{if(Ext.isString(g)){e=c.sorters.get(g);if(!e){e={property:g,direction:a};d=[e]}else{if(a===undefined){e.toggle()}else{e.setDirection(a)}}}}}if(d&&d.length){d=c.decodeSorters(d);if(Ext.isString(h)){if(h==="prepend"){c.sorters.insert(0,d)}else{c.sorters.addAll(d)}}else{c.sorters.clear();c.sorters.addAll(d)}}if(b!==false){c.fireEvent("beforesort",c,d);c.onBeforeSort(d);g=c.sorters.items;if(g.length){c.doSort(c.generateComparator())}}return g},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(h){if(!Ext.isArray(h)){if(h===undefined){h=[]}else{h=[h]}}var e=h.length,g=Ext.util.Sorter,c=this.model?this.model.prototype.fields:null,b,a,d;for(d=0;d<e;d++){a=h[d];if(!(a instanceof g)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:this.sortRoot,direction:"ASC"});if(a.fn){a.sorterFn=a.fn}if(typeof a=="function"){a={sorterFn:a}}if(c&&!a.transform){b=c.get(a.property);a.transform=b&&b.sortType!==Ext.identityFn?b.sortType:undefined}h[d]=new Ext.util.Sorter(a)}}return h},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var d=this.sorters.items,b=d.length,a=0,c;for(;a<b;++a){c=d[a];if(!c.isGrouper){return c}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var a=this;a.callParent(arguments);a.addEvents("sort");a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(n,b,e){var l=this,g,k,d=String(b).toUpperCase()=="DESC"?-1:1,a=[],j=l.keys,h=l.items,m;e=e||function(c,o){return c-o};for(g=0,k=h.length;g<k;g++){a[a.length]={key:j[g],value:h[g],index:g}}Ext.Array.sort(a,function(c,o){return e(c[n],o[n])*d||(c.index<o.index?-1:1)});for(g=0,k=a.length;g<k;g++){m=a[g];h[g]=m.value;j[g]=m.key;l.indexMap[m.key]=g}l.generation++;l.indexGeneration=l.generation;l.fireEvent("sort",l)},sortBy:function(j){var h=this,c=h.items,b,e=h.keys,d,g=c.length,a;for(a=0;a<g;a++){c[a].$extCollectionIndex=a}Ext.Array.sort(c,function(k,l){return j(k,l)||(k.$extCollectionIndex<l.$extCollectionIndex?-1:1)});for(a=0;a<g;a++){b=c[a];d=h.getKey(b);e[a]=d;h.indexMap[d]=a;delete c.$extCollectionIndex}h.generation++;h.indexGeneration=h.generation;h.fireEvent("sort",h,c,e)},findInsertionIndex:function(g,h){var d=this,c=d.items,j=0,b=c.length-1,e,a;if(!h){h=d.generateComparator()}while(j<=b){e=(j+b)>>1;a=h(g,c[e]);if(a>=0){j=e+1}else{if(a<0){b=e-1}}}return j},reorder:function(d){var e=this,b=e.items,a=0,c=b.length,h=[],j=[],g;e.suspendEvents();for(g in d){h[d[g]]=b[g]}for(a=0;a<c;a++){if(d[a]==undefined){j.push(b[a])}}for(a=0;a<c;a++){if(h[a]==undefined){h[a]=j.shift()}}e.clear();e.addAll(h);e.resumeEvents();e.fireEvent("sort",e)},sortByKey:function(a,b){this._sort("key",a,b||function(c,d){var e=String(c).toUpperCase(),g=String(d).toUpperCase();return e>g?1:(e<g?-1:0)})}});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}});Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(b,a,c){if(c==undefined){if(a==="x"){c=b.getX()}else{if(a==="y"){c=b.getY()}else{if(a==="scrollTop"){c=b.getScroll().top}else{if(a==="scrollLeft"){c=b.getScroll().left}else{if(a==="height"){c=b.getHeight()}else{if(a==="width"){c=b.getWidth()}else{c=b.getStyle(a)}}}}}}}return c},getAttr:function(a,c){var b=this.target;return[[b,this.getElVal(b,a,c)]]},setAttr:function(l){var k=this.target,e=l.length,b,a,h,c,d,g;for(c=0;c<e;c++){b=l[c].attrs;for(a in b){if(b.hasOwnProperty(a)){g=b[a].length;for(d=0;d<g;d++){h=b[a][d];this.setElVal(h[0],a,h[1])}}}}},setElVal:function(b,a,c){if(a==="x"){b.setX(c)}else{if(a==="y"){b.setY(c)}else{if(a==="scrollTop"){b.scrollTo("top",c)}else{if(a==="scrollLeft"){b.scrollTo("left",c)}else{if(a==="width"){b.setWidth(c)}else{if(a==="height"){b.setHeight(c)}else{b.setStyle(a,c)}}}}}}}});Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(q,k){var d={attrs:[],duration:[],easing:[]},m=q.length,b,c,a,g,e,p,h,l,n;for(h=0;h<m;h++){c=q[h];e=c.duration;g=c.easing;c=c.attrs;for(a in c){if(Ext.Array.indexOf(d.attrs,a)==-1){d.attrs.push(a.replace(/[A-Z]/g,function(j){return"-"+j.toLowerCase()}));d.duration.push(e+"ms");d.easing.push(g)}}}b=d.attrs.join(",");e=d.duration.join(",");g=d.easing.join(", ");for(h=0;h<m;h++){c=q[h].attrs;for(a in c){n=c[a].length;for(l=0;l<n;l++){p=c[a][l];p[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",k?"":b);p[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",k?"":e);p[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",k?"":g);p[0].setStyle(a,p[1]);if(k){p=p[0].dom.offsetWidth}else{p[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},p[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,j){var g=[],h=this.target,c=h.elements,e=c.length,d,b;for(d=0;d<e;d++){b=c[d];if(b){b=h.getElement(b);g.push([b,this.getElVal(b,a,j)])}}return g},setAttr:function(q){var p=this.target,h=q.length,c=p.elements,m=c.length,r,g,b,a,n,d,e,l;for(d=0;d<h;d++){b=q[d].attrs;for(a in b){if(b.hasOwnProperty(a)){l=b[a].length;for(e=0;e<l;e++){r=b[a][e][1];for(g=0;g<m;++g){el=c[g];if(el){el=p.getElement(el);this.setElVal(el,a,r)}}}}}}}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(c,a){var b;switch(a){case"rotate":case"rotation":b=c.attr.rotation;return{x:b.x||0,y:b.y||0,degrees:b.degrees||0};case"scale":case"scaling":b=c.attr.scaling;return{x:b.x||1,y:b.y||1,cx:b.cx||0,cy:b.cy||0};case"translate":case"translation":b=c.attr.translation;return{x:b.x||0,y:b.y||0};default:return c.attr[a]}},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.getFromPrim(this.target,a)]]},setAttr:function(o){var k=o.length,n=[],d,a,b,c,m,g,p,e,h,q,r,l;for(e=0;e<k;e++){d=o[e].attrs;for(a in d){b=d[a];l=b.length;for(h=0;h<l;h++){m=b[h][0];c=b[h][1];if(a==="translate"||a==="translation"){p={x:c.x,y:c.y}}else{if(a==="rotate"||a==="rotation"){q=c.x;if(isNaN(q)){q=null}r=c.y;if(isNaN(r)){r=null}p={degrees:c.degrees,x:q,y:r}}else{if(a==="scale"||a==="scaling"){q=c.x;if(isNaN(q)){q=null}r=c.y;if(isNaN(r)){r=null}p={x:q,y:r,cx:c.cx,cy:c.cy}}else{if(a==="width"||a==="height"||a==="x"||a==="y"){p=parseFloat(c)}else{p=c}}}}g=Ext.Array.indexOf(n,m);if(g==-1){n.push([m,{}]);g=n.length-1}n[g][1][a]=p}}}k=n.length;for(e=0;e<k;e++){n[e][0].setAttributes(n[e][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(a,h){var d=[],g=[].concat(this.target.items),c=g.length,b,e;for(b=0;b<c;b++){e=g[b];d.push([e,h!=undefined?h:this.getFromPrim(e,a)])}return d}});Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==undefined?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(s,e,g){var n=this,m=s.length,b,a,r,d,k,t,l,u,v,c,q={},p;for(d=0;d<m;d++){b=s[d].attrs;for(a in b){t=b[a].length;for(k=0;k<t;k++){r=b[a][k];p=q[n.setMethods[a]]||(q[n.setMethods[a]]={});p.target=r[0];p[a]=r[1]}}if(q.setPosition){r=q.setPosition;l=(r.left===undefined)?undefined:parseFloat(r.left);u=(r.top===undefined)?undefined:parseFloat(r.top);r.target.setPosition(l,u)}if(q.setPagePosition){r=q.setPagePosition;r.target.setPagePosition(r.x,r.y)}if(q.setSize){r=q.setSize;v=(r.width===undefined)?r.target.getWidth():parseFloat(r.width);c=(r.height===undefined)?r.target.getHeight():parseFloat(r.height);r.target.el.setSize(v,c);if(g||n.dynamic){Ext.globalEvents.on({idle:Ext.Function.bind(r.target.setSize,r.target,[v,c]),single:true})}}if(q.setOpacity){r=q.setOpacity;r.target.el.setStyle("opacity",r.opacity)}}}});Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(b){var a=this.targets.get(b);if(a){return a.fxDefaults}return{}},setFxDefaults:function(c,a){var b=this.targets.get(c);if(b){b.fxDefaults=Ext.apply(b.fxDefaults||{},a)}},stopAnimation:function(d){var b=this,c=b.getFxQueue(d),a=c.length;while(a){c[a-1].end();a--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return(a&&!!a.length)?a[0]:false},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(d){if(!d){return false}var a=this,b=a.fxQueue[d],c=a.targets.get(d);if(!c){return false}if(!b){a.fxQueue[d]=[];if(c.type!="element"){c.target.on("destroy",function(){a.fxQueue[d]=[]})}}return a.fxQueue[d]},queueFx:function(a){var c=this,e=a.target,d,b;if(!e){return}d=c.getFxQueue(e.getId());b=d.length;if(b){if(a.concurrent){a.paused=false}else{d[b-1].on("afteranimate",function(){a.paused=false})}}else{a.paused=false}a.on("afteranimate",function(){Ext.Array.remove(d,a);if(d.length===0){c.targets.remove(a.target)}if(a.remove){if(e.type=="element"){var g=Ext.get(e.id);if(g){g.remove()}}}},c,{single:true});d.push(a)}});Ext.define("Ext.fx.Manager",{singleton:true,mixins:{queue:Ext.fx.Queue},constructor:function(){var a=this;a.items=new Ext.util.MixedCollection();a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(b){var a=this,d=!a.forceJS&&Ext.supports.Transitions,c;a.useCSS3=d;if(b){if(b.tagName||Ext.isString(b)||b.isFly){b=Ext.get(b);c=new Ext.fx.target["Element"+(d?"CSS":"")](b)}else{if(b.dom){c=new Ext.fx.target["Element"+(d?"CSS":"")](b)}else{if(b.isComposite){c=new Ext.fx.target["CompositeElement"+(d?"CSS":"")](b)}else{if(b.isSprite){c=new Ext.fx.target.Sprite(b)}else{if(b.isCompositeSprite){c=new Ext.fx.target.CompositeSprite(b)}else{if(b.isComponent){c=new Ext.fx.target.Component(b)}else{if(b.isAnimTarget){return b}else{return null}}}}}}}a.targets.add(c);return c}else{return null}},addAnim:function(a){var c=this,b=c.items,d=c.task;b.add(a.id,a);if(!d&&b.length){d=c.task={run:c.runner,interval:c.interval,scope:c};c.taskRunner.start(d)}},removeAnim:function(a){var c=this,b=c.items,d=c.task;b.removeAtKey(a.id);if(d&&!b.length){c.taskRunner.stop(d);delete c.task}},runner:function(){var e=this,c=e.items.getRange(),b=0,d=c.length,a;e.targetArr={};e.timestamp=new Date();for(;b<d;b++){a=c[b];if(a.isReady()){e.startAnim(a)}}for(b=0;b<d;b++){a=c[b];if(a.isRunning()){e.runAnim(a)}}e.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a){if(!a){return}var d=this,h=d.useCSS3&&a.target.type=="element",b=d.timestamp-a.startTime,c=(b>=a.duration),g,e;g=this.collectTargetData(a,b,h,c);if(h){a.target.setAttr(g.anims[a.id].attributes,true);d.collectTargetData(a,a.duration,h,c);a.paused=true;g=a.target.target;if(a.target.isComposite){g=a.target.target.last()}e={};e[Ext.supports.CSS3TransitionEnd]=a.lastFrame;e.scope=a;e.single=true;g.on(e)}},collectTargetData:function(a,b,g,c){var e=a.target.getId(),d=this.targetArr[e];if(!d){d=this.targetArr[e]={id:e,el:a.target,anims:{}}}d.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:c,attributes:[{duration:a.duration,easing:(g&&a.reverse)?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return d},applyPendingAttrs:function(){var e=this.targetArr,d,g,c,a,b;for(g in e){if(e.hasOwnProperty(g)){d=e[g];for(b in d.anims){if(d.anims.hasOwnProperty(b)){c=d.anims[b];a=c.anim;if(c.attributes&&a.isRunning()){d.el.setAttr(c.attributes,false,c.isLastFrame);if(c.isLastFrame){a.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{});b.config=a;b.id=Ext.id(null,"ext-animator-");b.addEvents("beforeanimate","keyframe","afteranimate");b.mixins.observable.constructor.call(b,a);b.timeline=[];b.createTimeline(b.keyframes);if(b.target){b.applyAnimator(b.target);Ext.fx.Manager.addAnim(b)}},sorter:function(c,d){return c.pct-d.pct},createTimeline:function(e){var h=this,b=[],m=h.to||{},c=h.duration,l,j,d,g,k,a;for(k in e){if(e.hasOwnProperty(k)&&h.animKeyFramesRE.test(k)){a={attrs:Ext.apply(e[k],m)};if(k=="from"){k=0}else{if(k=="to"){k=100}}a.pct=parseInt(k,10);b.push(a)}}Ext.Array.sort(b,h.sorter);g=b.length;for(d=0;d<g;d++){l=(b[d-1])?c*(b[d-1].pct/100):0;j=c*(b[d].pct/100);h.timeline.push({duration:j-l,attrs:b[d].attrs})}},applyAnimator:function(k){var j=this,b=[],l=j.timeline,h=l.length,a,e,d,c,g;if(j.fireEvent("beforeanimate",j)!==false){for(g=0;g<h;g++){a=l[g];c=a.attrs;e=c.easing||j.easing;d=c.damper||j.damper;delete c.easing;delete c.damper;a=new Ext.fx.Anim({target:k,easing:e,damper:d,duration:a.duration,paused:true,to:c});b.push(a)}j.animations=b;j.target=a.target;for(g=0;g<h-1;g++){a=b[g];a.nextAnim=b[g+1];a.on("afteranimate",function(){this.nextAnim.paused=false});a.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},j)}b[h-1].on("afteranimate",function(){this.lastFrame()},j)}},start:function(e){var d=this,a=d.delay,c=d.delayStart,b;if(a){if(!c){d.delayStart=e;return}else{b=e-c;if(b<a){return}else{e=new Date(c.getTime()+a)}}}if(d.fireEvent("beforeanimate",d)!==false){d.startTime=e;d.running=true;d.animations[d.keyframeStep].paused=false}},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++;if(b<a){c.startTime=new Date();c.currentIteration=b;c.keyframeStep=0;c.applyAnimator(c.target);c.animations[c.keyframeStep].paused=false}else{c.currentIteration=0;c.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date()-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(q,j,k,l,m,h){var e=3*j,c=3*(l-j)-e,a=1-e-c,g=3*k,d=3*(m-k)-g,b=1-g-d;function n(r){return((a*r+c)*r+e)*r}function o(u,r){var s=p(u,r);return((b*s+d)*s+g)*s}function p(y,s){var u,v,w,z,r,t;for(w=y,t=0;t<8;t++){z=n(w)-y;if(Math.abs(z)<s){return w}r=(3*a*w+2*c)*w+e;if(Math.abs(r)<1e-06){break}w=w-z/r}u=0;v=1;w=y;if(w<u){return u}if(w>v){return v}while(u<v){z=n(w);if(Math.abs(z-y)<s){return w}if(y>z){u=w}else{v=w}w=(v-u)/2+u}return w}return o(q,1/(200*h))},cubicBezier:function(b,d,c,e){var a=function(g){return Ext.fx.CubicBezier.cubicBezierAtTime(g,b,d,c,e,1)};a.toCSS3=function(){return"cubic-bezier("+[b,d,c,e].join(",")+")"};a.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-e,1-b,1-d)};return a}});Ext.require("Ext.fx.CubicBezier",function(){var c=Math,d=c.PI,e=c.pow,g=c.sin,h=c.sqrt,a=c.abs,b=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(k){var l=0.07813000000000001-k/2,j=-0.25,m=h(0.0066+l*l),p=m-l,r=e(a(p),1/3)*(p<0?-1:1),s=-m-l,u=e(a(s),1/3)*(s<0?-1:1),o=r+u+0.25;return e(1-o,2)*3*o*0.1+(1-o)*3*o*o+o*o*o},easeIn:function(j){return e(j,1.7)},easeOut:function(j){return e(j,0.48)},easeInOut:function(j){var k=0.48-j/1.04,l=h(0.1734+k*k),o=l-k,p=e(a(o),1/3)*(o<0?-1:1),r=-l-k,s=e(a(r),1/3)*(r<0?-1:1),m=p+s+0.5;return(1-m)*3*m*m+m*m*m},backIn:function(j){return j*j*((b+1)*j-b)},backOut:function(j){j=j-1;return j*j*((b+1)*j+b)+1},elasticIn:function(j){if(j===0||j===1){return j}var k=0.3,l=k/4;return e(2,-10*j)*g((j-l)*(2*d)/k)+1},elasticOut:function(j){return 1-Ext.fx.Easing.elasticIn(1-j)},bounceIn:function(j){return 1-Ext.fx.Easing.bounceOut(1-j)},bounceOut:function(k){var o=7.5625,m=2.75,j;if(k<(1/m)){j=o*k*k}else{if(k<(2/m)){k-=(1.5/m);j=o*k*k+0.75}else{if(k<(2.5/m)){k-=(2.25/m);j=o*k*k+0.9375}else{k-=(2.625/m);j=o*k*k+0.984375}}}return j}},function(){var j=Ext.fx.Easing.self,k=j.prototype;j.implement({"back-in":k.backIn,"back-out":k.backOut,"ease-in":k.easeIn,"ease-out":k.easeOut,"elastic-in":k.elasticIn,"elastic-out":k.elasticOut,"bounce-in":k.bounceIn,"bounce-out":k.bounceOut,"ease-in-out":k.easeInOut})})});Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(e,c,a){var d=this,b=Ext.Number.constrain;d.r=b(e,0,255);d.g=b(c,0,255);d.b=b(a,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var m=this,o=m.r/255,d=m.g/255,a=m.b/255,k=Math.max(o,d,a),n=Math.min(o,d,a),c=k-n,e,p=0,j=0.5*(k+n);if(n!=k){p=(j<0.5)?c/(k+n):c/(2-k-n);if(o==k){e=60*(d-a)/c}else{if(d==k){e=120+60*(a-o)/c}else{e=240+60*(o-d)/c}}if(e<0){e+=360}if(e>=360){e-=360}}return[e,p,j]},getLighter:function(a){var b=this.getHSL();a=a||this.lightnessFactor;b[2]=Ext.Number.constrain(b[2]+a,0,1);return this.fromHSL(b[0],b[1],b[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var d=this,h=Math.round,e=h(d.r).toString(16),c=h(d.g).toString(16),a=h(d.b).toString(16);e=(e.length==1)?"0"+e:e;c=(c.length==1)?"0"+c:c;a=(a.length==1)?"0"+a:a;return["#",e,c,a].join("")},toHex:function(b){if(Ext.isArray(b)){b=b[0]}if(!Ext.isString(b)){return""}if(b.substr(0,1)==="#"){return b}var c=this.colorToHexRe.exec(b),e,d,a,g;if(Ext.isArray(c)){e=parseInt(c[2],10);d=parseInt(c[3],10);a=parseInt(c[4],10);g=a|(d<<8)|(e<<16);return c[1]+"#"+("000000"+g.toString(16)).slice(-6)}else{return b}},fromString:function(h){var j,e,c,a,d=parseInt;if((h.length==4||h.length==7)&&h.substr(0,1)==="#"){j=h.match(this.hexRe);if(j){e=d(j[1],16)>>0;c=d(j[2],16)>>0;a=d(j[3],16)>>0;if(h.length==4){e+=(e*16);c+=(c*16);a+=(a*16)}}}else{j=h.match(this.rgbRe);if(j){e=j[1];c=j[2];a=j[3]}}return(typeof e=="undefined")?undefined:new Ext.draw.Color(e,c,a)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(d,n,g){var b,o,j,e,k=[],a=Math.abs,c=Math.floor;if(n==0||d==null){k=[g,g,g]}else{d/=60;b=n*(1-a(2*g-1));o=b*(1-a(d-2*c(d/2)-1));j=g-b/2;switch(c(d)){case 0:k=[b,o,0];break;case 1:k=[o,b,0];break;case 2:k=[0,b,o];break;case 3:k=[0,o,b];break;case 4:k=[o,0,b];break;case 5:k=[b,0,o];break}k=[k[0]+j,k[1]+j,k[2]+j]}return new Ext.draw.Color(k[0]*255,k[1]*255,k[2]*255)}},function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})});Ext.define("Ext.draw.Draw",{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(a,b){b=String(b).toLowerCase();return(b=="object"&&a===Object(a))||(b=="undefined"&&typeof a==b)||(b=="null"&&a===null)||(b=="array"&&Array.isArray&&Array.isArray(a))||(Object.prototype.toString.call(a).toLowerCase().slice(8,-1))==b},ellipsePath:function(b){var a=b.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(b){var a=b.attr;if(a.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height)}else{return Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(d){if(!d){return null}var c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[],b=this;if(b.is(d,"array")&&b.is(d[0],"array")){a=b.pathClone(d)}if(!a.length){String(d).replace(b.pathCommandRE,function(e,g,h){var k=[],j=g.toLowerCase();h.replace(b.pathValuesRE,function(l,m){m&&k.push(+m)});if(j=="m"&&k.length>2){a.push([g].concat(Ext.Array.splice(k,0,2)));j="l";g=(g=="m")?"l":"L"}while(k.length>=c[j]){a.push([g].concat(Ext.Array.splice(k,0,c[j])));if(!c[j]){break}}})}a.toString=b.path2string;return a},mapPath:function(g,e){if(!e){return g}var k,l,a,b,c,d,h;g=this.path2curve(g);for(a=0,b=g.length;a<b;a++){h=g[a];for(c=1,d=h.length;c<d-1;c+=2){k=e.x(h[c],h[c+1]);l=e.y(h[c],h[c+1]);h[c]=k;h[c+1]=l}}return g},pathClone:function(e){var g=[],c,d,a,b;if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}for(a=0,b=e.length;a<b;a++){g[a]=[];for(c=0,d=e[a].length;c<d;c++){g[a][c]=e[a][c]}}g.toString=this.path2string;return g},pathToAbsolute:function(h){if(!this.is(h,"array")||!this.is(h&&h[0],"array")){h=this.parsePathString(h)}var m=[],n=0,o=0,e=0,g=0,a=0,c=h.length,l,k,b,d;if(c&&h[0][0]=="M"){n=+h[0][1];o=+h[0][2];e=n;g=o;a++;m[0]=["M",n,o]}for(;a<c;a++){l=m[a]=[];k=h[a];if(k[0]!=k[0].toUpperCase()){l[0]=k[0].toUpperCase();switch(l[0]){case"A":l[1]=k[1];l[2]=k[2];l[3]=k[3];l[4]=k[4];l[5]=k[5];l[6]=+(k[6]+n);l[7]=+(k[7]+o);break;case"V":l[1]=+k[1]+o;break;case"H":l[1]=+k[1]+n;break;case"M":e=+k[1]+n;g=+k[2]+o;default:b=1;d=k.length;for(;b<d;b++){l[b]=+k[b]+((b%2)?n:o)}}}else{b=0;d=k.length;for(;b<d;b++){m[a][b]=k[b]}}switch(l[0]){case"Z":n=e;o=g;break;case"H":n=l[1];break;case"V":o=l[1];break;case"M":k=m[a];d=k.length;e=k[d-2];g=k[d-1];default:k=m[a];d=k.length;n=k[d-2];o=k[d-1]}}m.toString=this.path2string;return m},pathToRelative:function(o){if(!this.is(o,"array")||!this.is(o&&o[0],"array")){o=this.parsePathString(o)}var q=[],t=0,u=0,l=0,m=0,s=0,p,n,a,c,e,h,b,d,g;if(o[0][0]=="M"){t=o[0][1];u=o[0][2];l=t;m=u;s++;q.push(["M",t,u])}for(a=s,b=o.length;a<b;a++){p=q[a]=[];n=o[a];if(n[0]!=n[0].toLowerCase()){p[0]=n[0].toLowerCase();switch(p[0]){case"a":p[1]=n[1];p[2]=n[2];p[3]=n[3];p[4]=n[4];p[5]=n[5];p[6]=+(n[6]-t).toFixed(3);p[7]=+(n[7]-u).toFixed(3);break;case"v":p[1]=+(n[1]-u).toFixed(3);break;case"m":l=n[1];m=n[2];default:for(c=1,d=n.length;c<d;c++){p[c]=+(n[c]-((c%2)?t:u)).toFixed(3)}}}else{p=q[a]=[];if(n[0]=="m"){l=n[1]+t;m=n[2]+u}for(e=0,g=n.length;e<g;e++){q[a][e]=n[e]}}h=q[a].length;switch(q[a][0]){case"z":t=l;u=m;break;case"h":t+=+q[a][h-1];break;case"v":u+=+q[a][h-1];break;default:t+=+q[a][h-2];u+=+q[a][h-1]}}q.toString=this.path2string;return q},path2curve:function(e){var d=this,h=d.pathToAbsolute(e),c=h.length,a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b,j,k,g;for(b=0;b<c;b++){h[b]=d.command2curve(h[b],a);if(h[b].length>7){h[b].shift();g=h[b];while(g.length){Ext.Array.splice(h,b++,0,["C"].concat(Ext.Array.splice(g,0,6)))}Ext.Array.erase(h,b,1);c=h.length;b--}j=h[b];k=j.length;a.x=j[k-2];a.y=j[k-1];a.bx=parseFloat(j[k-4])||a.x;a.by=parseFloat(j[k-3])||a.y}return h},interpolatePaths:function(l,m){var h=this,j=h.pathToAbsolute(l),k=h.pathToAbsolute(m),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=function(t,p){if(t[p].length>7){t[p].shift();var s=t[p];while(s.length){Ext.Array.splice(t,p++,0,["C"].concat(Ext.Array.splice(s,0,6)))}Ext.Array.erase(t,p,1);g=Math.max(j.length,k.length||0)}},d=function(u,v,p,s,t){if(u&&v&&u[t][0]=="M"&&v[t][0]!="M"){Ext.Array.splice(v,t,0,["M",s.x,s.y]);p.bx=0;p.by=0;p.x=u[t][1];p.y=u[t][2];g=Math.max(j.length,k.length||0)}},e,g,n,o,r,q;for(e=0,g=Math.max(j.length,k.length||0);e<g;e++){j[e]=h.command2curve(j[e],a);c(j,e);(k[e]=h.command2curve(k[e],b));c(k,e);d(j,k,a,b,e);d(k,j,b,a,e);n=j[e];o=k[e];r=n.length;q=o.length;a.x=n[r-2];a.y=n[r-1];a.bx=parseFloat(n[r-4])||a.x;a.by=parseFloat(n[r-3])||a.y;b.bx=(parseFloat(o[q-4])||b.x);b.by=(parseFloat(o[q-3])||b.y);b.x=o[q-2];b.y=o[q-1]}return[j,k]},command2curve:function(c,a){var b=this;if(!c){return["C",a.x,a.y,a.x,a.y,a.x,a.y]}if(c[0]!="T"&&c[0]!="Q"){a.qx=a.qy=null}switch(c[0]){case"M":a.X=c[1];a.Y=c[2];break;case"A":c=["C"].concat(b.arc2curve.apply(b,[a.x,a.y].concat(c.slice(1))));break;case"S":c=["C",a.x+(a.x-(a.bx||a.x)),a.y+(a.y-(a.by||a.y))].concat(c.slice(1));break;case"T":a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));c=["C"].concat(b.quadratic2curve(a.x,a.y,a.qx,a.qy,c[1],c[2]));break;case"Q":a.qx=c[1];a.qy=c[2];c=["C"].concat(b.quadratic2curve(a.x,a.y,c[1],c[2],c[3],c[4]));break;case"L":c=["C"].concat(a.x,a.y,c[1],c[2],c[1],c[2]);break;case"H":c=["C"].concat(a.x,a.y,c[1],a.y,c[1],a.y);break;case"V":c=["C"].concat(a.x,a.y,a.x,c[1],a.x,c[1]);break;case"Z":c=["C"].concat(a.x,a.y,a.X,a.Y,a.X,a.Y);break}return c},quadratic2curve:function(e,h,c,d,g,j){var a=1/3,b=2/3;return[a*e+b*c,a*h+b*d,a*g+b*c,a*j+b*d,g,j]},rotate:function(d,g,b){var a=Math.cos(b),c=Math.sin(b),e=d*a-g*c,h=d*c+g*a;return{x:e,y:h}},arc2curve:function(Y,ad,P,R,b,u,V,Z,ae,N){var G=this,K=Math.PI,M=G.radian,a=K*120/180,L=M*(+b||0),O=[],E=Math,F=E.cos,H=E.sin,I=E.sqrt,C=E.abs,D=E.asin,ab,X,ac,o,Q,S,s,e,g,l,m,j,c,T,d,U,W,p,q,w,z,A,B,J,r,v,n,aa,af;if(!N){ab=G.rotate(Y,ad,-L);Y=ab.x;ad=ab.y;ab=G.rotate(Z,ae,-L);Z=ab.x;ae=ab.y;X=(Y-Z)/2;ac=(ad-ae)/2;o=(X*X)/(P*P)+(ac*ac)/(R*R);if(o>1){o=I(o);P=o*P;R=o*R}Q=P*P;S=R*R;s=(u==V?-1:1)*I(C((Q*S-Q*ac*ac-S*X*X)/(Q*ac*ac+S*X*X)));e=s*P*ac/R+(Y+Z)/2;g=s*-R*X/P+(ad+ae)/2;l=D(((ad-g)/R).toFixed(7));m=D(((ae-g)/R).toFixed(7));l=Y<e?K-l:l;m=Z<e?K-m:m;if(l<0){l=K*2+l}if(m<0){m=K*2+m}if(V&&l>m){l=l-K*2}if(!V&&m>l){m=m-K*2}}else{l=N[0];m=N[1];e=N[2];g=N[3]}j=m-l;if(C(j)>a){n=m;aa=Z;af=ae;m=l+a*(V&&m>l?1:-1);Z=e+P*F(m);ae=g+R*H(m);O=G.arc2curve(Z,ae,P,R,b,0,V,aa,af,[m,n,e,g])}j=m-l;c=F(l);T=H(l);d=F(m);U=H(m);W=E.tan(j/4);p=4/3*P*W;q=4/3*R*W;w=[Y,ad];z=[Y+p*T,ad-q*c];A=[Z+p*U,ae-q*d];B=[Z,ae];z[0]=2*w[0]-z[0];z[1]=2*w[1]-z[1];if(N){return[z,A,B].concat(O)}else{O=[z,A,B].concat(O).join().split(",");J=[];v=O.length;for(r=0;r<v;r++){J[r]=r%2?G.rotate(O[r-1],O[r],L).y:G.rotate(O[r],O[r+1],L).x}return J}},rotateAndTranslatePath:function(n){var a=n.rotation.degrees,b=n.rotation.x,c=n.rotation.y,d=n.translation.x,e=n.translation.y,l,g,k,o,h,m=[];if(!a&&!d&&!e){return this.pathToAbsolute(n.attr.path)}d=d||0;e=e||0;l=this.pathToAbsolute(n.attr.path);for(g=l.length;g--;){k=m[g]=l[g].slice();if(k[0]=="A"){o=this.rotatePoint(k[6],k[7],a,b,c);k[6]=o.x+d;k[7]=o.y+e}else{h=1;while(k[h+1]!=null){o=this.rotatePoint(k[h],k[h+1],a,b,c);k[h]=o.x+d;k[h+1]=o.y+e;h+=2}}}return m},rotatePoint:function(g,h,a,c,d){if(!a){return{x:g,y:h}}c=c||0;d=d||0;g=g-c;h=h-d;a=a*this.radian;var b=Math.cos(a),e=Math.sin(a);return{x:g*b-h*e+c,y:g*e+h*b+d}},pathDimensions:function(e){if(!e||!(e+"")){return{x:0,y:0,width:0,height:0}}e=this.path2curve(e);var g=0,l=0,h=[],m=[],b=0,c=e.length,d,k,o,j,n,a;for(;b<c;b++){d=e[b];if(d[0]=="M"){g=d[1];l=d[2];h.push(g);m.push(l)}else{a=this.curveDim(g,l,d[1],d[2],d[3],d[4],d[5],d[6]);h=h.concat(a.min.x,a.max.x);m=m.concat(a.min.y,a.max.y);g=d[5];l=d[6]}}k=Math.min.apply(0,h);o=Math.min.apply(0,m);j=Math.max.apply(0,h);n=Math.max.apply(0,m);return{x:Math.round(k),y:Math.round(o),path:e,width:Math.round(j-k),height:Math.round(n-o)}},intersectInside:function(c,a,b){return(b[0]-a[0])*(c[1]-a[1])>(b[1]-a[1])*(c[0]-a[0])},intersectIntersection:function(o,j,a,b){var n=[],c=a[0]-b[0],d=a[1]-b[1],g=o[0]-j[0],h=o[1]-j[1],k=a[0]*b[1]-a[1]*b[0],l=o[0]*j[1]-o[1]*j[0],m=1/(c*h-d*g);n[0]=(k*g-l*c)*m;n[1]=(k*h-l*d)*m;return n},intersect:function(q,a){var n=this,g=0,l=a.length,b=a[l-1],o=q,c,p,d,m,h,k;for(;g<l;++g){c=a[g];h=o;o=[];p=h[h.length-1];k=0;m=h.length;for(;k<m;k++){d=h[k];if(n.intersectInside(d,b,c)){if(!n.intersectInside(p,b,c)){o.push(n.intersectIntersection(p,d,b,c))}o.push(d)}else{if(n.intersectInside(p,b,c)){o.push(n.intersectIntersection(p,d,b,c))}}p=d}b=c}return o},bezier:function(e,g,h,j,n){if(n===0){return e}else{if(n===1){return j}}var l=1-n,k=l*l*l,m=n/l;return k*(e+m*(3*g+m*(3*h+j*m)))},bezierDim:function(e,h,k,m){var t=[],u,g,w,l,n,j,v,q,p,o;if(e+3*k==m+3*h){u=e-h;u/=2*(e-h-h+k);if(u<1&&u>0){t.push(u)}}else{g=e-3*h+3*k-m;w=2*(e-h-h+k);l=e-h;n=w*w-4*g*l;j=g+g;if(n===0){u=w/j;if(u<1&&u>0){t.push(u)}}else{if(n>0){v=Math.sqrt(n);u=(v+w)/j;if(u<1&&u>0){t.push(u)}u=(w-v)/j;if(u<1&&u>0){t.push(u)}}}}q=Math.min(e,m);p=Math.max(e,m);for(o=0;o<t.length;o++){q=Math.min(q,this.bezier(e,h,k,m,t[o]));p=Math.max(p,this.bezier(e,h,k,m,t[o]))}return[q,p]},curveDim:function(e,g,a,b,c,d,h,j){var k=this.bezierDim(e,a,c,h),l=this.bezierDim(g,b,d,j);return{min:{x:k[0],y:l[0]},max:{x:k[1],y:l[1]}}},getAnchors:function(v,w,o,p,s,t,y){y=y||4;var r=Math,u=r.PI,q=u/2,a=r.abs,x=r.sin,n=r.cos,c=r.atan,e,k,d,j,g,h,l,m,b;e=(o-v)/y;k=(s-o)/y;if((p>=w&&p>=t)||(p<=w&&p<=t)){d=j=q}else{d=c((o-v)/a(p-w));if(w<p){d=u-d}j=c((s-o)/a(p-t));if(t<p){j=u-j}}b=q-((d+j)%(u*2))/2;if(b>q){b-=u}d+=b;j+=b;g=o-e*x(d);h=p+e*n(d);l=o+k*x(j);m=p+k*n(j);if((p>w&&h<w)||(p<w&&h>w)){g+=a(w-h)*(g-o)/(h-p);h=w}if((p>t&&m<t)||(p<t&&m>t)){l-=a(t-m)*(l-o)/(m-p);m=t}return{x1:g,y1:h,x2:l,y2:m}},smooth:function(l,u){var m=this.path2curve(l),k=[m[0]],v=m[0][1],w=m[0][2],e,t,c=1,d=m.length,a=1,g=v,h=w,n,o,p,q,r,s,b;for(;c<d;c++){n=m[c];o=n.length;p=m[c-1];q=p.length;r=m[c+1];s=r&&r.length;if(n[0]=="M"){g=n[1];h=n[2];e=c+1;while(m[e][0]!="C"){e++}k.push(["M",g,h]);a=k.length;v=g;w=h;continue}if(n[o-2]==g&&n[o-1]==h&&(!r||r[0]=="M")){b=k[a].length;t=this.getAnchors(p[q-2],p[q-1],g,h,k[a][b-2],k[a][b-1],u);k[a][1]=t.x2;k[a][2]=t.y2}else{if(!r||r[0]=="M"){t={x1:n[o-2],y1:n[o-1]}}else{t=this.getAnchors(p[q-2],p[q-1],n[o-2],n[o-1],r[s-2],r[s-1],u)}}k.push(["C",v,w,t.x1,t.y1,n[o-2],n[o-1]]);v=t.x2;w=t.y2}return k},findDotAtSegment:function(e,g,a,b,c,d,h,j,k){var l=1-k;return{x:Math.pow(l,3)*e+Math.pow(l,2)*3*k*a+l*3*k*k*c+Math.pow(k,3)*h,y:Math.pow(l,3)*g+Math.pow(l,2)*3*k*b+l*3*k*k*d+Math.pow(k,3)*j}},snapEnds:function(c,q,p,l){if(Ext.isDate(c)){return this.snapEndsByDate(c,q,p)}var n=(q-c)/p,g=Math.floor(Math.log(n)/Math.LN10)+1,j=Math.pow(10,g),a,b,k=Math.round((n%j)*Math.pow(10,2-g)),e=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],o=0,t,u,d,r,s=1000000000,h=e.length;b=Math.floor(c/j)*j;if(c==b&&b>0){b=Math.floor((c-(j/10))/j)*j}if(l){for(d=0;d<h;d++){t=e[d][0];u=(t-k)<0?1000000:(t-k)/e[d][1];if(u<s){r=t;s=u}}n=Math.floor(n*Math.pow(10,-g))*Math.pow(10,g)+r*Math.pow(10,g-2);if(c<0&&q>=0){a=0;while(a>c){a-=n;o++}c=+a.toFixed(10);a=0;while(a<q){a+=n;o++}q=+a.toFixed(10)}else{a=c=b;while(a<q){a+=n;o++}}q=+a.toFixed(10)}else{c=b;o=p}return{from:c,to:q,power:g,step:n,steps:o}},snapEndsByDate:function(a,n,l,c){var h=false,g=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],k=g.length,m=false,e,b,o,d;for(d=0;d<k;d++){e=g[d];if(!m){for(b=0;b<e[1].length;b++){if(n<Ext.Date.add(a,e[0],e[1][b]*l)){h=[e[0],e[1][b]];m=true;break}}}}if(!h){o=this.snapEnds(a.getFullYear(),n.getFullYear()+1,l,c);h=[Date.YEAR,Math.round(o.step)]}return this.snapEndsByDateAndStep(a,n,h,c)},snapEndsByDateAndStep:function(d,p,j,g){var e=[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()],k,n,o,a,q,h,b,c,l=j[0],m=j[1];if(g){n=d}else{switch(l){case Ext.Date.MILLI:n=new Date(e[0],e[1],e[2],e[3],e[4],e[5],Math.floor(e[6]/m)*m);break;case Ext.Date.SECOND:n=new Date(e[0],e[1],e[2],e[3],e[4],Math.floor(e[5]/m)*m,0);break;case Ext.Date.MINUTE:n=new Date(e[0],e[1],e[2],e[3],Math.floor(e[4]/m)*m,0,0);break;case Ext.Date.HOUR:n=new Date(e[0],e[1],e[2],Math.floor(e[3]/m)*m,0,0,0);break;case Ext.Date.DAY:n=new Date(e[0],e[1],Math.floor((e[2]-1)/m)*m+1,0,0,0,0);break;case Ext.Date.MONTH:n=new Date(e[0],Math.floor(e[1]/m)*m,1,0,0,0,0);break;default:n=new Date(Math.floor(e[0]/m)*m,0,1,0,0,0,0);break}}c=((l===Ext.Date.MONTH)&&(m==1/2||m==1/3||m==1/4));k=(c?[]:0);o=new Date(n);while(o<p){if(c){a=new Date(o);q=a.getFullYear();h=a.getMonth();b=a.getDate();switch(m){case 1/2:if(b>=15){b=1;if(++h>11){q++}}else{b=15}break;case 1/3:if(b>=20){b=1;if(++h>11){q++}}else{if(b>=10){b=20}else{b=10}}break;case 1/4:if(b>=22){b=1;if(++h>11){q++}}else{if(b>=15){b=22}else{if(b>=8){b=15}else{b=8}}}break}o.setYear(q);o.setMonth(h);o.setDate(b);k.push(new Date(o))}else{o=Ext.Date.add(o,l,m);k++}}if(g){o=p}if(c){return{from:+n,to:+o,steps:k}}else{return{from:+n,to:+o,step:(o-n)/k,steps:k}}},sorter:function(c,d){return c.offset-d.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(b,c,a){a=a||{};return(b>=a.x&&b<=(a.x+a.width)&&c>=a.y&&c<=(a.y+a.height))},parseGradient:function(b){var d=this,l=b.type||"linear",a=b.angle||0,e=d.radian,j=b.stops,k=[],g,m,c,h;if(l=="linear"){m=[0,0,Math.cos(a*e),Math.sin(a*e)];c=1/(Math.max(Math.abs(m[2]),Math.abs(m[3]))||1);m[2]*=c;m[3]*=c;if(m[2]<0){m[0]=-m[2];m[2]=0}if(m[3]<0){m[1]=-m[3];m[3]=0}}for(g in j){if(j.hasOwnProperty(g)&&d.stopsRE.test(g)){h={offset:parseInt(g,10),color:Ext.draw.Color.toHex(j[g].color)||"#ffffff",opacity:j[g].opacity||1};k.push(h)}}Ext.Array.sort(k,d.sorter);if(l=="linear"){return{id:b.id,type:l,vector:m,stops:k}}else{return{id:b.id,type:l,centerX:b.centerX,centerY:b.centerY,focalX:b.focalX,focalY:b.focalY,radius:b.radius,vector:m,stops:k}}}});Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(d,c,b,e,a){b=(typeof b=="number")?b:1;var j=this.unitRE,g=j.exec(d),h,k;if(g){d=g[1];k=g[2];if(!this.scrollRE.test(a)&&!k&&this.pixelDefaultsRE.test(a)){k="px"}}d=+d||0;g=j.exec(c);if(g){c=g[1];k=g[2]||k}c=+c||0;h=(e!=null)?e:d;return{from:d,delta:(c-h)*b,units:k}},get:function(d,c,b,h,a){var m=d.length,n=[],e,g,o,k,l;for(e=0;e<m;e++){if(h){g=h[e][1].from}if(Ext.isArray(d[e][1])&&Ext.isArray(c)){o=[];k=0;l=d[e][1].length;for(;k<l;k++){o.push(this.computeDelta(d[e][1][k],c[k],b,g,a))}n.push([d[e][0],o])}else{n.push([d[e][0],this.computeDelta(d[e][1],c,b,g,a)])}}return n},set:function(l,a){var e=l.length,g=[],b,k,h,d,c;for(b=0;b<e;b++){k=l[b][1];if(Ext.isArray(k)){h=[];c=0;d=k.length;for(;c<d;c++){h.push(k[c].from+k[c].delta*a+(k[c].units||0))}g.push([l[b][0],h])}else{g.push([l[b][0],k.from+k.delta*a+(k.units||0)])}}return g}},stringHandler:{computeDelta:function(d,c,b,e,a){return{from:d,delta:c}},get:function(d,c,b,h,a){var m=d.length,n=[],e,g,o,k,l;for(e=0;e<m;e++){n.push([d[e][0],this.computeDelta(d[e][1],c,b,g,a)])}return n},set:function(l,a){var e=l.length,g=[],b,k,h,d,c;for(b=0;b<e;b++){k=l[b][1];g.push([l[b][0],k.delta])}return g}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(b,c){c=(typeof c=="number")?c:1;var h=false,k=[this.hexRE,this.rgbRE,this.hex3RE],e=k.length,g,a,j,d;for(d=0;d<e;d++){j=k[d];a=(d%2===0)?16:10;g=j.exec(b);if(g&&g.length===4){if(d===2){g[1]+=g[1];g[2]+=g[2];g[3]+=g[3]}h={red:parseInt(g[1],a),green:parseInt(g[2],a),blue:parseInt(g[3],a)};break}}return h||b},computeDelta:function(c,b,a,d){c=this.parseColor(c);b=this.parseColor(b,a);var e=d?d:c,h=typeof e,g=typeof b;if(h=="string"||h=="undefined"||g=="string"||g=="undefined"){return b||e}return{from:c,delta:{red:Math.round((b.red-e.red)*a),green:Math.round((b.green-e.green)*a),blue:Math.round((b.blue-e.blue)*a)}}},get:function(j,b,a,e){var g=j.length,h=[],c,d;for(c=0;c<g;c++){if(e){d=e[c][1].from}h.push([j[c][0],this.computeDelta(j[c][1],b,a,d)])}return h},set:function(k,b){var e=k.length,g=[],d,j,h,c,a;for(d=0;d<e;d++){j=k[d][1];if(j){c=j.from;a=j.delta;j=(typeof j=="object"&&"red" in j)?"rgb("+j.red+", "+j.green+", "+j.blue+")":j;j=(typeof j=="object"&&j.length)?j[0]:j;if(typeof j=="undefined"){return[]}h=typeof j=="string"?j:"rgb("+[(c.red+Math.round(a.red*b))%256,(c.green+Math.round(a.green*b))%256,(c.blue+Math.round(a.blue*b))%256].join(",")+")";g.push([k[d][0],h])}}return g}},object:{interpolate:function(d,a){a=(typeof a=="number")?a:1;var b={},c;for(c in d){b[c]=parseFloat(d[c])*a}return b},computeDelta:function(d,c,a,e){d=this.interpolate(d);c=this.interpolate(c,a);var h=e?e:d,b={},g;for(g in c){b[g]=c[g]-h[g]}return{from:d,delta:b}},get:function(j,b,a,e){var g=j.length,h=[],c,d;for(c=0;c<g;c++){if(e){d=e[c][1].from}h.push([j[c][0],this.computeDelta(j[c][1],b,a,d)])}return h},set:function(l,b){var e=l.length,g=[],h={},d,c,a,k,j;for(d=0;d<e;d++){k=l[d][1];c=k.from;a=k.delta;for(j in c){h[j]=c[j]+a[j]*b}g.push([l[d][0],h])}return g}},path:{computeDelta:function(c,b,a,d){a=(typeof a=="number")?a:1;var e;c=+c||0;b=+b||0;e=(d!=null)?d:c;return{from:c,delta:(b-e)*a}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(q,c,a,h){var d=this.forcePath(c),n=[],r=q.length,t,p,e,b,g,l,m,o,s;for(e=0;e<r;e++){s=this.forcePath(q[e][1]);b=Ext.draw.Draw.interpolatePaths(s,d);s=b[0];d=b[1];t=s.length;o=[];for(l=0;l<t;l++){b=[s[l][0]];p=s[l].length;for(m=1;m<p;m++){g=h&&h[0][1][l][m].from;b.push(this.computeDelta(s[l][m],d[l][m],a,g))}o.push(b)}n.push([q[e][0],o])}return n},set:function(p,d){var l=p.length,n=[],e,g,h,m,a,b,c,o;for(e=0;e<l;e++){b=p[e][1];m=[];c=b.length;for(g=0;g<c;g++){a=[b[g][0]];o=b[g].length;for(h=1;h<o;h++){a.push(b[g][h].from+b[g][h].delta*d)}m.push(a.join(","))}n.push([p[e][0],m.join(",")])}return n}}}},function(){var d=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],b=d.length,a=0,c;for(;a<b;a++){c=d[a];this[c]=this.color}d=["cursor"];b=d.length;a=0;for(;a<b;a++){c=d[a];this[c]=this.stringHandler}});Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var c=this,b;a=a||{};if(a.keyframes){return new Ext.fx.Animator(a)}Ext.apply(c,a);if(c.from===undefined){c.from={}}c.propHandlers={};c.config=a;c.target=Ext.fx.Manager.createTarget(c.target);c.easingFn=Ext.fx.Easing[c.easing];c.target.dynamic=c.dynamic;if(!c.easingFn){c.easingFn=String(c.easing).match(c.bezierRE);if(c.easingFn&&c.easingFn.length==5){b=c.easingFn;c.easingFn=Ext.fx.CubicBezier.cubicBezier(+b[1],+b[2],+b[3],+b[4])}}c.id=Ext.id(null,"ext-anim-");c.addEvents("beforeanimate","afteranimate","lastframe");c.mixins.observable.constructor.call(c);Ext.fx.Manager.addAnim(c)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var e=this,c=e.from,k=e.to,d=e.initialFrom||{},g={},j,b,h,a;for(a in k){if(k.hasOwnProperty(a)){j=e.target.getAttr(a,c[a]);b=k[a];if(!Ext.fx.PropertyHandler[a]){if(Ext.isObject(b)){h=e.propHandlers[a]=Ext.fx.PropertyHandler.object}else{h=e.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler}}else{h=e.propHandlers[a]=Ext.fx.PropertyHandler[a]}g[a]=h.get(j,b,e.damper,d[a],a)}}e.currentAttrs=g},start:function(e){var d=this,a=d.delay,c=d.delayStart,b;if(a){if(!c){d.delayStart=e;return}else{b=e-c;if(b<a){return}else{e=new Date(c.getTime()+a)}}}if(d.fireEvent("beforeanimate",d)!==false){d.startTime=e;if(!d.paused&&!d.currentAttrs){d.initAttrs()}d.running=true;d.frameCount=0}},runAnim:function(g){var j=this,b=j.currentAttrs,c=j.duration,e=j.easingFn,k=j.propHandlers,l={},d,m,a,h;if(g>=c){g=c;h=true}if(j.reverse){g=c-g}for(a in b){if(b.hasOwnProperty(a)){m=b[a];d=h?1:e(g/c);l[a]=k[a].set(m,d)}}j.frameCount++;return l},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++;if(b<a){if(c.alternate){c.reverse=!c.reverse}c.startTime=new Date();c.currentIteration=b;c.paused=false}else{c.currentIteration=0;c.end();c.fireEvent("lastframe",c,c.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++){return}var a=this;a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.util.Animate",{isAnimate:true,animate:function(a){var b=this;if(Ext.fx.Manager.hasFxBlock(b.id)){return b}Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));return this},anim:function(a){if(!Ext.isObject(a)){return(a)?{}:false}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()});Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var b=this,a;if(b.hasOwnProperty("childEls")){a=b.childEls;delete b.childEls;b.addChildEls.apply(b,a)}},destroy:function(){var g=this,b=g.getChildEls(),a,c,d,e;for(d=b.length;d--;){c=b[d];if(typeof c!="string"){c=c.name}a=g[c];if(a){g[c]=null;a.remove()}}},addChildEls:function(){var b=this,a=arguments;if(b.hasOwnProperty("childEls")){b.childEls.push.apply(b.childEls,a)}else{b.childEls=b.getChildEls().concat(Array.prototype.slice.call(a))}b.prune(b.childEls,false)},applyChildEls:function(d,g){var h=this,b=h.getChildEls(),a,c,e,j,k;a=(g||h.id)+"-";for(e=b.length;e--;){c=b[e];if(typeof c=="string"){k=d.getById(a+c)}else{if((j=c.select)){k=Ext.select(j,true,d.dom)}else{if((j=c.selectNode)){k=Ext.get(Ext.DomQuery.selectNode(j,d.dom))}else{k=d.getById(c.id||(a+c.itemId))}}c=c.name}h[c]=k}},getChildEls:function(){var a=this,b;if(a.hasOwnProperty("childEls")){return a.childEls}b=a.self;return b.$childEls||a.getClassChildEls(b)},getClassChildEls:function(b){var g=this,n=b.$childEls,a,d,e,c,h,j,k,l,m,p,o;if(!n){p=b.superclass;if(p){p=p.self;l=[p.$childEls||g.getClassChildEls(p)];o=p.prototype.mixins||{}}else{l=[];o={}}m=b.prototype;j=m.mixins;for(k in j){if(j.hasOwnProperty(k)&&!o.hasOwnProperty(k)){h=j[k].self;l.push(h.$childEls||g.getClassChildEls(h))}}l.push(m.hasOwnProperty("childEls")&&m.childEls);for(d=0,e=l.length;d<e;++d){a=l[d];if(a&&a.length){if(!n){n=a}else{if(!c){c=true;n=n.slice(0)}n.push.apply(n,a)}}}b.$childEls=n=(n?g.prune(n,!c):[])}return n},prune:function(a,e){var b=a.length,c={},d;while(b--){d=a[b];if(typeof d!="string"){d=d.name}if(!c[d]){c[d]=1}else{if(e){e=false;a=a.slice(0)}Ext.Array.erase(a,b,1)}}return a},removeChildEls:function(h){var d=this,g=d.getChildEls(),c=(d.childEls=[]),e,b,a;for(b=0,e=g.length;b<e;++b){a=g[b];if(!h(a)){c.push(a)}}}});Ext.define("Ext.util.Renderable",{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e=this,b={},h=e.protoEl,j=e.el,d,g,c,a;e.finishRenderChildren();if(e.contentEl){g=Ext.baseCSSPrefix;c=g+"hide-";a=Ext.get(e.contentEl);a.removeCls([g+"hidden",c+"display",c+"offsets",c+"nosize"]);e.getContentTarget().appendChild(a.dom)}h.writeTo(b);d=b.removed;if(d){j.removeCls(d)}d=b.cls;if(d.length){j.addCls(d)}d=b.style;if(b.style){j.setStyle(d)}e.protoEl=null;if(!e.ownerCt){e.updateLayout()}},afterFirstLayout:function(g,c){var d=this,h=d.x,k=d.y,a,b,e,j;if(!d.ownerLayout){a=Ext.isDefined(h);b=Ext.isDefined(k)}if(d.floating&&(!a||!b)){if(d.floatParent){e=d.floatParent.getTargetEl().getViewRegion();j=d.el.getAlignToXY(d.floatParent.getTargetEl(),"c-c");e.x=j[0]-e.x;e.y=j[1]-e.y}else{j=d.el.getAlignToXY(d.container,"c-c");e=d.container.translateXY(j[0],j[1])}h=a?h:e.x;k=b?k:e.y;a=b=true}if(a||b){d.setPosition(h,k)}d.onBoxReady(g,c)},applyRenderSelectors:function(){var c=this,e=c.renderSelectors,b=c.el,a=b.dom,d;c.applyChildEls(b);if(e){for(d in e){if(e.hasOwnProperty(d)&&e[d]){c[d]=Ext.get(Ext.DomQuery.selectNode(e[d],a))}}}},beforeRender:function(){var b=this,e=b.getTargetEl(),c=b.getOverflowEl(),a=b.getComponentLayout(),d=b.getOverflowStyle();b.frame=b.frame||b.alwaysFramed;if(!a.initialized){a.initLayout()}if(c){c.setStyle(d);b.overflowStyleSet=true}b.setUI(b.ui);if(b.disabled){b.disable(true)}},doApplyRenderTpl:function(b,d){var a=d.$comp,c;if(!a.rendered){c=a.initRenderTpl();c.applyOut(d.renderData,b)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(b,c){var a=c.$comp;if(a.html){Ext.DomHelper.generateMarkup(a.html,b);delete a.html}if(a.tpl){if(!a.tpl.isTemplate){a.tpl=new Ext.XTemplate(a.tpl)}if(a.data){a.tpl.applyOut(a.data,b);delete a.data}}},doRenderFramingDockedItems:function(c,d,a){var b=d.$comp;if(!b.rendered&&b.doRenderDockedItems){d.renderData.$skipDockedItems=true;b.doRenderDockedItems.call(this,c,d,a)}},finishRender:function(a){var d=this,e,b,c;if(!d.el||d.$pid){if(d.container){c=d.container.getById(d.id,true)}else{c=Ext.getDom(d.id)}if(!d.el){d.wrapPrimaryEl(c)}else{delete d.$pid;if(!d.el.dom){d.wrapPrimaryEl(d.el)}c.parentNode.insertBefore(d.el.dom,c);Ext.removeNode(c)}}else{if(!d.rendering){e=d.initRenderTpl();if(e){b=d.initRenderData();e.insertFirst(d.getTargetEl(),b)}}}if(!d.container){d.container=Ext.get(d.el.dom.parentNode)}if(d.ctCls){d.container.addCls(d.ctCls)}d.onRender(d.container,a);if(!d.overflowStyleSet){d.getOverflowEl().setStyle(d.getOverflowStyle())}d.el.setVisibilityMode(Ext.Element[d.hideMode.toUpperCase()]);if(d.overCls){d.el.hover(d.addOverCls,d.removeOverCls,d)}if(d.hasListeners.render){d.fireEvent("render",d)}d.afterRender();if(d.hasListeners.afterrender){d.fireEvent("afterrender",d)}d.initEvents();if(d.hidden){d.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var k=this,a=k.autoEl,g=k.getFrameInfo(),b={tag:"div",tpl:g?k.initFramingTpl(g.table):k.initRenderTpl()},l=k.protoEl,h,d,j,m,e,c;k.initStyles(l);l.writeTo(b);l.flush();if(Ext.isString(a)){b.tag=a}else{Ext.apply(b,a)}b.id=k.id;if(b.tpl){if(g){d=k.frameElNames;j=d.length;b.tplData=c=k.getFrameRenderData();c.renderData=k.initRenderData();e=c.fgid;for(h=0;h<j;h++){m=d[h];k.addChildEls({name:"frame"+m,id:e+m})}k.addChildEls({name:"frameBody",id:e+"MC"})}else{b.tplData=k.initRenderData()}}return b},initFramingTpl:function(a){var b=this.getFrameTpl(a);if(b&&!b.applyRenderTpl){this.setupFramingTpl(b)}return b},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent("beforerender",a)!==false){a.beforeRender();a.rendering=true;if(a.el){return{tag:"div",id:(a.$pid=Ext.id())}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:""},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(g,a){var e=this,j=e.x,k=e.y,d=null,h,c,b=e.el;e.applyRenderSelectors();e.rendering=null;e.rendered=true;if(j!=null){d={x:j}}if(k!=null){(d=d||{}).y=k}if(!e.getFrameInfo()&&Ext.isBorderBox){h=e.width;c=e.height;if(typeof h==="number"){d=d||{};d.width=h}if(typeof c==="number"){d=d||{};d.height=c}}e.lastBox=b.lastBox=d},render:function(a,e){var c=this,b=c.el&&(c.el=Ext.get(c.el)),h,g,d;Ext.suspendLayouts();a=c.initContainer(a);d=c.getInsertPosition(e);if(!b){g=c.getRenderTree();if(c.ownerLayout&&c.ownerLayout.transformItemRenderTree){g=c.ownerLayout.transformItemRenderTree(g)}if(g){if(d){b=Ext.DomHelper.insertBefore(d,g)}else{b=Ext.DomHelper.append(a,g)}c.wrapPrimaryEl(b)}}else{if(!c.hasListeners.beforerender||c.fireEvent("beforerender",c)!==false){c.beforeRender();c.initStyles(b);if(c.allowDomMove!==false){if(d){a.dom.insertBefore(b.dom,d)}else{a.dom.appendChild(b.dom)}}}else{h=true}}if(b&&!h){c.finishRender(e)}Ext.resumeLayouts(!c.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(c){var b=this,a;while(b.ownerCt){b=b.ownerCt}if(b.container.isDetachedBody){b.container=a=Ext.getBody();a.appendChild(b.el.dom);if(c){b.updateLayout()}if(typeof b.x=="number"||typeof b.y=="number"){b.setPosition(b.x,b.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var j=this,d=j.getFrameInfo(),e,c,b=j.frameElNames,h=b.length,g,a,k;if(d){e=j.getFrameTpl(d.table);a=j.getFrameRenderData();c=a.fgid;e.insertFirst(j.el,a);j.frameBody=j.el.down("."+j.frameCls+"-mc");j.removeChildEls(function(l){return l.id&&j.frameIdRegex.test(l.id)});for(g=0;g<h;g++){k=b[g];j["frame"+k]=j.el.getById(c+k)}}},getFrameRenderData:function(){var c=this,b=c.frameSize,a=(c.frameGenId||0)+1;c.frameGenId=a;return{$comp:c,fgid:c.id+"-frame"+a,ui:c.ui,uiCls:c.uiCls,frameCls:c.frameCls,baseCls:c.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:""}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var a=this,h=a.frameSize&&a.frameSize.table,g=a.frameTL,c=a.frameBL,e=a.frameML,d=a.frameMC,b;a.initFrame();if(d){if(a.frame){b=a.frameMC.dom.className;d.insertAfter(a.frameMC);a.frameMC.remove();a.frameBody=a.frameMC=d;d.dom.className=b;if(h){a.el.query("> table")[1].remove()}else{if(g){g.remove()}if(c){c.remove()}if(e){e.remove()}}}}else{if(a.frame){a.applyRenderSelectors()}}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var u=this,n=u.frameInfoCache,k=u.getFramingInfoCls()+"-frameInfo",m=n[k],t=Math.max,z,s,r,q,p,l,o,j,h,e,g,y,x,v,w,c,d,b,a;if(m==null){z=Ext.fly(u.getStyleProxy(k),"frame-style-el");r=z.getStyle("font-family");if(r){r=r.split("-");c=parseInt(r[1],10);d=parseInt(r[2],10);b=parseInt(r[3],10);a=parseInt(r[4],10);j=parseInt(r[5],10);h=parseInt(r[6],10);e=parseInt(r[7],10);g=parseInt(r[8],10);y=parseInt(r[9],10);x=parseInt(r[10],10);v=parseInt(r[11],10);w=parseInt(r[12],10);q=t(j,t(c,d));p=t(h,t(d,b));l=t(e,t(a,b));o=t(g,t(c,a));m={table:r[0].charAt(0)==="t",vertical:r[0].charAt(1)==="v",top:q,right:p,bottom:l,left:o,width:o+p,height:q+l,maxWidth:t(q,p,l,o),border:{top:j,right:h,bottom:e,left:g,width:g+h,height:j+e},padding:{top:y,right:x,bottom:v,left:w,width:w+x,height:y+v},radius:{tl:c,tr:d,br:b,bl:a}}}else{m=false}n[k]=m}u.frame=!!m;u.frameSize=m;return m},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,true));b.className=a;return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}});Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a);b.addEvents("statechange");b.state={};b.mixins.observable.constructor.call(b)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(b){var a=this;delete a.state[b];a.fireEvent("statechange",a,b,null)},set:function(b,c){var a=this;a.state[b]=c;a.fireEvent("statechange",a,b,c)},decodeValue:function(j){var d=this,e=/^(a|n|d|b|s|o|e)\:(.*)$/,c=e.exec(unescape(j)),a,g,b,k,l,h;if(!c||!c[1]){return}g=c[1];j=c[2];switch(g){case"e":return null;case"n":return parseFloat(j);case"d":return new Date(Date.parse(j));case"b":return(j=="1");case"a":a=[];if(j!=""){k=j.split("^");l=k.length;for(h=0;h<l;h++){j=k[h];a.push(d.decodeValue(j))}}return a;case"o":a={};if(j!=""){k=j.split("^");l=k.length;for(h=0;h<l;h++){j=k[h];b=j.split("=");a[b[0]]=d.decodeValue(b[1])}}return a;default:return j}},encodeValue:function(g){var b="",c=0,a,e,d;if(g==null){return"e:1"}else{if(typeof g=="number"){a="n:"+g}else{if(typeof g=="boolean"){a="b:"+(g?"1":"0")}else{if(Ext.isDate(g)){a="d:"+g.toGMTString()}else{if(Ext.isArray(g)){for(e=g.length;c<e;c++){b+=this.encodeValue(g[c]);if(c!=e-1){b+="^"}}a="a:"+b}else{if(typeof g=="object"){for(d in g){if(typeof g[d]!="function"&&g[d]!==undefined){b+=d+"="+this.encodeValue(g[d])+"^"}}a="o:"+b.substring(0,b.length-1)}else{a="s:"+g}}}}}}return escape(a)}});Ext.define("Ext.state.Manager",{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixins:{observable:Ext.util.Observable},stateful:false,saveDelay:100,constructor:function(a){var b=this;a=a||{};if(a.stateful!==undefined){b.stateful=a.stateful}if(a.saveDelay!==undefined){b.saveDelay=a.saveDelay}b.stateId=b.stateId||a.stateId;if(!b.stateEvents){b.stateEvents=[]}if(a.stateEvents){b.stateEvents.concat(a.stateEvents)}this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");b.mixins.observable.constructor.call(b);if(b.stateful!==false){b.addStateEvents(b.stateEvents);b.initState()}},addStateEvents:function(b){var d=this,c,a,e;if(d.stateful&&d.getStateId()){if(typeof b=="string"){b=Array.prototype.slice.call(arguments,0)}e=d.stateEventsByName||(d.stateEventsByName={});for(c=b.length;c--;){a=b[c];if(!e[a]){e[a]=1;d.on(a,d.onStateChange,d)}}}},onStateChange:function(){var b=this,a=b.saveDelay,d,c;if(!b.stateful){return}if(a){if(!b.stateTask){d=Ext.state.Stateful;c=d.runner||(d.runner=new Ext.util.TaskRunner());b.stateTask=c.newTask({run:b.saveState,scope:b,interval:a,repeat:1})}b.stateTask.start()}else{b.saveState()}},saveState:function(){var c=this,b=c.stateful&&c.getStateId(),a=c.hasListeners,d;if(b){d=c.getState()||{};if(!a.beforestatesave||c.fireEvent("beforestatesave",c,d)!==false){Ext.state.Manager.set(b,d);if(a.statesave){c.fireEvent("statesave",c,d)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var c=this,b=c.stateful&&c.getStateId(),a=c.hasListeners,d;if(b){d=Ext.state.Manager.get(b);if(d){d=Ext.apply({},d);if(!a.beforestaterestore||c.fireEvent("beforestaterestore",c,d)!==false){c.applyState(d);if(a.staterestore){c.fireEvent("staterestore",c,d)}}}}},savePropToState:function(c,d,e){var b=this,g=b[c],a=b.initialConfig;if(b.hasOwnProperty(c)){if(!a||a[c]!==g){if(d){d[e||c]=g}return true}}return false},savePropsToState:function(d,e){var b=this,a,c;if(typeof d=="string"){b.savePropToState(d,e)}else{for(a=0,c=d.length;a<c;++a){b.savePropToState(d[a],e)}}return e},destroy:function(){var a=this,b=a.stateTask;if(b){b.destroy();a.stateTask=null}a.clearListeners()}});Ext.define("Ext.AbstractComponent",{mixins:{positionable:Ext.util.Positionable,observable:Ext.util.Observable,animate:Ext.util.Animate,elementCt:Ext.util.ElementContainer,renderable:Ext.util.Renderable,state:Ext.state.Stateful},statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,c){var b=this.runningLayoutContext||this.pendingLayouts;if(b){b.cancelComponent(a,false,c)}},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var c=this.callParent();if(Ext.globalEvents.hasListeners.afterlayout){Ext.globalEvents.fireEvent("afterlayout")}return c}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.globalEvents.hasListeners.resumelayouts){Ext.globalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this,e=c.runningLayoutContext,d;if(e){e.queueInvalidate(a)}else{d=c.pendingLayouts||(c.pendingLayouts=new Ext.layout.Context());d.queueInvalidate(a);if(!b&&!c.layoutSuspendCount&&!a.isLayoutSuspended()){c.flushLayouts()}}}},isComponent:true,getAutoId:function(){this.autoGenId=true;return ++Ext.AbstractComponent.AUTO_ID},deferLayouts:false,autoGenId:false,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",autoShow:false,autoRender:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:true,_isLayoutRoot:false,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(a){var d=this,b,c,e;if(a){Ext.apply(d,a);e=d.xhooks;if(e){delete d.xhooks;Ext.override(d,e)}}else{a={}}d.initialConfig=a;d.mixins.elementCt.constructor.call(d);d.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");d.getId();d.setupProtoEl();if(d.cls){d.initialCls=d.cls;d.protoEl.addCls(d.cls)}if(d.style){d.initialStyle=d.style;d.protoEl.setStyle(d.style)}d.renderData=d.renderData||{};d.renderSelectors=d.renderSelectors||{};if(d.plugins){d.plugins=d.constructPlugins()}if(!d.hasListeners){d.hasListeners=new d.HasListeners()}d.initComponent();Ext.ComponentManager.register(d);d.mixins.observable.constructor.call(d);d.mixins.state.constructor.call(d,a);this.addStateEvents("resize");if(d.plugins){for(b=0,c=d.plugins.length;b<c;b++){d.plugins[b]=d.initPlugin(d.plugins[b])}}d.loader=d.getLoader();if(d.renderTo){d.render(d.renderTo)}if(d.autoShow&&!d.isContained){d.show()}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var a=this,c=null,b=a.getSizeModel();if(b.width.configured){c=a.addPropertyToState(c,"width")}if(b.height.configured){c=a.addPropertyToState(c,"height")}return c},addPropertyToState:function(d,c,e){var b=this,a=arguments.length;if(a==3||b.hasOwnProperty(c)){if(a<3){e=b[c]}if(e!==b.initialConfig[c]){(d||(d={}))[c]=e}}return d},show:Ext.emptyFn,animate:function(a){var m=this,k,j,q,r,p,c,b,e,s,d,g,l,t,u,o,n;a=a||{};p=a.to||{};if(Ext.fx.Manager.hasFxBlock(m.id)){return m}k=Ext.isDefined(p.width);if(k){r=Ext.Number.constrain(p.width,m.minWidth,m.maxWidth)}j=Ext.isDefined(p.height);if(j){q=Ext.Number.constrain(p.height,m.minHeight,m.maxHeight)}if(!a.dynamic&&(k||j)){e=(a.from?a.from.width:undefined)||m.getWidth();s=e;d=(a.from?a.from.height:undefined)||m.getHeight();g=d;l=false;if(j&&q>d){g=q;l=true}if(k&&r>e){s=r;l=true}if(j||k){n=m.el.getStyle("overtflow");if(n!=="hidden"){m.el.setStyle("overflow","hidden")}}if(l){c=!Ext.isNumber(m.width);b=!Ext.isNumber(m.height);m.setSize(s,g);m.el.setSize(e,d);if(c){delete m.width}if(b){delete m.height}}if(k){p.width=r}if(j){p.height=q}}t=m.constrain;u=m.constrainHeader;if(t||u){m.constrain=m.constrainHeader=false;o=a.callback;a.callback=function(){m.constrain=t;m.constrainHeader=u;if(o){o.call(a.scope||m,arguments)}if(n!=="hidden"){m.el.setStyle("overflow",n)}}}return m.mixins.animate.animate.apply(m,arguments)},setHiddenState:function(a){var b=this.getHierarchyState();this.hidden=a;if(a){b.hidden=true}else{delete b.hidden}},onHide:function(){if(this.ownerLayout){this.updateLayout({isRoot:false})}},onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(b){var a=this;if(typeof b=="string"){b=Ext.PluginManager.create({},b,a)}else{b=Ext.PluginManager.create(b,null,a)}return b},constructPlugins:function(){var c=this,d=c.plugins,e,a,b;if(d){e=[];if(!Ext.isArray(d)){d=[d]}for(a=0,b=d.length;a<b;a++){e[a]=c.constructPlugin(d[a])}}c.pluginsInitialized=true;return e},initPlugin:function(a){a.init(this);return a},addPlugin:function(b){var a=this;b=a.constructPlugin(b);if(a.plugins){a.plugins.push(b)}else{a.plugins=[b]}if(a.pluginsInitialized){a.initPlugin(b)}return b},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},findPlugin:function(d){var a,c=this.plugins,b=c&&c.length;for(a=0;a<b;a++){if(c[a].ptype===d){return c[a]}}},getPlugin:function(c){var a,d=this.plugins,b=d&&d.length;for(a=0;a<b;a++){if(d[a].pluginId===c){return d[a]}}},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(a){var b=this;if(!b.floatingDescendants){b.floatingDescendants=new Ext.ZIndexManager(b)}b.floatingDescendants.register(a)},unregisterFloatingItem:function(a){var b=this;if(b.floatingDescendants){b.floatingDescendants.unregister(a)}},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount==1){a.suspendLayout=true}},resumeLayouts:function(a){var b=this;if(!b.rendered){return}if(!--b.layoutSuspendCount){b.suspendLayout=false;if(a&&!b.isLayoutSuspended()){b.updateLayout(a)}}},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var b=this,a=[b.baseCls,b.getComponentLayout().targetCls];if(Ext.isDefined(b.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}b.componentCls=b.cmpCls;delete b.cmpCls}if(b.componentCls){a.push(b.componentCls)}else{b.componentCls=b.baseCls}return a},setUI:function(d){var c=this,e=c.uiCls,a=c.activeUI,b;if(d===a){return}if(a){b=c.removeClsWithUI(e,true);if(b.length){c.removeCls(b)}c.removeUIFromElement()}else{c.uiCls=[]}c.ui=d;c.activeUI=d;c.addUIToElement();b=c.addClsWithUI(e,true);if(b.length){c.addCls(b)}if(c.rendered){c.updateLayout()}},addClsWithUI:function(b,j){var h=this,d=[],e=0,k=h.uiCls=Ext.Array.clone(h.uiCls),a=h.activeUI,g,c;if(typeof b==="string"){b=(b.indexOf(" ")<0)?[b]:Ext.String.splitWords(b)}g=b.length;for(;e<g;e++){c=b[e];if(c&&!h.hasUICls(c)){k.push(c);if(a){d=d.concat(h.addUIClsToElement(c))}}}if(j!==true&&a){h.addCls(d)}return d},removeClsWithUI:function(b,l){var j=this,d=[],g=0,e=Ext.Array,k=e.remove,m=j.uiCls=e.clone(j.uiCls),a=j.activeUI,h,c;if(typeof b==="string"){b=(b.indexOf(" ")<0)?[b]:Ext.String.splitWords(b)}h=b.length;for(g=0;g<h;g++){c=b[g];if(c&&j.hasUICls(c)){k(m,c);if(a){d=d.concat(j.removeUIClsFromElement(c))}}}if(l!==true&&a){j.removeCls(d)}return d},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(b){var j=this,a=j.baseCls+"-"+j.ui+"-"+b,k=[Ext.baseCSSPrefix+b,j.baseCls+"-"+b,a],e,g,h,c,d;if(j.rendered&&j.frame&&!Ext.supports.CSS3BorderRadius){e=j.frameElementsArray;g=e.length;for(h=0;h<g;h++){d=e[h];c=j["frame"+d.toUpperCase()];if(c){c.addCls(a+"-"+d)}}}return k},removeUIClsFromElement:function(b){var j=this,a=j.baseCls+"-"+j.ui+"-"+b,k=[Ext.baseCSSPrefix+b,j.baseCls+"-"+b,a],e,g,h,c,d;if(j.rendered&&j.frame&&!Ext.supports.CSS3BorderRadius){e=j.frameElementsArray;g=e.length;for(h=0;h<g;h++){d=e[h];c=j["frame"+d.toUpperCase()];if(c){c.removeCls(a+"-"+d)}}}return k},addUIToElement:function(){var h=this,a=h.baseCls+"-"+h.ui,d,e,g,b,c;h.addCls(a);if(h.rendered&&h.frame&&!Ext.supports.CSS3BorderRadius){d=h.frameElementsArray;e=d.length;for(g=0;g<e;g++){c=d[g];b=h["frame"+c.toUpperCase()];if(b){b.addCls(a+"-"+c)}}}},removeUIFromElement:function(){var h=this,a=h.baseCls+"-"+h.ui,d,e,g,b,c;h.removeCls(a);if(h.rendered&&h.frame&&!Ext.supports.CSS3BorderRadius){d=h.frameElementsArray;e=d.length;for(g=0;g<e;g++){c=d[g];b=h["frame"+c.toUpperCase()];if(b){b.removeCls(a+"-"+c)}}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(j){var g=this,c=Ext.Element,e=g.margin,a=g.border,b=g.cls,h=g.style,l=g.x,m=g.y,k,d;g.initPadding(j);if(e!=null){j.setStyle("margin",this.unitizeBox((e===true)?5:e))}if(a!=null){g.setBorder(a,j)}if(b&&b!=g.initialCls){j.addCls(b);g.cls=g.initialCls=null}if(h&&h!=g.initialStyle){j.setStyle(h);g.style=g.initialStyle=null}if(l!=null){j.setStyle(g.horizontalPosProp,(typeof l=="number")?(l+"px"):l)}if(m!=null){j.setStyle("top",(typeof m=="number")?(m+"px"):m)}if(Ext.isBorderBox&&(!g.ownerCt||g.floating)){j.addCls(g.borderBoxCls)}if(!g.getFrameInfo()){k=g.width;d=g.height;if(k!=null){if(typeof k==="number"){if(Ext.isBorderBox){j.setStyle("width",k+"px")}}else{j.setStyle("width",k)}}if(d!=null){if(typeof d==="number"){if(Ext.isBorderBox){j.setStyle("height",d+"px")}}else{j.setStyle("height",d)}}}},initPadding:function(c){var a=this,b=a.padding;if(b!=null){if(a.layout&&a.layout.managePadding&&a.contentPaddingProperty==="padding"){c.setStyle("padding",0)}else{c.setStyle("padding",this.unitizeBox((b===true)?5:b))}}},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(a,c){var b=this;if(b.rendered){if(!a&&a!==0){a=""}else{if(a===true){a=5}a=this.unitizeBox(a)}b.getTargetEl().setStyle("margin",a);if(!c){b.updateLayout()}}else{b.margin=a}},initEvents:function(){var g=this,b=g.afterRenderEvents,a,c,h,d,e;if(b){for(h in b){c=g[h];if(c&&c.on){a=b[h];for(d=0,e=a.length;d<e;++d){g.mon(c,a[d])}}}}g.addFocusListener()},addFocusListener:function(){var b=this,a=b.getFocusEl(),c;if(a){if(a.isComponent){return a.addFocusListener()}c=a.needsTabIndex();if(!b.focusListenerAdded&&(!c||Ext.FocusManager.enabled)){if(c){a.dom.tabIndex=-1}a.on({focus:b.onFocus,blur:b.onBlur,scope:b});b.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var b=this,a;if((b.focusable!==false)&&(a=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(true)){return a.isFocusable(true)}},beforeFocus:Ext.emptyFn,onFocus:function(a){var d=this,b=d.focusCls,c=d.getFocusEl();if(!d.disabled){d.beforeFocus(a);if(b&&c){c.addCls(d.addClsWithUI(b,true))}if(!d.hasFocus){d.hasFocus=true;d.fireEvent("focus",d,a)}}},beforeBlur:Ext.emptyFn,onBlur:function(a){var d=this,b=d.focusCls,c=d.getFocusEl();if(d.destroying){return}d.beforeBlur(a);if(b&&c){c.removeCls(d.removeClsWithUI(b,true))}if(d.validateOnBlur){d.validate()}d.hasFocus=false;d.fireEvent("blur",d,a);d.postBlur(a)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(g,a){var e=this.getRefOwner(),d=typeof a==="string",c=typeof a==="number",b=a&&a.isComponent,h=0;if(g){for(;e;e=e.getRefOwner()){h++;if(g.isComponent){if(e===g){return e}}else{if(Ext.ComponentQuery.is(e,g)){return e}}if(d&&e.is(a)){return}if(c&&h===a){return}if(b&&e===a){return}}}return e},nextSibling:function(h){var g=this.ownerCt,d,e,b,a;if(g){d=g.items;b=d.indexOf(this)+1;if(b){if(h){for(e=d.getCount();b<e;b++){if((a=d.getAt(b)).is(h)){return a}}}else{if(b<d.getCount()){return d.getAt(b)}}}}return null},previousSibling:function(g){var e=this.ownerCt,d,b,a;if(e){d=e.items;b=d.indexOf(this);if(b!=-1){if(g){for(--b;b>=0;b--){if((a=d.getAt(b)).is(g)){return a}}}else{if(b){return d.getAt(--b)}}}}return null},previousNode:function(h,b){var d=this,e=d.ownerCt,g,c,a,j;if(b&&d.is(h)){return d}if(e){for(c=e.items.items,a=Ext.Array.indexOf(c,d)-1;a>-1;a--){j=c[a];if(j.query){g=j.query(h);g=g[g.length-1];if(g){return g}}if(j.is(h)){return j}}return e.previousNode(h,true)}return null},nextNode:function(j,b){var e=this,g=e.ownerCt,h,c,d,a,k;if(b&&e.is(j)){return e}if(g){for(c=g.items.items,a=Ext.Array.indexOf(c,e)+1,d=c.length;a<d;a++){k=c[a];if(k.is(j)){return k}if(k.down){h=k.down(j);if(h){return h}}}return g.nextNode(j)}return null},getId:function(){return this.id||(this.id="ext-comp-"+(this.getAutoId()))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a=this,e=null,c,d,b;if(typeof a.autoScroll==="boolean"){e={overflow:b=a.autoScroll?"auto":""};a.scrollFlags={overflowX:b,overflowY:b,x:true,y:true,both:true}}else{c=a.overflowX;d=a.overflowY;if(c!==undefined||d!==undefined){e={overflowX:c=c||"",overflowY:d=d||""};a.scrollFlags={overflowX:c,overflowY:d,x:c=(c==="auto"||c==="scroll"),y:d=(d==="auto"||d==="scroll"),both:c&&d}}else{a.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}}if(e&&Ext.isIE7m){e.position="relative"}return e},isXType:function(b,a){if(a){return this.xtype===b}else{return this.xtypesMap[b]}},getXTypes:function(){var c=this.self,d,a,b;if(!c.xtypes){d=[];a=this;while(a){b=a.xtypes;if(b!==undefined){d.unshift.apply(d,b)}a=a.superclass}c.xtypeChain=d;c.xtypes=d.join("/")}return c.xtypes},update:function(c,e,a){var g=this,d=(g.tpl&&!Ext.isString(c)),b;if(d){g.data=c}else{g.html=Ext.isObject(c)?Ext.DomHelper.markup(c):c}if(g.rendered){b=g.isContainer?g.layout.getRenderTarget():g.getTargetEl();if(d){g.tpl[g.tplWriteMode](b,c||{})}else{b.update(g.html,e,a)}g.updateLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var c=this,b;if(c.hidden||!c.rendered||c.isDestroyed){b=true}else{if(a){b=c.isHierarchicallyHidden()}}return !b},isHierarchicallyHidden:function(){var a=this,b=false,c,d;for(;(c=a.ownerCt||a.floatParent);a=c){d=c.getHierarchyState();if(d.hidden){b=true;break}if(a.getHierarchyState().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=true;break}}else{b=!!d.collapsed;break}}return b},onBoxReady:function(c,a){var b=this;if(b.disableOnBoxReady){b.onDisable()}else{if(b.enableOnBoxReady){b.onEnable()}}if(b.resizable){b.initResizable(b.resizable)}if(b.draggable){b.initDraggable()}if(b.hasListeners.boxready){b.fireEvent("boxready",b,c,a)}},enable:function(b){var a=this;delete a.disableOnBoxReady;a.removeCls(a.disabledCls);if(a.rendered){a.onEnable()}else{a.enableOnBoxReady=true}a.disabled=false;delete a.resetDisable;if(b!==true){a.fireEvent("enable",a)}return a},disable:function(b){var a=this;delete a.enableOnBoxReady;a.addCls(a.disabledCls);if(a.rendered){a.onDisable()}else{a.disableOnBoxReady=true}a.disabled=true;if(b!==true){delete a.resetDisable;a.fireEvent("disable",a)}return a},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var c=this,a=c.focusCls,b=c.getFocusEl();if(a&&b){b.removeCls(c.removeClsWithUI(a,true))}if(c.maskOnDisable){c.el.dom.disabled=true;c.mask()}},mask:function(){var b=this.lastBox,c=this.getMaskTarget(),a=[];if(b){a[2]=b.height}c.mask.apply(c,a)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;b.addCls.apply(b,arguments);return c},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;b.removeCls.apply(b,arguments);return c},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(a,c,h,g){var d=this,b,e;if(Ext.isString(a)&&(Ext.isObject(c)||g&&g.element)){if(g.element){b=c;c={};c[a]=b;a=g.element;if(h){c.scope=h}for(e in g){if(g.hasOwnProperty(e)){if(d.eventOptionsRe.test(e)){c[e]=g[e]}}}}if(d[a]&&d[a].on){d.mon(d[a],c)}else{d.afterRenderEvents=d.afterRenderEvents||{};if(!d.afterRenderEvents[a]){d.afterRenderEvents[a]=[]}d.afterRenderEvents[a].push(c)}return}return d.mixins.observable.addListener.apply(d,arguments)},removeManagedListenerItem:function(d,g,e,b,c,j){var h=this,a=g.options?g.options.element:null;if(a){a=h[a];if(a&&a.un){if(d||(g.item===e&&g.ename===b&&(!c||g.fn===c)&&(!j||g.scope===j))){a.un(g.ename,g.fn,g.scope);if(!d){Ext.Array.remove(h.managedListeners,g)}}}}else{return h.mixins.observable.removeManagedListenerItem.apply(h,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(a,c){var b=this;b.ownerCt=a;if(b.hierarchyState){b.hierarchyState.invalid=true;delete b.hierarchyState}if(b.hasListeners.added){b.fireEvent("added",b,a,c)}},onRemoved:function(a){var b=this;if(b.hasListeners.removed){b.fireEvent("removed",b,b.ownerCt)}delete b.ownerCt;delete b.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(e,a,d,c){var b=this;if(b.floating&&b.constrain){b.doConstrain()}if(b.hasListeners.resize){b.fireEvent("resize",b,e,a,d,c)}},setSize:function(c,a){var b=this;if(c&&typeof c=="object"){a=c.height;c=c.width}if(typeof c=="number"){b.width=Ext.Number.constrain(c,b.minWidth,b.maxWidth)}else{if(c===null){delete b.width}}if(typeof a=="number"){b.height=Ext.Number.constrain(a,b.minHeight,b.maxHeight)}else{if(a===null){delete b.height}}if(b.rendered&&b.isVisible()){b.updateLayout({isRoot:false})}return b},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return true}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return true}b=a.ownerLayout;if(!b){break}a=b.owner}return false},updateLayout:function(e){var d=this,a,c=d.lastBox,b=e&&e.isRoot;if(c){c.invalid=true}if(!d.rendered||d.layoutSuspendCount||d.suspendLayout){return}if(d.hidden){Ext.AbstractComponent.cancelLayout(d)}else{if(typeof b!="boolean"){b=d.isLayoutRoot()}}if(b||!d.ownerLayout||!d.ownerLayout.onContentChange(d)){if(!d.isLayoutSuspended()){a=(e&&e.hasOwnProperty("defer"))?e.defer:d.deferLayouts;Ext.AbstractComponent.updateLayout(d,a)}}},getSizeModel:function(j){var e=this,g=Ext.layout.SizeModel,h=e.componentLayout.ownerContext,q=e.width,c=e.height,p,o,b,a,d,k,l,m,n,r;if(h){r=h.widthModel;d=h.heightModel}if(!r||!d){b=((p=typeof q)=="number");a=((o=typeof c)=="number");n=e.floating||!(k=e.ownerLayout);if(n){l=Ext.layout.Layout.prototype.autoSizePolicy;m=e.floating?3:e.shrinkWrap;if(b){r=g.configured}if(a){d=g.configured}}else{l=k.getItemSizePolicy(e,j);m=k.isItemShrinkWrap(e)}if(h){h.ownerSizePolicy=l}m=(m===true)?3:(m||0);if(n&&m){if(q&&p=="string"){m&=2}if(c&&o=="string"){m&=1}}if(m!==3){if(!j){j=e.ownerCt&&e.ownerCt.getSizeModel()}if(j){m|=(j.width.shrinkWrap?1:0)|(j.height.shrinkWrap?2:0)}}if(!r){if(!l.setsWidth){if(b){r=g.configured}else{r=(m&1)?g.shrinkWrap:g.natural}}else{if(l.readsWidth){if(b){r=g.calculatedFromConfigured}else{r=(m&1)?g.calculatedFromShrinkWrap:g.calculatedFromNatural}}else{r=g.calculated}}}if(!d){if(!l.setsHeight){if(a){d=g.configured}else{d=(m&2)?g.shrinkWrap:g.natural}}else{if(l.readsHeight){if(a){d=g.calculatedFromConfigured}else{d=(m&2)?g.calculatedFromShrinkWrap:g.calculatedFromNatural}}else{d=g.calculated}}}}return r.pairsByHeightOrdinal[d.ordinal]},isDescendant:function(a){if(a.isContainer){for(var b=this.ownerCt;b;b=b.ownerCt){if(b===a){return true}}}return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"))}return a.componentLayout},afterComponentLayout:function(e,a,d,c){var b=this;if(++b.componentLayoutCounter===1){b.afterFirstLayout(e,a)}if(e!==d||a!==c){b.onResize(e,a,d,c)}},beforeComponentLayout:function(b,a){return true},setPosition:function(d,e,a){var b=this,c=b.beforeSetPosition.apply(b,arguments);if(c&&b.rendered){d=c.x;e=c.y;if(a){if(d!==b.getLocalX()||e!==b.getLocalY()){b.stopAnimation();b.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(b.afterSetPosition,b,[d,e])},to:{x:d,y:e}},a))}}else{b.setLocalXY(d,e);b.afterSetPosition(d,e)}}return b},beforeSetPosition:function(c,e,a){var b,d;if(c){if(Ext.isNumber(d=c[0])){a=e;e=c[1];c=d}else{if((d=c.x)!==undefined){a=e;e=c.y;c=d}}}if(this.constrain||this.constrainHeader){b=this.calculateConstrainedPosition(null,[c,e],true);if(b){c=b[0];e=b[1]}}b={x:this.x=c,y:this.y=e,anim:a,hasX:c!==undefined,hasY:e!==undefined};return(b.hasX||b.hasY)?b:null},afterSetPosition:function(b,c){var a=this;a.onPosition(b,c);if(a.hasListeners.move){a.fireEvent("move",a,b,c)}},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var c=this,a=c.autoLoad?(Ext.isObject(c.autoLoad)?c.autoLoad:{url:c.autoLoad}):null,b=c.loader||a;if(b){if(!b.isLoader){c.loader=new Ext.ComponentLoader(Ext.apply({target:c,autoLoad:a},b))}else{b.setTarget(c)}return c.loader}return null},setDocked:function(a,b){var c=this;c.dock=a;if(b&&c.ownerCt&&c.rendered){c.ownerCt.updateLayout()}return c},setBorder:function(a,d){var c=this,b=!!d;if(c.rendered||b){if(!b){d=c.el}if(!a){a=0}else{if(a===true){a="1px"}else{a=this.unitizeBox(a)}}d.setStyle("border-width",a);if(!b){c.updateLayout()}}c.border=a},onDestroy:function(){var a=this;if(a.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(a.setSize,a)}Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var b=this,d=b.renderSelectors,c,a;if(!b.isDestroyed){if(!b.hasListeners.beforedestroy||b.fireEvent("beforedestroy",b)!==false){b.destroying=true;b.beforeDestroy();if(b.floating){delete b.floatParent;if(b.zIndexManager){b.zIndexManager.unregister(b)}}else{if(b.ownerCt&&b.ownerCt.remove){b.ownerCt.remove(b,false)}}b.stopAnimation();b.onDestroy();Ext.destroy(b.plugins);if(b.hasListeners.destroy){b.fireEvent("destroy",b)}Ext.ComponentManager.unregister(b);b.mixins.state.destroy.call(b);b.clearListeners();if(b.rendered){if(!b.preserveElOnDestroy){b.el.remove()}b.mixins.elementCt.destroy.call(b);if(d){for(c in d){if(d.hasOwnProperty(c)){a=b[c];if(a){delete b[c];a.remove()}}}}delete b.el;delete b.frameBody;delete b.rendered}b.destroying=false;b.isDestroyed=true}}},isDescendantOf:function(a){return !!this.findParentBy(function(b){return b===a})},getHierarchyState:function(d){var g=this,b=(d&&g.hierarchyStateInner)||g.hierarchyState,h=g.ownerCt,j,e,c,a;if(!b||b.invalid){j=g.getRefOwner();if(h){a=g.ownerLayout===h.layout}g.hierarchyState=b=Ext.Object.chain(j?j.getHierarchyState(a):Ext.rootHierarchyState);g.initHierarchyState(b);if((e=g.componentLayout).initHierarchyState){e.initHierarchyState(b)}if(g.isContainer){g.hierarchyStateInner=c=Ext.Object.chain(b);e=g.layout;if(e&&e.initHierarchyState){e.initHierarchyState(c,b)}if(d){b=c}}}return b},initHierarchyState:function(a){var b=this;if(b.collapsed){a.collapsed=true}if(b.hidden){a.hidden=true}if(b.collapseImmune){a.collapseImmune=true}},getAnchorToXY:function(b,a,c,d){return b.getAnchorXY(a,c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(b,a){this.el.setX(b,a)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)}},function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(true)}});Ext.define("Ext.AbstractPlugin",{disabled:false,isPlugin:true,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true},onClassExtended:function(b,c,d){var a=c.alias;if(a&&!c.ptype){if(Ext.isArray(a)){a=a[0]}b.prototype.ptype=a.split("plugin.")[1]}}});Ext.define("Ext.Action",{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=(a.itemId||a.id||Ext.id());this.items=[]},isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a;this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a;this.initialConfig.scope=b;this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(b,a){var e=this.items,c=0,g=e.length,d;Ext.suspendLayouts();for(;c<g;c++){d=e[c];d[b].apply(d,a)}Ext.resumeLayouts(true)},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.globalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(c,d,b){var a;a=this.liveConnections[Number(c)];if(a){a.onFlashStateChange(d,b)}},registerConnection:function(a){var b=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[b]=a;return b},injectFlashPlugin:function(){var b,h,a,e,g=this,c,d;e=document.createElement("img");e.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");e.setAttribute("alt","Get Adobe Flash player");a=document.createElement("a");a.setAttribute("href","http://www.adobe.com/go/getflashplayer");a.appendChild(e);h=document.createElement("p");h.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";b=document.createElement("div");b.setAttribute("id","ext-flash-polyfill");b.appendChild(h);b.appendChild(e);Ext.getBody().dom.appendChild(b);c=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");d="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){d=Ext.flashPluginPath}Ext.Loader.loadScript({url:c,onLoad:function(){var m="11.4.0";var n="playerProductInstall.swf";var k={};var l={};l.quality="high";l.bgcolor="#ffffff";l.allowscriptaccess="sameDomain";l.allowfullscreen="true";var j={};j.id="ext-flash-polyfill";j.name="polyfill";j.align="middle";swfobject.embedSWF(d,"ext-flash-polyfill","0","0",m,n,k,l,j)},onError:function(){},scope:g});Ext.globalEvents.addEvents("flashready");Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var b=this;Ext.apply(b,a);b.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){return}a.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.removeListener("flashready",a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)});return a.join("\x0d\x0a")},getResponseHeader:function(a){var b=this.responseHeaders;return(b&&b[a])||null},open:function(c,e,a,g,d){var b=this;b.method=c;b.url=e;b.async=a!==false;b.user=g;b.password=d},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.addListener("flashready",b.onFlashReady,b)}else{this.onFlashReady()}},onFlashReady:function(){var a=this,b,c;a.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(a);b={method:a.method,url:a.url,user:a.user,password:a.password,mimeType:a.mimeType,requestHeaders:a.requestHeaders,body:a.body,javascriptId:a.javascriptId};c=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!=b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,parseData:function(a){var b=this;this.status=a.status||0;b.responseHeaders={};if(b.mimeType){b.responseHeaders["content-type"]=b.mimeType}if(a.reason=="complete"){this.responseBytes=a.data;b.responseHeaders["content-length"]=a.data.length}else{if(a.reason=="error"||a.reason=="securityError"){this.statusText=a.text;b.responseHeaders["content-length"]=0}}},onFlashStateChange:function(c,a){var b=this;if(c==4){b.parseData(a);delete Ext.data.flash.BinaryXhr.liveConnections[b.javascriptId]}b.setReadyState(c)}});Ext.define("Ext.data.Connection",{mixins:{observable:Ext.util.Observable},statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(d){d=d||{};var c=this,j=d.scope||window,k=d.username||c.username,e=d.password||c.password||"",a,h,g,b,l;if(c.fireEvent("beforerequest",c,d)!==false){h=c.setOptions(d,j);if(c.isFormUpload(d)){c.upload(d.form,h.url,h.data,d);return null}if(d.autoAbort||c.autoAbort){c.abort()}a=d.async!==false?(d.async||c.async):false;l=c.openRequest(d,h,a,k,e);if(!c.isXdr){b=c.setupHeaders(l,d,h.data,h.params)}g={id:++Ext.data.Connection.requestId,xhr:l,headers:b,options:d,async:a,binary:d.binary||c.binary,timeout:setTimeout(function(){g.timedout=true;c.abort(g)},d.timeout||c.timeout)};c.requests[g.id]=g;c.latestId=g.id;if(a){if(!c.isXdr){l.onreadystatechange=Ext.Function.bind(c.onStateChange,c,[g])}}if(c.isXdr){c.processXdrRequest(g,l)}l.send(h.data);if(!a){return c.onComplete(g)}return g}else{Ext.callback(d.callback,d.scope,[d,undefined,undefined]);return null}},processXdrRequest:function(b,c){var a=this;delete b.headers;b.contentType=b.options.contentType||a.defaultXdrContentType;c.onload=Ext.Function.bind(a.onStateChange,a,[b,true]);c.onerror=c.ontimeout=Ext.Function.bind(a.onStateChange,a,[b,false])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.defaultXdrContentType},upload:function(d,r,q,p){d=Ext.getDom(d);p=p||{};var m=Ext.id(),e=document.createElement("iframe"),k=[],c="multipart/form-data",b={target:d.target,method:d.method,encoding:d.encoding,enctype:d.enctype,action:d.action},a=function(h,v){j=document.createElement("input");Ext.fly(j).set({type:"hidden",value:v,name:h});d.appendChild(j);k.push(j)},j,o,t,n,u,s,l,g;Ext.fly(e).set({id:m,name:m,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(e);if(document.frames){document.frames[m].name=m}Ext.fly(d).set({target:m,method:"POST",enctype:c,encoding:c,action:r||b.action});if(q){o=Ext.Object.fromQueryString(q)||{};for(n in o){if(o.hasOwnProperty(n)){t=o[n];if(Ext.isArray(t)){u=t.length;for(s=0;s<u;s++){a(n,t[s])}}else{a(n,t)}}}}Ext.fly(e).on("load",Ext.Function.bind(this.onUploadComplete,this,[e,p]),null,{single:!Ext.isOpera});d.submit();Ext.fly(d).set(b);l=k.length;for(g=0;g<l;g++){Ext.removeNode(k[g])}},onUploadComplete:function(g,j){var h=this,k={responseText:"",responseXML:null},a,l,c,b;try{c=g.contentWindow.document||g.contentDocument||window.frames[g.id].document;if(c){if(Ext.isOpera&&c.location=="about:blank"){return}if(c.body){if((b=c.body.firstChild)&&/pre/i.test(b.tagName)){k.responseText=b.textContent}else{if((b=c.getElementsByTagName("textarea")[0])){k.responseText=b.value}else{k.responseText=c.body.textContent||c.body.innerText}}}k.responseXML=c.XMLDocument||c;a=j.success;l=true}}catch(d){k.responseText='{success:false,message:"'+Ext.String.trim(d.message||d.description)+'"}';a=j.failure;l=false}h.fireEvent("requestcomplete",h,k,j);Ext.callback(a,j.scope,[k,j]);Ext.callback(j.callback,j.scope,[j,l,k]);setTimeout(function(){Ext.removeNode(g)},100)},isFormUpload:function(b){var a=this.getForm(b);if(a){return(b.isUpload||(/multipart\/form-data/i).test(a.getAttribute("enctype")))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(h,k){var e=this,j=h.params||{},c=e.extraParams,m=h.urlParams,l=h.url||e.url,d=h.jsonData,g,b,a;if(Ext.isFunction(j)){j=j.call(k,h)}if(Ext.isFunction(l)){l=l.call(k,h)}l=this.setupUrl(h,l);a=h.rawData||h.binaryData||h.xmlData||d||null;if(d&&!Ext.isPrimitive(d)){a=Ext.encode(a)}if(h.binaryData){if(e.nativeBinaryPostSupport()){a=(new Uint8Array(h.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){a=a.buffer}}}if(Ext.isObject(j)){j=Ext.Object.toQueryString(j)}if(Ext.isObject(c)){c=Ext.Object.toQueryString(c)}j=j+((c)?((j)?"&":"")+c:"");m=Ext.isObject(m)?Ext.Object.toQueryString(m):m;j=this.setupParams(h,j);g=(h.method||e.method||((j||a)?"POST":"GET")).toUpperCase();this.setupMethod(h,g);b=h.disableCaching!==false?(h.disableCaching||e.disableCaching):false;if(g==="GET"&&b){l=Ext.urlAppend(l,(h.disableCachingParam||e.disableCachingParam)+"="+(new Date().getTime()))}if((g=="GET"||a)&&j){l=Ext.urlAppend(l,j);j=null}if(m){l=Ext.urlAppend(l,m)}return{url:l,method:g,data:a||j||null}},setupUrl:function(b,c){var a=this.getForm(b);if(a){c=c||a.action}return c},setupParams:function(b,c){var a=this.getForm(b),d;if(a&&!this.isFormUpload(b)){d=Ext.Element.serializeForm(a);c=c?(c+"&"+d):d}return c},setupMethod:function(b,a){if(this.isFormUpload(b)){return"POST"}return a},setupHeaders:function(n,l,b,m){var k=this,g=Ext.apply({},l.headers||{},k.defaultHeaders||{}),a=k.defaultPostHeader,h=l.jsonData,o=l.xmlData,j,d;if(!g["Content-Type"]&&(b||m)){if(b){if(l.rawData){a="text/plain"}else{if(o&&Ext.isDefined(o)){a="text/xml"}else{if(h&&Ext.isDefined(h)){a="application/json"}}}}g["Content-Type"]=a}if(k.useDefaultXhrHeader&&!g["X-Requested-With"]){g["X-Requested-With"]=k.defaultXhrHeader}try{for(j in g){if(g.hasOwnProperty(j)){d=g[j];n.setRequestHeader(j,d)}}}catch(c){k.fireEvent("exception",j,d)}return g},newRequest:function(b){var a=this,c;if(b.binaryData){if(a.nativeBinaryPostSupport()){c=this.getXhrInstance()}else{c=new Ext.data.flash.BinaryXhr()}}else{if((b.cors||a.cors)&&Ext.isIE&&Ext.ieVersion<=9){c=a.getXdrInstance();a.isXdr=true}else{c=a.getXhrInstance()}}return c},openRequest:function(c,e,a,g,d){var b=this,h=b.newRequest(c);if(g){h.open(e.method,e.url,a,g,d)}else{if(b.isXdr){h.open(e.method,e.url)}else{h.open(e.method,e.url,a)}}if(c.binary||b.binary){if(window.Uint8Array){h.responseType="arraybuffer"}else{if(h.overrideMimeType){h.overrideMimeType("text/plain; charset=x-user-defined")}}}if(c.withCredentials||b.withCredentials){h.withCredentials=true}return h},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return a},getXhrInstance:(function(){var d=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=d.length,g;for(;b<c;++b){try{g=d[b];g();break}catch(a){}}return g}()),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return((a.xhr instanceof Ext.data.flash.BinaryXhr)&&b!=4)||!(b===0||b==4)},abort:function(c){var b=this,d;if(!c){c=b.getLatest()}if(c&&b.isLoading(c)){d=c.xhr;try{d.onreadystatechange=null}catch(a){d.onreadystatechange=Ext.emptyFn}d.abort();b.clearTimeout(c);if(!c.timedout){c.aborted=true}b.onComplete(c);b.cleanup(c)}},abortAll:function(){var b=this.requests,a;for(a in b){if(b.hasOwnProperty(a)){this.abort(b[a])}}},getLatest:function(){var a=this.latestId,b;if(a){b=this.requests[a]}return b||null},onStateChange:function(b,c){var a=this;if((b.xhr&&b.xhr.readyState==4)||a.isXdr){a.clearTimeout(b);a.onComplete(b,c);a.cleanup(b);Ext.EventManager.idleEvent.fire()}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(d,k){var b=this,c=d.options,h,j,g;try{h=b.parseStatus(d.xhr.status)}catch(a){h={success:false,isException:false}}j=b.isXdr?k:h.success;if(j){g=b.createResponse(d);b.fireEvent("requestcomplete",b,g,c);Ext.callback(c.success,c.scope,[g,c])}else{if(h.isException||d.aborted||d.timedout){g=b.createException(d)}else{g=b.createResponse(d)}b.fireEvent("requestexception",b,g,c);Ext.callback(c.failure,c.scope,[g,c])}Ext.callback(c.callback,c.scope,[c,j,g]);delete b.requests[d.id];return g},parseStatus:function(b){b=b==1223?204:b;var c=(b>=200&&b<300)||b==304,a=false;if(!c){switch(b){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:a=true;break}}return{success:c,isException:a}},createResponse:function(l){var k=this,n=l.xhr,e=k.isXdr,c={},j=e?[]:n.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),b=j.length,h,d,g,m,a;while(b--){h=j[b];d=h.indexOf(":");if(d>=0){g=h.substr(0,d).toLowerCase();if(h.charAt(d+1)==" "){++d}c[g]=h.substr(d+1)}}l.xhr=null;delete l.xhr;m={request:l,requestId:l.id,status:n.status,statusText:n.statusText,getResponseHeader:function(o){return c[o.toLowerCase()]},getAllResponseHeaders:function(){return c}};if(e){k.processXdrResponse(m,n)}if(l.binary){m.responseBytes=k.getByteArray(n)}else{m.responseText=n.responseText;m.responseXML=n.responseXML}n=null;return m},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(k){var g=k.response,h=k.responseBody,a,j,d,c;if(k instanceof Ext.data.flash.BinaryXhr){a=k.responseBytes}else{if(window.Uint8Array){a=g?new Uint8Array(g):[]}else{if(Ext.isIE9p){try{a=new VBArray(h).toArray()}catch(b){a=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(k.responseBody,a=[])}else{a=[];j=k.responseText;d=j.length;for(c=0;c<d;c++){a.push(j.charCodeAt(c)&255)}}}}}return a},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:true,autoAbort:false});Ext.define("Ext.util.Floating",{focusOnToFront:true,shadow:"sides",constrain:false,constructor:function(a){var b=this;b.fixed=b.fixed&&!(Ext.isIE6||Ext.isIEQuirks);b.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:b.hideMode,hidden:b.hidden,shadow:(typeof b.shadow!="undefined")?b.shadow:"sides",shadowOffset:b.shadowOffset,constrain:false,fixed:b.fixed,shim:(b.shim===false)?false:undefined},b.floating),a);if(b.modal&&!(Ext.FocusManager&&Ext.FocusManager.enabled)){b.mon(b.el,{keydown:b.onKeyDown,scope:b})}b.mon(b.el,{mousedown:b.onMouseDown,scope:b});b.floating=true;b.registerWithOwnerCt();b.initHierarchyEvents()},initHierarchyEvents:function(){var a=this,b=this.syncHidden;if(!a.hasHierarchyEventListeners){a.mon(a.hierarchyEventSource,{hide:b,collapse:b,show:b,expand:b,added:b,scope:a});a.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var a=this,b=a.ownerCt,c=a.zIndexParent;if(c){c.unregisterFloatingItem(a)}c=a.zIndexParent=a.up("[floating]");a.setFloatParent(b||c);delete a.ownerCt;if(c){c.registerFloatingItem(a)}else{Ext.WindowManager.register(a)}},onKeyDown:function(a){var g=this,h,c,b,d;if(a.getKey()==Ext.EventObject.TAB){h=a.shiftKey;c=g.el.query(":focusable");b=c[0];d=c[c.length-1];if(b&&d&&a.target===(h?b:d)){a.stopEvent();(h?d:b).focus(false,true)}}},onMouseDown:function(a){var b=this.focusTask;if(this.floating&&(!b||!b.id)){this.toFront(!!a.getTarget(":focusable"))}},setFloatParent:function(a){var b=this;b.floatParent=a;if((b.constrain||b.constrainHeader)&&!b.constrainTo){b.constrainTo=a?a.getTargetEl():b.container}},syncShadow:function(){if(this.floating){this.el.sync(true)}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var c=this,a=c.hidden||!c.rendered,b=c.hierarchicallyHidden=c.isHierarchicallyHidden(),d=c.pendingShow;if(a!==b){if(b){c.hide();c.pendingShow=true}else{if(d){delete c.pendingShow;if(d.length){c.show.apply(c,d)}else{c.show()}}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+10000}return a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,true);if(c){b.setPosition(c)}},toFront:function(b){var a=this,d=a.zIndexParent,c=a.preventFocusOnActivate;if(d&&a.bringParentToFront!==false){d.toFront(true)}if(!Ext.isDefined(b)){b=!a.focusOnToFront}if(b){a.preventFocusOnActivate=true}if(a.zIndexManager.bringToFront(a,b)){if(!b){a.focus(false,true)}}a.preventFocusOnActivate=c;return a},setActive:function(a,c){var b=this;if(a){if(b.el.shadow&&!b.maximized){b.el.enableShadow(true)}if(!b.preventFocusOnActivate){b.focus(false,true)}b.fireEvent("activate",b)}else{if(b.isWindow&&(c&&c.isWindow)&&b.hideShadowOnDeactivate){b.el.disableShadow()}b.fireEvent("deactivate",b)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else{a.needsCenter=true}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter},fitContainer:function(a){var c=this,g=c.floatParent,b=g?g.getTargetEl():c.container,d=b.getViewSize(false),e=g||(b.dom!==document.body)?[0,0]:b.getXY();d.x=e[0];d.y=e[1];c.setBox(d,a)}});Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:Ext.AbstractComponent,mixins:{floating:Ext.util.Floating},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,defaultAlign:"tl-bl?",toFrontOnShow:true,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction){b.baseAction=a}a=a.initialConfig}else{if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}}b.callParent([a]);if(b.baseAction){b.baseAction.addComponent(b)}},initComponent:function(){var a=this;a.callParent();if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;a.callParent();if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}},setAutoScroll:function(b){var a=this;a.autoScroll=!!b;if(a.rendered){a.getOverflowEl().setStyle(a.getOverflowStyle())}a.updateLayout();return a},setOverflowXY:function(c,d){var b=this,a=arguments.length;if(a){b.overflowX=c||"";if(a>1){b.overflowY=d||""}}if(b.rendered){b.getOverflowEl().setStyle(b.getOverflowStyle())}b.updateLayout();return b},beforeRender:function(){var c=this,b=c.floating,a;if(b){c.addCls(Ext.baseCSSPrefix+"layer");a=b.cls;if(a){c.addCls(a)}}return c.callParent()},beforeLayout:function(){this.callParent(arguments);if(this.floating){this.onBeforeFloatLayout()}},afterComponentLayout:function(){this.callParent(arguments);if(this.floating){this.onAfterFloatLayout()}},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else{this.callParent(arguments)}},initResizable:function(b){var a=this;b=Ext.apply({target:a,dynamic:false,constrainTo:a.constrainTo||(a.floatParent?a.floatParent.getTargetEl():null),handles:a.resizeHandles},b);b.target=a;a.resizer=new Ext.resizer.Resizer(b)},getDragEl:function(){return this.el},initDraggable:function(){var c=this,b=(c.resizer&&c.resizer.el!==c.el)?c.resizerComponent=new Ext.Component({el:c.resizer.el,rendered:true,container:c.container}):c,a=Ext.applyIf({el:b.getDragEl(),constrainTo:(c.constrain||c.draggable.constrain)?(c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.container)):undefined},c.draggable);if(c.constrain||c.constrainDelegate){a.constrain=c.constrain;a.constrainDelegate=c.constrainDelegate}c.dd=new Ext.util.ComponentDragger(b,a)},scrollBy:function(b,c,a){var d;if((d=this.getTargetEl())&&d.dom){d.scrollBy.apply(d,arguments)}},setLoading:function(b,d){var c=this,a={target:c};if(c.rendered){Ext.destroy(c.loadMask);c.loadMask=null;if(b!==false&&!c.collapsed){if(Ext.isObject(b)){Ext.apply(a,b)}else{if(Ext.isString(b)){a.msg=b}}if(d){Ext.applyIf(a,{useTargetEl:true})}c.loadMask=new Ext.LoadMask(a);c.loadMask.show()}}return c.loadMask},beforeSetPosition:function(){var b=this,c=b.callParent(arguments),a;if(c){a=b.adjustPosition(c.x,c.y);c.x=a.x;c.y=a.y}return c||null},afterSetPosition:function(a,b){this.onPosition(a,b);this.fireEvent("move",this,a,b)},showAt:function(c,d,a){var b=this;if(!b.rendered&&(b.autoRender||b.floating)){b.x=c;b.y=d;return b.show()}if(b.floating){b.setPosition(c,d,a)}else{b.setPagePosition(c,d,a)}b.show()},showBy:function(a,d,c){var b=this;if(b.floating&&a){b.show();if(b.rendered&&!b.hidden){b.alignTo(a,d||b.defaultAlign,c)}}return b},setPagePosition:function(e,g,a){var c=this,d,b;if(Ext.isArray(e)){g=e[1];e=e[0]}c.pageX=e;c.pageY=g;if(c.floating){if(c.isContainedFloater()){b=c.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(e)&&Ext.isNumber(b.left)){e-=b.left}if(Ext.isNumber(g)&&Ext.isNumber(b.top)){g-=b.top}}else{d=c.el.translateXY(e,g);e=d.x;g=d.y}c.setPosition(e,g,a)}else{d=c.el.translateXY(e,g);c.setPosition(d.x,d.y,a)}return c},isContainedFloater:function(){return(this.floating&&this.floatParent)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(c,d){var b=this,a;if(b.isContainedFloater()){a=b.floatParent.getTargetEl().getViewRegion();c+=a.left;d+=a.top}return{x:c,y:d}},getPosition:function(c){var d=this,e,b=d.isContainedFloater(),a;if((c===true)&&!b){return[d.getLocalX(),d.getLocalY()]}e=d.getXY();if((c===true)&&b){a=d.floatParent.getTargetEl().getViewRegion();e[0]-=a.left;e[1]-=a.top}return e},getId:function(){var a=this,b;if(!a.id){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{b=Ext.name.toLowerCase()+"-comp"}a.id=b+"-"+a.getAutoId()}return a.id},show:function(a,b,e){var c=this,d=c.rendered;if(c.hierarchicallyHidden||(c.floating&&!d&&c.isHierarchicallyHidden())){if(!d){c.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;c.pendingShow=arguments}else{c.pendingShow=true}}else{if(d&&c.isVisible()){if(c.toFrontOnShow&&c.floating){c.toFront()}}else{if(c.fireEvent("beforeshow",c)!==false){c.hidden=false;delete this.getHierarchyState().hidden;Ext.suspendLayouts();if(!d&&(c.autoRender||c.floating)){c.doAutoRender();d=c.rendered}if(d){c.beforeShow();Ext.resumeLayouts();c.onShow.apply(c,arguments);c.afterShow.apply(c,arguments)}else{Ext.resumeLayouts(true)}}else{c.onShowVeto()}}}return c},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();a.callParent(arguments);if(a.floating){if(a.maximized){a.fitContainer()}else{if(a.constrain){a.doConstrain()}}}},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},afterShow:function(a,b,h){var e=this,g=e.el,c,j,d;a=e.getAnimateTarget(a);if(!e.ghost){a=null}if(a){j={x:g.getX(),y:g.getY(),width:g.dom.offsetWidth,height:g.dom.offsetHeight};c={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};g.addCls(e.offsetsCls);d=e.ghost();d.el.stopAnimation();d.setX(-10000);e.ghostBox=j;d.el.animate({from:c,to:j,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;e.unghost();delete e.ghostBox;g.removeCls(e.offsetsCls);e.onShowComplete(b,h)}}})}else{e.onShowComplete(b,h)}e.fireHierarchyEvent("show")},onShowComplete:function(a,c){var b=this;if(b.floating){b.toFront();b.onFloatShow()}Ext.callback(a,c||b);b.fireEvent("show",b);delete b.hiddenByLayout},hide:function(a,b,e){var d=this,c;if(d.pendingShow){delete d.pendingShow}if(!(d.rendered&&!d.isVisible())){c=(d.fireEvent("beforehide",d)!==false);if(d.hierarchicallyHidden||c){d.hidden=true;d.getHierarchyState().hidden=true;if(d.rendered){d.onHide.apply(d,arguments)}}}return d},onHide:function(a,b,g){var e=this,d,c,h;a=e.getAnimateTarget(a);if(!e.ghost){a=null}if(a){h={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight};d=e.ghost();d.el.stopAnimation();c=e.getSize();d.el.animate({to:h,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;d.el.hide();d.el.setSize(c);e.afterHide(b,g)}}})}e.el.hide();if(!a){e.afterHide(b,g)}},afterHide:function(b,d){var c=this,a=Ext.Element.getActiveElement();c.hiddenByLayout=null;Ext.AbstractComponent.prototype.onHide.call(c);if(a===c.el||c.el.contains(a)){Ext.fly(a).blur()}Ext.callback(b,d||c);c.fireEvent("hide",c);c.fireHierarchyEvent("hide")},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent)}delete a.focusTask;a.callParent()},deleteMembers:function(){var a=arguments,c=a.length,b=0;for(;b<c;++b){delete this[a[b]]}},focus:function(j,c,a,h){var g=this,d,e,b;if(c){if(!g.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(g.focus)}g.focusTask.delay(Ext.isNumber(c)?c:10,null,g,[j,false,a,h]);return g}if(g.focusTask){g.focusTask.cancel()}if(g.rendered&&!g.isDestroyed&&g.isVisible(true)&&(d=g.getFocusEl())){if(d.isComponent){return d.focus(j,c)}if((e=d.dom)){if(d.needsTabIndex()){e.tabIndex=-1}if(g.floating){b=g.container.dom.scrollTop}d.focus();if(j===true){e.select()}Ext.callback(a,h)}if(g.floating){g.toFront(true);if(b!==undefined){g.container.dom.scrollTop=b}}}return g},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},blur:function(){var a;if(this.rendered&&(a=this.getFocusEl())){a.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(c){c=c||{};var b=c.id||Ext.id(),a=Ext.applyIf(c,this.initialConfig),d;a.id=b;d=Ext.getClass(this);return new d(a)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget()){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(b,d,a){var c=this;while(c){if(b.apply(d||c,a||[c])===false){break}c=c.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments);if(this.hierarchyEventSource.hasListeners.added){this.fireHierarchyEvent("added")}}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})});Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;if(!a._borderRegionInited){a._borderRegionInited=true;a.addStateEvents(["changeregion","changeweight"]);Ext.override(a,{getState:function(){var b=a.callParent();b=a.addPropertyToState(b,"region");b=a.addPropertyToState(b,"weight");return b}})}},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return(a&&a.isBorderLayout)?a:null},setBorderRegion:function(l){var g=this,a,h=g.region;if(l!==h){a=g.getOwningBorderLayout();if(a){var m=a.regionFlags[l],k=g.placeholder,o=g.splitter,j=a.owner,n=a.regionMeta,b=g.collapsed||g.floated,c,e,d;if(g.fireEventArgs("beforechangeregion",[g,l])===false){return h}Ext.suspendLayouts();g.region=l;Ext.apply(g,m);if(g.updateCollapseTool){g.updateCollapseTool()}if(o){Ext.apply(o,m);o.updateOrientation();e=j.items;d=e.indexOf(g);if(d>=0){c=n[l].splitterDelta;if(e.getAt(d+c)!==o){e.remove(o);d=e.indexOf(g);if(c>0){++d}e.insert(d,o)}}}if(k){if(b){g.expand(false)}j.remove(k);g.placeholder=null;if(b){g.collapse(null,false)}}j.updateLayout();Ext.resumeLayouts(true);g.fireEventArgs("changeregion",[g,h])}else{g.region=l}}return h},setRegionWeight:function(e){var a=this,c=a.getOwningBorderContainer(),d=a.placeholder,b=a.weight;if(e!==b){if(a.fireEventArgs("beforechangeweight",[a,e])!==false){a.weight=e;if(d){d.weight=e}if(c){c.updateLayout()}a.fireEventArgs("changeweight",[a,b])}}return b}});Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(b,c,a){b.getTarget().update(c.responseText,a.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(b){var c=this,a;b=b||{};Ext.apply(c,b);c.setTarget(c.target);c.addEvents("beforeload","exception","load");c.mixins.observable.constructor.call(c);if(c.autoLoad){a=c.autoLoad;if(a===true){a={}}c.load(a)}},setTarget:function(b){var a=this;b=Ext.get(b);if(a.target&&a.target!=b){a.abort()}a.target=b},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(e){e=Ext.apply({},e);var d=this,c=Ext.isDefined(e.loadMask)?e.loadMask:d.loadMask,g=Ext.apply({},e.params),a=Ext.apply({},e.ajaxOptions),b=e.callback||d.callback,h=e.scope||d.scope||d;Ext.applyIf(a,d.ajaxOptions);Ext.applyIf(e,a);Ext.applyIf(g,d.params);Ext.apply(g,d.baseParams);Ext.applyIf(e,{url:d.url});Ext.apply(e,{scope:d,params:g,callback:d.onComplete});if(d.fireEvent("beforeload",d,e)===false){return}if(c){d.addMask(c)}d.active={options:e,mask:c,scope:h,callback:b,success:e.success||d.success,failure:e.failure||d.failure,renderer:e.renderer||d.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:d.scripts};d.active.request=Ext.Ajax.request(e);d.setOptions(d.active,e)},setOptions:Ext.emptyFn,onComplete:function(c,g,d){var b=this,a=b.active,e;if(a){e=a.scope;if(g){g=b.getRenderer(a.renderer).call(b,b,d,a)!==false}if(g){Ext.callback(a.success,e,[b,d,c]);b.fireEvent("load",b,d,c)}else{Ext.callback(a.failure,e,[b,d,c]);b.fireEvent("exception",b,d,c)}Ext.callback(a.callback,e,[b,g,d,c]);if(a.mask){b.removeMask()}}delete b.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(a,c){var b=this;b.stopAutoRefresh();b.autoRefresh=setInterval(function(){b.load(c)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(c,d,a){var g=true;try{c.getTarget().update(Ext.decode(d.responseText))}catch(b){g=false}return g},Component:function(d,g,a){var h=true,j=d.getTarget(),c=[];try{c=Ext.decode(g.responseText)}catch(b){h=false}if(h){j.suspendLayouts();if(a.removeAll){j.removeAll()}j.add(c);j.resumeLayouts(true)}return h}}},target:null,loadMask:false,renderer:"html",setTarget:function(b){var a=this;if(Ext.isString(b)){b=Ext.getCmp(b)}if(a.target&&a.target!=b){a.abort()}a.target=b},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:this.removeAll},getRenderer:function(a){if(Ext.isFunction(a)){return a}var b=this.statics().Renderer;switch(a){case"component":return b.Component;case"data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.layout.SizeModel",{constructor:function(a){var b=this,d=b.self,e=d.sizeModelsArray,c;Ext.apply(b,a);b[c=b.name]=true;b.fixed=!(b.auto=b.natural||b.shrinkWrap);e[b.ordinal=e.length]=d[c]=d.sizeModels[c]=b},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},function(){var g=this,h=g.sizeModelsArray,a,b,c,d,e;new g({name:"calculated"});new g({name:"configured",names:{width:"width",height:"height"}});new g({name:"natural"});new g({name:"shrinkWrap"});new g({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new g({name:"calculatedFromNatural",natural:true});new g({name:"calculatedFromShrinkWrap",shrinkWrap:true});new g({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new g({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new g({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(a=0,c=h.length;a<c;++a){e=h[a];e.pairsByHeightOrdinal=d=[];for(b=0;b<c;++b){d.push({width:e,height:h[b]})}}});Ext.define("Ext.layout.Layout",{isLayout:true,initialized:false,running:false,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(g,e){var b=Ext.ClassManager,j=this.layoutsByType,a,c,d,h,l,k;if(!g||typeof g==="string"){l=g||e;d={}}else{if(g.isLayout){return g}else{d=g;l=g.type||e}}if(!(h=j[l])){a="layout."+l;c=b.getNameByAlias(a);if(!c){k=true}h=b.get(c);if(k||!h){return b.instantiateByAlias(a,d||{})}j[l]=h}return new h(d)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-");Ext.apply(b,a);b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(d){var c=this,b=c.context,a;if(c.lastWidthModel!=d.widthModel){if(c.lastWidthModel){a=true}c.lastWidthModel=d.widthModel}if(c.lastHeightModel!=d.heightModel){if(c.lastWidthModel){a=true}c.lastHeightModel=d.heightModel}if(a){(b=d.context).clearTriggers(c,false);b.clearTriggers(c,true);c.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return false},isItemLayoutRoot:function(b){var c=b.getSizeModel(),d=c.width,a=c.height;if(!b.componentLayout.lastComponentSize&&(d.calculated||a.calculated)){return false}return !d.shrinkWrap&&!a.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(d,g){var e=d.length,a,b,c,h;if(e){h=[];for(a=0;a<e;++a){b=d[a];if(!b.rendered){if(g&&(g[b.id]!==undefined)){c=g[b.id]}else{this.configureItem(b);c=b.getRenderTree();if(g){g[b.id]=c}}if(c){h.push(c)}}}}return h},finishRender:Ext.emptyFn,finishRenderItems:function(e,c){var d=c.length,a,b;for(a=0;a<d;a++){b=c[a];if(b.rendering){b.finishRender(a);this.afterRenderItem(b)}}},renderChildren:function(){var b=this,a=b.getLayoutItems(),c=b.getRenderTarget();b.renderItems(a,c)},renderItems:function(c,g){var e=this,d=c.length,a=0,b;if(d){Ext.suspendLayouts();for(;a<d;a++){b=c[a];if(b&&!b.rendered){e.renderItem(b,g,a)}else{if(!e.isValidParent(b,g,a)){e.moveItem(b,g,a)}else{e.configureItem(b)}}}Ext.resumeLayouts(true)}},isValidParent:function(b,g,e){var c=b.el?b.el.dom:Ext.getDom(b),h=(g&&g.dom)||g,d=c.parentNode,a;if(d){a=d.className;if(a&&a.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){c=c.parentNode}}if(c&&h){if(typeof e=="number"){e=this.getPositionOffset(e);return c===h.childNodes[e]}return c.parentNode===h}return false},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,d,c){var b=this;if(!a.rendered){b.configureItem(a);a.render(d,c);b.afterRenderItem(a)}},moveItem:function(a,c,b){c=c.dom||c;if(typeof b=="number"){b=c.childNodes[b]}c.insertBefore(a.el.dom,b||null);a.container=Ext.get(c);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(b){var c=this,a=b.el,d=c.owner,e;if(b.rendered){e=[].concat(c.itemCls||[]);if(d.itemCls){e=Ext.Array.push(e,d.itemCls)}if(e.length){a.removeCls(e)}}delete b.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(b,d){for(var a=0,c=b.length;a<c;++a){b[a].$i=a}Ext.Array.sort(b,function(e,g){var h=g.weight-e.weight;if(!h){h=e.$i-g.$i;if(e[d]){h=-h}}return h});for(a=0;a<c;++a){delete b[a].$i}}},function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.define("Ext.layout.container.Container",{alias:["layout.container"],extend:Ext.layout.Layout,alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:Ext.util.ElementContainer},type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(c,a){var b=this;b.callParent(arguments);if(a){if(b.usesContainerHeight){++c.consumersContainerHeight}if(b.usesContainerWidth){++c.consumersContainerWidth}}},cacheChildItems:function(g){var b=g.context,a=[],d=this.getVisibleItems(),e=d.length,c;g.childItems=a;g.visibleItems=d;for(c=0;c<e;++c){a.push(b.getCmp(d[c]))}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(b){var d=this,c=d.itemCls,e=d.owner.itemCls,a;b.ownerLayout=d;if(c){a=typeof c==="string"?[c]:c}if(e){a=Ext.Array.push(a||[],e)}if(a){b.addCls(a)}},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(c,d){var b=d.$comp.layout,e=b.getRenderTpl(),a=b.getRenderData();e.applyOut(a,c)},doRenderItems:function(b,c){var a=c.$layout,d=a.getRenderTree();if(d){Ext.DomHelper.generateMarkup(d,b)}},finishRender:function(){var b=this,c,a;b.callParent();b.cacheElements();c=b.getRenderTarget();a=b.getLayoutItems();b.finishRenderItems(c,a)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(j,g){var l=j.targetContext,a=l.getFrameInfo(),k=j.paddingContext.getPaddingInfo(),b=0,h=0,d,c,m,e;if(!j.widthModel.shrinkWrap){++h;m=g?l.getDomProp("width"):l.getProp("width");d=(typeof m=="number");if(d){++b;m-=a.width+k.width;if(m<0){m=0}}}if(!j.heightModel.shrinkWrap){++h;e=g?l.getDomProp("height"):l.getProp("height");c=(typeof e=="number");if(c){++b;e-=a.height+k.height;if(e<0){e=0}}}return{width:m,height:e,needed:h,got:b,gotAll:b==h,gotWidth:d,gotHeight:c}},getPositionOffset:function(b){if(!this.createsInnerCt){var a=this.owner.itemNodeOffset;if(a){b+=a}}return b},getLayoutItems:function(){var b=this.owner,a=b&&b.items;return(a&&a.items)||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var e=this,h=e.getRenderTarget(),c=e.getLayoutItems(),d=c.length,g=[],a,b;for(a=0;a<d;a++){b=c[a];if(b.rendered&&e.isValidParent(b,h,a)){g.push(b)}}return g},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");if(!b.renderContent){a.owner.setupRenderTpl(b)}return b},getRenderTree:function(){var d,a=this.owner.items,b,c={};do{b=a.generation;d=this.getItemsRenderTree(this.getLayoutItems(),c)}while(a.generation!==b);return d},renderChildren:function(){var c=this,d=c.owner.items,e=c.getRenderTarget(),b,a;do{b=d.generation;a=c.getLayoutItems();c.renderItems(a,e)}while(d.generation!==b)},getScrollbarsNeeded:function(k,e,b,a){var j=Ext.getScrollbarSize(),d=typeof k=="number",c=typeof e=="number",g=0,h=0;if(!j.width){return 0}if(c&&e<a){h=2;k-=j.width}if(d&&k<b){g=1;if(!h&&c){e-=j.height;if(e<a){h=2}}}return h+g},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e=this.getRenderTarget(),c=this.getLayoutItems(),d=c.length,g=[],a,b;for(a=0;a<d;a++){b=c[a];if(b.rendered&&this.isValidParent(b,e,a)&&b.hidden!==true){g.push(b)}}return g},setupRenderTpl:function(b){var a=this;b.renderBody=a.doRenderBody;b.renderContainer=a.doRenderContainer;b.renderItems=a.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:false,managePadding:true,manageOverflow:false,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:true,beginLayout:function(g){var b=this,a,e,d,c;b.callParent(arguments);b.initContextItems(g);if(!b.isShrinkWrapTpl){if(g.widthModel.shrinkWrap){c=true}if(Ext.isStrict&&Ext.isIE7){d=b.getOverflowXStyle(g);if((d==="auto"||d==="scroll")&&g.paddingContext.getPaddingInfo().right){c=true}}if(c){b.insertTableCt(g)}}if(!b.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!b.clearElHasPadding){a=g.paddingContext.getPaddingInfo().bottom;e=b.getOverflowYStyle(g);if(a&&(e==="auto"||e==="scroll")){b.clearEl.setStyle("height",a);b.clearElHasPadding=true}}},beforeLayoutCycle:function(d){var a=this.owner,b=a.hierarchyState,c=a.hierarchyStateInner;if(!b||b.invalid){b=a.getHierarchyState();c=a.hierarchyStateInner}if(d.widthModel.shrinkWrap&&this.isShrinkWrapTpl){c.inShrinkWrapTable=true}else{delete c.inShrinkWrapTable}},beginLayoutCycle:function(o){var g=this,h=g.outerCt,e=g.lastOuterCtWidth||"",c=g.lastOuterCtHeight||"",d=g.lastOuterCtTableLayout||"",p=o.state,m,n,l,j,k,a,b;g.callParent(arguments);l=j=k="";if(!o.widthModel.shrinkWrap&&g.isShrinkWrapTpl){if(Ext.isIE7m&&Ext.isStrict){n=g.getOverflowYStyle(o);if(n==="auto"||n==="scroll"){a=true}}if(!a){l="100%"}b=g.owner.hierarchyStateInner;m=g.getOverflowXStyle(o);k=(b.inShrinkWrapTable||m==="auto"||m==="scroll")?"":"fixed"}if(!o.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){j="100%"}if((l!==e)||g.hasOuterCtPxWidth){h.setStyle("width",l);g.lastOuterCtWidth=l;g.hasOuterCtPxWidth=false}if(k!==d){h.setStyle("table-layout",k);g.lastOuterCtTableLayout=k}if((j!==c)||g.hasOuterCtPxHeight){h.setStyle("height",j);g.lastOuterCtHeight=j;g.hasOuterCtPxHeight=false}if(g.hasInnerCtPxHeight){g.innerCt.setStyle("height","");g.hasInnerCtPxHeight=false}p.overflowAdjust=p.overflowAdjust||g.lastOverflowAdjust},calculate:function(d){var c=this,e=d.state,b=c.getContainerSize(d,true),a=e.calculatedItems||(e.calculatedItems=c.calculateItems?c.calculateItems(d,b):true);c.setCtSizeIfNeeded(d,b);if(a&&d.hasDomProp("containerChildrenSizeDone")){c.calculateContentSize(d);if(b.gotAll){if(c.manageOverflow&&!d.state.secondPass&&!c.reserveScrollbar){c.calculateOverflow(d,b)}return}}c.done=false},calculateContentSize:function(g){var d=this,c=((g.widthModel.shrinkWrap?1:0)|(g.heightModel.shrinkWrap?2:0)),b=(c&1)||undefined,a=(c&2)||undefined,e=0,h=g.props;if(b){if(isNaN(h.contentWidth)){++e}else{b=undefined}}if(a){if(isNaN(h.contentHeight)){++e}else{a=undefined}}if(e){if(b&&!g.setContentWidth(d.measureContentWidth(g))){d.done=false}if(a&&!g.setContentHeight(d.measureContentHeight(g))){d.done=false}}},calculateOverflow:function(c){var b=this,h,a,e,d,j,k,g;j=(b.getOverflowXStyle(c)==="auto");k=(b.getOverflowYStyle(c)==="auto");if(j||k){e=Ext.getScrollbarSize();g=c.overflowContext.el.dom;d=0;if(g.scrollWidth>g.clientWidth){d|=1}if(g.scrollHeight>g.clientHeight){d|=2}h=(k&&(d&2))?e.width:0;a=(j&&(d&1))?e.height:0;if(h!==b.lastOverflowAdjust.width||a!==b.lastOverflowAdjust.height){b.done=false;c.invalidate({state:{overflowAdjust:{width:h,height:a},overflowState:d,secondPass:true}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(b,e){var a=e.$layout,c=e.$layout.owner,d=c[c.contentPaddingProperty];if(a.managePadding&&d){b.push("padding:",c.unitizeBox(d))}},finishedLayout:function(b){var a=this.innerCt;this.callParent(arguments);if(Ext.isIEQuirks||Ext.isIE8m){a.repaint()}if(Ext.isOpera){a.setStyle("position","relative");a.dom.scrollWidth;a.setStyle("position","")}},getContainerSize:function(c,a){var d=this.callParent(arguments),b=c.state.overflowAdjust;if(b){d.width-=b.width;d.height-=b.height}return d},getRenderData:function(){var b=this.owner,a=this.callParent();if((Ext.isIEQuirks||Ext.isIE7m)&&((b.shrinkWrap&1)||(b.floating&&!b.width))){a.shrinkWrapWidth=true}return a},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(c){var b=this,d=c.target,a=b.owner.customOverflowEl;c.outerCtContext=c.getEl("outerCt",b);c.innerCtContext=c.getEl("innerCt",b);if(a){c.overflowContext=c.getEl(a)}else{c.overflowContext=c.targetContext}if(d[d.contentPaddingProperty]!==undefined){c.paddingContext=b.isShrinkWrapTpl?c.innerCtContext:c.outerCtContext}},initLayout:function(){var a=this,c=Ext.getScrollbarSize().width,b=a.owner;a.callParent();if(c&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")){if(b.autoScroll||a.reserveScrollbar){a.lastOverflowAdjust={width:c,height:0}}}},insertTableCt:function(h){var e=this,g=e.owner,d=0,j,c,b,a,k;j=Ext.XTemplate.getTpl(this,"tableTpl");j.renderPadding=e.doRenderPadding;e.outerCt.dom.removeChild(e.innerCt.dom);c=document.createDocumentFragment();b=e.innerCt.dom.childNodes;a=b.length;for(;d<a;d++){c.appendChild(b[0])}k=e.getTarget();k.dom.innerHTML=j.apply({$layout:e,ownerId:e.owner.id});k.down("td").dom.appendChild(c);e.applyChildEls(g.el,g.id);e.isShrinkWrapTpl=true;h.removeEl(e.outerCt);h.removeEl(e.innerCt);e.initContextItems(h)},measureContentHeight:function(b){var a=this.outerCt.getHeight(),c=b.target;if(this.managePadding&&(c[c.contentPaddingProperty]===undefined)){a+=b.targetContext.getPaddingInfo().height}return a},measureContentWidth:function(d){var b,e,c,a,g;if(this.chromeCellMeasureBug){b=this.innerCt.dom;e=b.style;c=e.display;if(c=="table-cell"){e.display="";b.offsetWidth;e.display=c}}a=this.outerCt.getWidth();g=d.target;if(this.managePadding&&(g[g.contentPaddingProperty]===undefined)){a+=d.targetContext.getPaddingInfo().width}return a},setCtSizeIfNeeded:function(p,c){var h=this,t=c.width,d=c.height,q=p.paddingContext.getPaddingInfo(),s=h.getTarget(),n=h.getOverflowXStyle(p),o=h.getOverflowYStyle(p),a=(n==="auto"||n==="scroll"),b=(o==="auto"||o==="scroll"),r=Ext.getScrollbarSize(),e=h.isShrinkWrapTpl,g=h.manageOverflow,m,l,k,j;if(t&&!p.widthModel.shrinkWrap&&((Ext.isIE7m&&Ext.isStrict&&e&&b)||(Ext.isIEQuirks&&!e&&!a))){if(!g){if(b&&(s.dom.scrollHeight>s.dom.clientHeight)){t-=r.width}}p.outerCtContext.setProp("width",t+q.width);h.hasOuterCtPxWidth=true}if(d&&!p.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){l=true}if(((Ext.isIE8&&Ext.isStrict)||Ext.isIE7m&&Ext.isStrict&&e)){k=true;j=!Ext.isIE8}if((l||k)&&a&&(s.dom.scrollWidth>s.dom.clientWidth)){d=Math.max(d-r.height,0)}if(l){p.outerCtContext.setProp("height",d+q.height);h.hasOuterCtPxHeight=true}if(k){if(j){d+=q.height}p.innerCtContext.setProp("height",d);h.hasInnerCtPxHeight=true}}if(Ext.isIE7&&Ext.isStrict&&!e&&(o==="auto")){m=(n==="auto")?"overflow-x":"overflow-y";s.setStyle(m,"hidden");s.setStyle(m,"auto")}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a){if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):undefined,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(a){this.zseed=a;var b=this.assignZIndices();this._activateLast();return b},assignZIndices:function(){var b=this.zIndexStack,e=b.length,d=0,h=this.zseed,c,g;for(;d<e;d++){c=b[d];if(c&&!c.hidden){h=c.setZIndex(h);if(c.modal){g=c}}}if(g){this._showModalMask(g)}return h},_setActiveChild:function(a,c){var b=this.front,d=a.preventFocusOnActivate;if(a!==b){if(b&&!b.destroying){b.setActive(false,a)}this.front=a;if(a&&a!=c){a.preventFocusOnActivate=a.preventFocusOnActivate||c&&(c.preventFocusOnActivate||!c.focusOnToFront);a.setActive(true);if(a.modal){this._showModalMask(a)}a.preventFocusOnActivate=d}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var c=this,d=c.zIndexStack,b=d.length-1,a;for(;b>=0&&d[b].hidden;--b){}if((a=d[b])){c._setActiveChild(a,c.front);if(a.modal){return}}else{if(c.front&&!c.front.destroying){c.front.setActive(false)}c.front=null}for(;b>=0;--b){a=d[b];if(a.isVisible()&&a.modal){c._showModalMask(a);return}}c._hideModalMask()},_showModalMask:function(a){var d=this,h=a.el.getStyle("zIndex")-4,c=a.floatParent?a.floatParent.getTargetEl():a.container,b=d.mask,e=d.maskShim,g;if(!b){if(Ext.isIE6){e=d.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"});e.setVisibilityMode(Ext.Element.DISPLAY)}b=d.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});b.setVisibilityMode(Ext.Element.DISPLAY);b.on("click",d._onMaskClick,d)}b.maskTarget=c;g=d.getMaskBox();if(e){e.setStyle("zIndex",h);e.show();e.setBox(g)}b.setStyle("zIndex",h);b.show();b.setBox(g)},_hideModalMask:function(){var a=this.mask,b=this.maskShim;if(a&&a.isVisible()){a.maskTarget=undefined;a.hide();if(b){b.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return a.getBox()}},_onContainerResize:function(){var c=this,a=c.mask,b=c.maskShim,d;if(a&&a.isVisible()){a.hide();if(b){b.hide()}d=c.getMaskBox();if(b){b.setSize(d);b.show()}a.setSize(d);a.show()}},register:function(a){var c=this,b=a.afterHide;if(a.zIndexManager){a.zIndexManager.unregister(a)}a.zIndexManager=c;c.list[a.id]=a;c.zIndexStack.push(a);a.afterHide=function(){b.apply(a,arguments);c.onComponentHide(a)}},unregister:function(a){var c=this,b=c.list;delete a.zIndexManager;if(b&&b[a.id]){delete b[a.id];delete a.afterHide;Ext.Array.remove(c.zIndexStack,a);c._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(a,c){var b=this,d=false,e=b.zIndexStack;a=b.get(a);if(a!==b.front){Ext.Array.remove(e,a);if(a.preventBringToFront){e.unshift(a)}else{e.push(a)}b.assignZIndices();if(!c){b._activateLast()}d=true;b.front=a;if(a.modal){b._showModalMask(a)}}return d},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var c=this.list,b,a;for(a in c){if(c.hasOwnProperty(a)){b=c[a];if(b.isComponent&&b.isVisible()){b.hide()}}}},hide:function(){var b=0,d=this.zIndexStack,c=d.length,a;this.tempHidden=[];for(;b<c;b++){a=d[b];if(a.isVisible()){this.tempHidden.push(a);a.el.hide();a.hidden=true}}},show:function(){var b=0,d=this.tempHidden,c=d?d.length:0,a;for(;b<c;b++){a=d[b];a.el.show();a.hidden=false;a.setPosition(a.x,a.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(b,g){var e=[],c=0,h=this.zIndexStack,d=h.length,a;for(;c<d;c++){a=h[c];if(b.call(g||a,a)!==false){e.push(a)}}return e},each:function(b,e){var d=this.list,c,a;for(c in d){if(d.hasOwnProperty(c)){a=d[c];if(a.isComponent&&b.call(e||a,a)===false){return}}}},eachBottomUp:function(b,e){var g=this.zIndexStack,c=0,d=g.length,a;for(;c<d;c++){a=g[c];if(a.isComponent&&b.call(e||a,a)===false){return}}},eachTopDown:function(b,d){var e=this.zIndexStack,c=e.length,a;for(;c-->0;){a=e[c];if(a.isComponent&&b.call(d||a,a)===false){return}}},destroy:function(){var d=this,c=d.list,a,b;for(b in c){if(c.hasOwnProperty(b)){a=c[b];if(a.isComponent){a.destroy()}}}delete d.zIndexStack;delete d.list;delete d.container;delete d.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.define("Ext.Queryable",{isQueryable:true,query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this)},queryBy:function(a,h){var g=[],d=this.getRefItems(true),b=0,e=d.length,c;for(;b<e;++b){c=d[b];if(a.call(h||c,c)!==false){g.push(c)}}return g},queryById:function(a){return this.down("#"+a)},child:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query("> "+a)[0]||null},down:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query(a)[0]||null},getRefItems:function(){return[]}});Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(l,c){var j=this,k=j.owner,m=l.ownerCtContext,d=l.heightModel,p=l.widthModel,a=k.el.dom===document.body,g=k.lastBox||j.nullBox,h=k.el.lastBox||j.nullBox,b=!a,n,o,q,e;j.callParent(arguments);if(c){if(j.usesContentWidth){++l.consumersContentWidth}if(j.usesContentHeight){++l.consumersContentHeight}if(j.usesWidth){++l.consumersWidth}if(j.usesHeight){++l.consumersHeight}if(m&&!m.hasRawContent){n=k.ownerLayout;if(n.usesWidth){++l.consumersWidth}if(n.usesHeight){++l.consumersHeight}}}if(p.configured){q=p.names.width;if(!a){b=c?k[q]!==h.width:p.constrained}l.setWidth(k[q],b)}else{if(l.isTopLevel){if(p.calculated){o=g.width;l.setWidth(o,o!=h.width)}o=g.x;l.setProp("x",o,o!=h.x)}}if(d.configured){e=d.names.height;if(!a){b=c?k[e]!==h.height:d.constrained}l.setHeight(k[e],b)}else{if(l.isTopLevel){if(d.calculated){o=g.height;l.setHeight(o,o!=h.height)}o=g.y;l.setProp("y",o,o!=h.y)}}},finishedLayout:function(j){var g=this,b=j.children,h=g.owner,e,c,a,d,k;if(b){e=b.length;for(c=0;c<e;c++){a=b[c];a.el.lastBox=a.props}}j.previousSize=g.lastComponentSize;g.lastComponentSize=h.el.lastBox=k=j.props;d=h.lastBox||(h.lastBox={});d.x=k.x;d.y=k.y;d.width=k.width;d.height=k.height;d.invalid=false;g.callParent(arguments)},notifyOwner:function(d){var c=this,b=c.lastComponentSize,e=d.previousSize,a=[b.width,b.height];if(e){a.push(e.width,e.height)}c.owner.afterComponentLayout.apply(c.owner,a)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var a=this,d=a.targetInfo,c;if(!d){c=b.getEl("getTarget",a);a.targetInfo=d={padding:c.getPaddingInfo(),border:c.getBorderInfo()}}return d},measureAutoDimensions:function(n,c){var k=this,m=k.owner,b=m.layout,e=n.heightModel,t=n.widthModel,a=n.boxParent,h=n.isBoxParent,o=n.props,j,q={gotWidth:false,gotHeight:false,isContainer:(j=!n.hasRawContent)},g=c||3,v,u,l=0,d=0,p,r,s;if(t.shrinkWrap&&n.consumersContentWidth){++l;v=!(g&1);if(j){if(v){q.contentWidth=0;q.gotWidth=true;++d}else{if((q.contentWidth=n.getProp("contentWidth"))!==undefined){q.gotWidth=true;++d}}}else{r=o.contentWidth;if(typeof r=="number"){q.contentWidth=r;q.gotWidth=true;++d}else{if(v){p=true}else{if(!n.hasDomProp("containerChildrenSizeDone")){p=false}else{if(h||!a||a.widthModel.shrinkWrap){p=true}else{p=a.hasDomProp("width")}}}if(p){if(v){s=0}else{if(b&&b.measureContentWidth){s=b.measureContentWidth(n)}else{s=k.measureContentWidth(n)}}if(!isNaN(q.contentWidth=s)){n.setContentWidth(s,true);q.gotWidth=true;++d}}}}}else{if(t.natural&&n.consumersWidth){++l;r=o.width;if(typeof r=="number"){q.width=r;q.gotWidth=true;++d}else{if(h||!a){p=true}else{p=a.hasDomProp("width")}if(p){if(!isNaN(q.width=k.measureOwnerWidth(n))){n.setWidth(q.width,false);q.gotWidth=true;++d}}}}}if(e.shrinkWrap&&n.consumersContentHeight){++l;u=!(g&2);if(j){if(u){q.contentHeight=0;q.gotHeight=true;++d}else{if((q.contentHeight=n.getProp("contentHeight"))!==undefined){q.gotHeight=true;++d}}}else{r=o.contentHeight;if(typeof r=="number"){q.contentHeight=r;q.gotHeight=true;++d}else{if(u){p=true}else{if(!n.hasDomProp("containerChildrenSizeDone")){p=false}else{if(m.noWrap){p=true}else{if(!t.shrinkWrap){p=(n.bodyContext||n).hasDomProp("width")}else{if(h||!a||a.widthModel.shrinkWrap){p=true}else{p=a.hasDomProp("width")}}}}}if(p){if(u){s=0}else{if(b&&b.measureContentHeight){s=b.measureContentHeight(n)}else{s=k.measureContentHeight(n)}}if(!isNaN(q.contentHeight=s)){n.setContentHeight(s,true);q.gotHeight=true;++d}}}}}else{if(e.natural&&n.consumersHeight){++l;r=o.height;if(typeof r=="number"){q.height=r;q.gotHeight=true;++d}else{if(h||!a){p=true}else{p=a.hasDomProp("width")}if(p){if(!isNaN(q.height=k.measureOwnerHeight(n))){n.setHeight(q.height,false);q.gotHeight=true;++d}}}}}if(a){n.onBoxMeasured()}q.gotAll=d==l;return q},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(g,b){var e=this,d=e.lastWidthModel,c=e.lastHeightModel,a=e.owner.el;e.callParent(arguments);if(d&&d.fixed&&g.widthModel.shrinkWrap){a.setWidth(null)}if(c&&c.fixed&&g.heightModel.shrinkWrap){a.setHeight(null)}},calculate:function(e){var c=this,d=c.measureAutoDimensions(e),b=e.heightModel,h=e.widthModel,g,a;if(d.gotWidth){if(h.shrinkWrap){c.publishOwnerWidth(e,d.contentWidth)}else{if(c.publishInnerWidth){c.publishInnerWidth(e,d.width)}}}else{if(!h.auto&&c.publishInnerWidth){g=c.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width");if(g===undefined){c.done=false}else{c.publishInnerWidth(e,g)}}}if(d.gotHeight){if(b.shrinkWrap){c.publishOwnerHeight(e,d.contentHeight)}else{if(c.publishInnerHeight){c.publishInnerHeight(e,d.height)}}}else{if(!b.auto&&c.publishInnerHeight){a=c.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height");if(a===undefined){c.done=false}else{c.publishInnerHeight(e,a)}}}if(!d.gotAll){c.done=false}},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(j,b){var g=this,h=g.owner,d=g.calculateOwnerHeightFromContentHeight(j,b),a,c,e;if(isNaN(d)){g.done=false}else{a=Ext.Number.constrain(d,h.minHeight,h.maxHeight);if(a==d){c=g.setHeightInDom}else{e=g.sizeModels[(a<d)?"constrainedMax":"constrainedMin"];d=a;if(j.heightModel.calculatedFromShrinkWrap){j.heightModel=e}else{j.invalidate({heightModel:e})}}j.setHeight(d,c)}},publishOwnerWidth:function(g,b){var d=this,e=d.owner,h=d.calculateOwnerWidthFromContentWidth(g,b),a,c,j;if(isNaN(h)){d.done=false}else{a=Ext.Number.constrain(h,e.minWidth,e.maxWidth);if(a==h){c=d.setWidthInDom}else{j=d.sizeModels[(a<h)?"constrainedMax":"constrainedMin"];h=a;if(g.widthModel.calculatedFromShrinkWrap){g.widthModel=j}else{g.invalidate({widthModel:j})}}g.setWidth(h,c)}}});Ext.define("Ext.container.AbstractContainer",{extend:Ext.Component,mixins:{queryable:Ext.Queryable},renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:false,autoDestroy:true,defaultType:"panel",detachOnRemove:true,isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove");a.callParent();a.getLayout();a.initItems()},initItems:function(){var b=this,a=b.items;b.items=new Ext.util.AbstractMixedCollection(false,b.getComponentId);b.floatingItems=new Ext.util.MixedCollection(false,b.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}b.add(a)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();if(a){a.finishRender()}},beforeRender:function(){var b=this,a=b.getLayout(),c;b.callParent();if(!a.initialized){a.initLayout()}c=a.targetCls;if(c){b.applyTargetCls(c)}},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var c=this.floatingItems.items,b=c.length,d,a;this.callParent(arguments);for(d=0;d<b;d++){a=c[d];if(!a.rendered&&a.autoShow){a.show()}}},onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},repositionFloatingItems:function(){var c=this.floatingItems.items,b=c.length,d,a;for(d=0;d<b;d++){a=c[d];if(a.el&&!a.hidden){a.setPosition(a.x,a.y)}}},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType))}return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(a){var b=this;++b.layoutCounter;if(b.hasListeners.afterlayout){b.fireEvent("afterlayout",b,a)}},prepareItems:function(d,a){if(Ext.isArray(d)){d=d.slice()}else{d=[d]}var g=this,b=0,e=d.length,c;for(;b<e;b++){c=d[b];if(c==null){Ext.Array.erase(d,b,1);--b;--e}else{if(a){c=this.applyDefaults(c)}c.isContained=g;d[b]=g.lookupComponent(c);delete c.isContained;delete d[b].isContained}}return d},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},lookupComponent:function(a){return(typeof a=="string")?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var k=this,b=Ext.Array.slice(arguments),d=(typeof b[0]=="number")?b.shift():-1,h=k.getLayout(),a,g,c,j,e,l,m;if(b.length==1&&Ext.isArray(b[0])){g=b[0];a=true}else{g=b}if(k.rendered){Ext.suspendLayouts()}m=g=k.prepareItems(g,true);j=g.length;if(!a&&j==1){m=g[0]}for(c=0;c<j;c++){e=g[c];l=(d<0)?k.items.length:(d+c);if(e.floating){k.floatingItems.add(e);e.onAdded(k,l);if(k.hasListeners.add){k.fireEvent("add",k,e,l)}}else{if((!k.hasListeners.beforeadd||k.fireEvent("beforeadd",k,e,l)!==false)&&k.onBeforeAdd(e)!==false){k.items.insert(l,e);e.onAdded(k,l);k.onAdd(e,l);h.onAdd(e,l);if(k.hasListeners.add){k.fireEvent("add",k,e,l)}}}}k.updateLayout();if(k.rendered){Ext.resumeLayouts(true)}return m},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(c,a){var b;if(a&&a.isComponent){b=this.items.indexOf(a);if(b!==-1){return this.move(b,c)}}return this.add(c,a)},move:function(a,d){var c=this.items,b;if(a.isComponent){a=c.indexOf(a)}b=c.removeAt(a);if(b===false){return false}c.insert(d,b);this.onMove(b,a,d);this.updateLayout();return b},onMove:Ext.emptyFn,onBeforeAdd:function(a){if(a.ownerCt&&a.ownerCt!==this){a.ownerCt.remove(a,false)}},remove:function(d,a){var e=this,b=e.getComponent(d);if(b&&(!e.hasListeners.beforeremove||e.fireEvent("beforeremove",e,b)!==false)){e.doRemove(b,a);if(e.hasListeners.remove){e.fireEvent("remove",e,b)}if(!e.destroying&&!b.floating){e.updateLayout()}}return b},doRemove:function(a,b){b=b===true||(b!==false&&this.autoDestroy);var h=this,g=h.layout,d=g&&h.rendered,e=a.destroying||b,c=a.floating;if(c){h.floatingItems.remove(a)}else{h.items.remove(a)}if(d&&!c){if(g.running){Ext.AbstractComponent.cancelLayout(a,e)}g.onRemove(a,e)}a.onRemoved(e);h.onRemove(a,e);if(b){a.destroy()}else{if(d&&!c){g.afterRemove(a)}if(h.detachOnRemove&&a.rendered){h.detachComponent(a)}}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(a){var g=this,h=g.items.items.slice().concat(g.floatingItems.items),d=[],b=0,e=h.length,c;g.suspendLayouts();for(;b<e;b++){c=h[b];g.remove(c,a);if(c.ownerCt!==g){d.push(c)}}g.resumeLayouts(!!e);return d},getRefItems:function(a){var g=this,d=g.items.items,e=d.length,b=0,c,h=[];for(;b<e;b++){c=d[b];h[h.length]=c;if(a&&c.getRefItems){h.push.apply(h,c.getRefItems(true))}}d=g.floatingItems.items;e=d.length;for(b=0;b<e;b++){c=d[b];h[h.length]=c;if(a&&c.getRefItems){h.push.apply(h,c.getRefItems(true))}}return h},cascade:function(g,m,l){var k=this,e=k.items?k.items.items:[],j=e.length,h=0,b,a=l?l.concat(k):[k],d=a.length-1;if(g.apply(m||k,a)!==false){for(;h<j;h++){b=e[h];if(b.cascade){b.cascade(g,m,l)}else{a[d]=b;g.apply(m||e,a)}}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this){return true}a=a.ownerCt}},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}var a=this.items.get(b);if(!a&&typeof b!="number"){a=this.floatingItems.get(b)}return a},contains:function(a,b){var c=false;if(b){this.cascade(function(d){if(d.contains&&d.contains(a)){c=true;return false}});return c}else{return this.items.contains(a)||this.floatingItems.contains(a)}},nextChild:function(a,e){var c=this,d,b=c.items.indexOf(a);if(b!==-1){d=e?Ext.ComponentQuery(e,c.items.items.slice(b+1)):c.items.getAt(b+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,e)}}return d},prevChild:function(a,e){var c=this,d,b=c.items.indexOf(a);if(b!==-1){d=e?Ext.ComponentQuery(e,c.items.items.slice(b+1)):c.items.getAt(b+1);if(!d&&c.ownerCt){d=c.ownerCt.nextChild(c,e)}}return d},enable:function(){this.callParent(arguments);var c=this.getChildItemsToDisable(),d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(b.resetDisable){b.enable()}}return this},disable:function(){this.callParent(arguments);var c=this.getChildItemsToDisable(),d=c.length,b,a;for(a=0;a<d;a++){b=c[a];if(b.resetDisable!==false&&!b.disabled){b.disable();b.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var e=this,d=e.items,b=e.floatingItems,a;if(d){while((a=d.first())){e.doRemove(a,true)}}if(b){while((a=b.first())){e.doRemove(a,true)}}Ext.destroy(e.layout);e.callParent()}});Ext.define("Ext.container.Container",{extend:Ext.container.AbstractContainer,alias:"widget.container",alternateClassName:"Ext.Container",getChildByElement:function(b,a){var e,g,c=0,d=this.getRefItems(),h=d.length;b=Ext.getDom(b);for(;c<h;c++){e=d[c];g=e.getEl();if(g&&((g.dom===b)||g.contains(b))){return(a&&e.getChildByElement)?e.getChildByElement(b,a):e}}return null}});Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(b){var d=this,a=d.owner.autoSize,c=a&&a.width,e=d.sizePolicies;e=e[c]||e.$;c=a&&a.height;e=e[c]||e.$;return e},calculate:function(g){var d=this,e=d.owner,a=e.autoSize,c,b;if(a===true){a=d.autoSizeDefault}if(a){c=d.getDimension(e,a.width,"getWidth",e.width);b=d.getDimension(e,a.height,"getHeight",e.height)}g.childItems[0].setSize(c,b);g.setWidth(c);g.setHeight(b);g.setContentSize(c||e.field.getWidth(),b||e.field.getHeight())},getDimension:function(b,d,a,c){switch(d){case"boundEl":return b.boundEl[a]();case"field":return undefined;default:return c}}});Ext.define("Ext.Editor",{extend:Ext.container.Container,alias:"widget.editor",layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var b=this,a=b.field=Ext.ComponentManager.create(b.field,"textfield");Ext.apply(a,{inEditor:true,msgTarget:a.msgTarget=="title"?"title":"qtip"});b.mon(a,{scope:b,blur:b.onFieldBlur,specialkey:b.onSpecialKey});if(a.grow){b.mon(a,"autosize",b.onFieldAutosize,b,{delay:1})}b.floating={constrain:b.constrain};b.items=a;b.callParent(arguments);b.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(a,e){var d=this,b=d.field,c=b.inputEl;d.callParent(arguments);if(c){c.dom.name="";if(d.swallowKeys){c.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(d,c){var g=this,e=c.getKey(),b=g.completeOnEnter&&e==c.ENTER,a=g.cancelOnEsc&&e==c.ESC;if(b||a){c.stopEvent();Ext.defer(function(){if(b){g.completeEdit()}else{g.cancelEdit()}if(d.triggerBlur){d.triggerBlur(c)}},10)}g.fireEvent("specialkey",g,d,c)},startEdit:function(a,d){var c=this,b=c.field;c.completeEdit();c.boundEl=Ext.get(a);d=Ext.isDefined(d)?d:Ext.String.trim(c.boundEl.dom.innerText||c.boundEl.dom.innerHTML);if(!c.rendered){if(c.ownerCt){c.parentEl=c.ownerCt.el;c.parentEl.position()}c.render(c.parentEl||document.body)}if(c.fireEvent("beforestartedit",c,c.boundEl,d)!==false){c.startValue=d;c.show();b.suspendEvents();b.reset();b.setValue(d);b.resumeEvents();c.realign(true);b.focus();if(b.autoSize){b.autoSize()}c.editing=true}},realign:function(a){var b=this;if(a===true){b.updateLayout()}b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(c){var b=this,a=b.field,d;if(!b.editing){return}if(a.assertValue){a.assertValue()}d=b.getValue();if(!a.isValid()){if(b.revertInvalid!==false){b.cancelEdit(c)}return}if(String(d)===String(b.startValue)&&b.ignoreNoChange){b.hideEdit(c);return}if(b.fireEvent("beforecomplete",b,d,b.startValue)!==false){d=b.getValue();if(b.updateEl&&b.boundEl){b.boundEl.update(d)}b.hideEdit(c);b.fireEvent("complete",b,d,b.startValue)}},onShow:function(){var a=this;a.callParent(arguments);if(a.hideEl!==false){a.boundEl.hide()}a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(c){var b=this,d=b.startValue,a=b.field,e;if(b.editing){e=b.getValue();a.suspendEvents();b.setValue(d);a.resumeEvents();b.hideEdit(c);b.fireEvent("canceledit",b,e,d)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onFieldBlur:function(b,a){var c=this,d=Ext.Element.getActiveElement();if(c.allowBlur===true&&c.editing&&c.selectSameEditor!==true){c.completeEdit()}if(Ext.fly(d).isFocusable()||d.getAttribute("tabIndex")){d.focus()}},onHide:function(){var b=this,a=b.field;if(b.editing){b.completeEdit();return}if(a.hasFocus&&a.triggerBlur){a.triggerBlur()}if(a.collapse){a.collapse()}if(b.hideEl!==false){b.boundEl.show()}b.callParent(arguments)},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field);delete a.field;delete a.parentEl;delete a.boundEl;a.callParent(arguments)}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if((arguments.length!==1)||(typeof a==="string")||a.dom||a.tagName||a===document||a.isComponent){b.legacyConstructor.apply(b,arguments);return}Ext.apply(b,a);b.bindings=[];if(!b.target.isComponent){b.target=Ext.get(b.target)}if(b.binding){b.addBinding(b.binding)}else{if(a.key){b.addBinding(a)}}b.enable()},legacyConstructor:function(b,a,c){var d=this;Ext.apply(d,{target:Ext.get(b),eventName:c||d.eventName,bindings:[]});if(a){d.addBinding(a)}d.enable()},addBinding:function(a){var e=this,c=a.key,b,d;if(e.processing){e.bindings=bindings.slice(0)}if(Ext.isArray(a)){for(b=0,d=a.length;b<d;b++){e.addBinding(a[b])}return}e.bindings.push(Ext.apply({keyCode:e.processKeys(c)},a))},removeBinding:function(a){var h=this,b=h.bindings,g=b.length,c,d,e;if(h.processing){h.bindings=b.slice(0)}e=h.processKeys(a.key);for(c=0;c<g;++c){d=b[c];if(d.fn===a.fn&&d.scope===a.scope){if(a.alt==d.alt&&a.crtl==d.crtl&&a.shift==d.shift){if(Ext.Array.equals(d.keyCode,e)){Ext.Array.erase(h.bindings,c,1);return}}}}},processKeys:function(c){var h=false,b,d,e,g,a;if(Ext.isString(c)){d=[];e=c.toUpperCase();for(a=0,g=e.length;a<g;++a){d.push(e.charCodeAt(a))}c=d;h=true}if(!Ext.isArray(c)){c=[c]}if(!h){for(a=0,g=c.length;a<g;++a){b=c[a];if(Ext.isString(b)){c[a]=b.toUpperCase().charCodeAt(0)}}}return c},handleTargetEvent:(function(){var a=/input|textarea/i;return function(d){var h=this,b,e,g,j,c;if(h.enabled){b=h.bindings;e=0;g=b.length;d=h.processEvent.apply(h||h.processEventScope,arguments);if(h.ignoreInputFields){j=d.target;c=j.contentEditable;if(a.test(j.tagName)||(c===""||c==="true")){return}}if(!d.getKey){return d}h.processing=true;for(;e<g;++e){h.processBinding(b[e],d)}h.processing=false}}}()),processEvent:Ext.identityFn,processBinding:function(a,c){if(this.checkModifiers(a,c)){var g=c.getKey(),d=a.fn||a.handler,l=a.scope||this,h=a.keyCode,b=a.defaultEventAction,e,k,j=new Ext.EventObjectImpl(c);for(e=0,k=h.length;e<k;++e){if(g===h[e]){if(d.call(l,g,c)!==true&&b){j[b]()}break}}}},checkModifiers:function(a,b){var g=["shift","ctrl","alt"],c=0,h=g.length,j,d;for(;c<h;++c){d=g[c];j=a[d];if(!(j===undefined||(j===b[d+"Key"]))){return false}}return true},on:function(d,c,g){var e,h,b,a;if(Ext.isObject(d)&&!Ext.isArray(d)){e=d.key;h=d.shift;b=d.ctrl;a=d.alt}else{e=d}this.addBinding({key:e,shift:h,ctrl:b,alt:a,fn:c,scope:g})},un:function(d,c,g){var e,h,b,a;if(Ext.isObject(d)&&!Ext.isArray(d)){e=d.key;h=d.shift;b=d.ctrl;a=d.alt}else{e=d}this.removeBinding({key:e,shift:h,ctrl:b,alt:a,fn:c,scope:g})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(b){var a=this,c=a.target;a.bindings=[];a.disable();if(b===true){if(c.isComponent){c.destroy()}else{c.remove()}}delete a.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(arguments.length===2){b.legacyConstructor.apply(b,arguments);return}b.setConfig(a)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(b){var j=this,e={target:b.target,ignoreInputFields:b.ignoreInputFields,eventName:j.getKeyEvent("forceKeyDown" in b?b.forceKeyDown:j.forceKeyDown,b.eventName)},h,d,c,g,a;if(j.map){j.map.destroy()}if(b.processEvent){e.processEvent=b.processEvent;e.processEventScope=b.processEventScope||j}if(b.keyMap){h=j.map=b.keyMap}else{h=j.map=new Ext.util.KeyMap(e);j.destroyKeyMap=true}d=Ext.util.KeyNav.keyOptions;c=b.scope||j;for(g in d){if(d.hasOwnProperty(g)){if(a=b[g]){if(typeof a==="function"){a={handler:a,defaultEventAction:(b.defaultEventAction!==undefined)?b.defaultEventAction:j.defaultEventAction}}h.addBinding({key:d[g],handler:Ext.Function.bind(j.handleEvent,a.scope||c,a.handler||a.fn,true),defaultEventAction:(a.defaultEventAction!==undefined)?a.defaultEventAction:j.defaultEventAction})}}}h.disable();if(!b.disabled){h.enable()}},handleEvent:function(c,a,b){return b.call(this,a)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){if(b||(Ext.EventManager.useKeyDown&&!a)){return"keydown"}else{return a||this.eventName}}});Ext.define("Ext.FocusManager",{singleton:true,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var c=this,b=Ext.ComponentQuery;c.mixins.observable.constructor.call(c,a);c.addEvents("beforecomponentfocus","componentfocus","disable","enable");c.focusTask=new Ext.util.DelayedTask(c.handleComponentFocus,c);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(c.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);c.onComponentFocus.apply(c,arguments)}},onBlur:function(){this.callParent(arguments);if(c.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);c.onComponentBlur.apply(c,arguments)}},onDestroy:function(){this.callParent(arguments);if(c.enabled){Array.prototype.unshift.call(arguments,this);c.onComponentDestroy.apply(c,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(c.enabled){Array.prototype.unshift.call(arguments,this);c.onComponentHide.apply(c,arguments)}}});c.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:c,backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,tab:c.navigateSiblings,space:c.navigateIn,del:c.focusLast,left:c.navigateSiblings,right:c.navigateSiblings,down:c.navigateSiblings,up:c.navigateSiblings});c.focusData={};c.subscribers=new Ext.util.HashMap();c.focusChain={};Ext.apply(b.pseudos,{nextFocus:function(e,h,k){k=k||1;h=parseInt(h,10);var j=e.length,g=h,d;for(;;){if((g+=k)>=j){g=0}else{if(g<0){g=j-1}}if(g===h){return[]}if((d=e[g]).isFocusable()){return[d]}}return[]},prevFocus:function(d,e){return this.nextFocus(d,e,-1)},root:function(e){var h=e.length,j=[],g=0,d;for(;g<h;g++){d=e[g];if(!d.ownerCt){j.push(d)}}return j}})},addXTypeToWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.addXTypeToWhitelist,a);return}if(!Ext.Array.contains(a.whitelist,b)){a.whitelist.push(b)}},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);if(!a.isDestroyed){a.blur()}},disable:function(){var a=this;if(!a.enabled){return}delete a.options;a.enabled=false;a.removeDOM();a.keyNav.disable();a.fireEvent("disable",a)},enable:function(b){var a=this;if(b===true){b={focusFrame:true}}a.options=b=b||{};if(a.enabled){return}a.enabled=true;a.initDOM(b);a.keyNav.enable();a.focusEl.focus();delete a.focusedCmp;a.fireEvent("enable",a)},focusLast:function(a){var b=this;if(b.isWhitelisted(b.focusedCmp)){return true}if(b.previousFocusedCmp){b.previousFocusedCmp.focus()}},getRootComponents:function(){var a=Ext.ComponentQuery,c=a.query(":focusable:root:not([floating])"),b=a.query(":focusable:root[floating]");b.sort(function(d,e){return d.el.getZIndex()>e.el.getZIndex()});return b.concat(c)},initDOM:function(g){var d=this,a=d.focusFrameCls,e=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),b=0,c=e.length;if(!Ext.isReady){return Ext.onReady(d.initDOM,d)}for(;b<c;b++){e[b].addFocusListener()}if(!d.focusEl){d.focusEl=Ext.getBody();d.focusEl.dom.tabIndex=-1}if(!d.focusFrame&&g.focusFrame){d.focusFrame=Ext.getBody().createChild({cls:a,children:[{cls:a+"-top"},{cls:a+"-bottom"},{cls:a+"-left"},{cls:a+"-right"}],style:"top: -100px; left: -100px;"});d.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);d.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(b){var g=this,d=g.focusedCmp,a,c;if(g.isWhitelisted(d)){return true}if(!d){a=g.getRootComponents()[0];if(a){if(a.getFocusEl()===g.focusEl){g.focusEl.blur()}a.focus()}}else{c=d.hasFocus?Ext.ComponentQuery.query(">:focusable",d)[0]:d;if(c){c.focus()}else{if(Ext.isFunction(d.onClick)){b.button=0;d.onClick(b);if(d.isVisible(true)){d.focus()}else{g.navigateOut()}}}}},navigateOut:function(a){var b=this,c;if(!b.focusedCmp||!(c=b.focusedCmp.up(":focusable"))){b.focusEl.focus()}else{c.focus()}return true},navigateSiblings:function(b,p,n){var k=this,q=p||k,j=b.getKey(),c=Ext.EventObject,g=b.shiftKey||j==c.LEFT||j==c.UP,a=j==c.LEFT||j==c.RIGHT||j==c.UP||j==c.DOWN,m=g?"prev":"next",h,l,d,o;d=(q.focusedCmp&&q.focusedCmp.comp)||q.focusedCmp;if(!d&&!n){return true}if(a&&k.isWhitelisted(d)){return true}if(!d||d.is(":root")){o=k.getRootComponents()}else{n=n||d.up();if(n){o=n.getRefItems()}}if(o){h=d?Ext.Array.indexOf(o,d):-1;l=Ext.ComponentQuery.query(":"+m+"Focus("+h+")",o)[0];if(l&&d!==l){l.focus();return l}}},onComponentBlur:function(a,b){var c=this;if(c.focusedCmp===a){c.previousFocusedCmp=a;delete c.focusedCmp}if(c.focusFrame){c.focusFrame.hide()}},onComponentFocus:function(b,c){var d=this,a=d.focusChain,g;if(!b.isFocusable()){d.clearComponent(b);if(a[b.id]){return}g=b.up();if(g){a[b.id]=true;g.focus()}return}d.focusChain={};d.focusTask.delay(10,null,null,[b,b.getFocusEl()])},handleComponentFocus:function(h,m){var p=this,g,k,c,d,b,e,a,o,j,l,n;if(p.fireEvent("beforecomponentfocus",p,h,p.previousFocusedCmp)===false){p.clearComponent(h);return}p.focusedCmp=h;if(p.shouldShowFocusFrame(h)){g="."+p.focusFrameCls+"-";k=p.focusFrame;c=(m.dom?m:m.el).getBox();d=c.top;b=c.left;e=c.width;a=c.height;o=k.child(g+"top");j=k.child(g+"bottom");l=k.child(g+"left");n=k.child(g+"right");o.setWidth(e).setLocalXY(b,d);j.setWidth(e).setLocalXY(b,d+a-2);l.setHeight(a-2).setLocalXY(b,d+2);n.setHeight(a-2).setLocalXY(b+e-2,d+2);k.show()}p.fireEvent("componentfocus",p,h,p.previousFocusedCmp)},onComponentHide:function(a){var d=this,b=false,c=d.focusedCmp,e;if(c){b=a.hasFocus||(a.isContainer&&a.isAncestor(d.focusedCmp))}d.clearComponent(a);if(b&&(e=a.up(":focusable"))){e.focus()}else{d.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length){return}Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.removeXTypeFromWhitelist,a);return}Ext.Array.remove(a.whitelist,b)},setupSubscriberKeys:function(a,d){var e=this,b=a.getFocusEl(),h=d.scope,c={backspace:e.focusLast,enter:e.navigateIn,esc:e.navigateOut,scope:e},g=function(j){if(e.focusedCmp===a){return e.navigateSiblings(j,e,a)}else{return e.navigateSiblings(j)}};Ext.iterate(d,function(k,j){c[k]=function(l){var m=g(l);if(Ext.isFunction(j)&&j.call(h||a,l,m)===true){return true}return m}},e);return new Ext.util.KeyNav(b,c)},shouldShowFocusFrame:function(a){var b=this,c=b.options||{};if(!b.focusFrame||!a){return false}if(c.focusFrame){return true}if(b.focusData[a.id].focusFrame){return true}return false}});Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){if(this.glyph){this.autoEl="div"}this.callParent()},getElConfig:function(){var g=this,a=g.callParent(),c=Ext._glyphFontFamily,b=g.glyph,e,d;if(g.autoEl=="img"){e=a}else{if(g.glyph){if(typeof b==="string"){d=b.split("@");b=d[0];c=d[1]}a.html="&#"+b+";";if(c){a.style="font-family:"+c}}else{a.cn=[e={tag:"img",id:g.id+"-img"}]}}if(e){if(g.imgCls){e.cls=(e.cls?e.cls+" ":"")+g.imgCls}e.src=g.src||Ext.BLANK_IMAGE_URL}if(g.alt){(e||a).alt=g.alt}if(g.title){(e||a).title=g.title}return a},onRender:function(){var b=this,a;b.callParent(arguments);a=b.el;b.imgEl=(b.autoEl=="img")?a:a.getById(b.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(c){var b=this,a=b.imgEl;b.src=c;if(a){a.dom.src=c||Ext.BLANK_IMAGE_URL}},setGlyph:function(b){var e=this,c=Ext._glyphFontFamily,d,a;if(b!=e.glyph){if(typeof b==="string"){d=b.split("@");b=d[0];c=d[1]}a=e.el.dom;a.innerHTML="&#"+b+";";if(c){a.style="font-family:"+c}}}});Ext.define("Ext.util.Bindable",{bindStore:function(e,a,d){d=d||"store";var b=this,c=b[d];if(!a&&c){b.onUnbindStore(c,a,d);if(e!==c&&c.autoDestroy){c.destroyStore()}else{b.unbindStoreListeners(c)}}if(e){e=Ext.data.StoreManager.lookup(e);b.bindStoreListeners(e);b.onBindStore(e,a,d)}b[d]=e||null;return b},getStore:function(){return this.store},unbindStoreListeners:function(b){var a=this.storeListeners;if(a){b.un(a)}},bindStoreListeners:function(c){var b=this,a=Ext.apply({},b.getStoreListeners(c));if(!a.scope){a.scope=b}b.storeListeners=a;c.on(a)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:{floating:Ext.util.Floating,bindable:Ext.util.Bindable},msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:true,useTargetEl:false,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:false,bringParentToFront:false,constructor:function(b){var c=this,a;if(arguments.length===2){a=b;b=arguments[1]}else{a=b.target}if(!a.isComponent){a=Ext.get(a);this.isElement=true}c.ownerCt=a;if(!this.isElement){c.bindComponent(a)}c.callParent([b]);if(c.store){c.bindStore(c.store,true)}},bindComponent:function(a){var c=this,b={scope:this,resize:c.sizeMask,added:c.onComponentAdded,removed:c.onComponentRemoved};if(a.floating){b.move=c.sizeMask;c.activeOwner=a}else{if(a.ownerCt){c.onComponentAdded(a.ownerCt)}else{c.preventBringToFront=true}}c.mon(a,b);c.mon(c.hierarchyEventSource,{show:c.onContainerShow,hide:c.onContainerHide,expand:c.onContainerExpand,collapse:c.onContainerCollapse,scope:c})},onComponentAdded:function(b){var a=this;delete a.activeOwner;a.floatParent=b;if(!b.floating){b=b.up("[floating]")}if(b){a.activeOwner=b;a.mon(b,"move",a.sizeMask,a)}else{a.preventBringToFront=true}b=a.floatParent.ownerCt;if(a.rendered&&a.isVisible()&&b){a.floatOwner=b;a.mon(b,"afterlayout",a.sizeMask,a,{single:true})}},onComponentRemoved:function(d){var c=this,a=c.activeOwner,b=c.floatOwner;if(a){c.mun(a,"move",c.sizeMask,c)}if(b){c.mun(b,"afterlayout",c.sizeMask,c)}delete c.activeOwner;delete c.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerHide:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},onContainerExpand:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerCollapse:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,"tl-tl")}},bindStore:function(c,a){var b=this;b.mixins.bindable.bindStore.apply(b,arguments);c=b.store;if(c&&c.isLoading()){b.onBeforeLoad()}},getStoreListeners:function(d){var b=this.onLoad,a=this.onBeforeLoad,c={cachemiss:a,cachefilled:b};if(!d.proxy.isSynchronous){c.beforeLoad=a;c.load=b}return c},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var a=this,c=a.getOwner(),b;if(!a.disabled){a.loading=true;if(c.componentLayoutCounter){a.maybeShow()}else{b=c.afterComponentLayout;c.afterComponentLayout=function(){c.afterComponentLayout=b;b.apply(c,arguments);a.maybeShow()}}}},maybeShow:function(){var a=this,b=a.getOwner();if(!b.isVisible(true)){a.showNext=true}else{if(a.loading&&b.rendered){a.show()}}},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var a=this,b=a.msgEl;a.callParent(arguments);a.loading=true;if(a.useMsg){b.show();a.msgTextEl.update(a.msg)}else{b.parent().hide()}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;return this.callParent(arguments)},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(a){var b=this,c=b.activeOwner;if(c){a=parseInt(c.el.getStyle("zIndex"),10)+1}b.getMaskEl().setStyle("zIndex",a-1);return b.mixins.floating.setZIndex.apply(b,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);a.callParent()}});Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:true,initialConfig:null,statics:{AUTO_ID:1000,create:function(a){if(Ext.isString(a)){a={type:a}}switch(a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a);default:}return a}},constructor:function(d){Ext.apply(this,d);var g=this,k=Ext.ModelManager.types,j=d.ownerModel,b=d.associatedModel,h=k[j],a=k[b],c=d.associationKey,e;if(c){e=String(c).search(/[\[\.]/);if(e>=0){g.associationKeyFunction=Ext.functionFactory("obj","return obj"+(e>0?".":"")+c)}}g.initialConfig=d;g.ownerModel=h;g.associatedModel=a;Ext.applyIf(g,{ownerName:j,associatedName:b});g.associationId="association"+(++g.statics().AUTO_ID)},getReader:function(){var a=this,c=a.reader,b=a.associatedModel;if(c){if(Ext.isString(c)){c={type:c}}if(c.isReader){c.setModel(b)}else{Ext.applyIf(c,{model:b,type:a.defaultReaderType})}a.reader=Ext.createByAlias("reader."+c.type,c)}return a.reader||null}});Ext.define("Ext.ModelManager",{extend:Ext.AbstractManager,alternateClassName:"Ext.ModelMgr",singleton:true,typeName:"mtype",associationStack:[],registerType:function(c,a){var d=a.prototype,b;if(d&&d.isModel){b=a}else{if(!a.extend){a.extend="Ext.data.Model"}b=Ext.define(c,a)}this.types[c]=b;return b},unregisterType:function(a){delete this.types[a]},onModelDefined:function(g){var h=this.associationStack,e=h.length,b=[],a,d,c;for(d=0;d<e;d++){a=h[d];if(a.associatedModel==g.modelName){b.push(a)}}for(d=0,e=b.length;d<e;d++){c=b[d];this.types[c.ownerModel].prototype.associations.add(Ext.data.association.Association.create(c));Ext.Array.remove(h,c)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(a){var b=a;if(typeof b=="string"){b=this.types[b]}return b},create:function(b,d,c){var a=typeof d=="function"?d:this.types[d||b.name];return new a(b,c)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(c){var b=this,a,d;b.callParent(arguments);if(!c.textEls){d=b.owner.textEl;if(d.isComposite){c.textEls=[];d=d.elements;for(a=d.length;a--;){c.textEls[a]=c.getEl(Ext.get(d[a]))}}else{c.textEls=[c.getEl("textEl")]}}},calculate:function(c){var b=this,a,d,e;b.callParent(arguments);if(Ext.isNumber(e=c.getProp("width"))){e-=c.getBorderInfo().width;d=c.textEls;for(a=d.length;a--;){d[a].setWidth(e)}}else{b.done=false}}});Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else{a.textEl=a.el.select("."+a.baseCls+"-text")}},updateProgress:function(e,d,a){var b=this,c=b.value;b.value=e||0;if(d){b.updateText(d)}if(b.rendered&&!b.isDestroyed){if(a===true||(a!==false&&b.animate)){b.bar.stopAnimation();b.bar.animate(Ext.apply({from:{width:(c*100)+"%"},to:{width:(b.value*100)+"%"}},b.animate))}else{b.bar.setStyle("width",(b.value*100)+"%")}}b.fireEvent("update",b,b.value,d);return b},updateText:function(b){var a=this;a.text=b;if(a.rendered){a.textEl.update(a.text)}return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(b){var a=this,c;if(!a.waitTimer){c=a;b=b||{};a.updateText(b.text);a.waitTimer=Ext.TaskManager.start({run:function(d){var e=b.increment||10;d-=1;a.updateProgress(((((d+e)%e)+1)*(100/e))*0.01,null,b.animate)},interval:b.interval||1000,duration:b.duration,onStop:function(){if(b.fn){b.fn.apply(b.scope||a)}a.reset()},scope:c})}return a},isWaiting:function(){return this.waitTimer!==null},reset:function(a){var b=this;b.updateProgress(0);b.clearTimer();if(a===true){b.hide()}return b},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var b=this,a=b.bar;b.clearTimer();if(b.rendered){if(b.textEl.isComposite){b.textEl.clear()}Ext.destroyMembers(b,"textEl","progressBar");if(a&&b.animate){a.stopAnimation()}}b.callParent()}});Ext.define("Ext.ShadowPool",{singleton:true,markup:(function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}()),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var b=[].concat(this.shadows),a,c=b.length;for(a=0;a<c;a++){b[a].remove()}this.shadows=[]}});Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(b){var c=this,a,d,e;Ext.apply(c,b);if(!Ext.isString(c.mode)){c.mode=c.defaultMode}d=c.offset;e=Math.floor(d/2);c.opacity=50;switch(c.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){a={t:d,l:d,h:-d,w:-d}}else{a={t:-e,l:-e,h:-e,w:-e}}break;case"sides":if(Ext.supports.CSS3BoxShadow){a={t:d,l:0,h:-d,w:0}}else{a={t:-(1+e),l:1+e-2*d,h:-1,w:e-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){a={t:0,l:0,h:0,w:0}}else{a={t:1+e-2*d,l:1+e-2*d,h:d-e-1,w:d-e-1}}break;case"bottom":if(Ext.supports.CSS3BoxShadow){a={t:d,l:0,h:-d,w:0}}else{a={t:d,l:0,h:0,w:0}}break}c.adjusts=a},getShadowSize:function(){var a=this,c=a.el?a.offset:0,d=[c,c,c,c],b=a.mode.toLowerCase();if(a.el&&b!=="frame"){d[0]=0;if(b=="drop"){d[3]=0}}return d},offset:4,defaultMode:"drop",boxShadowProperty:(function(){var a="boxShadow",b=document.documentElement.style;if(!("boxShadow" in b)){if("WebkitBoxShadow" in b){a="WebkitBoxShadow"}else{if("MozBoxShadow" in b){a="MozBoxShadow"}}}return a}()),show:function(c){var b=this,a,d;c=Ext.get(c);a=(parseInt(c.getStyle("z-index"),10)-1)||0;d=c[b.localXYNames.get]();if(!b.el){b.el=Ext.ShadowPool.pull();if(b.fixed){b.el.dom.style.position="fixed"}else{b.el.dom.style.position=""}if(b.el.dom.nextSibling!=c.dom){b.el.insertBefore(c)}}b.el.setStyle("z-index",b.zIndex||a);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(b.offset)+")"}b.realign(d[0],d[1],c.dom.offsetWidth,c.dom.offsetHeight);b.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(c,j,n,k){if(!this.el){return}var a=this.adjusts,b=this.el,m=b.dom.style,e,d,h,g;b[this.localXYNames.set](c+a.l,j+a.t);e=Math.max(n+a.w,0);d=Math.max(k+a.h,0);h=e+"px";g=d+"px";if(m.width!=h||m.height!=g){m.width=h;m.height=g;if(Ext.supports.CSS3BoxShadow){m[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}});Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:true,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a;a.bus={};a.monitoredClasses=[]},dispatch:function(o,d,a){var l=this,b=l.bus,n=b[d],m,c,j,g,e,h,k;if(!n){return true}for(m in n){if(n.hasOwnProperty(m)&&l.match(o,m)){c=n[m];for(j in c){if(c.hasOwnProperty(j)){g=c[j];for(h=0,k=g.length;h<k;h++){e=g[h];if(e.fire.apply(e,a)===false){return false}}}}}}return true},listen:function(r,b){var l=this,a=l.bus,g=l.idProperty,m=l.monitoredClasses,n=m.length,e,s,h,q,o,j,p,d,k,c;for(q in r){if(r.hasOwnProperty(q)&&(k=r[q])){if(g){q=q==="*"?q:q.substring(1)}for(c in k){if(k.hasOwnProperty(c)){o=null;j=k[c];p=b;d=new Ext.util.Event(b,c);if(Ext.isObject(j)){o=j;j=o.fn;p=o.scope||b;delete o.fn;delete o.scope}if(typeof j==="string"){j=p[j]}d.addListener(j,p,o);for(e=n;e-->0;){m[e].hasListeners._incr_(c)}s=a[c]||(a[c]={});s=s[q]||(s[q]={});h=s[b.id]||(s[b.id]=[]);h.push(d)}}}}},match:function(c,b){var a=this.idProperty;if(a){return b==="*"||c[a]===b}return false},monitor:function(c){var a=this,d=c.isInstance?c:c.prototype,b=d.fireEventArgs;a.monitoredClasses.push(c);d.fireEventArgs=function(g,e){var h=b.apply(this,arguments);if(h!==false){h=a.dispatch(this,g,e)}return h}},unlisten:function(b){var a=this.bus,c,d,e,g;for(d in a){if(a.hasOwnProperty(d)&&(g=a[d])){for(e in g){c=g[e];delete c[b]}}}}});Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:true,type:"component",constructor:function(){var a=this;a.callParent();a.monitor(Ext.Component)},match:function(b,a){return b.is(a)}});Ext.define("Ext.app.EventBus",{singleton:true,constructor:function(){var b=this,a=Ext.app.EventDomain.instances;b.callParent();b.domains=a;b.bus=a.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(d,a){var c=this.domains,b;for(b in d){if(d.hasOwnProperty(b)){c[b].listen(d[b],a)}}},unlisten:function(a){var c=Ext.app.EventDomain.instances,b;for(b in c){c[b].unlisten(a)}}});Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(g){if(Ext.isArray(g)){var c=["field1"],b=!Ext.isArray(g[0]),a=g,d,e;if(b){a=[];for(d=0,e=g.length;d<e;++d){a.push([g[d]])}}else{for(d=2,e=g[0].length;d<=e;++d){c.push("field"+d)}}return new Ext.data.ArrayStore({data:a,fields:c,autoDestroy:true,autoCreated:true,expanded:b})}if(Ext.isString(g)){return this.get(g)}else{return Ext.data.AbstractStore.create(g)}},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(b,a){var c;if(Ext.isObject(b)){a=b}else{a.storeId=b}if(a instanceof Ext.data.Store){c=a}else{c=new Ext.data.Store(a)}return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:true,type:"global",constructor:function(){var a=this;a.callParent();a.monitor(Ext.globalEvents)},listen:function(b,a){this.callParent([{global:b},a])},match:function(){return true}});Ext.define("Ext.data.ResultSet",{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined){this.count=this.records.length}}});Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:Ext.util.Observable},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,readRecordsOnFailure:true,isReader:true,applyDefaults:true,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.fieldCount=0;b.model=Ext.ModelManager.getModel(b.model);if(b.model&&b.model.prototype.fields){b.buildExtractors()}this.addEvents("exception")},setModel:function(b,c){var a=this;a.model=Ext.ModelManager.getModel(b);if(b){a.buildExtractors(true)}if(c&&a.proxy){a.proxy.setModel(a.model,true)}},read:function(b){var a;if(b){a=b.responseText?this.getResponseData(b):this.readRecords(b)}return a||this.nullResultSet},readRecords:function(a){var b=this,h,d,e,g,j,k,c;if(b.lastFieldGeneration!==b.model.prototype.fields.generation){b.buildExtractors(true)}b.rawData=a;a=b.getData(a);h=true;d=0;e=[];if(b.successProperty){k=b.getSuccess(a);if(k===false||k==="false"){h=false}}if(b.messageProperty){c=b.getMessage(a)}if(b.readRecordsOnFailure||h){g=Ext.isArray(a)?a:b.getRoot(a);if(g){j=g.length}if(b.totalProperty){k=parseInt(b.getTotal(a),10);if(!isNaN(k)){j=k}}if(g){e=b.extractData(g);d=e.length}}return new Ext.data.ResultSet({total:j||d,count:d,records:e,success:h,message:c})},extractData:function(k){var d=this,e=d.model,c=k.length,j=new Array(c),a,g,h,b;if(!k.length&&Ext.isObject(k)){k=[k];c=1}for(b=0;b<c;b++){g=k[b];if(g.isModel){j[b]=g}else{j[b]=h=new e(undefined,d.getId(g),g,a={});h.phantom=false;d.convertRecordData(a,g,h);if(d.implicitIncludes&&h.associations.length){d.readAssociated(h,g)}}}return j},readAssociated:function(k,d){var c=k.associations.items,e=0,g=c.length,a,b,h,j;for(;e<g;e++){a=c[e];b=this.getAssociatedDataRoot(d,a.associationKeyFunction||a.associationKey||a.name);if(b){j=a.getReader();if(!j){h=a.associatedModel.getProxy();if(h){j=h.getReader()}else{j=new this.constructor({model:a.associatedName})}}a.read(k,j,b)}}},getAssociatedDataRoot:function(b,a){if(Ext.isFunction(a)){return a(b)}return b[a]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(d){var c=this,b=d.fields||c.getFields(),e,a;c.metaData=d;c.root=d.root||c.root;c.idProperty=d.idProperty||c.idProperty;c.totalProperty=d.totalProperty||c.totalProperty;c.successProperty=d.successProperty||c.successProperty;c.messageProperty=d.messageProperty||c.messageProperty;a=d.clientIdProperty;if(c.model){c.model.setFields(b,c.idProperty,a);c.setModel(c.model,true)}else{e=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:b,clientIdProperty:a});if(c.idProperty){e.idProperty=c.idProperty}c.setModel(e,true)}},getIdProperty:function(){var a=this.model.prototype.idField,b=this.idProperty;if(!b&&a&&(b=a.mapping)==null){b=a.name}return b},buildExtractors:function(b){var d=this,c=d.getIdProperty(),h=d.totalProperty,g=d.successProperty,e=d.messageProperty,a;if(b===true){delete d.convertRecordData}if(d.convertRecordData){return}if(h){d.getTotal=d.createAccessor(h)}if(g){d.getSuccess=d.createAccessor(g)}if(e){d.getMessage=d.createAccessor(e)}if(c){a=d.createAccessor(c);d.getId=function(k){var j=a.call(d,k);return(j===undefined||j==="")?null:j}}else{d.getId=function(){return null}}d.convertRecordData=d.buildRecordDataExtractor();d.lastFieldGeneration=d.model.prototype.fields.generation},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var a=this,b=a.model.prototype,c={clientIdProp:b.clientIdProperty,fields:b.fields.items};a.recordDataExtractorTemplate.createFieldAccessExpression=function(){return a.createFieldAccessExpression.apply(a,arguments)};return Ext.functionFactory(a.recordDataExtractorTemplate.apply(c)).call(a)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})});Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",metaProperty:"metaData",useSimpleAccessors:false,readRecords:function(a){var b=this,c;if(b.getMeta){c=b.getMeta(a);if(c){b.onMetaChange(c)}}else{if(a.metaData){b.onMetaChange(a.metaData)}}b.jsonData=a;return b.callParent([a])},getResponseData:function(d){var a,b;try{a=Ext.decode(d.responseText);return this.readRecords(a)}catch(c){b=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:c.message});this.fireEvent("exception",this,d,b);Ext.Logger.warn("Unable to parse the JSON returned by the server");return b}},buildExtractors:function(){var a=this,b=a.metaProperty;a.callParent(arguments);if(a.root){a.getRoot=a.createAccessor(a.root)}else{a.getRoot=Ext.identityFn}if(b){a.getMeta=a.createAccessor(b)}},extractData:function(e){var d=this.record,a=[],c,b;if(d){c=e.length;if(!c&&Ext.isObject(e)){c=1;e=[e]}for(b=0;b<c;b++){a[b]=e[b][d]}}else{a=e}return this.callParent([a])},createAccessor:(function(){var a=/[\[\.]/;return function(b){if(Ext.isEmpty(b)){return Ext.emptyFn}if(Ext.isFunction(b)){return b}if(this.useSimpleAccessors!==true){var c=String(b).search(a);if(c>=0){return Ext.functionFactory("obj","return obj"+(c>0?".":"")+b)}}return function(d){return d[b]}}}()),createFieldAccessExpression:(function(){var a=/[\[\.]/;return function(d,e,c){var l=d.mapping,g=l||l===0,k=g?l:d.name,o,m;if(l===false){return}if(typeof k==="function"){o=e+".mapping("+c+", this)"}else{if(this.useSimpleAccessors===true||((m=String(k).search(a))<0)){if(!g||isNaN(k)){k='"'+k+'"'}o=c+"["+k+"]"}else{if(m===0){o=c+k}else{var n=k.split("."),j=n.length,h=1,p=c+"."+n[0],b=[p];for(;h<j;h++){p+="."+n[h];b.push(p)}o=b.join(" && ")}}}return o}}())});Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",writeRecordId:true,isWriter:true,constructor:function(a){Ext.apply(this,a)},write:function(g){var d=g.operation,e=d.records||[],c=e.length,b=0,a=[];for(;b<c;b++){a.push(this.getRecordData(e[b],d))}return this.writeRecords(g,a)},getRecordData:function(o,n){var k=o.phantom===true,p=this.writeAllFields||k,h=o.fields,g=h.items,c={},b=o.clientIdProperty,a,e,l,m,d,j;if(p){j=g.length;for(d=0;d<j;d++){e=g[d];if(e.persist){this.writeValue(c,e,o)}}}else{a=o.getChanges();for(l in a){if(a.hasOwnProperty(l)){e=h.get(l);if(e.persist){this.writeValue(c,e,o)}}}}if(k){if(b&&n&&n.records.length>1){c[b]=o.internalId}}else{if(this.writeRecordId){m=h.get(o.idProperty)[this.nameProperty]||o.idProperty;c[m]=o.getId()}}return c},writeValue:function(a,c,e){var d=c[this.nameProperty],b=this.dateFormat||c.dateWriteFormat||c.dateFormat,g=e.get(c.name);if(d==null){d=c.name}if(c.serialize){a[d]=c.serialize(g,e)}else{if(c.type===Ext.data.Types.DATE&&b&&Ext.isDate(g)){a[d]=Ext.Date.format(g,b)}else{a[d]=g}}}});Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:false,allowSingle:true,expandData:false,getExpandedData:function(a){var b=a.length,c=0,d,h,g,e,k,l=function(j,n){var m={};m[j]=n;return m};for(;c<b;c++){d=a[c];for(h in d){if(d.hasOwnProperty(h)){g=h.split(".");e=g.length-1;if(e>0){k=d[h];for(;e>0;e--){k=l(g[e],k)}d[g[0]]=d[g[0]]||{};Ext.Object.merge(d[g[0]],k);delete d[h]}}}}return a},writeRecords:function(b,a){var c=this.root;if(this.expandData){a=this.getExpandedData(a)}if(this.allowSingle&&a.length===1){a=a[0]}if(this.encode){if(c){b.params[c]=Ext.encode(a)}else{}}else{b.jsonData=b.jsonData||{};if(c){b.jsonData[c]=a}else{b.jsonData=a}}return b}});Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],mixins:{observable:Ext.util.Observable},batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,isSynchronous:false,constructor:function(a){var b=this;a=a||{};b.proxyConfig=a;b.mixins.observable.constructor.call(b,a);if(b.model!==undefined&&!(b.model instanceof Ext.data.Model)){b.setModel(b.model)}else{if(b.reader){b.setReader(b.reader)}if(b.writer){b.setWriter(b.writer)}}},setModel:function(b,c){var a=this;a.model=Ext.ModelManager.getModel(b);a.setReader(this.reader);a.setWriter(this.writer);if(c&&a.store){a.store.setModel(a.model)}},getModel:function(){return this.model},setReader:function(d){var b=this,c=true,a=b.reader;if(d===undefined||typeof d=="string"){d={type:d};c=false}if(d.isReader){d.setModel(b.model)}else{if(c){d=Ext.apply({},d)}Ext.applyIf(d,{proxy:b,model:b.model,type:b.defaultReaderType});d=Ext.createByAlias("reader."+d.type,d)}if(d!==a&&d.onMetaChange){d.onMetaChange=Ext.Function.createSequence(d.onMetaChange,this.onMetaChange,this)}b.reader=d;return b.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(c){var a=this,b=true;if(c===undefined||typeof c=="string"){c={type:c};b=false}if(!c.isWriter){if(b){c=Ext.apply({},c)}Ext.applyIf(c,{model:a.model,type:a.defaultWriterType});c=Ext.createByAlias("writer."+c.type,c)}a.writer=c;return a.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(k,h){var j=this,p=j.batchActions,g,n,d,e,c,b,l,o,m;if(k.operations===undefined){k={operations:k,listeners:h}}if(k.batch){if(Ext.isDefined(k.batch.runOperation)){g=Ext.applyIf(k.batch,{proxy:j,listeners:{}})}}else{k.batch={proxy:j,listeners:k.listeners||{}}}if(!g){g=new Ext.data.Batch(k.batch)}g.on("complete",Ext.bind(j.onBatchComplete,j,[k],0));d=j.batchOrder.split(",");e=d.length;for(b=0;b<e;b++){c=d[b];n=k.operations[c];if(n){if(p){g.add(new Ext.data.Operation({action:c,records:n}))}else{o=n.length;for(l=0;l<o;l++){m=n[l];g.add(new Ext.data.Operation({action:c,records:[m]}))}}}}g.start();return g},onBatchComplete:function(b,a){var c=b.scope||this;if(a.hasException){if(Ext.isFunction(b.failure)){Ext.callback(b.failure,c,[a,b])}}else{if(Ext.isFunction(b.success)){Ext.callback(b.success,c,[a,b])}}if(Ext.isFunction(b.callback)){Ext.callback(b.callback,c,[a,b])}},clone:function(){return new this.self(this.proxyConfig)}});Ext.define("Ext.data.Operation",{synchronous:true,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(n){var j=this,c=j.actionCommitRecordsRe.test(j.action),h,e,b,m,a,d,g,k,l;if(!j.actionSkipSyncRe.test(j.action)){b=j.records;if(b&&b.length){if(c){l=[]}if(b.length>1){if(j.action=="update"||b[0].clientIdProperty){h=new Ext.util.MixedCollection();h.addAll(n);for(e=b.length;e--;){a=b[e];m=h.findBy(j.matchClientRec,a);k=a.copyFrom(m);if(c){l.push(k)}}}else{for(d=0,g=b.length;d<g;++d){a=b[d];m=n[d];if(a&&m){k=j.updateRecord(a,m);if(c){l.push(k)}}}}}else{k=j.updateRecord(b[0],n[0]);if(c){l[0]=k}}if(c){for(e=b.length;e--;){b[e].commit(false,l[e])}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){return a.copyFrom(b)}return[]},matchClientRec:function(c){var a=this,b=a.getId();if(b&&c.getId()===b){return true}return c.internalId===a.internalId},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}});Ext.define("Ext.data.AbstractStore",{mixins:{observable:Ext.util.Observable,sortable:Ext.util.Sortable},statics:{create:function(a){if(!a.isStore){if(!a.type){a.type="store"}a=Ext.createByAlias("store."+a.type,a)}return a}},onClassExtended:function(a,b,c){var d=b.model,e;if(typeof d=="string"){e=c.onBeforeCreated;c.onBeforeCreated=function(){var h=this,g=arguments;Ext.require(d,function(){e.apply(h,g)})}}},remoteSort:false,remoteFilter:false,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(a){var c=this,b;Ext.apply(c,a);c.removed=[];c.mixins.observable.constructor.apply(c,arguments);c.model=Ext.ModelManager.getModel(c.model);Ext.applyIf(c,{modelDefaults:null});if(!c.model&&c.fields){c.model=Ext.define("Ext.data.Store.ImplicitModel-"+(c.storeId||Ext.id()),{extend:"Ext.data.Model",fields:c.fields,proxy:c.proxy||c.defaultProxyType});delete c.fields;c.implicitModel=true}c.setProxy(c.proxy||c.model.getProxy());if(!c.disableMetaChangeEvent){c.proxy.on("metachange",c.onMetaChange,c)}if(c.id&&!c.storeId){c.storeId=c.id;delete c.id}if(c.storeId){Ext.data.StoreManager.register(c)}c.mixins.sortable.initSortable.call(c);b=c.decodeFilters(c.filters);c.filters=new Ext.util.MixedCollection();c.filters.addAll(b)},setProxy:function(b){var a=this;if(b instanceof Ext.data.proxy.Proxy){b.setModel(a.model)}else{if(Ext.isString(b)){b={type:b}}Ext.applyIf(b,{model:a.model});b=Ext.createByAlias("proxy."+b.type,b)}a.proxy=b;return a.proxy},getProxy:function(){return this.proxy},onMetaChange:function(b,a){this.fireEvent("metachange",this,a)},create:function(a,e){var c=this,b=Ext.ModelManager.create(Ext.applyIf(a,c.modelDefaults),c.model.modelName),d;e=e||{};Ext.applyIf(e,{action:"create",records:[b]});d=new Ext.data.Operation(e);c.proxy.create(d,c.onProxyWrite,c);return b},read:function(){return this.load.apply(this,arguments)},update:function(c){var a=this,b;c=c||{};Ext.applyIf(c,{action:"update",records:a.getUpdatedRecords()});b=new Ext.data.Operation(c);return a.proxy.update(b,a.onProxyWrite,a)},onProxyWrite:function(b){var a=this,d=b.wasSuccessful(),c=b.getRecords();switch(b.action){case"create":a.onCreateRecords(c,b,d);break;case"update":a.onUpdateRecords(c,b,d);break;case"destroy":a.onDestroyRecords(c,b,d);break}if(d){a.fireEvent("write",a,b);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}Ext.callback(b.callback,b.scope||a,[c,b,d])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(b,a,c){if(c){this.removed=[]}},destroy:function(c){var a=this,b;c=c||{};Ext.applyIf(c,{action:"destroy",records:a.getRemovedRecords()});b=new Ext.data.Operation(c);return a.proxy.destroy(b,a.onProxyWrite,a)},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},onBatchComplete:function(a,e){var d=this,g=a.operations,c=g.length,b;d.suspendEvents();for(b=0;b<c;b++){d.onProxyWrite(g[b])}d.resumeEvents();d.fireEvent("datachanged",d);d.fireEvent("refresh",d)},onBatchException:function(a,b){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(a,b){},decodeFilters:function(c){if(!Ext.isArray(c)){if(c===undefined){c=[]}else{c=[c]}}var e=c.length,b=Ext.util.Filter,a,d;for(d=0;d<e;d++){a=c[d];if(!(a instanceof b)){Ext.apply(a,{root:"data"});if(a.fn){a.filterFn=a.fn}if(typeof a=="function"){a={filterFn:a}}c[d]=new b(a)}}return c},clearFilter:function(a){},isFiltered:function(){},filterBy:function(a,b){},sync:function(d){var a=this,c={},e=a.getNewRecords(),h=a.getUpdatedRecords(),g=a.getRemovedRecords(),b=false;if(e.length>0){c.create=e;b=true}if(h.length>0){c.update=h;b=true}if(g.length>0){c.destroy=g;b=true}if(b&&a.fireEvent("beforesync",c)!==false){d=d||{};a.proxy.batch(Ext.apply(d,{operations:c,listeners:a.getBatchListeners()}))}return a},getBatchListeners:function(){var b=this,a={scope:b,exception:b.onBatchException};if(b.batchUpdateMode=="operation"){a.operationcomplete=b.onBatchOperationComplete}else{a.complete=b.onBatchComplete}return a},save:function(){return this.sync.apply(this,arguments)},load:function(c){var a=this,b;c=Ext.apply({action:"read",filters:a.filters.items,sorters:a.getSorters()},c);a.lastOptions=c;b=new Ext.data.Operation(c);if(a.fireEvent("beforeload",a,b)!==false){a.loading=true;a.proxy.read(b,a.onProxyLoad,a)}return a},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(d,c){var b=this,a,e;if(b.autoSync&&!b.autoSyncSuspended){for(a=c.length;a--;){if(d.fields.get(c[a]).persist){e=true;break}}if(e){b.sync()}}b.onUpdate(d,Ext.data.Model.EDIT,c);b.fireEvent("update",b,d,Ext.data.Model.EDIT,c)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null);this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(b,a){if(!a){a=null}this.onUpdate(b,Ext.data.Model.COMMIT,a);this.fireEvent("update",this,b,Ext.data.Model.COMMIT,a)},onUpdate:Ext.emptyFn,onIdChanged:function(a,c,b,d){this.fireEvent("idchanged",this,a,c,b,d)},destroyStore:function(){var a,b=this;if(!b.isDestroyed){b.clearListeners();if(b.storeId){Ext.data.StoreManager.unregister(b)}b.clearData();b.data=b.tree=b.sorters=b.filters=b.groupers=null;if(b.reader){b.reader.destroyReader()}b.proxy=b.reader=b.writer=null;b.isDestroyed=true;if(b.implicitModel){a=Ext.getClassName(b.model);Ext.undefine(a);Ext.ModelManager.unregisterType(a)}else{b.model=null}}},getState:function(){var e=this,d,g,c=!!e.groupers,b=[],h=[],a=[];if(c){e.groupers.each(function(j){b[b.length]=j.serialize();d=true})}if(e.sorters){e.sorters.each(function(j){if(c&&!e.groupers.contains(j)){h[h.length]=j.serialize();d=true}})}if(e.filters&&e.statefulFilters){e.filters.each(function(j){a[a.length]=j.serialize();d=true})}if(d){g={};if(b.length){g.groupers=b}if(h.length){g.sorters=h}if(a.length){g.filters=a}return g}},applyState:function(g){var e=this,c=!!e.sorters,b=!!e.groupers,a=!!e.filters,d;if(b&&g.groupers){e.groupers.clear();e.groupers.addAll(e.decodeGroupers(g.groupers))}if(c&&g.sorters){e.sorters.clear();e.sorters.addAll(e.decodeSorters(g.sorters))}if(a&&g.filters){e.filters.clear();e.filters.addAll(e.decodeFilters(g.filters))}if(c&&b){e.sorters.insert(0,e.groupers.getRange())}if(e.autoLoad&&(e.remoteSort||e.remoteGroup||e.remoteFilter)){if(e.autoLoad===true){e.reload()}else{e.reload(e.autoLoad)}}if(a&&e.filters.length&&!e.remoteFilter){e.filter();d=e.sortOnFilter}if(c&&e.sorters.length&&!e.remoteSort&&!d){e.sort()}},doSort:function(b){var a=this;if(a.remoteSort){a.load()}else{a.data.sortBy(b);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}a.fireEvent("sort",a,a.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return !!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}});Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:true,type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}});Ext.define("Ext.app.Controller",{mixins:{observable:Ext.util.Observable},statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(d,c){var a="get",g=d.split("."),e=g.length,b;for(b=0;b<e;b++){a+=Ext.String.capitalize(g[b])}a+=c;return a},processDependencies:function(b,p,m,g,l){if(!l||!l.length){return}var h=this,r=h.strings[g],n,a,q,k,e,s,d,c;if(!Ext.isArray(l)){l=[l]}for(e=0,s=l.length;e<s;e++){k=l[e];n=h.getFullName(k,g,m);a=n.absoluteName;q=n.shortName;p.push(a);d=h.getGetterName(q,r.upper);b[d]=c=h.createGetter(r.getter,k);if(g!=="controller"){c["Ext.app.getter"]=true}}},getFullName:function(c,b,d){var g=c,e,a;if((e=c.indexOf("@"))>0){g=c.substring(0,e);a=c.substring(e+1)+"."+g}else{if(c.indexOf(".")>0&&(Ext.ClassManager.isCreated(c)||Ext.Loader.isAClassNameWithAKnownPrefix(c))){a=c}else{if(d){a=d+"."+b+"."+c;g=c}else{a=c}}}return{absoluteName:a,shortName:g}}},application:null,onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(g,k){var h=Ext.app.Controller,j=h.controllerRegex,o=[],e,m,o,n,l;n=g.prototype;e=Ext.getClassName(g);m=k.$namespace||Ext.app.getNamespace(e)||((l=j.exec(e))&&l[1]);if(m){n.$namespace=m}h.processDependencies(n,o,m,"model",k.models);h.processDependencies(n,o,m,"view",k.views);h.processDependencies(n,o,m,"store",k.stores);h.processDependencies(n,o,m,"controller",k.controllers);Ext.require(o,Ext.Function.pass(d,arguments,this))}},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);if(b.refs){b.ref(b.refs)}b.eventbus=Ext.app.EventBus;b.initAutoGetters()},initAutoGetters:function(){var c=this.self.prototype,b,a;for(b in c){a=c[b];if(a&&a["Ext.app.getter"]){a.call(this)}}},doInit:function(a){var b=this;if(!b._initialized){b.init(a);b._initialized=true}},finishInit:function(a){var g=this,c=g.controllers,b,d,e;if(g._initialized&&c&&c.length){for(d=0,e=c.length;d<e;d++){b=g.getController(c[d]);b.finishInit(a)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(h){var e=this,b=0,d=h.length,c,g,a;h=Ext.Array.from(h);e.references=e.references||[];for(;b<d;b++){c=h[b];g=c.ref;a="get"+Ext.String.capitalize(g);if(!e[a]){e[a]=Ext.Function.pass(e.getRef,[g,c],e)}e.references.push(g.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(e,c,b){var d=this,g=d.refCache||(d.refCache={}),a=g[e];c=c||{};b=b||{};Ext.apply(c,b);if(c.forceCreate){return Ext.ComponentManager.create(c,"component")}if(!a){if(c.selector){g[e]=a=Ext.ComponentQuery.query(c.selector)[0]}if(!a&&c.autoCreate){g[e]=a=Ext.ComponentManager.create(c,"component")}if(a){a.on("beforedestroy",function(){g[e]=null})}}return a},hasRef:function(a){var b=this.references;return b&&Ext.Array.indexOf(b,a.toLowerCase())!==-1},control:function(g,c,a){var d=this,b=a,e;if(Ext.isString(g)){e={};e[g]=c}else{e=g;b=c}d.eventbus.control(e,b||d)},listen:function(b,a){this.eventbus.listen(b,a||this)},getController:function(b){var c=this,a=c.application;if(b===c.id){return c}return a&&a.getController(b)},getStore:function(a){var c,b;c=(a.indexOf("@")==-1)?a:a.split("@")[0];b=Ext.StoreManager.get(c);if(!b){a=Ext.app.Controller.getFullName(a,"store",this.$namespace);if(a){b=Ext.create(a.absoluteName,{storeId:c})}}return b},getModel:function(a){var b=Ext.app.Controller.getFullName(a,"model",this.$namespace);return b&&Ext.ModelManager.getModel(b.absoluteName)},getView:function(b){var a=Ext.app.Controller.getFullName(b,"view",this.$namespace);return a&&Ext.ClassManager.get(a.absoluteName)},getApplication:function(){return this.application}});Ext.define("Ext.container.DockingContainer",{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(c,g){var e=this,a=0,b,d;c=e.prepareItems(c);d=c.length;for(;a<d;a++){b=c[a];b.dock=b.dock||"top";if(b.dock==="left"||b.dock==="right"){e.horizontalDocks++}if(g!==undefined){a+=g;e.dockedItems.insert(a,b)}else{e.dockedItems.add(b)}b.onAdded(e,a);if(e.hasListeners.dockedadd){e.fireEvent("dockedadd",e,b,a)}if(e.onDockedAdd!==Ext.emptyFn){e.onDockedAdd(b)}}if(e.rendered&&!e.suspendLayout){e.updateLayout()}return c},destroyDockedItems:function(){var b=this.dockedItems,a;if(b){while((a=b.first())){this.removeDocked(a,true)}}},doRenderDockedItems:function(e,g,a){var d=g.$comp,c=d.componentLayout,b,h;if(c.getDockedItems&&!g.$skipDockedItems){b=c.getDockedItems("render",!a);h=b&&c.getItemsRenderTree(b);if(h){Ext.DomHelper.generateMarkup(h,e)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(c,a){var b=this.getComponentLayout().getDockedItems("render",a);if(c&&b.length){b=Ext.ComponentQuery.query(c,b)}return b},getDockingRefItems:function(b,a){var e=b&&"*,* *",c=this.getDockedItems(e,true),d;c.push.apply(c,a);d=this.getDockedItems(e,false);c.push.apply(c,d);return c},initDockingItems:function(){var b=this,a=b.dockedItems;b.dockedItems=new Ext.util.AbstractMixedCollection(false,b.getComponentId);if(a){b.addDocked(a)}},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(c,a){var e=this,d,b;a=a===true||(a!==false&&e.autoDestroy);if(!e.dockedItems.contains(c)){return c}if(c.dock==="left"||c.dock==="right"){e.horizontalDocks--}d=e.componentLayout;b=d&&e.rendered;if(b){d.onRemove(c)}e.dockedItems.remove(c);c.onRemoved(c.destroying||a);e.onDockedRemove(c);if(a){c.destroy()}else{if(b){d.afterRemove(c)}}if(e.hasListeners.dockedremove){e.fireEvent("dockedremove",e,c)}if(!e.destroying&&!e.suspendLayout){e.updateLayout()}return c},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(b,a){this.layout=b;Ext.apply(this,a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(c){var a=this,d=c.state.boxPlan,b;if(d&&d.tooNarrow){b=a.handleOverflow(c);if(b){if(b.reservedSpace){a.layout.publishInnerCtSize(c,b.reservedSpace)}}}else{a.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(e){var c=this,d=c.layout.owner,b,a;if(d.hasListeners.overflowchange){b=d.query(">[hidden]");a=b.length;if(a!==c.lastHiddenCount){d.fireEvent("overflowchange",c.lastHiddenCount,a,b);c.lastHiddenCount=a}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;if(a.isToolbar){b="toolbar"}else{if(a.isTabBar){b="tabbar"}else{if(a.isMenu){b="menu"}else{b=a.getXType()}}}return b},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false});Ext.define("Ext.button.Manager",{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=true}},onDocumentKeyDown:function(b){var c=b.getKey(),a;if(c===b.SPACE||c===b.ENTER){a=b.getTarget(this.buttonSelector);if(a){Ext.getCmp(a.id).onClick(b)}}},onButtonMousedown:function(a,b){var c=this.pressedButton;if(c){c.onMouseUp(b)}this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;if(b){b.onMouseUp(a);this.pressedButton=null}},toggleGroup:function(a,e){if(e){var b=this.groups[a.toggleGroup],d=b.length,c;for(c=0;c<d;c++){if(b[c]!==a){b[c].toggle(false)}}}},register:function(a){var d=this,c=this.groups,b=c[a.toggleGroup];d.init();if(!a.toggleGroup){return}if(!b){b=c[a.toggleGroup]=[]}b.push(a);a.on("toggle",d.toggleGroup,d)},unregister:function(a){if(!a.toggleGroup){return}var c=this,b=c.groups[a.toggleGroup];if(b){Ext.Array.remove(b,a);a.un("toggle",c.toggleGroup,c)}},getPressed:function(b){var a=this.groups[b],c=0,d;if(a){for(d=a.length;c<d;c++){if(a[c].pressed===true){return a[c]}}}return null}});Ext.define("Ext.menu.Manager",{singleton:true,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){var a=this;a.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var a=this.active,c,b,d;if(a&&a.length>0){c=Ext.Array.slice(a.items);d=c.length;for(b=0;b<d;b++){c[b].hide()}return true}return false},onHide:function(b){var c=this,a=c.active;a.remove(b);if(a.length<1){Ext.getDoc().un("mousedown",c.onMouseDown,c);c.attached=false}},onShow:function(c){var d=this,a=d.active,b=d.attached;d.lastShow=new Date();a.add(c);if(!b){Ext.getDoc().on("mousedown",d.onMouseDown,d,{buffer:Ext.isIE9m?10:undefined});d.attached=true}c.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(b){var a=this.active,c=b.parentMenu;a.remove(b);if(!c&&!b.allowOtherMenus){this.hideAll()}else{if(c&&c.activeChild&&b!=c.activeChild){c.activeChild.hide()}}},onMouseDown:function(c){var g=this,a=g.active,d=g.lastShow,b=true;if(Ext.Date.getElapsed(d)>50&&a.length>0&&!c.getTarget(g.menuSelector)){if(Ext.isIE9m&&!Ext.getDoc().contains(c.target)){b=false}if(b){g.hideAll()}}},register:function(b){var a=this;if(!a.active){a.init()}if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},get:function(a){var b=this.menus;if(typeof a=="string"){if(!b){return null}return b[a]}else{if(a.isMenu){return a}else{if(Ext.isArray(a)){return new Ext.menu.Menu({items:a})}else{return Ext.ComponentManager.create(a,"menu")}}}},unregister:function(c){var b=this,d=b.menus,a=b.active;delete d[c.id];a.remove(c);c.un({beforehide:b.onBeforeHide,hide:b.onHide,beforeshow:b.onBeforeShow,show:b.onShow,scope:b})},registerCheckable:function(c){var b=this.groups,a=c.group;if(a){if(!b[a]){b[a]=[]}b[a].push(c)}},unregisterCheckable:function(c){var b=this.groups,a=c.group;if(a){Ext.Array.remove(b[a],c)}},onCheckChange:function(h,j){var d=this.groups,c=h.group,e=0,b,g,a;if(c&&j){b=d[c];g=b.length;for(;e<g;e++){a=b[e];if(a!=h){a.setChecked(false)}}}}});Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(b,a){var c=this;c.el=Ext.get(b);c.el.unselectable();Ext.apply(c,a);c.callParent();c.addEvents("mousedown","click","mouseup");if(!c.disabled){c.disabled=true;c.enable()}if(c.handler){c.on("click",c.handler,c.scope||c)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||(Ext.isStrict&&Ext.isIE9))){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(h,a,e,g){return(h==g)?a+e:e*(-Math.pow(2,-10*h/g)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,a)}});Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:Ext.layout.component.Auto,type:"button",htmlRE:/<.*>/,beginLayout:function(c){var a=this,b=a.owner,d=b.text;a.callParent(arguments);c.btnWrapContext=c.getEl("btnWrap");c.btnElContext=c.getEl("btnEl");c.btnInnerElContext=c.getEl("btnInnerEl");c.btnIconElContext=c.getEl("btnIconEl");if(d&&a.htmlRE.test(d)){c.isHtmlText=true;b.btnInnerEl.setStyle("line-height","normal");b.btnInnerEl.setStyle("padding-top","")}},beginLayoutCycle:function(c){var b=this.owner,a=this.lastWidthModel;this.callParent(arguments);if(a&&!this.lastWidthModel.shrinkWrap&&c.widthModel.shrinkWrap){b.btnWrap.setStyle("height","");b.btnEl.setStyle("height","");b.btnInnerEl.setStyle("line-height","")}},calculate:function(l){var h=this,k=h.owner,a=l.btnElContext,c=l.btnInnerElContext,d=l.btnWrapContext,j=Math.max,m,e,b,g;h.callParent(arguments);if(l.heightModel.shrinkWrap){b=k.btnEl.getHeight();if(l.isHtmlText){h.centerInnerEl(l,b);h.ieCenterIcon(l,b)}}else{m=l.getProp("height");if(m){e=m-l.getFrameInfo().height-l.getPaddingInfo().height;b=e;if((k.menu||k.split)&&k.arrowAlign==="bottom"){b-=d.getPaddingInfo().bottom}g=b;if((k.icon||k.iconCls||k.glyph)&&(k.iconAlign==="top"||k.iconAlign==="bottom")){g-=c.getPaddingInfo().height}d.setProp("height",j(0,e));a.setProp("height",j(0,b));if(l.isHtmlText){h.centerInnerEl(l,b)}else{c.setProp("line-height",j(0,g)+"px")}h.ieCenterIcon(l,b)}else{if(m!==0){h.done=false}}}},centerInnerEl:function(e,a){var d=this,b=e.btnInnerElContext,c=d.owner.btnInnerEl.getHeight();if(e.heightModel.shrinkWrap&&(a<c)){e.btnElContext.setHeight(c)}else{if(a>c){b.setProp("padding-top",Math.round((a-c)/2)+b.getPaddingInfo().top)}}},ieCenterIcon:function(c,a){var b=this.owner.iconAlign;if((Ext.isIEQuirks||Ext.isIE6)&&(b==="left"||b==="right")){c.btnIconElContext.setHeight(a)}},publishInnerWidth:function(a,b){if(this.owner.getFrameInfo().table){a.btnInnerElContext.setWidth(b-a.getFrameInfo().width-a.getPaddingInfo().width-a.btnWrapContext.getPaddingInfo().width)}}});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,e,b){var c=this,d=c.shared;if(!d){d=c.shared=new c(a,b)}d.bind(a);d.setFixedWidth(b||"auto");return d.getSize(e)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(a,b){var c=this,d=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});c.measure=d;if(a){c.bind(a)}d.position("absolute");d.setLocalXY(-1000,-1000);d.hide();if(b){d.setWidth(b)}},getSize:function(c){var a=this.measure,b;a.update(c);b=a.getSize();a.update("");return b},bind:function(a){var b=this;b.el=Ext.get(a);b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},function(){Ext.Element.addMethods({getTextWidth:function(c,b,a){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(c,this.dom.innerHTML,true)).width,b||0,a||1000000)}})});Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:{queryable:Ext.Queryable},alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,textAlign:"center",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"};a.addCls("x-unselectable");a.callParent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange");if(a.menu){a.split=true;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty("preventDefault")){a.preventDefault=false}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==""){a.enableToggle=true}if(a.html&&!a.text){a.text=a.html;delete a.html}a.glyphCls=a.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var b=this,a=b.getComponentCls();if(!Ext.isEmpty(b.oldCls)){b.removeClsWithUI(b.oldCls);b.removeClsWithUI(b.pressedCls)}b.oldCls=a;b.addClsWithUI(a)},getComponentCls:function(){var b=this,a;if(b.iconCls||b.icon||b.glyph){a=[b.text?"icon-text-"+b.iconAlign:"icon"]}else{if(b.text){a=["noicon"]}else{a=[]}}if(b.pressed){a[a.length]=b.pressedCls}return a},beforeRender:function(){var d=this,a=d.autoEl,b=d.getHref(),c=d.hrefTarget;if(!d.disabled){a.tabIndex=d.tabIndex}if(b){a.href=b;if(c){a.target=c}}d.callParent();d.oldCls=d.getComponentCls();d.addClsWithUI(d.oldCls);Ext.applyIf(d.renderData,d.getTemplateArgs())},onRender:function(){var d=this,a,b,c;d.doc=Ext.getDoc();d.callParent(arguments);b=d.el;if(d.tooltip){d.setTooltip(d.tooltip,true)}if(d.handleMouseEvents){c={scope:d,mouseover:d.onMouseOver,mouseout:d.onMouseOut,mousedown:d.onMouseDown};if(d.split){c.mousemove=d.onMouseMove}}else{c={scope:d}}if(d.menu){d.mon(d.menu,{scope:d,show:d.onMenuShow,hide:d.onMenuHide});d.keyMap=new Ext.util.KeyMap({target:d.el,key:Ext.EventObject.DOWN,handler:d.onDownKey,scope:d})}if(d.repeat){d.mon(new Ext.util.ClickRepeater(b,Ext.isObject(d.repeat)?d.repeat:{}),"click",d.onRepeatClick,d)}else{if(c[d.clickEvent]){a=true}else{c[d.clickEvent]=d.onClick}}d.mon(b,c);if(a){d.mon(b,d.clickEvent,d.onClick,d)}Ext.button.Manager.register(d)},getTemplateArgs:function(){var d=this,a=d.glyph,b=Ext._glyphFontFamily,c;if(typeof a==="string"){c=a.split("@");a=c[0];b=c[1]}return{innerCls:d.getInnerCls(),splitCls:d.getSplitCls(),iconUrl:d.icon,iconCls:d.iconCls,glyph:a,glyphCls:a?d.glyphCls:"",glyphFontFamily:b,text:d.text||"&#160;"}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var b=this,a=b.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},b.params,b.baseParams))):false},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?(a.baseCls+"-"+a.arrowCls)+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(b){b=b||"";var c=this,a=c.btnIconEl,d=c.icon||"";c.icon=b;if(b!=d){if(a){a.setStyle("background-image",b?"url("+b+")":"");c.setComponentCls();if(c.didIconStateChange(d,b)){c.updateLayout()}}c.fireEvent("iconchange",c,d,b)}return c},setIconCls:function(b){b=b||"";var c=this,a=c.btnIconEl,d=c.iconCls||"";c.iconCls=b;if(d!=b){if(a){a.removeCls(d);a.addCls(b);c.setComponentCls();if(c.didIconStateChange(d,b)){c.updateLayout()}}c.fireEvent("iconchange",c,d,b)}return c},setGlyph:function(c){c=c||0;var e=this,a=e.btnIconEl,g=e.glyph,b,d;e.glyph=c;if(a){if(typeof c==="string"){d=c.split("@");c=d[0];b=d[1]||Ext._glyphFontFamily}if(!c){a.dom.innerHTML=""}else{if(g!=c){a.dom.innerHTML="&#"+c+";"}}if(b){a.setStyle("font-family",b)}}e.fireEvent("glyphchange",e,e.glyph,g);return e},setTooltip:function(c,a){var b=this;if(b.rendered){if(!a||!c){b.clearTip()}if(c){if(Ext.quickTipsActive&&Ext.isObject(c)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.el.id},c));b.tooltip=c}else{b.el.dom.setAttribute(b.getTipAttr(),c)}}}else{b.tooltip=c}return b},setTextAlign:function(a){var c=this,b=c.btnEl;if(b){b.removeCls(c.baseCls+"-inner-"+c.textAlign);b.addCls(c.baseCls+"-inner-"+a)}c.textAlign=a;return c},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var c=this.menu,b;if(c){b=c.getRefItems(a);b.unshift(c)}return b||[]},clearTip:function(){var b=this,a=b.el;if(Ext.quickTipsActive&&Ext.isObject(b.tooltip)){Ext.tip.QuickTipManager.unregister(a)}else{a.dom.removeAttribute(b.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu!==false){Ext.destroy(a.menu)}Ext.destroy(a.btnInnerEl,a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);a.callParent()},setHandler:function(a,b){this.handler=a;this.scope=b;return this},setText:function(c){c=c||"";var a=this,b=a.text||"";if(c!=b){a.text=c;if(a.rendered){a.btnInnerEl.update(c||"&#160;");a.setComponentCls();if(Ext.isStrict&&Ext.isIE8){a.el.repaint()}a.updateLayout()}a.fireEvent("textchange",a,b,c)}return a},didIconStateChange:function(c,a){var b=Ext.isEmpty(a);return Ext.isEmpty(c)?!b:b},getText:function(){return this.text},toggle:function(b,c){var a=this;b=b===undefined?!a.pressed:!!b;if(b!==a.pressed){if(a.rendered){a[b?"addClsWithUI":"removeClsWithUI"](a.pressedCls)}a.pressed=b;if(!c){a.fireEvent("toggle",a,b);Ext.callback(a.toggleHandler,a.scope||a,[a,b])}}return a},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(true)}},showMenu:function(a){var b=this,c=b.menu;if(b.rendered){if(b.tooltip&&Ext.quickTipsActive&&b.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(b.el)}if(c.isVisible()){c.hide()}if(!a||b.showEmptyMenu||c.items.getCount()>0){c.showBy(b.el,b.menuAlign)}}return b},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(b,a){this.onClick(a)},onClick:function(a){var b=this;if(b.preventDefault||(b.disabled&&b.getHref())&&a){a.preventDefault()}if(a.type!=="keydown"&&a.button!==0){return}if(!b.disabled){b.doToggle();b.maybeShowMenu();b.fireHandler(a)}},fireHandler:function(a){var c=this,b=c.handler;if(c.fireEvent("click",c,a)!==false){if(b){b.call(c.scope||c,c,a)}}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}},onMouseOver:function(a){var b=this;if(!b.disabled&&!a.within(b.el,true,true)){b.onMouseEnter(a)}},onMouseOut:function(a){var b=this;if(!a.within(b.el,true,true)){if(b.overMenuTrigger){b.onMenuTriggerOut(a)}b.onMouseLeave(a)}},onMouseMove:function(a){var c=this,b=c.el,d=c.overMenuTrigger,g,h;if(c.split){g=(c.arrowAlign==="right")?a.getX()-c.getX():a.getY()-b.getY();h=c.getTriggerRegion();if(g>h.begin&&g<h.end){if(!d){c.onMenuTriggerOver(a)}}else{if(d){c.onMenuTriggerOut(a)}}}},getTriggerRegion:function(){var b=this,c=b._triggerRegion,d=b.getTriggerSize(),a=b.arrowAlign==="right"?b.getWidth():b.getHeight();c.begin=a-d;c.end=a;return c},getTriggerSize:function(){var a=this,d=a.triggerSize,b,c;if(d==null){b=a.arrowAlign;c=b.charAt(0);d=a.triggerSize=a.el.getFrameWidth(c)+a.getBtnWrapFrameWidth(c);if(a.frameSize){d=a.triggerSize+=a.frameSize[b]}}return d},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){if(!this.disabled){this.addClsWithUI(this.overCls)}},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(b){var c=this,a=c.arrowTooltip;c.overMenuTrigger=true;if(c.split&&a){c.btnWrap.dom.setAttribute(c.getTipAttr(),a)}c.fireEvent("menutriggerover",c,c.menu,b)},onMenuTriggerOut:function(a){var b=this;delete b.overMenuTrigger;if(b.split&&b.arrowTooltip){b.btnWrap.dom.setAttribute(b.getTipAttr(),"")}b.fireEvent("menutriggerout",b,b.menu,a)},enable:function(b){var a=this;a.callParent(arguments);a.removeClsWithUI("disabled");if(a.rendered){a.el.dom.setAttribute("tabIndex",a.tabIndex)}return a},disable:function(b){var a=this;a.callParent(arguments);a.addClsWithUI("disabled");a.removeClsWithUI(a.overCls);if(a.rendered){a.el.dom.removeAttribute("tabIndex")}if(a.btnInnerEl&&Ext.isIE7m){a.btnInnerEl.repaint()}return a},setScale:function(b){var a=this,c=a.ui.replace("-"+a.scale,"");if(!Ext.Array.contains(a.allowedScales,b)){throw ("#setScale: scale must be an allowed scale ("+a.allowedScales.join(", ")+")")}a.scale=b;a.setUI(c)},setUI:function(b){var a=this;if(a.scale&&!b.match(a.scale)){b=b+"-"+a.scale}a.callParent([b])},onMouseDown:function(a){var b=this;if(Ext.isIE){b.getFocusEl().focus()}if(!b.disabled&&a.button===0){Ext.button.Manager.onButtonMousedown(b,a);b.addClsWithUI(b.pressedCls)}},onMouseUp:function(a){var b=this;if(a.button===0){if(!b.pressed){b.removeClsWithUI(b.pressedCls)}}},onMenuShow:function(a){var b=this;b.ignoreNextClick=0;b.addClsWithUI(b.menuActiveCls);b.fireEvent("menushow",b,b.menu)},onMenuHide:function(a){var b=this;b.removeClsWithUI(b.menuActiveCls);b.ignoreNextClick=Ext.defer(b.restoreClick,250,b);b.fireEvent("menuhide",b,b.menu);b.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(b,a){var c=this;if(c.menu&&!c.disabled){c.showMenu();a.stopEvent();return false}}});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(a){var b=this;b.callParent(arguments);b.triggerButtonCls=b.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after";b.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(b,a){this.callParent(arguments);if(!a){this.clearOverflow(b);this.layout.cacheChildItems(b)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var b=this,a=b.layout,d=a.owner,c=d.id;b.menu=new Ext.menu.Menu({listeners:{scope:b,beforeshow:b.beforeMenuShow}});b.menuTrigger=new Ext.button.Button({id:c+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+b.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:d.usePlainButtons,ownerCt:d,ownerLayout:a,iconCls:Ext.baseCSSPrefix+b.getOwnerType(d)+"-more-icon",ui:d instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:b.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return b.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(d){var b=this,a=b.layout,c=a.names,e=d.state.boxPlan,g=[null,null];b.showTrigger(d);if(b.layout.direction!=="vertical"){g[c.heightIndex]=(e.maxSize-b.menuTrigger[c.getHeight]())/2;b.menuTrigger.setPosition.apply(b.menuTrigger,g)}return{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,b=a.menuTrigger,c=a.layout.names;if(b.rendering){b.finishRender();a.triggerTotalWidth=b[c.getWidth]()+b.el.getMargin(c.parallelMargins)}},_asLayoutRoot:{isRoot:true},clearOverflow:function(j){var g=this,d=g.menuItems,c,b=0,e=d.length,h=g.layout.owner,a=g._asLayoutRoot;h.suspendLayouts();g.captureChildElements();g.hideTrigger();h.resumeLayouts();for(;b<e;b++){c=d[b];c.suspendLayouts();c.show();c.resumeLayouts(a)}d.length=0},showTrigger:function(n){var j=this,g=j.layout,m=g.owner,l=g.names,r=l.x,q=l.width,o=n.state.boxPlan,a=o.targetSize[q],c=n.childItems,h=c.length,k=j.menuTrigger,b,d,e,p;k.suspendLayouts();k.show();k.resumeLayouts(j._asLayoutRoot);a-=j.triggerTotalWidth;m.suspendLayouts();j.menuItems.length=0;for(e=0;e<h;e++){b=c[e];p=b.props;if(p[r]+p[q]>a){d=b.target;j.menuItems.push(d);d.hide()}}m.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(g){var e=this,c=e.menuItems,a=0,d=c.length,b,j,h=function(k,l){return k.isXType("buttongroup")&&!(l instanceof Ext.toolbar.Separator)};g.suspendLayouts();e.clearMenu();g.removeAll();for(;a<d;a++){b=c[a];if(!a&&(b instanceof Ext.toolbar.Separator)){continue}if(j&&(h(b,j)||h(j,b))){g.add("-")}e.addComponentToMenu(g,b);j=b}if(g.items.length<1){g.add(e.noItemsMenuText)}g.resumeLayouts()},createMenuConfig:function(a,d){var e=this,b=Ext.apply({},a.initialConfig),c=a.toggleGroup;Ext.copyTo(b,a,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.apply(b,{text:a.overflowText||a.text,hideOnClick:d,destroyMenu:false,listeners:{}});if(a.isFormField){b.value=a.getValue();b.listeners.change=function(g,h,j){a.setValue(h)}}else{if(c||a.enableToggle){Ext.apply(b,{hideOnClick:false,group:c,checked:a.pressed,handler:function(h,g){a.onClick(g)}})}}if(a.isButton&&!a.changeListenersAdded){a.on({textchange:e.onButtonAttrChange,iconchange:e.onButtonAttrChange,toggle:e.onButtonToggle});a.changeListenersAdded=true}delete b.margin;delete b.ownerCt;delete b.xtype;delete b.id;delete b.itemId;return b},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(true)},onButtonToggle:function(a,b){if(a.overflowClone.checked!==b){a.overflowClone.setChecked(b)}},addComponentToMenu:function(g,a){var e=this,b,d,c;if(a instanceof Ext.toolbar.Separator){g.add("-")}else{if(a.isComponent){if(a.isXType("splitbutton")){a.overflowClone=g.add(e.createMenuConfig(a,true))}else{if(a.isXType("button")){a.overflowClone=g.add(e.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){d=a.items.items;c=d.length;for(b=0;b<c;b++){e.addComponentToMenu(g,d[b])}}else{a.overflowClone=g.add(Ext.create(Ext.getClassName(a),e.createMenuConfig(a)))}}}}}},clearMenu:function(){var e=this.menu,d,a,b,c;if(e&&e.items){d=e.items.items;b=d.length;for(a=0;a<b;a++){c=d[a];if(c.setMenu){c.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:Ext.util.Observable},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(b,a){var c=this;c.layout=b;Ext.apply(c,a||{});c.mixins.observable.constructor.call(c);c.addEvents("scroll");c.scrollPosition=0;c.scrollSize=0},getPrefixConfig:function(){var c=this,b=c.layout,d=b.owner,a;c.initCSSClasses();a=Ext.layout.container.Box.prototype.innerCls+" "+c.beforeCtCls;if(d.plain){a+=" "+c.scrollerCls+"-plain"}return{cls:a,cn:{id:d.id+b.names.beforeScrollerSuffix,cls:c.scrollerCls+" "+c.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var c=this,b=c.layout,d=b.owner,a=Ext.layout.container.Box.prototype.innerCls+" "+c.afterCtCls;if(d.plain){a+=" "+c.scrollerCls+"-plain"}return{cls:a,cn:{id:d.id+b.names.afterScrollerSuffix,cls:c.scrollerCls+" "+c.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var d=this,g=Ext.baseCSSPrefix,c=d.layout,e=c.names,b=e.beforeX,a=e.afterX,h=d.getOwnerType(c.owner);d.beforeCtCls=d.beforeCtCls||g+"box-scroller-"+b;d.afterCtCls=d.afterCtCls||g+"box-scroller-"+a;d.beforeScrollerCls=d.beforeScrollerCls||g+h+"-scroll-"+b;d.afterScrollerCls=d.afterScrollerCls||g+h+"-scroll-"+a},beginLayout:function(b){var a=this.layout;b.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},completeLayout:function(d){var b=this,e=d.state.boxPlan,c=b.layout.names,a;if(e&&e.tooNarrow){a=d.childItems[d.childItems.length-1];b.scrollSize=a.props[c.x]+a.props[c.width];b.updateScrollButtons()}this.callParent(arguments)},finishedLayout:function(c){var b=this,a=b.layout,d=Math.min(b.getMaxScrollPosition(),c.innerCtScrollPos);a.innerCt[a.names.setScrollLeft](d)},handleOverflow:function(c){var a=this,b=a.layout.names.getWidth;a.showScrollers();return{reservedSpace:a.beforeCt[b]()+a.afterCt[b]()}},captureChildElements:function(){var g=this,c=g.layout.owner.el,b,a,d,j,h,e;if(!g.beforeCt){e="-hover";j="-pressed";d=g.scrollerCls+e;h=g.scrollerCls+j;b=g.beforeScroller=c.getById(g.layout.owner.id+"-before-scroller");a=g.afterScroller=c.getById(g.layout.owner.id+"-after-scroller");g.beforeCt=b.up("");g.afterCt=a.up("");g.createWheelListener();b.addClsOnOver(d);b.addClsOnOver(g.beforeScrollerCls+e);b.addClsOnClick(h);b.addClsOnClick(g.beforeScrollerCls+j);a.addClsOnOver(d);a.addClsOnOver(g.afterScrollerCls+e);a.addClsOnClick(h);a.addClsOnClick(g.afterScrollerCls+j);b.setVisibilityMode(Ext.Element.DISPLAY);a.setVisibilityMode(Ext.Element.DISPLAY);g.beforeRepeater=new Ext.util.ClickRepeater(b,{interval:g.scrollRepeatInterval,handler:g.scrollLeft,scope:g});g.afterRepeater=new Ext.util.ClickRepeater(a,{interval:g.scrollRepeatInterval,handler:g.scrollRight,scope:g})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.layout.owner.addClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var g=this,d,b,c,a,e,h="-disabled";if(g.beforeScroller==null||g.afterScroller==null){return}d=g.atExtremeBefore()?"addCls":"removeCls";b=g.atExtremeAfter()?"addCls":"removeCls";e=g.scrollerCls+h;c=[e,g.beforeScrollerCls+h];a=[e,g.afterScrollerCls+h];g.beforeScroller[d](c);g.afterScroller[b](a);g.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var b=this,a=b.layout,c;if(isNaN(b.scrollPosition)){c=a.innerCt[a.names.getScrollLeft]()}else{c=b.scrollPosition}return c},getMaxScrollPosition:function(){var c=this,a=c.layout,b=c.scrollSize-a.innerCt[a.names.getWidth]();return(b<0)?0:b},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(h,a){var c=this,b=c.layout,d=b.names,g=c.getScrollPosition(),e=Ext.Number.constrain(h,0,c.getMaxScrollPosition());if(e!=g&&!c.scrolling){c.scrollPosition=NaN;if(a===undefined){a=c.animateScroll}b.innerCt[d.scrollTo](d.beforeScrollX,e,a?c.getScrollAnim():false);if(a){c.scrolling=true}else{c.updateScrollButtons()}c.fireEvent("scroll",c,e,a?c.getScrollAnim():false)}},scrollToItem:function(c,a){var e=this,d=e.layout,j=d.owner,g=d.names,k,b,h;c=e.getItem(c);if(c!==undefined){if(c==j.items.first()){h=0}else{if(c===j.items.last()){h=e.getMaxScrollPosition()}else{k=e.getItemVisibility(c);if(!k.fullyVisible){b=c.getBox(false,true);h=b[g.x];if(k.hiddenEnd){h-=(e.layout.innerCt[g.getWidth]()-b[g.width])}}}}if(h!==undefined){e.scrollTo(h,a)}}},getItemVisibility:function(b){var g=this,a=g.getItem(b).getBox(true,true),e=g.layout,h=e.names,d=a[h.x],c=d+a[h.width],k=g.getScrollPosition(),j=k+e.innerCt[h.getWidth]();return{hiddenStart:d<k,hiddenEnd:c>j,fullyVisible:d>k&&c<j}}});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(g,e,a,c){var d=this;d.y=d.top=d[1]=g;d.right=e;d.bottom=a;d.x=d.left=d[0]=c},contains:function(b){var a=this;return(b.x>=a.x&&b.right<=a.right&&b.y>=a.y&&b.bottom<=a.bottom)},intersect:function(g){var d=this,h=Math.max(d.y,g.y),e=Math.min(d.right,g.right),a=Math.min(d.bottom,g.bottom),c=Math.max(d.x,g.x);if(a>h&&e>c){return new this.self(h,e,a,c)}else{return false}},union:function(g){var d=this,h=Math.min(d.y,g.y),e=Math.max(d.right,g.right),a=Math.max(d.bottom,g.bottom),c=Math.min(d.x,g.x);return new this.self(h,e,a,c)},constrainTo:function(c){var b=this,a=Ext.Number.constrain;b.top=b.y=a(b.top,c.y,c.bottom);b.bottom=a(b.bottom,c.y,c.bottom);b.left=b.x=a(b.left,c.x,c.right);b.right=a(b.right,c.x,c.right);return b},adjust:function(g,e,a,c){var d=this;d.top=d.y+=g;d.left=d.x+=c;d.right+=e;d.bottom+=a;return d},getOutOfBoundOffset:function(a,c){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(c)}else{return this.getOutOfBoundOffsetY(c)}}else{c=a;var b=new Ext.util.Offset();b.x=this.getOutOfBoundOffsetX(c.x);b.y=this.getOutOfBoundOffsetY(c.y);return b}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.x||a>this.right)},isOutOfBoundY:function(a){return(a<this.y||a>this.bottom)},restrict:function(a,d,b){if(Ext.isObject(a)){var c;b=d;d=a;if(d.copy){c=d.copy()}else{c={x:d.x,y:d.y}}c.x=this.restrictX(d.x,b);c.y=this.restrictY(d.y,b);return c}else{if(a=="x"){return this.restrictX(d,b)}else{return this.restrictY(d,b)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.x){b-=(b-this.x)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.y){b-=(b-this.y)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(b,c){if(arguments.length==1){c=b.y;b=b.x}var a=this;a.top=a.y+=c;a.right+=b;a.bottom+=c;a.left=a.x+=b;return a},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return(this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left)}});Ext.define("Ext.dd.DragDropManager",{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(e,a){var b,c,d;for(b in this.ids){for(c in this.ids[b]){d=this.ids[b][c];if(!this.isTypeOfDD(d)){continue}d[e].apply(d,a)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][a.id]=a},removeDDFromGroup:function(b,c){if(!this.ids[c]){this.ids[c]={}}var a=this.ids[c];if(a&&a[b.id]){delete a[b.id]}},_remove:function(b){for(var a in b.groups){if(a&&this.ids[a]&&this.ids[a][b.id]){delete this.ids[a][b.id]}}delete this.handleIds[b.id]},regHandle:function(a,b){if(!this.handleIds[a]){this.handleIds[a]={}}this.handleIds[a][b]=b},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(g,a){var e=[],c,d,b;for(c in g.groups){for(d in this.ids[c]){b=this.ids[c][d];if(!this.isTypeOfDD(b)){continue}if(!a||b.isTarget){e[e.length]=b}}}return e},isLegalTarget:function(c,d){var e=this.getRelated(c,true),a,b;for(a=0,b=e.length;a<b;++a){if(e[a].id==d.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(a,b){return(this.handleIds[a]&&this.handleIds[a][b])},getDDById:function(c){var b,a;for(b in this.ids){a=this.ids[b][c];if(a instanceof Ext.dd.DDTarget){return a}}return null},handleMouseDown:function(a,d){var c=this,b;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}if(c.dragCurrent){c.handleMouseUp(a)}c.currentTarget=a.getTarget();c.dragCurrent=d;b=d.getEl();if(Ext.isIE9m&&b.setCapture){b.setCapture()}c.startX=a.getPageX();c.startY=a.getPageY();c.deltaX=c.startX-b.offsetLeft;c.deltaY=c.startY-b.offsetTop;c.dragThreshMet=false;c.clickTimeout=setTimeout(function(){c.startDrag(c.startX,c.startY)},c.clickTimeThresh)},startDrag:function(d,e){var c=this,a=c.dragCurrent,b;clearTimeout(c.clickTimeout);if(a){a.b4StartDrag(d,e);a.startDrag(d,e);b=a.getDragEl();if(b){Ext.fly(b).addCls(c.dragCls)}}c.dragThreshMet=true},handleMouseUp:function(a){var b=this;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!b.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(b.clickTimeout);if(b.dragThreshMet){b.fireEvents(a,true)}b.stopDrag(a);b.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(c){var d=this,a=d.dragCurrent,b;if(a){if(d.dragThreshMet){b=a.getDragEl();if(b){Ext.fly(b).removeCls(d.dragCls)}a.b4EndDrag(c);a.endDrag(c)}d.dragCurrent.onMouseUp(c)}d.dragCurrent=null;d.dragOvers={}},handleMouseMove:function(d){var g=this,a=g.dragCurrent,b,c;if(!a){return true}if(!g.dragThreshMet){b=Math.abs(g.startX-d.getPageX());c=Math.abs(g.startY-d.getPageY());if(b>g.clickPixelThresh||c>g.clickPixelThresh){g.startDrag(g.startX,g.startY)}}if(g.dragThreshMet){a.b4Drag(d);a.onDrag(d);if(!a.moveOnly){g.fireEvents(d,false)}}g.stopEvent(d);return true},fireEvents:function(g,k){var m=this,b=m.dragCurrent,c,p,n=g.getPoint(),t,u,a=[],q=[],r=[],s=[],d=[],h=[],w,o,j,l,v;if(!b||b.isLocked()){return}if(!m.notifyOccluded&&(!Ext.supports.PointerEvents||Ext.isIE10m||Ext.isOpera)&&!(b.deltaX<0||b.deltaY<0)){c=b.getDragEl();p=c.style.top;c.style.top="-10000px";w=g.getXY();g.target=document.elementFromPoint(w[0],w[1]);c.style.top=p}for(j in m.dragOvers){t=m.dragOvers[j];if(!m.isTypeOfDD(t)){continue}if(m.notifyOccluded){if(!this.isOverTarget(n,t,m.mode)){r.push(t)}}else{if(!g.within(t.getEl())){r.push(t)}}q[j]=true;delete m.dragOvers[j]}for(v in b.groups){if("string"!=typeof v){continue}for(j in m.ids[v]){t=m.ids[v][j];if(m.isTypeOfDD(t)&&(u=t.getEl())&&(t.isTarget)&&(!t.isLocked())&&(Ext.fly(u).isVisible(true))&&((t!=b)||(b.ignoreSelf===false))){if(m.notifyOccluded){if((t.zIndex=m.getZIndex(u))!==-1){o=true}a.push(t)}else{if(g.within(t.getEl())){a.push(t);break}}}}}if(o){Ext.Array.sort(a,m.byZIndex)}for(j=0,l=a.length;j<l;j++){t=a[j];if(m.isOverTarget(n,t,m.mode)){if(k){d.push(t)}else{if(!q[t.id]){h.push(t)}else{s.push(t)}m.dragOvers[t.id]=t}if(!m.notifyOccluded){break}}}if(m.mode){if(r.length){b.b4DragOut(g,r);b.onDragOut(g,r)}if(h.length){b.onDragEnter(g,h)}if(s.length){b.b4DragOver(g,s);b.onDragOver(g,s)}if(d.length){b.b4DragDrop(g,d);b.onDragDrop(g,d)}}else{for(j=0,l=r.length;j<l;++j){b.b4DragOut(g,r[j].id);b.onDragOut(g,r[j].id)}for(j=0,l=h.length;j<l;++j){b.onDragEnter(g,h[j].id)}for(j=0,l=s.length;j<l;++j){b.b4DragOver(g,s[j].id);b.onDragOver(g,s[j].id)}for(j=0,l=d.length;j<l;++j){b.b4DragDrop(g,d[j].id);b.onDragDrop(g,d[j].id)}}if(k&&!d.length){b.onInvalidDrop(g)}},getZIndex:function(b){var a=document.body,c,d=-1;b=Ext.getDom(b);while(b!==a){if(!isNaN(c=Number(Ext.fly(b).getStyle("zIndex")))){d=c}b=b.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(b){var e=null,d=b.length,c,a;if(d==1){e=b[0]}else{for(c=0;c<d;++c){a=b[c];if(a.cursorIsOver){e=a;break}else{if(!e||e.overlap.getArea()<a.overlap.getArea()){e=a}}}}return e},refreshCache:function(a){var e,b,d,c;for(e in a){if("string"!=typeof e){continue}for(b in this.ids[e]){d=this.ids[e][b];if(this.isTypeOfDD(d)){c=this.getLocation(d);if(c){this.locationCache[d.id]=c}else{delete this.locationCache[d.id]}}}}},verifyEl:function(b){if(b){var c;if(Ext.isIE){try{c=b.offsetParent}catch(a){}}else{c=b.offsetParent}if(c){return true}}return false},getLocation:function(h){if(!this.isTypeOfDD(h)){return null}if(h.getRegion){return h.getRegion()}var d=h.getEl(),j,n,o,p,q,m,k,a,g;try{j=Ext.Element.getXY(d)}catch(c){}if(!j){return null}n=j[0];o=n+d.offsetWidth;p=j[1];q=p+d.offsetHeight;m=p-h.padding[0];k=o+h.padding[1];a=q+h.padding[2];g=n-h.padding[3];return new Ext.util.Region(m,k,a,g)},isOverTarget:function(k,g,d){var e=this.locationCache[g.id],b,j,c,a,h;if(!e||!this.useCache){e=this.getLocation(g);this.locationCache[g.id]=e}if(!e){return false}g.cursorIsOver=e.contains(k);b=this.dragCurrent;if(!b||!b.getTargetCoord||(!d&&!b.constrainX&&!b.constrainY)){return g.cursorIsOver}g.overlap=null;j=b.getTargetCoord(k.x,k.y);c=b.getDragEl();a=new Ext.util.Region(j.y,j.x+c.offsetWidth,j.y+c.offsetHeight,j.x);h=a.intersect(e);if(h){g.overlap=h;return(d)?true:g.cursorIsOver}else{return false}},_onUnload:function(a,b){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];if(!b||!b.el){b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a))}return b},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(a,b){if(a.swapNode){a.swapNode(b)}else{var c=b.parentNode,d=b.nextSibling;if(d==a){c.insertBefore(a,b)}else{if(b==a.nextSibling){c.insertBefore(b,a)}else{a.parentNode.replaceChild(b,a);c.insertBefore(a,d)}}}},getScroll:function(){var b=window.document,c=b.documentElement,a=b.body,e=0,d=0;if(Ext.isGecko4){e=window.scrollYOffset;d=window.scrollXOffset}else{if(c&&(c.scrollTop||c.scrollLeft)){e=c.scrollTop;d=c.scrollLeft}else{if(a){e=a.scrollTop;d=a.scrollLeft}}}return{top:e,left:d}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,c){var a=Ext.Element.getXY(c);Ext.Element.setXY(b,a)},numericSort:function(c,d){return(c-d)},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount<=2000){setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(b,a){if(this.isHandle(a,b.id)){return true}else{var c=b.parentNode;while(c){if(this.isHandle(a,c.id)){return true}else{c=c.parentNode}}}return false}},function(){this._addListeners()});Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var b=this,c;b.callParent(arguments);b.flexSortFn=Ext.Function.bind(b.flexSort,b);b.initOverflowHandler();c=typeof b.padding;if(c=="string"||c=="number"){b.padding=Ext.util.Format.parseBox(b.padding);b.padding.height=b.padding.top+b.padding.bottom;b.padding.width=b.padding.left+b.padding.right}},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(h,m){var k=this,p=k.sizePolicy,a=k.align,c=h.flex,j=a,l=k.names,q=h[l.width],d=h[l.height],n=k._percentageRe,o=n.test(q),e=(a=="stretch"),g=(a=="stretchmax"),b=k.constrainAlign;if(!m&&(e||c||o||(b&&!g))){m=k.owner.getSizeModel()}if(e){if(!n.test(d)&&m[l.height].shrinkWrap){j="stretchmax"}}else{if(!g){if(n.test(d)){j="stretch"}else{if(b&&!m[l.height].shrinkWrap){j="stretchmax"}else{j=""}}}}if(c||o){if(!m[l.width].shrinkWrap){p=p.flex}}return p[j]},flexSort:function(c,h){var p=this.names.maxWidth,q=this.names.minWidth,o=Infinity,g=c.target,l=h.target,r=0,e,k,d,j,n,m;d=g[p]||o;j=l[p]||o;e=g[q]||0;k=l[q]||0;n=isFinite(e)||isFinite(k);m=isFinite(d)||isFinite(j);if(n||m){if(m){r=d-j}if(r===0&&n){r=k-e}}return r},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){var b=this;if(b.direction==="vertical"&&a.collapsedVertical()){a.collapseMemento.capture(["flex"]);delete a.flex}else{if(b.direction==="horizontal"&&a.collapsedHorizontal()){a.collapseMemento.capture(["flex"]);delete a.flex}}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(d){var a=this,c=a.owner,e=c.stretchMaxPartner,g=a.innerCt.dom.style,b=a.names;d.boxNames=b;a.overflowHandler.beginLayout(d);if(typeof e==="string"){e=Ext.getCmp(e)||c.query(e)[0]}d.stretchMaxPartner=e&&d.context.getCmp(e);a.callParent(arguments);d.innerCtContext=d.getEl("innerCt",a);a.scrollParallel=c.scrollFlags[b.x];a.scrollPerpendicular=c.scrollFlags[b.y];if(a.scrollParallel){a.scrollPos=c.getTargetEl().dom[b.scrollLeft]}g.width="";g.height=""},beginLayoutCycle:function(g,b){var d=this,a=d.align,e=g.boxNames,h=d.pack,c=e.heightModel;d.overflowHandler.beginLayoutCycle(g,b);d.callParent(arguments);g.parallelSizeModel=g[e.widthModel];g.perpendicularSizeModel=g[c];g.boxOptions={align:a={stretch:a=="stretch",stretchmax:a=="stretchmax",center:a==e.center,bottom:a==e.afterY},pack:h={center:h=="center",end:h=="end"}};if(a.stretch&&g.perpendicularSizeModel.shrinkWrap){a.stretchmax=true;a.stretch=false}a.nostretch=!(a.stretch||a.stretchmax);if(g.parallelSizeModel.shrinkWrap){h.center=h.end=false}d.cacheFlexes(g);d.targetEl.setWidth(20000)},cacheFlexes:function(p){var k=this,n=p.boxNames,u=n.widthModel,g=n.heightModel,o=p.boxOptions.align.nostretch,t=0,c=p.childItems,h=c.length,e=[],l=0,m=n.minWidth,r=k._percentageRe,s=0,q=0,a,b,d,j;while(h--){b=c[h];a=b.target;if(b[u].calculated){b.flex=d=a.flex;if(d){t+=d;e.push(b);l+=a[m]||0}else{j=r.exec(a[n.width]);b.percentageParallel=parseFloat(j[1])/100;++s}}if(o&&b[g].calculated){j=r.exec(a[n.height]);b.percentagePerpendicular=parseFloat(j[1])/100;++q}}p.flexedItems=e;p.flexedMinSize=l;p.totalFlex=t;p.percentageWidths=s;p.percentageHeights=q;Ext.Array.sort(e,k.flexSortFn)},calculate:function(c){var a=this,h=a.getContainerSize(c),b=c.boxNames,e=c.state,d=e.boxPlan||(e.boxPlan={}),g=c.targetContext;d.targetSize=h;if(!c.parallelSizeModel.shrinkWrap&&!h[b.gotWidth]){a.done=false;return}if(!e.parallelDone){e.parallelDone=a.calculateParallel(c,b,d)}if(!e.perpendicularDone){e.perpendicularDone=a.calculatePerpendicular(c,b,d)}if(e.parallelDone&&e.perpendicularDone){if(a.owner.dock&&(Ext.isIE7m||Ext.isIEQuirks)&&!a.owner.width&&!a.horizontal){d.isIEVerticalDock=true;d.calculatedWidth=d.maxSize+c.getPaddingInfo().width+c.getFrameInfo().width;if(g!==c){d.calculatedWidth+=g.getPaddingInfo().width}}a.publishInnerCtSize(c,a.reserveOffset?a.availableSpaceOffset:0);if(a.done&&(c.childItems.length>1||c.stretchMaxPartner)&&c.boxOptions.align.stretchmax&&!e.stretchMaxDone){a.calculateStretchMax(c,b,d);e.stretchMaxDone=true}a.overflowHandler.calculate(c)}else{a.done=false}},calculateParallel:function(v,t,z){var s=this,F=t.width,d=v.childItems,b=t.beforeX,a=t.afterX,D=t.setWidth,e=d.length,m=v.flexedItems,n=m.length,w=v.boxOptions.pack,x=s.padding,j=z.targetSize[F],E=0,q=x[b],u=q+x[a]+s.scrollOffset+(s.reserveOffset?s.availableSpaceOffset:0),C=Ext.getScrollbarSize()[t.width],p,g,B,A,c,l,o,k,r,h,y;if(C&&s.scrollPerpendicular&&v.parallelSizeModel.shrinkWrap&&!v.boxOptions.align.stretch&&!v.perpendicularSizeModel.shrinkWrap){if(!v.state.perpendicularDone){return false}r=true}for(p=0;p<e;++p){c=d[p];g=c.marginInfo||c.getMarginInfo();E+=g[F];if(!c[t.widthModel].calculated){h=c.getProp(F);u+=h;if(isNaN(u)){return false}}}u+=E;if(v.percentageWidths){y=j-E;if(isNaN(y)){return false}for(p=0;p<e;++p){c=d[p];if(c.percentageParallel){h=Math.ceil(y*c.percentageParallel);h=c.setWidth(h);u+=h}}}if(v.parallelSizeModel.shrinkWrap){z.availableSpace=0;z.tooNarrow=false}else{z.availableSpace=j-u;z.tooNarrow=z.availableSpace<v.flexedMinSize;if(z.tooNarrow&&Ext.getScrollbarSize()[t.height]&&s.scrollParallel&&v.state.perpendicularDone){v.state.perpendicularDone=false;for(p=0;p<e;++p){d[p].invalidate()}}}k=u;B=z.availableSpace;A=v.totalFlex;for(p=0;p<n;p++){c=m[p];l=c.flex;o=s.roundFlex((l/A)*B);o=c[D](o);k+=o;B=Math.max(0,B-o);A-=l}if(w.center){q+=B/2;if(q<0){q=0}}else{if(w.end){q+=B}}for(p=0;p<e;++p){c=d[p];g=c.marginInfo;q+=g[b];c.setProp(t.x,q);q+=g[a]+c.props[F]}k+=v.targetContext.getPaddingInfo()[F];v.state.contentWidth=k;if(r&&(v.peek(t.contentHeight)>z.targetSize[t.height])){k+=C;v[t.hasOverflowY]=true;v.target.componentLayout[t.setWidthInDom]=true;v[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}v[t.setContentWidth](k);return true},calculatePerpendicular:function(C,z,F){var x=this,q=C.perpendicularSizeModel.shrinkWrap,L=F.targetSize,g=C.childItems,h=g.length,y=Math.max,p=z.height,H=z.setHeight,c=z.beforeY,N=z.y,D=x.padding,M=D[c],b=L[p]-M-D[z.afterY],a=C.boxOptions.align,u=a.stretch,v=a.stretchmax,t=a.center,s=a.bottom,l=x.constrainAlign,w=0,n=0,B=x.onBeforeConstrainInvalidateChild,A=x.onAfterConstrainInvalidateChild,G=Ext.getScrollbarSize().height,k,r,e,j,m,o,d,K,J,I,E;if(u||((t||s)&&!q)){if(isNaN(b)){return false}}if(x.scrollParallel&&F.tooNarrow){if(q){I=true}else{b-=G;F.targetSize[p]-=G}}if(u){o=b}else{for(r=0;r<h;r++){d=g[r];j=(d.marginInfo||d.getMarginInfo())[p];if(!(E=d.percentagePerpendicular)){e=d.getProp(p)}else{++n;if(q){continue}else{e=E*b-j;e=d[z.setHeight](e)}}if(!q&&l&&d[z.heightModel].shrinkWrap&&e>b){d.invalidate({before:B,after:A,layout:x,childHeight:b,names:z});C.state.parallelDone=false}if(isNaN(w=y(w,e+j,d.target[z.minHeight]||0))){return false}}if(I){w+=G;C[z.hasOverflowX]=true;C.target.componentLayout[z.setHeightInDom]=true;C[z.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}K=C.stretchMaxPartner;if(K){C.setProp("maxChildHeight",w);J=K.childItems;if(J&&J.length){w=y(w,K.getProp("maxChildHeight"));if(isNaN(w)){return false}}}C[z.setContentHeight](w+x.padding[p]+C.targetContext.getPaddingInfo()[p]);if(I){w-=G}F.maxSize=w;if(v){o=w}else{if(t||s||n){if(l){o=q?w:b}else{o=q?w:y(b,w)}o-=C.innerCtContext.getBorderInfo()[p]}}}for(r=0;r<h;r++){d=g[r];j=d.marginInfo||d.getMarginInfo();k=M+j[c];if(u){d[H](o-j[p])}else{E=d.percentagePerpendicular;if(q&&E){j=d.marginInfo||d.getMarginInfo();e=E*o-j[p];e=d.setHeight(e)}if(t){m=o-d.props[p];if(m>0){k=M+Math[x.alignRoundingMethod](m/2)}}else{if(s){k=y(0,o-k-d.props[p])}}}d.setProp(N,k)}return true},onBeforeConstrainInvalidateChild:function(a,c){var b=c.names.heightModel;if(!a[b].constrainedMin){a[b]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(a,c){var b=c.names;a.setProp(b.beforeY,0);if(a[b.heightModel].calculated){a[b.setHeight](c.childHeight)}},calculateStretchMax:function(n,k,o){var j=this,e=k.height,q=k.width,c=n.childItems,h=c.length,d=o.maxSize,m=j.onBeforeStretchMaxInvalidateChild,l=j.onAfterStretchMaxInvalidateChild,a,p,g,b;for(g=0;g<h;++g){a=c[g];p=a.props;b=d-a.getMarginInfo()[e];if(b!=p[e]||a[k.heightModel].constrained){a.invalidate({before:m,after:l,layout:j,childWidth:p[q],childHeight:b,childX:p.x,childY:p.y,names:k})}}},onBeforeStretchMaxInvalidateChild:function(a,c){var b=c.names.heightModel;if(!a[b].constrainedMax){a[b]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(a,e){var d=e.names,b=e.childHeight,c=e.childWidth;a.setProp("x",e.childX);a.setProp("y",e.childY);if(a[d.heightModel].calculated){a[d.setHeight](b)}if(a[d.widthModel].calculated){a[d.setWidth](c)}},completeLayout:function(k){var e=this,g=k.boxNames,c=k.invalidateScrollX,d=k.invalidateScrollY,a,b,h,j,l;e.overflowHandler.completeLayout(k);if(c||d){b=e.getTarget();a=b.dom;l=a.style;if(c){h=b.getStyle("overflowX");if(h=="auto"){h=l.overflowX;l.overflowX="scroll"}else{c=false}}if(d){j=b.getStyle("overflowY");if(j=="auto"){j=l.overflowY;l.overflowY="scroll"}else{d=false}}if(c||d){a.scrollWidth;if(c){l.overflowX=h}if(d){l.overflowY=j}}}if(e.scrollParallel){e.owner.getTargetEl().dom[g.scrollLeft]=e.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments);this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(l,o){var j=this,k=l.boxNames,d=k.height,q=k.width,a=l.boxOptions.align,b=j.owner.dock,m=j.padding,n=l.state.boxPlan,p=n.targetSize,c=p[d],e=l.innerCtContext,h=(l.parallelSizeModel.shrinkWrap||(n.tooNarrow&&j.scrollParallel)?l.state.contentWidth-l.targetContext.getPaddingInfo()[q]:p[q])-(o||0),g;if(a.stretch){g=c}else{g=n.maxSize+m[k.beforeY]+m[k.afterY]+e.getBorderInfo()[d];if(!l.perpendicularSizeModel.shrinkWrap&&(a.center||a.bottom)){g=Math.max(c,g)}}e[k.setWidth](h);e[k.setHeight](g);if(isNaN(h+g)){j.done=false}if(n.calculatedWidth&&(b=="left"||b=="right")){l.setWidth(n.calculatedWidth,true,true)}},onRemove:function(a){var b=this;b.callParent(arguments);if(b.overflowHandler){b.overflowHandler.onRemove(a)}if(a.layoutMarginCap==b.id){delete a.layoutMarginCap}},initOverflowHandler:function(){var d=this,b=d.overflowHandler,c,a;if(typeof b=="string"){b={type:b}}c="None";if(b&&b.type!==undefined){c=b.type}a=Ext.layout.container.boxOverflow[c];if(a[d.type]){a=a[d.type]}d.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+c,d,b)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a}});Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:false,type:"hbox",direction:"horizontal",horizontal:true,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}});Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:Ext.layout.container.Box,alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:false,type:"vbox",direction:"vertical",horizontal:false,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}});Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:"Menu"}}if(a.dock==="right"||a.dock==="left"){a.vertical=true}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"});if(a.vertical){a.addClsWithUI("vertical")}if(a.ui==="footer"){a.ignoreBorderManagement=true}a.callParent();a.addEvents("overflowchange")},getRefItems:function(a){var e=this,c=e.callParent(arguments),d=e.layout,b;if(a&&e.enableOverflow){b=d.overflowHandler;if(b&&b.menu){c=c.concat(b.menu.getRefItems(a))}}return c},lookupComponent:function(b){var a=arguments;if(typeof b=="string"){var e=Ext.toolbar.Toolbar,d=e.shortcutsHV[this.vertical?1:0][b]||e.shortcuts[b];if(typeof d=="string"){b={xtype:d}}else{if(d){b=Ext.apply({},d)}else{b={xtype:"tbtext",text:b}}}this.applyDefaults(b);a=[b]}return this.callParent(a)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a},trackMenu:function(a,d){if(this.trackMenus&&a.menu){var c=d?"mun":"mon",b=this;b[c](a,"mouseover",b.onButtonOver,b);b[c](a,"menushow",b.onButtonMenuShow,b);b[c](a,"menuhide",b.onButtonMenuHide,b)}},onBeforeAdd:function(a){var c=this,b=a.isButton;if(b&&c.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui")){a.ui=c.defaultButtonUI}else{if((b||a.isFormField)&&c.ui!=="footer"){a.ui=a.ui+"-toolbar";a.addCls(a.baseCls+"-toolbar")}}if(a instanceof Ext.toolbar.Separator){a.setUI((c.vertical)?"vertical":"horizontal")}c.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var b=this,c,a;b.callParent();c=b.getRenderTarget();a=b.getDockedItems();b.finishRenderItems(c,a)},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var m=this,p=m.owner,a,g,k=m.lastDockedItems,o=m.borders,d=p.dockedItems.generation,n=m.noBorderClassesSides,b=m.borderWidthProps,h,l,j,e,q,c=m.collapsed;if(m.initializedBorders==d||(p.border&&!p.manageBodyBorders)){return}m.initializedBorders=d;m.collapsed=false;m.lastDockedItems=g=m.getLayoutItems();m.collapsed=c;a={top:[],right:[],bottom:[],left:[]};for(h=0,l=g.length;h<l;h++){j=g[h];e=j.dock;if(j.ignoreBorderManagement){continue}if(!a[e].satisfied){a[e].push(j);a[e].satisfied=true}if(!a.top.satisfied&&e!=="bottom"){a.top.push(j)}if(!a.right.satisfied&&e!=="left"){a.right.push(j)}if(!a.bottom.satisfied&&e!=="top"){a.bottom.push(j)}if(!a.left.satisfied&&e!=="right"){a.left.push(j)}}if(k){for(h=0,l=k.length;h<l;h++){j=k[h];if(!j.isDestroyed&&!j.ignoreBorderManagement&&!p.manageBodyBorders){j.removeCls(m.noBorderClasses)}}}if(o){for(q in o){if(p.manageBodyBorders&&o[q].satisfied){p.setBodyStyle(b[q],"")}}}for(q in a){l=a[q].length;if(!p.manageBodyBorders){for(h=0;h<l;h++){a[q][h].addCls(n[q])}if((!a[q].satisfied&&!p.bodyBorder)||p.bodyBorder===false){p.addBodyCls(n[q])}}else{if(a[q].satisfied){p.setBodyStyle(b[q],"1px")}}}m.borders=a},beforeLayoutCycle:function(e){var c=this,d=c.owner,g=c.sizeModels.shrinkWrap,h=d.shrinkWrapDock,a,b;if(d.collapsed){if(d.collapsedVertical()){b=true;e.measureDimensions=1}else{a=true;e.measureDimensions=2}}e.collapsedVert=b;e.collapsedHorz=a;if(b){e.heightModel=g}else{if(a){e.widthModel=g}}h=h===true?3:(h||0);e.shrinkWrapDockHeight=(h&1)&&e.heightModel.shrinkWrap;e.shrinkWrapDockWidth=(h&2)&&e.widthModel.shrinkWrap},beginLayout:function(o){var l=this,n=l.owner,c=l.getLayoutItems(),k=o.context,d=c.length,e,g,h,j,m,a,b;l.callParent(arguments);a=n.getCollapsed();if(a!==l.lastCollapsedState&&Ext.isDefined(l.lastCollapsedState)){if(l.owner.collapsed){o.isCollapsingOrExpanding=1;n.addClsWithUI(n.collapsedCls)}else{o.isCollapsingOrExpanding=2;n.removeClsWithUI(n.collapsedCls);o.lastCollapsedState=l.lastCollapsedState}}l.lastCollapsedState=a;o.dockedItems=e=[];for(g=0;g<d;g++){h=c[g];if(h.rendered){b=h.dock;j=k.getCmp(h);j.dockedAt={x:0,y:0};j.offsets=m=Ext.Element.parseBox(h.offsets||0);j.horizontal=b=="top"||b=="bottom";m.width=m.left+m.right;m.height=m.top+m.bottom;e.push(j)}}o.bodyContext=o.getEl("body")},beginLayoutCycle:function(l){var j=this,b=l.dockedItems,h=b.length,k=j.owner,c=k.frameBody,g=j.lastHeightModel,d,e,a;j.callParent(arguments);if(j.owner.manageHeight){if(j.lastBodyDisplay){k.body.dom.style.display=j.lastBodyDisplay=""}}else{if(j.lastBodyDisplay!=="inline-block"){k.body.dom.style.display=j.lastBodyDisplay="inline-block"}if(g&&g.shrinkWrap&&!l.heightModel.shrinkWrap){k.body.dom.style.marginBottom=""}}if(l.widthModel.auto){if(l.widthModel.shrinkWrap){k.el.setWidth(null)}k.body.setWidth(null);if(c){c.setWidth(null)}}if(l.heightModel.auto){k.body.setHeight(null);if(c){c.setHeight(null)}}if(l.collapsedVert){l.setContentHeight(0)}else{if(l.collapsedHorz){l.setContentWidth(0)}}for(d=0;d<h;d++){e=b[d].target;a=e.dock;if(a=="right"){e.setLocalX(0)}else{if(a!="left"){continue}}}},calculate:function(k){var h=this,j=h.measureAutoDimensions(k,k.measureDimensions),l=k.state,g=l.horzDone,n=l.vertDone,b=k.bodyContext,d,e,m,c,a;k.borderInfo||k.getBorderInfo();k.paddingInfo||k.getPaddingInfo();k.frameInfo||k.getFrameInfo();b.borderInfo||b.getBorderInfo();b.paddingInfo||b.getPaddingInfo();if(!k.frameBorder){if(!(d=k.framing)){k.frameBorder=k.borderInfo;k.framePadding=k.paddingInfo}else{k.frameBorder=d.border;k.framePadding=d.padding}}e=!g&&h.createAxis(k,j.contentWidth,k.widthModel,h.horzAxisProps,k.collapsedHorz);m=!n&&h.createAxis(k,j.contentHeight,k.heightModel,h.vertAxisProps,k.collapsedVert);for(c=0,a=k.dockedItems.length;a--;++c){if(e){h.dockChild(k,e,a,c)}if(m){h.dockChild(k,m,a,c)}}if(e&&h.finishAxis(k,e)){l.horzDone=g=e}if(m&&h.finishAxis(k,m)){l.vertDone=n=m}if(g&&n&&h.finishConstraints(k,g,n)){h.finishPositions(k,g,n)}else{h.done=false}},createAxis:function(q,e,u,a,d){var n=this,b=0,p=n.owner,m=p[a.maxSize],o=p[a.minSize]||0,g=a.dockBegin,h=a.dockEnd,s=a.pos,v=a.size,l=m!=null,t=u.shrinkWrap,c,k,r,j;if(t){if(d){j=0}else{c=q.bodyContext;j=e+c.borderInfo[v]}}else{k=q.frameBorder;r=q.framePadding;b=k[g]+r[g];j=q.getProp(v)-(k[h]+r[h])}return{shrinkWrap:u.shrinkWrap,sizeModel:u,initialBegin:b,begin:b,end:j,collapsed:d,horizontal:a.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:j-b,maxChildSize:0,hasMinMaxConstraints:(o||l)&&u.shrinkWrap,minSize:o,maxSize:l?m:1000000000,bodyPosProp:n.owner.manageHeight?s:a.marginBegin,dockBegin:g,dockEnd:h,posProp:s,sizeProp:v,setSize:a.setSize,shrinkWrapDock:q[a.shrinkWrapDock],sizeModelName:a.sizeModel,dockedPixelsEnd:0}},dockChild:function(j,a,b,d){var h=this,g=j.dockedItems[a.shrinkWrap?b:d],e=g.target,c=e.dock,m=a.sizeProp,k,l;if(e.ignoreParentFrame&&j.isCollapsingOrExpanding){g.clearMarginCache()}g.marginInfo||g.getMarginInfo();if(c==a.dockBegin){if(a.shrinkWrap){k=h.dockOutwardBegin(j,g,e,a)}else{k=h.dockInwardBegin(j,g,e,a)}}else{if(c==a.dockEnd){if(a.shrinkWrap){k=h.dockOutwardEnd(j,g,e,a)}else{k=h.dockInwardEnd(j,g,e,a)}}else{if(a.shrinkWrapDock){l=g.getProp(m)+g.marginInfo[m];a.maxChildSize=Math.max(a.maxChildSize,l);k=0}else{k=h.dockStretch(j,g,e,a)}}}g.dockedAt[a.posProp]=k},dockInwardBegin:function(h,g,e,a){var j=a.begin,l=a.sizeProp,d=e.ignoreParentFrame,b,k,c;if(d){a.ignoreFrameBegin=g;c=e.dock;b=h.frameBorder[c];j-=b+h.framePadding[c]}if(!e.overlay){k=g.getProp(l)+g.marginInfo[l];a.begin+=k;if(d){a.begin-=b}}return j},dockInwardEnd:function(e,d,c,a){var j=a.sizeProp,h=d.getProp(j)+d.marginInfo[j],g=a.end-h,b;if(!c.overlay){a.end=g}if(c.ignoreParentFrame){a.ignoreFrameEnd=d;b=e.frameBorder[c.dock];g+=b+e.framePadding[c.dock];a.end+=b}return g},dockOutwardBegin:function(d,c,b,a){var e=a.begin,h=a.sizeProp,g;if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=c}else{if(b.ignoreParentFrame){a.ignoreFrameBegin=c}}if(!b.overlay){g=c.getProp(h)+c.marginInfo[h];e-=g;a.begin=e}return e},dockOutwardEnd:function(d,c,b,a){var e=a.end,h=a.sizeProp,g;g=c.getProp(h)+c.marginInfo[h];if(a.collapsed){a.ignoreFrameBegin=a.ignoreFrameEnd=c}else{if(b.ignoreParentFrame){a.ignoreFrameEnd=c}}if(!b.overlay){a.end=e+g;a.dockedPixelsEnd+=g}return e},dockStretch:function(l,h,g,a){var c=g.dock,p=a.sizeProp,e=c=="top"||c=="bottom",b=l.frameBorder,k=h.offsets,m=l.framePadding,d=e?"right":"bottom",q=e?"left":"top",n=a.begin+k[q],j,o;if(g.stretch!==false){o=a.end-n-k[d];if(g.ignoreParentFrame){n-=m[q]+b[q];o+=m[p]+b[p]}j=h.marginInfo;o-=j[p];h[a.setSize](o)}return n},finishAxis:function(t,a){if(isNaN(a.maxChildSize)){return false}var b=a.begin,x=a.end-b,k=a.collapsed,w=a.setSize,c=a.dockBegin,n=a.dockEnd,u=t.framePadding,h=t.frameBorder,j=h[c],p=t.framing,q=p&&p[c],v=k?0:u[c],y=a.sizeProp,r=a.ignoreFrameBegin,s=a.ignoreFrameEnd,d=t.bodyContext,o=Math.max(j+v-q,0),e,g,l,m;if(a.shrinkWrap){g=a.initialSize;if(p){l=-b+j+v;e=l-q-o}else{e=-b;l=e+v}if(!k){x+=u[y]}if(r){l-=j;e-=j;r.dockedAt[a.posProp]-=v}else{x+=j}if(k){}else{if(s){s.dockedAt[a.posProp]+=u[n]}else{x+=h[n]}}a.size=x;if(!a.horizontal&&!this.owner.manageHeight){m=false}}else{if(p){l=0;e=b-q-o}else{l=-j;e=b-v-j}g=x}a.delta=l;d[w](g,m);d.setProp(a.bodyPosProp,e);return !isNaN(x)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;if(!a[c].constrainedMin){a[c]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(b,d){var a=d.axis,c=d.layout,e;if(b[a.sizeModelName].calculated){e=c.dockStretch(d.ownerContext,b,b.target,a);b.setProp(a.posProp,a.delta+e)}},finishConstraints:function(m,e,r){var j=this,q=j.sizeModels,o=e.shrinkWrap,n=r.shrinkWrap,l=j.owner,b,c,s,d,t,p,k,h,g,a;if(o){p=e.size;k=e.collapsed?0:e.minSize;h=e.maxSize;g=e.maxChildSize;a=Math.max(p,g);if(a>h){t=q.constrainedMax;s=h}else{if(a<k){t=q.constrainedMin;s=k}else{if(p<g){t=q.constrainedDock;l.dockConstrainedWidth=s=g}else{s=p}}}}if(n){p=r.size;k=r.collapsed?0:r.minSize;h=r.maxSize;g=r.maxChildSize;a=Math.max(p,g+p-r.initialSize);if(a>h){d=q.constrainedMax;c=h}else{if(a<k){d=q.constrainedMin;c=k}else{if(p<g){d=q.constrainedDock;l.dockConstrainedHeight=c=g}else{if(!m.collapsedVert&&!l.manageHeight){b=false;m.bodyContext.setProp("margin-bottom",r.dockedPixelsEnd)}c=p}}}}if(t||d){if(t&&d&&t.constrainedMax&&d.constrainedByMin){m.invalidate({widthModel:t});return false}if(!m.widthModel.calculatedFromShrinkWrap&&!m.heightModel.calculatedFromShrinkWrap){m.invalidate({widthModel:t,heightModel:d});return false}}else{j.invalidateAxes(m,e,r)}if(o){m.setWidth(s);if(t){m.widthModel=t}}if(n){m.setHeight(c,b);if(d){m.heightModel=d}}return true},invalidateAxes:function(p,e,r){var c=this.beforeInvalidateShrinkWrapDock,a=this.afterInvalidateShrinkWrapDock,g=e.end-e.begin,s=r.initialSize,j=e.shrinkWrapDock&&e.maxChildSize<g,k=r.shrinkWrapDock&&r.maxChildSize<s,d,o,h,m,n,l,b,q;if(j||k){if(k){r.begin=r.initialBegin;r.end=r.begin+r.initialSize}d=p.dockedItems;for(h=0,o=d.length;h<o;++h){m=d[h];l=m.horizontal;b=null;if(j&&l){q=e.sizeProp;n=g;b=e}else{if(k&&!l){q=r.sizeProp;n=s;b=r}}if(b){n-=m.getMarginInfo()[q];if(n!==m.props[q]){m.invalidate({before:c,after:a,axis:b,ownerContext:p,layout:this})}}}}},finishPositions:function(j,d,k){var c=j.dockedItems,h=c.length,a=d.delta,b=k.delta,e,g;for(e=0;e<h;++e){g=c[e];g.setProp("x",a+g.dockedAt.x);g.setProp("y",b+g.dockedAt.y)}},finishedLayout:function(b){var a=this,c=b.target;a.callParent(arguments);if(!b.animatePolicy){if(b.isCollapsingOrExpanding===1){c.afterCollapse(false)}else{if(b.isCollapsingOrExpanding===2){c.afterExpand(false)}}}},getAnimatePolicy:function(c){var b=this,a,d;if(c.isCollapsingOrExpanding==1){a=b.lastCollapsedState}else{if(c.isCollapsingOrExpanding==2){a=c.lastCollapsedState}}if(a=="left"||a=="right"){d=b.horizontalCollapsePolicy}else{if(a=="top"||a=="bottom"){d=b.verticalCollapsePolicy}}return d},getDockedItems:function(k,b){var j=this,l=(k==="visual"),a=l?Ext.ComponentQuery.query("[rendered]",j.owner.dockedItems.items):j.owner.dockedItems.items,n=a&&a.length&&k!==false,m,c,d,e,g,h;if(b==null){d=n&&!l?a.slice():a}else{d=[];for(e=0,h=a.length;e<h;++e){c=a[e].dock;g=(c=="top"||c=="left");if(b?g:!g){d.push(a[e])}}n=n&&d.length}if(n){m=(k=k||"render")=="render";Ext.Array.sort(d,function(o,q){var p,r;if(m&&((p=j.owner.dockOrder[o.dock])!==(r=j.owner.dockOrder[q.dock]))){if(!(p+r)){return p-r}}p=j.getItemWeight(o,k);r=j.getItemWeight(q,k);if((p!==undefined)&&(r!==undefined)){return p-r}return 0})}return d||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var e=this,d,c,b,a,g;if(e.owner.collapsed){g=e.owner.getCollapsedDockedItems()}else{d=e.getDockedItems("visual");c=d.length;g=[];for(a=0;a<c;a++){b=d[a];if(!b.hidden){g.push(b)}}}return g},measureContentWidth:function(b){var a=b.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(b){var a=b.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(c){var a=this,b=a.owner;if(c.isCollapsingOrExpanding==1){if(b.reExpander){b.reExpander.el.show()}b.addClsWithUI(b.collapsedCls);c.redo(true)}else{if(c.isCollapsingOrExpanding==2){b.removeClsWithUI(b.collapsedCls);c.bodyContext.redo()}}},renderChildren:function(){var b=this,a=b.getDockedItems(),c=b.getRenderTarget();b.handleItemBorders();b.renderItems(a,c)},renderItems:function(g,m){var k=this,b=g.length,e=0,a=0,l=0,p=k.getRenderTarget().dom.childNodes,n=p.length,c,h,o,d;for(c=0,h=0;c<n;c++){o=p[c];if(Ext.fly(o).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(h=0;h<b;h++){d=g[h];if(d.rendered&&d.el.dom===o){break}}if(h===b){l++}}for(;e<b;e++,a++){d=g[e];if(e===a&&(d.dock==="right"||d.dock==="bottom")){a+=l}if(d&&!d.rendered){k.renderItem(d,m,a)}else{if(!k.isValidParent(d,m,a)){k.moveItem(d,m,a)}}}},undoLayout:function(c){var a=this,b=a.owner;if(c.isCollapsingOrExpanding==1){if(b.reExpander){b.reExpander.el.hide()}b.removeClsWithUI(b.collapsedCls);c.undo(true)}else{if(c.isCollapsingOrExpanding==2){b.addClsWithUI(b.collapsedCls);c.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(b,d){var c=this,e=c.sizePolicy,g=c.owner.shrinkWrapDock,a,h;if(b.stretch===false){return e.nostretch}a=b.dock;h=(a=="left"||a=="right");g=g===true?3:(g||0);if(h){e=e.vert;g=g&1}else{e=e.horz;g=g&2}if(g){if(!d){d=c.owner.getSizeModel()}if(d[h?"height":"width"].shrinkWrap){return e.shrinkWrap}}return e.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(b){this.callParent(arguments);if(this.itemCls){b.el.removeCls(this.itemCls+"-"+b.dock)}var a=b.el.dom;if(!b.destroying&&a){a.parentNode.removeChild(a)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var c=this,b=c.borderCollapseMap,d=c.owner,a=d.baseCls,g=d.ui,e;b=b[a]||(b[a]={});e=b[g];if(!e){a+="-"+g+"-outer-border-";b[g]=e=[0,a+"l",a+"b",a+"bl",a+"r",a+"rl",a+"rb",a+"rbl",a+"t",a+"tl",a+"tb",a+"tbl",a+"tr",a+"trl",a+"trb",a+"trbl"]}return e}});Ext.define("Ext.panel.AbstractPanel",{extend:Ext.container.Container,mixins:{docking:Ext.container.DockingContainer},baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,contentPaddingProperty:"bodyPadding",shrinkWrapDock:false,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",(Ext.isIE7m||Ext.isIEQuirks)?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:true,emptyArray:[],initComponent:function(){this.initBorderProps();this.callParent()},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=false}if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0)){a.manageBodyBorders=true}},beforeDestroy:function(){this.destroyDockedItems();this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var b=this,a=b.callParent();b.initBodyStyles();b.protoBody.writeTo(a);delete b.protoBody;return a},getComponent:function(a){var b=this.callParent(arguments);if(b===undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({cls:b.bodyCls,style:b.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return a},initBodyStyles:function(){var b=this,a=b.getProtoBody();if(b.bodyPadding!==undefined){if(b.layout.managePadding){a.setStyle("padding",0)}else{a.setStyle("padding",this.unitizeBox((b.bodyPadding===true)?5:b.bodyPadding))}}b.initBodyBorder()},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){var a=this;return a.header===false||a.collapseMode=="placeholder"?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(c,d){var b=this,a=b.rendered?b.body:b.getProtoBody();if(Ext.isFunction(c)){c=c()}if(arguments.length==1){if(Ext.isString(c)){c=Ext.Element.parseStyles(c)}a.setStyle(c)}else{a.setStyle(c,d)}return b},addBodyCls:function(b){var c=this,a=c.rendered?c.body:c.getProtoBody();a.addCls(b);return c},removeBodyCls:function(b){var c=this,a=c.rendered?c.body:c.getProtoBody();a.removeCls(b);return c},addUIClsToElement:function(a){var b=this,c=b.callParent(arguments);b.addBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},removeUIClsFromElement:function(a){var b=this,c=b.callParent(arguments);b.removeBodyCls([Ext.baseCSSPrefix+a,b.baseCls+"-body-"+a,b.baseCls+"-body-"+b.ui+"-"+a]);return c},addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}});Ext.define("Ext.panel.Header",{extend:Ext.container.Container,alias:"widget.header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var c=this,a=c.hasOwnProperty("titlePosition"),b=c.items,e=a?c.titlePosition:(b?b.length:0),g=[c.orientation,c.getDockName()],d=c.ownerCt;c.addEvents("click","dblclick");c.indicateDragCls=c.headerCls+"-draggable";c.title=c.title||"&#160;";c.tools=c.tools||[];b=c.items=(b?Ext.Array.slice(b):[]);c.orientation=c.orientation||"horizontal";c.dock=(c.dock)?c.dock:(c.orientation=="horizontal")?"top":"left";if(d?(!d.border&&!d.frame):!c.border){g.push(c.orientation+"-noborder")}c.addClsWithUI(g);c.addCls([c.headerCls,c.headerCls+"-"+c.orientation]);if(c.indicateDrag){c.addCls(c.indicateDragCls)}if(c.iconCls||c.icon||c.glyph){c.initIconCmp();if(!a&&!b.length){++e}b.push(c.iconCmp)}c.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,rtl:c.rtl,id:c.id+"_hd",style:c.titleAlign?("text-align:"+c.titleAlign):"",cls:c.headerCls+"-text-container "+c.baseCls+"-text-container "+c.baseCls+"-text-container-"+c.ui,renderTpl:c.getTpl("headingTpl"),renderData:{title:c.title,cls:c.baseCls,headerCls:c.headerCls,ui:c.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:c.onTitleRender,scope:c}});c.layout=(c.orientation=="vertical")?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"};Ext.Array.push(b,c.tools);c.tools.length=0;c.callParent();if(b.length<e){e=b.length}c.titlePosition=e;c.insert(e,c.titleCmp);c.on({dblclick:c.onDblClick,click:c.onClick,element:"el",scope:c})},initIconCmp:function(){var c=this,b=[c.headerCls+"-icon",c.baseCls+"-icon",c.iconCls],a;if(c.glyph){b.push(c.baseCls+"-glyph")}a={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:b,baseCls:c.baseCls+"-icon",id:c.id+"-iconEl",iconCls:c.iconCls,glyph:c.glyph};if(!Ext.isEmpty(c.icon)){delete a.iconCls;a.src=c.icon}c.iconCmp=new Ext.Img(a)},beforeRender:function(){this.protoEl.unselectable();this.callParent()},afterLayout:function(){var d=this,a,c,b,e;if(d.orientation==="vertical"){d.adjustTitlePosition();c=d.frameTR;if(c){a=d.frameBR;b=d.frameTL;e=(d.getWidth()-c.getPadding("r")-((b)?b.getPadding("l"):d.el.getBorderWidth("l")))+"px";a.setStyle("background-position-x",e);c.setStyle("background-position-x",e)}if(Ext.isIE7&&Ext.isStrict&&d.frame){d.el.repaint()}}},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var a=this.titleCmp,b;if(!Ext.isIE9m&&a){b=a.el;b.setStyle("left",b.getWidth()+"px")}},onTitleRender:function(){if(this.orientation==="vertical"){this.titleCmp.el.setVertical(90)}},addUIClsToElement:function(c){var e=this,g=e.callParent(arguments),b=[e.baseCls+"-body-"+c,e.baseCls+"-body-"+e.ui+"-"+c],a,d;if(e.bodyCls){a=e.bodyCls.split(" ");for(d=0;d<b.length;d++){if(!Ext.Array.contains(a,b[d])){a.push(b[d])}}e.bodyCls=a.join(" ")}else{e.bodyCls=b.join(" ")}return g},removeUIClsFromElement:function(c){var e=this,g=e.callParent(arguments),b=[e.baseCls+"-body-"+c,e.baseCls+"-body-"+e.ui+"-"+c],a,d;if(e.bodyCls){a=e.bodyCls.split(" ");for(d=0;d<b.length;d++){Ext.Array.remove(a,b[d])}e.bodyCls=a.join(" ")}return g},addUIToElement:function(){var c=this,a,b;c.callParent(arguments);b=c.baseCls+"-body-"+c.ui;if(c.rendered){if(c.bodyCls){c.body.addCls(c.bodyCls)}else{c.body.addCls(b)}}else{if(c.bodyCls){a=c.bodyCls.split(" ");if(!Ext.Array.contains(a,b)){a.push(b)}c.bodyCls=a.join(" ")}else{c.bodyCls=b}}if(c.titleCmp&&c.titleCmp.rendered){c.titleCmp.addCls(c.baseCls+"-text-container-"+c.ui)}},removeUIFromElement:function(){var c=this,a,b;c.callParent(arguments);b=c.baseCls+"-body-"+c.ui;if(c.rendered){if(c.bodyCls){c.body.removeCls(c.bodyCls)}else{c.body.removeCls(b)}}else{if(c.bodyCls){a=c.bodyCls.split(" ");Ext.Array.remove(a,b);c.bodyCls=a.join(" ")}else{c.bodyCls=b}}if(c.titleCmp&&c.titleCmp.rendered){c.titleCmp.removeCls(c.baseCls+"-text-container-"+c.ui)}},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(c,a){var b="."+Ext.panel.Tool.prototype.baseCls;if(!a.getTarget(b)){this.fireEvent(c,this,a)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(b){var a=this,c=a.titleCmp;a.title=b;if(c.rendered){c.textEl.update(a.title||"&#160;");c.updateLayout()}else{a.titleCmp.on({render:function(){a.setTitle(b)},single:true})}},getMinWidth:function(){var c=this,e=c.titleCmp.textEl.dom,d,g=c.tools,b,a;e.style.display="inline";d=e.offsetWidth;e.style.display="";if(g&&(b=g.length)){for(a=0;a<b;a++){if(g[a].el){d+=g[a].el.dom.offsetWidth}}}if(c.iconCmp){d+=c.iconCmp.el.dom.offsetWidth}return d+10},setIconCls:function(a){var d=this,c=!a||!a.length,b=d.iconCmp;d.iconCls=a;if(!d.iconCmp&&!c){d.initIconCmp();d.insert(0,d.iconCmp)}else{if(b){if(c){d.iconCmp.destroy();delete d.iconCmp}else{b.removeCls(b.iconCls);b.addCls(a);b.iconCls=a}}}},setIcon:function(a){var d=this,c=!a||!a.length,b=d.iconCmp;d.icon=a;if(!d.iconCmp&&!c){d.initIconCmp();d.insert(0,d.iconCmp)}else{if(b){if(c){d.iconCmp.destroy();delete d.iconCmp}else{b.setSrc(d.icon)}}}},setGlyph:function(a){var c=this,b=c.iconCmp;if(!c.iconCmp){c.initIconCmp();c.insert(0,c.iconCmp)}else{if(b){if(a){c.iconCmp.setGlyph(a)}else{c.iconCmp.destroy();delete c.iconCmp}}}},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var k=this,j=k.items,c=j.items,m=k.titlePosition,g=c.length,h=j.generation,l=k.syncBeforeAfterGen,a,b,d,e;if(l===h){return}k.syncBeforeAfterGen=h;for(d=0;d<g;++d){e=c[d];a=e.afterTitleCls||(e.afterTitleCls=e.baseCls+"-after-title");b=e.beforeTitleCls||(e.beforeTitleCls=e.baseCls+"-before-title");if(!k.title||d<m){if(l){e.removeCls(a)}e.addCls(b)}else{if(d>m){if(l){e.removeCls(b)}e.addCls(a)}}}},onAdd:function(a,b){var c=this.tools;this.callParent(arguments);if(a.isTool){c.push(a);c[a.type]=a}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var b=this,a=b.callParent(),c=b.ownerCt;if(!b.expanding&&(c&&c.collapsed)||b.isCollapsedExpander){a+="-"+c.collapsedCls}return a+"-"+b.dock}});Ext.define("Ext.dd.DragDrop",{constructor:function(b,c,a){if(b){this.init(b,c,a)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(h,l,j){if(Ext.isNumber(l)){l={left:l,right:l,top:l,bottom:l}}l=l||this.defaultPadding;var a=Ext.get(this.getEl()).getBox(),g=Ext.get(h),m=g.getScroll(),d,e=g.dom,o,n,k;if(e==document.body){d={x:m.left,y:m.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else{o=g.getXY();d={x:o[0],y:o[1],width:e.clientWidth,height:e.clientHeight}}n=a.y-d.y;k=a.x-d.x;this.resetConstraints();this.setXConstraint(k-(l.left||0),d.width-k-a.width-(l.right||0),this.xTickSize);this.setYConstraint(n-(l.top||0),d.height-n-a.height-(l.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(b,c,a){this.initTarget(b,c,a);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(b,c,a){this.config=a||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof b!=="string"){b=Ext.id(b)}this.id=b;this.addToGroup((c)?c:"default");this.handleElId=b;this.setDragElId(b);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(d,c,a,b){if(!c&&0!==c){this.padding=[d,d,d,d]}else{if(!a&&0!==a){this.padding=[d,c,d,c]}else{this.padding=[d,c,a,b]}}},setInitPosition:function(a,b){var e=this.getEl(),c,d,g;if(!this.DDMInstance.verifyEl(e)){return}c=a||0;d=b||0;g=Ext.Element.getXY(e);this.initPageX=g[0]-c;this.initPageY=g[1]-d;this.lastPageX=g[0];this.lastPageY=g[1];this.setStartPosition(g)},setStartPosition:function(b){var a=b||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(a,c){var b=this;if((b.primaryButtonOnly&&a.button!=0)||b.isLocked()){return}b.DDMInstance.refreshCache(b.groups);if(b.hasOuterHandles||b.DDMInstance.isOverTarget(a.getPoint(),b)){if(b.clickValidator(a)){b.setStartPosition();b.b4MouseDown(a);b.onMouseDown(a);b.DDMInstance.handleMouseDown(a,b);b.DDMInstance.stopEvent(a)}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(b,this.id)))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b){if(this.invalidHandleClasses[b]==a){delete this.invalidHandleClasses[b]}}},isValidHandleChild:function(d){var h=true,g,b,c;try{g=d.nodeName.toUpperCase()}catch(a){g=d.nodeName}h=h&&!this.invalidHandleTypes[g];h=h&&!this.invalidHandleIds[d.id];for(b=0,c=this.invalidHandleClasses.length;h&&b<c;++b){h=!Ext.fly(d).hasCls(this.invalidHandleClasses[b])}return h},setXTicks:function(b,c){this.xTicks=[];this.xTickSize=c;var d={},a;for(a=this.initPageX;a>=this.minX;a=a-c){if(!d[a]){this.xTicks[this.xTicks.length]=a;d[a]=true}}for(a=this.initPageX;a<=this.maxX;a=a+c){if(!d[a]){this.xTicks[this.xTicks.length]=a;d[a]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(b,c){this.yTicks=[];this.yTickSize=c;var d={},a;for(a=this.initPageY;a>=this.minY;a=a-c){if(!d[a]){this.yTicks[this.yTicks.length]=a;d[a]=true}}for(a=this.initPageY;a<=this.maxY;a=a+c){if(!d[a]){this.yTicks[this.yTicks.length]=a;d[a]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,a,b){this.topConstraint=c;this.bottomConstraint=a;this.minY=this.initPageY-c;this.maxY=this.initPageY+a;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0,b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(h,g){if(!g){return h}else{if(g[0]>=h){return g[0]}else{var c,d,e,a,b;for(c=0,d=g.length;c<d;++c){e=c+1;if(g[e]&&g[e]>=h){a=h-g[c];b=g[e]-h;return(b>a)?g[c]:g[e]}}return g[g.length-1]}}},toString:function(){return("DragDrop "+this.id)}});Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(b,c,a){if(b){this.init(b,c,a)}},scroll:true,autoOffset:function(a,b){var c=a-this.startPageX,d=b-this.startPageY;this.setDelta(c,d)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(b,c){var a=this.getDragEl();this.alignElWithMouse(a,b,c)},alignElWithMouse:function(b,g,h){var l=this.getTargetCoord(g,h),e=b.dom?b:Ext.fly(b,"_dd"),d=e.getSize(),c=Ext.Element,m,a,j,k;if(!this.deltaSetXY){m=this.cachedViewportSize={width:c.getDocumentWidth(),height:c.getDocumentHeight()};a=[Math.max(0,Math.min(l.x,m.width-d.width)),Math.max(0,Math.min(l.y,m.height-d.height))];e.setXY(a);j=this.getLocalX(e);k=e.getLocalY();this.deltaSetXY=[j-l.x,k-l.y]}else{m=this.cachedViewportSize;this.setLocalXY(e,Math.max(0,Math.min(l.x+this.deltaSetXY[0],m.width-d.width)),Math.max(0,Math.min(l.y+this.deltaSetXY[1],m.height-d.height)))}this.cachePosition(l.x,l.y);this.autoScroll(l.x,l.y,b.offsetHeight,b.offsetWidth);return l},cachePosition:function(b,c){if(b){this.lastPageX=b;this.lastPageY=c}else{var a=Ext.Element.getXY(this.getEl());this.lastPageX=a[0];this.lastPageY=a[1]}},autoScroll:function(p,q,d,o){if(this.scroll){var b=Ext.Element.getViewHeight(),c=Ext.Element.getViewWidth(),k=this.DDMInstance.getScrollTop(),j=this.DDMInstance.getScrollLeft(),a=d+q,e=o+p,m=(b+k-q-this.deltaY),n=(c+j-p-this.deltaX),l=40,g=(document.all)?80:30;if(a>b&&m<l){window.scrollTo(j,k+g)}if(q<k&&k>0&&q-k<l){window.scrollTo(j,k-g)}if(e>c&&n<l){window.scrollTo(j+g,k)}if(p<j&&j>0&&p-j<l){window.scrollTo(j-g,k)}}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(c<this.minX){c=this.minX}if(c>this.maxX){c=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}});Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(b,c,a){if(b){this.init(b,c,a);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var d=this,a=document.body,b,c;if(!a||!a.firstChild){setTimeout(function(){d.createFrame()},50);return}b=this.getDragEl();if(!b){b=document.createElement("div");b.id=this.dragElId;c=b.style;c.position="absolute";c.visibility="hidden";c.cursor="move";c.border="2px solid #aaa";c.zIndex=999;a.insertBefore(b,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(c,d){var b=this.getEl(),a=this.getDragEl(),e=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2))}this.setDragElPos(c,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c);this.setDragElPos(b,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(b){var c=this.getEl(),a=this.getDragEl();a.style.visibility="";this.beforeMove();c.style.visibility="hidden";Ext.dd.DDM.moveToEl(c,a);a.style.visibility="hidden";c.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(a){var c=this,b=Ext.baseCSSPrefix+"dd-drag-proxy ";c.el.replaceCls(b+c.dropAllowed,b+c.dropNotAllowed);c.dropStatus=c.dropNotAllowed;if(a){c.ghost.update("")}},update:function(b){if(typeof b=="string"){this.ghost.update(b)}else{this.ghost.update("");b.style.margin="0";this.ghost.dom.appendChild(b)}var a=this.ghost.dom.firstChild;if(a){Ext.fly(a).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(a){this.callParent();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(d,a,c){var b=this;b.callback=a;b.scope=c;if(d&&b.animRepair!==false){b.el.addCls(b.repairCls);b.el.hideUnders(true);b.anim=b.el.animate({duration:b.repairDuration||500,easing:"ease-out",to:{x:d[0],y:d[1]},stopAnimation:true,callback:b.afterRepair,scope:b})}else{b.afterRepair()}},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(a.repairCls);if(typeof a.callback=="function"){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}});Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(a){return this.dragData},onDragEnter:function(a,b){var d=Ext.dd.DragDropManager.getDDById(b),c;this.cachedTarget=d;if(this.beforeDragEnter(d,a,b)!==false){if(d.isNotifyTarget){c=d.notifyEnter(this,a,this.dragData);this.proxy.setStatus(c)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(d,a,b)}}},beforeDragEnter:function(c,a,b){return true},onDragOver:function(a,b){var d=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),c;if(this.beforeDragOver(d,a,b)!==false){if(d.isNotifyTarget){c=d.notifyOver(this,a,this.dragData);this.proxy.setStatus(c)}if(this.afterDragOver){this.afterDragOver(d,a,b)}}},beforeDragOver:function(c,a,b){return true},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragOut(c,a,b)!==false){if(c.isNotifyTarget){c.notifyOut(this,a,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(c,a,b)}}this.cachedTarget=null},beforeDragOut:function(c,a,b){return true},onDragDrop:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(this.beforeDragDrop(c,a,b)!==false){if(c.isNotifyTarget){if(c.notifyDrop(this,a,this.dragData)!==false){this.onValidDrop(c,a,b)}else{this.onInvalidDrop(c,a,b)}}else{this.onValidDrop(c,a,b)}if(this.afterDragDrop){this.afterDragDrop(c,a,b)}}delete this.cachedTarget},beforeDragDrop:function(c,a,b){return true},onValidDrop:function(c,a,b){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(c,a,b)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(d,a,b){var c=this;if(!a){a=d;d=null;b=a.getTarget().id}if(c.beforeInvalidDrop(d,a,b)!==false){if(c.cachedTarget){if(c.cachedTarget.isNotifyTarget){c.cachedTarget.notifyOut(c,a,c.dragData)}c.cacheTarget=null}c.proxy.repair(c.getRepairXY(a,c.dragData),c.afterRepair,c);if(c.afterInvalidDrop){c.afterInvalidDrop(a,b)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=false},beforeInvalidDrop:function(c,a,b){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(b,c){var a=this.el.dom.cloneNode(true);a.id=Ext.id();this.proxy.update(a);this.onStartDrag(b,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(c,a){var b=this;b.panel=c;b.id=b.panel.id+"-ddproxy";Ext.apply(b,a)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var a=this,b;if(!a.ghost){b=a.panel.getSize();a.panel.el.setVisibilityMode(Ext.Element.DISPLAY);a.ghost=a.panel.ghost();if(a.insertProxy){a.proxy=a.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});a.proxy.setSize(b)}}},repair:function(c,a,b){this.hide();Ext.callback(a,b||this)},moveProxy:function(b,a){if(this.proxy){b.insertBefore(this.proxy.dom,a)}}});Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(c,a){var b=this;b.panel=c;b.dragData={panel:c};b.panelProxy=new Ext.panel.Proxy(c,a);b.proxy=b.panelProxy.proxy;b.callParent([c.el,a]);b.setupEl(c)},setupEl:function(d){var c=this,b=d.header,a=d.body;if(b){c.setHandleElId(b.id);a=b.el}if(a){a.setStyle("cursor","move");c.scroll=false}else{d.on("boxready",c.setupEl,c,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(a){var b=a.getPageX(),c=a.getPageY();this.autoOffset(b,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){var b=this.panelProxy.ghost;if(b){return b.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(d,a,b){var c=this;if(c.beforeInvalidDrop(d,a,b)!==false){if(c.cachedTarget){if(c.cachedTarget.isNotifyTarget){c.cachedTarget.notifyOut(c,a,c.dragData)}c.cacheTarget=null}if(c.afterInvalidDrop){c.afterInvalidDrop(a,b)}}}});Ext.define("Ext.util.Memento",(function(){function a(j,k,h,g){j[g?g+h:h]=k[h]}function c(h,j,g){delete h[g]}function d(k,l,j,h){var g=h?h+j:j,m=k[g];if(m||k.hasOwnProperty(g)){e(l,j,m)}}function e(h,g,j){if(Ext.isDefined(j)){h[g]=j}else{delete h[g]}}function b(g,m,n,l,k){if(m){if(Ext.isArray(l)){var h,j=l.length;for(h=0;h<j;h++){g(m,n,l[h],k)}}else{g(m,n,l,k)}}}return{data:null,target:null,constructor:function(h,g){if(h){this.target=h;if(g){this.capture(g)}}},capture:function(j,k,h){var g=this;b(a,g.data||(g.data={}),k||g.target,j,h)},remove:function(g){b(c,this.data,null,g)},restore:function(j,g,k,h){b(d,this.data,k||this.target,j,h);if(g!==false){this.remove(j)}},restoreAll:function(g,m){var j=this,l=m||this.target,h=j.data,k;for(k in h){if(h.hasOwnProperty(k)){e(l,k,h[k])}}if(g!==false){delete j.data}}}}()));Ext.define("Ext.panel.Panel",{extend:Ext.panel.AbstractPanel,alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:undefined,floatable:true,collapsible:undefined,closable:false,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:false,header:undefined,headerPosition:"top",frame:false,frameHeader:true,manageHeight:true,constrain:false,constrainHeader:false,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat");if(a.collapsible){this.addStateEvents(["expand","collapse"])}if(a.unstyled){a.setUI("plain")}if(a.frame){a.setUI(a.ui+"-framed")}a.bridgeToolbars();a.callParent();a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement()},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);a.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var c=this,a=c.el,b=c.header;if(a&&b){a.dom.setAttribute("aria-labelledby",b.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(c){var b=this,d=b.title,a=b.header,g=b.reExpander,e=b.placeholder;b.title=c;if(a){if(a.isHeader){a.setTitle(c)}else{a.title=c}}else{if(b.rendered){b.updateHeader()}}if(g){g.setTitle(c)}if(e&&e.setTitle){e.setTitle(c)}b.fireEvent("titlechange",b,c,d)},setIconCls:function(c){var b=this,d=b.iconCls,a=b.header,e=b.placeholder;b.iconCls=c;if(a){if(a.isHeader){a.setIconCls(c)}else{a.iconCls=c}}else{b.updateHeader()}if(e&&e.setIconCls){e.setIconCls(c)}b.fireEvent("iconclschange",b,c,d)},setIcon:function(c){var b=this,d=b.icon,a=b.header,e=b.placeholder;b.icon=c;if(a){if(a.isHeader){a.setIcon(c)}else{a.icon=c}}else{b.updateHeader()}if(e&&e.setIcon){e.setIcon(c)}b.fireEvent("iconchange",b,c,d)},setGlyph:function(c){var b=this,d=b.glyph,a=b.header,e=b.placeholder;b.glyph=c;if(a){if(a.isHeader){a.setGlyph(c)}else{a.glyph=c}}else{b.updateHeader()}if(e&&e.setGlyph){e.setIcon(c)}b.fireEvent("glyphchange",b,c,d)},bridgeToolbars:function(){var e=this,a=[],b,c,g=e.minButtonWidth;function d(j,h,k){if(Ext.isArray(j)){j={xtype:"toolbar",items:j}}else{if(!j.xtype){j.xtype="toolbar"}}j.dock=h;if(h=="left"||h=="right"){j.vertical=true}if(k){j.layout=Ext.applyIf(j.layout||{},{pack:{left:"start",center:"center"}[e.buttonAlign]||"end"})}return j}if(e.tbar){a.push(d(e.tbar,"top"));e.tbar=null}if(e.bbar){a.push(d(e.bbar,"bottom"));e.bbar=null}if(e.buttons){e.fbar=e.buttons;e.buttons=null}if(e.fbar){b=d(e.fbar,"bottom",true);b.ui="footer";if(g){c=b.defaults;b.defaults=function(h){var j=c||{};if((!h.xtype||h.xtype==="button"||(h.isComponent&&h.isXType("button")))&&!("minWidth" in j)){j=Ext.apply({minWidth:g},j)}return j}}a.push(b);e.fbar=null}if(e.lbar){a.push(d(e.lbar,"left"));e.lbar=null}if(e.rbar){a.push(d(e.rbar,"right"));e.rbar=null}if(e.dockedItems){if(!Ext.isArray(e.dockedItems)){e.dockedItems=[e.dockedItems]}e.dockedItems=e.dockedItems.concat(a)}else{e.dockedItems=a}},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},beforeRender:function(){var a=this,b;a.callParent();a.initTools();if(!(a.preventHeader||(a.header===false))){a.updateHeader()}if(a.collapsed){if(a.isPlaceHolderCollapse()){if(!a.hidden){a.setHiddenState(true);a.preventCollapseFire=true;a.placeholderCollapse();delete a.preventCollapseFire;b=a.collapsed;a.collapsed=false}}else{a.beginCollapse();a.addClsWithUI(a.collapsedCls)}}if(b){a.collapsed=b}},initTools:function(){var b=this,d=b.tools,a,c;b.tools=[];for(a=d&&d.length;a;){--a;b.tools[a]=c=d[a];c.toolOwner=b}if(b.collapsible&&!(b.hideCollapseTool||b.header===false||b.preventHeader)){b.collapseDirection=b.collapseDirection||b.headerPosition||"top";b.collapseTool=b.expandTool=Ext.widget({xtype:"tool",handler:b.toggleCollapse,scope:b});b.updateCollapseTool();if(b.collapseFirst){b.tools.unshift(b.collapseTool)}}b.addTools();if(b.closable){b.addClsWithUI("closable");b.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(b.close,b,[])}))}if(b.collapseTool&&!b.collapseFirst){b.addTool(b.collapseTool)}},addTools:Ext.emptyFn,updateCollapseTool:function(){var b=this,a=b.collapseTool;if(a){if(b.collapsed&&!b.isPlaceHolderCollapse()){a.setType("expand-"+b.getOppositeDirection(b.collapseDirection))}else{a.setType("collapse-"+b.collapseDirection)}}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(a){var d=this,b=d.header,e=d.title,g=d.tools,c=d.icon||d.iconCls,h=d.headerPosition==="left"||d.headerPosition==="right";if(Ext.isObject(b)||(b!==false&&(a||(e||c)||(g&&g.length)||(d.collapsible&&!d.titleCollapse)))){if(b&&b.isHeader){b.show()}else{b=d.header=Ext.widget(Ext.apply({xtype:"header",title:e,titleAlign:d.titleAlign,orientation:h?"vertical":"horizontal",dock:d.headerPosition||"top",textCls:d.headerTextCls,iconCls:d.iconCls,icon:d.icon,glyph:d.glyph,baseCls:d.baseCls+"-header",tools:g,ui:d.ui,id:d.id+"_header",overCls:d.headerOverCls,indicateDrag:d.draggable,frame:(d.frame||d.alwaysFramed)&&d.frameHeader,ignoreParentFrame:d.frame||d.overlapHeader,ignoreBorderManagement:d.frame||d.ignoreHeaderBorderManagement,ownerCt:d,listeners:d.collapsible&&d.titleCollapse?{click:d.toggleCollapse,scope:d}:null},d.header));d.addDocked(b,0)}d.initHeaderAria()}else{if(b){b.hide()}}},setUI:function(b){var a=this;a.callParent(arguments);if(a.header&&a.header.rendered){a.header.setUI(b)}},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;if(b.collapsed&&b.placeholder){return b.placeholder.isVisible(a)}return b.callParent(arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder){a.placeholder.hide()}else{a.callParent(arguments)}},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(true);a.placeholderCollapse()}else{a.callParent(arguments)}},onRemoved:function(a){var b=this;if(b.placeholder&&!a){b.ownerCt.remove(b.placeholder,false)}b.callParent(arguments)},addTool:function(g){if(!Ext.isArray(g)){g=[g]}var b=this,a=b.header,c,d=g.length,e;for(c=0;c<d;c++){e=g[c];e.toolOwner=b;if(a&&a.isHeader){a.addTool(e)}else{b.tools.push(e)}}b.updateHeader()},getOppositeDirection:function(b){var a=Ext.Component;switch(b){case a.DIRECTION_TOP:return a.DIRECTION_BOTTOM;case a.DIRECTION_RIGHT:return a.DIRECTION_LEFT;case a.DIRECTION_BOTTOM:return a.DIRECTION_TOP;case a.DIRECTION_LEFT:return a.DIRECTION_RIGHT}},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a==="left"||a==="right"},collapsedVertical:function(){var a=this.getCollapsed();return a==="top"||a==="bottom"},restoreDimension:function(){var a=this.collapseDirection;return(a==="top"||a==="bottom")?"height":"width"},getCollapsed:function(){var a=this;if(a.collapsed===true){return a.collapseDirection}return a.collapsed},getState:function(){var a=this,c=a.callParent(),b;c=a.addPropertyToState(c,"collapsed");if(a.collapsed){b=a.collapseMemento;b=b&&b.data;if(a.collapsedVertical()){if(c){delete c.height}if(b){c=a.addPropertyToState(c,"height",b.height)}}else{if(c){delete c.width}if(b){c=a.addPropertyToState(c,"width",b.width)}}}return c},findReExpander:function(d){var j=this,a=Ext.Component,g=j.dockedItems.items,e=g.length,b,h;if(j.collapseMode==="mini"){return}switch(d){case a.DIRECTION_TOP:case a.DIRECTION_BOTTOM:for(h=0;h<e;h++){b=g[h];if(!b.hidden){if(b.isHeader&&(!b.dock||b.dock==="top"||b.dock==="bottom")){return b}}}break;case a.DIRECTION_LEFT:case a.DIRECTION_RIGHT:for(h=0;h<e;h++){b=g[h];if(!b.hidden){if(b.isHeader&&(b.dock==="left"||b.dock==="right")){return b}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},getReExpander:function(b){var c=this,a=b||c.collapseDirection,d=c.reExpander||c.findReExpander(a);c.expandDirection=c.getOppositeDirection(a);if(!d){c.reExpander=d=c.createReExpander(a,{dock:a,cls:Ext.baseCSSPrefix+"docked "+c.baseCls+"-"+c.ui+"-collapsed",isCollapsedExpander:true});c.dockedItems.insert(0,d)}return d},createReExpander:function(b,a){var g=this,c=b==="left",d=b==="right",e=c||d,h=Ext.apply({hideMode:"offsets",title:g.title||"&#160;",titleAlign:g.titleAlign,orientation:e?"vertical":"horizontal",textCls:g.headerTextCls,icon:g.icon,iconCls:g.iconCls,glyph:g.glyph,baseCls:g.self.prototype.baseCls+"-header",ui:g.ui,frame:g.frame&&g.frameHeader,ignoreParentFrame:g.frame||g.overlapHeader,indicateDrag:g.draggable,collapseImmune:true,ownerCt:g.ownerCt,ownerLayout:g.componentLayout,margin:g.margin},a);if(g.collapseMode==="mini"){if(e){h.width=1}else{h.height=1}}if(!g.hideCollapseTool){if(c||(d&&g.isPlaceHolderCollapse())){h.titlePosition=1}h.tools=[{xtype:"tool",type:"expand-"+g.getOppositeDirection(b),uiCls:["top"],handler:g.toggleCollapse,scope:g}]}h=new Ext.panel.Header(h);h.addClsWithUI(g.getHeaderCollapsedClasses(h));return h},getHeaderCollapsedClasses:function(c){var d=this,b=d.collapsedCls,a;a=[b,b+"-"+c.getDockName()];if(d.border&&(!d.frame||(d.frame&&Ext.supports.CSS3BorderRadius))){a.push(b+"-border-"+c.getDockName())}return a},beginCollapse:function(){var d=this,c=d.lastBox,g=d.rendered,a=d.collapseMemento||(d.collapseMemento=new Ext.util.Memento(d)),h=d.getSizeModel(),b=d.header,e;a.capture(["height","minHeight","width","minWidth"]);if(c){a.capture(d.restoreDimension(),c,"last.")}if(d.collapsedVertical()){if(h.width.shrinkWrap){d.width=g?d.getWidth():d.width||d.minWidth||100}delete d.height;d.minHeight=0}else{if(d.collapsedHorizontal()){if(h.height.shrinkWrap){d.height=g?d.getHeight():d.height||d.minHeight||100}delete d.width;d.minWidth=0}}if(d.ownerCt){d.ownerCt.getLayout().beginCollapse(d)}if(!d.isPlaceHolderCollapse()&&b!==false){if(b===(e=d.getReExpander())){b.collapseImmune=true;b.getHierarchyState().collapseImmune=true;b.addClsWithUI(d.getHeaderCollapsedClasses(b));if(b.rendered){b.updateFrame()}}else{if(e.el){e.el.show();e.hidden=false}}}if(d.resizer){d.resizer.disable()}},beginExpand:function(){var d=this,c=d.lastBox,a=d.collapseMemento,g=this.restoreDimension(),b=d.header,e;if(a){a.restore(["minHeight","minWidth",g]);if(c){a.restore(g,true,c,"last.")}}if(d.ownerCt){d.ownerCt.getLayout().beginExpand(d)}if(!d.isPlaceHolderCollapse()&&b!==false){if(b===(e=d.getReExpander())){delete b.collapseImmune;delete b.getHierarchyState().collapseImmune;b.removeClsWithUI(d.getHeaderCollapsedClasses(b));if(b.rendered){b.expanding=true;b.updateFrame();delete b.expanding}}else{e.hidden=true;e.el.hide()}}if(d.resizer){d.resizer.enable()}},collapse:function(c,a){var d=this,b=c||d.collapseDirection,e=d.ownerCt;if(d.isCollapsingOrExpanding){return d}if(arguments.length<2){a=d.animCollapse}if(d.collapsed||d.fireEvent("beforecollapse",d,c,a)===false){return d}if(e&&d.isPlaceHolderCollapse()){return d.placeholderCollapse(c,a)}d.collapsed=b;d.beginCollapse();d.getHierarchyState().collapsed=true;d.fireHierarchyEvent("collapse");return d.doCollapseExpand(1,a)},doCollapseExpand:function(b,a){var c=this,d=c.animCollapse,e=c.ownerLayout;c.animCollapse=a;c.isCollapsingOrExpanding=b;if(a){c.addCls(Ext.baseCSSPrefix+"animating-size")}if(e&&!a){e.onContentChange(c)}else{c.updateLayout({isRoot:true})}c.animCollapse=d;return c},afterCollapse:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;b.updateCollapseTool();if(a){b.removeCls(Ext.baseCSSPrefix+"animating-size")}if(c&&a){c.onContentChange(b)}b.setHiddenDocked();b.fireEvent("collapse",b)},setHiddenDocked:function(){var e=this,h=e.hiddenOnCollapse,c=e.getDockedItems(),d=c.length,a=0,b,g;if(e.header!==false){g=e.getReExpander()}h.add(e.body);for(;a<d;a++){b=c[a];if(b&&b!==g&&b.el){h.add(b.el)}}h.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(b){var e=this,a=b||e.collapseDirection,d=null,g=e.placeholder,c=e.floatable,h=e.titleCollapse;if(!g){if(c||(e.collapsible&&h)){d={click:{fn:(!h&&c)?e.floatCollapsedPanel:e.toggleCollapse,element:"el",scope:e}}}e.placeholder=g=Ext.widget(e.createReExpander(a,{id:e.id+"-placeholder",listeners:d}))}if(!g.placeholderFor){if(!g.isComponent){e.placeholder=g=e.lookupComponent(g)}Ext.applyIf(g,{margins:e.margins,placeholderFor:e});g.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+a+"-placeholder",e.collapsedCls])}return g},placeholderCollapse:function(c,a){var e=this,g=e.ownerCt,b=c||e.collapseDirection,d=Ext.baseCSSPrefix+"border-region-slide-in",h=e.getPlaceholder(b),j;e.isCollapsingOrExpanding=1;e.setHiddenState(true);e.collapsed=b;if(h.rendered){if(h.el.dom.parentNode!==e.el.dom.parentNode){e.el.dom.parentNode.insertBefore(h.el.dom,e.el.dom)}h.hidden=false;h.el.show();g.updateLayout()}else{g.insert(g.items.indexOf(e),h)}if(e.rendered){e.el.setVisibilityMode(e.placeholderCollapseHideMode);if(a){e.el.addCls(d);h.el.hide();j=e.convertCollapseDir(b);e.el.slideOut(j,{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.el.removeCls(d);h.el.show().setStyle("display","none").slideIn(j,{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus();e.isCollapsingOrExpanding=0;e.fireEvent("collapse",e)}}})}}})}else{e.el.hide();e.isCollapsingOrExpanding=0;e.fireEvent("collapse",e)}}else{e.isCollapsingOrExpanding=0;if(!e.preventCollapseFire){e.fireEvent("collapse",e)}}return e},floatCollapsedPanel:function(){var d=this,g=d.placeholder,h=g.getSize(),e,b=Ext.baseCSSPrefix+"border-region-slide-in",a=d.collapsed,c=d.ownerCt||d,j;if(d.isSliding){return}if(d.el.hasCls(b)){d.slideOutFloatedPanel();return}d.isSliding=true;g.el.hide();g.hidden=true;d.el.show();d.setHiddenState(false);d.collapsed=false;c.updateLayout();e=d.getBox(false,true);g.el.show();g.hidden=false;d.el.hide();d.setHiddenState(true);d.collapsed=a;c.updateLayout();d.slideOutTask=d.slideOutTask||new Ext.util.DelayedTask(d.slideOutFloatedPanel,d);g.el.on("mouseleave",d.onMouseLeaveFloated,d);d.el.on("mouseleave",d.onMouseLeaveFloated,d);g.el.on("mouseenter",d.onMouseEnterFloated,d);d.el.on("mouseenter",d.onMouseEnterFloated,d);d.el.addCls(b);d.floated=true;if(d.collapseTool){d.collapseTool.el.hide()}switch(d.collapsed){case"top":d.setLocalXY(e.x,e.y+h.height-1);break;case"right":d.setLocalXY(e.x-h.width+1,e.y);break;case"bottom":d.setLocalXY(e.x,e.y-h.height+1);break;case"left":d.setLocalXY(e.x+h.width-1,e.y);break}j=d.convertCollapseDir(d.collapsed);d.floatedFromCollapse=d.collapsed;d.collapsed=false;d.setHiddenState(false);d.el.slideIn(j,{preserveScroll:true,duration:Ext.Number.from(d.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.isSliding=false;d.fireEvent("float",d)}}})},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},slideOutFloatedPanel:function(){var c=this,b=this.el,a;if(c.isSliding||c.isDestroyed){return}c.isSliding=true;c.floated=false;c.slideOutFloatedPanelBegin();if(typeof c.collapsed=="string"){a=c.convertCollapseDir(c.collapsed)}b.slideOut(a,{preserveScroll:true,duration:Ext.Number.from(c.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.slideOutFloatedPanelEnd();c.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var b=this,c=b.placeholder.el,a=b.el;b.collapsed=b.floatedFromCollapse;b.setHiddenState(true);b.floatedFromCollapse=null;c.un("mouseleave",b.onMouseLeaveFloated,b);a.un("mouseleave",b.onMouseLeaveFloated,b);c.un("mouseenter",b.onMouseEnterFloated,b);a.un("mouseenter",b.onMouseEnterFloated,b)},slideOutFloatedPanelEnd:function(){var a=this;if(a.collapseTool){a.collapseTool.el.show()}a.slideOutTask.cancel();a.isSliding=false;a.fireEvent("unfloat",a)},expand:function(a){var b=this;if(b.isCollapsingOrExpanding){return b}if(!arguments.length){a=b.animCollapse}if(!b.collapsed&&!b.floatedFromCollapse){return b}if(b.fireEvent("beforeexpand",b,a)===false){return b}delete this.getHierarchyState().collapsed;if(b.isPlaceHolderCollapse()){return b.placeholderExpand(a)}b.restoreHiddenDocked();b.beginExpand();b.collapsed=false;return b.doCollapseExpand(2,a)},placeholderExpand:function(a){var h=this,c=h.collapsed,e=Ext.baseCSSPrefix+"border-region-slide-in",d,g,b=h.ownerLayout?h.ownerLayout.centerRegion:null;if(Ext.AbstractComponent.layoutSuspendCount){a=false}if(h.floatedFromCollapse){g=h.getPosition(true);h.slideOutFloatedPanelBegin();h.slideOutFloatedPanelEnd();h.floated=false}if(a){Ext.suspendLayouts();h.placeholder.hide();h.el.show();h.collapsed=false;h.setHiddenState(false);if(b&&!g){b.hidden=true}Ext.resumeLayouts(true);b.hidden=false;h.el.addCls(e);h.isCollapsingOrExpanding=2;if(g){d=h.getXY();h.setLocalXY(g[0],g[1]);h.setXY([d[0],d[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){h.el.removeCls(e);h.isCollapsingOrExpanding=0;h.fireEvent("expand",h)}}})}else{h.el.hide();h.placeholder.el.show();h.placeholder.hidden=false;h.setHiddenState(false);h.el.slideIn(h.convertCollapseDir(c),{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){h.el.removeCls(e);h.placeholder.hide();h.updateLayout();h.isCollapsingOrExpanding=0;h.fireEvent("expand",h)}}})}}else{h.floated=h.collapsed=false;h.el.removeCls(e);Ext.suspendLayouts();h.placeholder.hide();h.show();Ext.resumeLayouts(true);h.fireEvent("expand",h)}return h},afterExpand:function(a){var b=this,c=b.ownerLayout;b.isCollapsingOrExpanding=0;b.updateCollapseTool();if(a){b.removeCls(Ext.baseCSSPrefix+"animating-size")}if(c&&a){c.onContentChange(b)}b.fireEvent("expand",b);b.fireHierarchyEvent("expand")},setBorder:function(a,d){if(d){return}var c=this,b=c.header;if(!a){a=0}else{if(a===true){a="1px"}else{a=c.unitizeBox(a)}}if(b){if(b.isHeader){b.setBorder(a)}else{b.border=a}}if(c.rendered&&c.bodyBorder!==false){c.body.setStyle("border-width",a)}c.updateLayout();c.border=a},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){if(this.simpleDrag){this.initSimpleDraggable()}else{this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)}},initSimpleDraggable:function(){var c=this,b,a;if(!c.header){c.updateHeader(true)}if(c.header){b=Ext.applyIf({el:c.el,delegate:"#"+Ext.escapeId(c.header.id)},c.draggable);if(c.constrain||c.constrainHeader){b.constrain=c.constrain;b.constrainDelegate=c.constrainHeader;b.constrainTo=c.constrainTo||c.container}a=c.dd=new Ext.util.ComponentDragger(this,b);c.relayEvents(a,["dragstart","drag","dragend"]);if(c.maximized){a.disable()}}},ghostTools:function(){var g=[],a=this.header,b=a?a.query("tool[hidden=false]"):[],c,d,e;if(b.length){c=0;d=b.length;for(;c<d;c++){e=b[c];g.push({type:e.type})}}else{g=[{type:"placeholder"}]}return g},ghost:function(b){var e=this,c=e.ghostPanel,a=e.getBox(),d;if(!c){c=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:false},frame:e.frame&&!e.alwaysFramed,alwaysFramed:e.alwaysFramed,overlapHeader:e.overlapHeader,headerPosition:e.headerPosition,baseCls:e.baseCls,cls:e.baseCls+"-ghost "+(b||"")});e.ghostPanel=c}else{c.el.show()}e.ghostPanel.hidden=false;c.floatParent=e.floatParent;if(e.floating){c.zIndexManager.assignZIndices()}else{c.toFront()}if(!(e.preventHeader||(e.header===false))){d=c.header;if(d){d.suspendLayouts();Ext.Array.forEach(d.query("tool"),d.remove,d);d.resumeLayouts()}c.addTool(e.ghostTools());c.setTitle(e.title);if(e.iconCls){c.setIconCls(e.iconCls)}else{if(e.icon){c.setIcon(e.icon)}else{if(e.glyph){c.setGlyph(e.glyph)}}}c.header.addCls(Ext.baseCSSPrefix+"header-ghost")}c.setPagePosition(a.x,a.y);c.setSize(a.width,a.height);e.el.hide();return c},unghost:function(c,a){var b=this;if(!b.ghostPanel){return}if(c!==false){b.el.show();if(a!==false){b.setPagePosition(b.ghostPanel.getXY());if(b.hideMode=="offsets"){delete b.el.hideModeStyles}}Ext.defer(b.focus,10,b)}b.ghostPanel.el.hide();b.ghostPanel.hidden=true},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},convertCollapseDir:function(a){return a.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx});Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true},focusOnToFront:false,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;this.callParent(arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true)}},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date();a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(a,c){var b=this;b.callParent(arguments);b.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+b.getAnchorPosition();b.anchorEl=b.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+b.anchorCls})},setTarget:function(c){var a=this,b=Ext.get(c),d;if(a.target){d=Ext.get(a.target);a.mun(d,"mouseover",a.onTargetOver,a);a.mun(d,"mouseout",a.onTargetOut,a);a.mun(d,"mousemove",a.onMouseMove,a)}a.target=b;if(b){a.mon(b,{freezeEvent:true,mouseover:a.onTargetOver,mouseout:a.onTargetOut,mousemove:a.onMouseMove,scope:a})}if(a.anchor){a.anchorTarget=a.target}},onMouseMove:function(a){var b=this,c=b.delegate?a.getTarget(b.delegate):b.triggerElement=true,d;if(c){b.targetXY=a.getXY();if(c===b.triggerElement){if(!b.hidden&&b.trackMouse){d=b.getTargetXY();if(b.constrainPosition){d=b.el.adjustForConstraints(d,b.el.parent())}b.setPagePosition(d)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(a)}}else{if((!b.closable&&b.isVisible())&&b.autoHide!==false){b.hide()}}},getTargetXY:function(){var h=this,j,k,o,g,e,d,b,l,m,a,n,c;if(h.delegate){h.anchorTarget=h.triggerElement}if(h.anchor){h.targetCounter++;k=h.getOffsets();o=(h.anchorToTarget&&!h.trackMouse)?h.getAlignToXY(h.anchorTarget,h.getAnchorAlign()):h.targetXY;g=Ext.Element.getViewWidth()-5;e=Ext.Element.getViewHeight()-5;d=document.documentElement;b=document.body;l=(d.scrollLeft||b.scrollLeft||0)+5;m=(d.scrollTop||b.scrollTop||0)+5;a=[o[0]+k[0],o[1]+k[1]];n=h.getSize();c=h.constrainPosition;h.anchorEl.removeCls(h.anchorCls);if(h.targetCounter<2&&c){if(a[0]<l){if(h.anchorToTarget){h.defaultAlign="l-r";if(h.mouseOffset){h.mouseOffset[0]*=-1}}h.anchor="left";return h.getTargetXY()}if(a[0]+n.width>g){if(h.anchorToTarget){h.defaultAlign="r-l";if(h.mouseOffset){h.mouseOffset[0]*=-1}}h.anchor="right";return h.getTargetXY()}if(a[1]<m){if(h.anchorToTarget){h.defaultAlign="t-b";if(h.mouseOffset){h.mouseOffset[1]*=-1}}h.anchor="top";return h.getTargetXY()}if(a[1]+n.height>e){if(h.anchorToTarget){h.defaultAlign="b-t";if(h.mouseOffset){h.mouseOffset[1]*=-1}}h.anchor="bottom";return h.getTargetXY()}}h.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+h.getAnchorPosition();h.anchorEl.addCls(h.anchorCls);h.targetCounter=0;return a}else{j=h.getMouseOffset();return(h.targetXY)?[h.targetXY[0]+j[0],h.targetXY[1]+j[1]]:j}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var b=this,a;if(b.anchor){b.tipAnchor=b.anchor.charAt(0)}else{a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);b.tipAnchor=a[1].charAt(0)}switch(b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var b=this,c,d,a=b.getAnchorPosition().charAt(0);if(b.anchorToTarget&&!b.trackMouse){switch(a){case"t":d=[0,9];break;case"b":d=[0,-13];break;case"r":d=[-13,0];break;default:d=[9,0];break}}else{switch(a){case"t":d=[-15-b.anchorOffset,30];break;case"b":d=[-19-b.anchorOffset,-13-b.el.dom.offsetHeight];break;case"r":d=[-15-b.el.dom.offsetWidth,-13-b.anchorOffset];break;default:d=[25,-13-b.anchorOffset];break}}c=b.getMouseOffset();d[0]+=c[0];d[1]+=c[1];return d},onTargetOver:function(b){var c=this,a=c.delegate,d;if(c.disabled||b.within(c.target.dom,true)){return}d=a?b.getTarget(a):true;if(d){c.triggerElement=d;c.triggerEvent=b;c.clearTimer("hide");c.targetXY=b.getXY();c.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a)}}else{if(!a.hidden&&a.autoHide!==false){a.show()}}},showFromDelay:function(){this.fromDelayShow=true;this.show();delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(a){var b=this,d=b.triggerElement,c=d===true?b.target:d;if(b.disabled||!d||a.within(c,true)){return}if(b.showTimer){b.clearTimer("show");b.triggerElement=null}if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}a.callParent(arguments);delete a.triggerElement},show:function(){var a=this;this.callParent();if(this.hidden===false){a.setPagePosition(-10000,-10000);if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();a.calledFromShowAt=true;if(!a.isVisible()){this.callParent(arguments)}if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true);a.el.sync(true);if(a.dismissDelay&&a.autoHide!==false){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else{a.anchorEl.hide()}}delete a.calledFromShowAt},syncAnchor:function(){var b=this,a,d,c;switch(b.tipAnchor.charAt(0)){case"t":a="b";d="tl";c=[20+b.anchorOffset,1];break;case"r":a="l";d="tr";c=[-1,12+b.anchorOffset];break;case"b":a="t";d="bl";c=[20+b.anchorOffset,-1];break;default:a="r";d="tl";c=[1,12+b.anchorOffset];break}b.anchorEl.alignTo(b.el,a+"-"+d,c);b.anchorEl.setStyle("z-index",parseInt(b.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(b,c){var a=this;a.callParent(arguments);if(a.anchor){a.syncAnchor()}},_timerNames:{},clearTimer:function(b){var a=this,c=a._timerNames,d=c[b]||(c[b]=b+"Timer"),e=a[d];if(e){clearTimeout(e);a[d]=null}},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(a){var b=this;if(!b.closable&&!a.within(b.el.dom)){b.disable();Ext.defer(b.doEnable,100,b)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(a){var b=Ext.isArray(a)?a:arguments,c=0,e=b.length,g,d,h;for(;c<e;c++){a=b[c];g=a.target;if(g){if(Ext.isArray(g)){for(d=0,h=g.length;d<h;d++){this.targets[Ext.id(g[d])]=a}}else{this.targets[Ext.id(g)]=a}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var c=this,a=c.activeTarget;b=Ext.get(b).dom;if(c.isVisible()){if(a&&a.el==b){c.hide()}}else{if(a&&a.el==b){c.clearTimer("show")}}},getTipCfg:function(b){var c=b.getTarget(),d=c.title,a;if(this.interceptTitles&&d&&Ext.isString(d)){c.qtip=d;c.removeAttribute("title");b.preventDefault();return{text:d}}else{a=this.tagConfig;c=b.getTarget("["+a.namespace+a.attribute+"]");if(c){return{target:c,text:c.getAttribute(a.namespace+a.attribute)}}}},onTargetOver:function(d){var k=this,m=d.getTarget(k.delegate),h,c,g,b,l,p,a,o,n,q,j;if(k.disabled){return}k.targetXY=d.getXY();if(!m||m.nodeType!==1||m==document.documentElement||m==document.body){return}if(k.activeTarget&&((m==k.activeTarget.el)||Ext.fly(k.activeTarget.el).contains(m))){if(k.targetTextEmpty()){k.onShowVeto();delete k.activeTarget}else{k.clearTimer("hide");k.show()}return}if(m){o=k.targets;for(j in o){if(o.hasOwnProperty(j)){q=o[j];n=Ext.fly(q.target);if(n&&(n.dom===m||n.contains(m))){g=n.dom;break}}}if(g){k.activeTarget=k.targets[g.id];k.activeTarget.el=m;k.anchor=k.activeTarget.anchor;if(k.anchor){k.anchorTarget=m}h=parseInt(k.activeTarget.showDelay,10);if(h){c=k.showDelay;k.showDelay=h}k.delayShow();if(h){k.showDelay=c}return}}g=Ext.fly(m,"_quicktip-target");b=k.tagConfig;l=b.namespace;p=k.getTipCfg(d);if(p){if(p.target){m=p.target;g=Ext.fly(m,"_quicktip-target")}a=g.getAttribute(l+b.hide);k.activeTarget={el:m,text:p.text,width:+g.getAttribute(l+b.width)||null,autoHide:a!="user"&&a!=="false",title:g.getAttribute(l+b.title),cls:g.getAttribute(l+b.cls),align:g.getAttribute(l+b.align),showDelay:parseInt(g.getAttribute(l+b.showDelay),10)};k.anchor=g.getAttribute(l+b.anchor);if(k.anchor){k.anchorTarget=m}h=parseInt(k.activeTarget.showDelay,10);if(h){c=k.showDelay;k.showDelay=h}k.delayShow();if(h){k.showDelay=c}}},onTargetOut:function(c){var g=this,a=g.activeTarget,d,b;if(a&&c.within(g.activeTarget.el)&&!g.getTipCfg(c)){return}g.clearTimer("show");delete g.activeTarget;if(g.autoHide!==false){d=a&&parseInt(a.hideDelay,10);if(d){b=g.hideDelay;g.hideDelay=d}g.delayHide();if(d){g.hideDelay=b}}},targetTextEmpty:function(){var c=this,d=c.activeTarget,a=c.tagConfig,b,e;if(d){b=d.el;if(b){e=b.getAttribute(a.namespace+a.attribute);if(!e&&!c.targets[d.target]){return true}}}return false},show:function(){var b=this,a=b.fromDelayShow;if(a&&b.targetTextEmpty()){b.onShowVeto();delete b.activeTarget;return}b.callParent(arguments)},showAt:function(e){var c=this,d=c.activeTarget,b=c.header,a;if(d){if(!c.rendered){c.render(Ext.getBody());c.activeTarget=d}c.suspendLayouts();if(d.title){c.setTitle(d.title);b.show()}else{if(b){b.hide()}}c.update(d.text);c.autoHide=d.autoHide;c.dismissDelay=d.dismissDelay||c.dismissDelay;if(d.mouseOffset){e[0]+=d.mouseOffset[0];e[1]+=d.mouseOffset[1]}a=c.lastCls;if(a){c.removeCls(a);delete c.lastCls}a=d.cls;if(a){c.addCls(a);c.lastCls=a}c.setWidth(d.width);if(c.anchor){c.constrainPosition=false}else{if(d.align){e=c.getAlignToXY(d.el,d.align);c.constrainPosition=false}else{c.constrainPosition=true}}c.resumeLayouts(true)}c.callParent([e])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(a,c){var d=this;if(!d.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,c)});return}var e=Ext.apply({disabled:d.disabled,id:"ext-quicktips-tip"},c),b=e.className,g=e.xtype;if(b){delete e.className}else{if(g){b="widget."+g;delete e.xtype}}if(a!==false){e.renderTo=document.body}d.tip=Ext.create(b||"Ext.tip.QuickTip",e);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.disable()}},ddEnable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.enable()}},enable:function(){var a=this,b=a.tip;if(b){b.enable()}a.disabled=false},disable:function(){var a=this,b=a.tip;if(b){b.disable()}a.disabled=true},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}});Ext.define("Ext.app.Application",{extend:Ext.app.Controller,scope:undefined,enableQuickTips:true,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:false,paths:null,onClassExtended:function(b,d,e){var c=Ext.app.Controller,l=b.prototype,m=[],j,k,g,h,a;g=d.name||b.superclass.name;a=d.appFolder||b.superclass.appFolder;if(g){d.$namespace=g;Ext.app.addNamespaces(g)}if(d.namespaces){Ext.app.addNamespaces(d.namespaces)}if(!d["paths processed"]){if(g&&a){Ext.Loader.setPath(g,a)}k=d.paths;if(k){for(h in k){if(k.hasOwnProperty(h)){Ext.Loader.setPath(h,k[h])}}}}else{delete d["paths processed"]}if(d.autoCreateViewport){c.processDependencies(l,m,g,"view",["Viewport"])}if(m.length){j=e.onBeforeCreated;e.onBeforeCreated=function(o,p){var n=Ext.Array.clone(arguments);Ext.require(m,function(){return j.apply(this,n)})}}},constructor:function(a){var b=this;b.callParent(arguments);b.doInit(b);b.initNamespace();b.initControllers();b.onBeforeLaunch();b.finishInitControllers()},initNamespace:function(){var b=this,a=b.appProperty,c;c=Ext.namespace(b.name);if(c){c.getApplication=function(){return b};if(a){if(!c[a]){c[a]=b}}}},initControllers:function(){var d=this,a=Ext.Array.from(d.controllers);d.controllers=new Ext.util.MixedCollection();for(var b=0,c=a.length;b<c;b++){d.getController(a[b])}},finishInitControllers:function(){var d=this,a,b,c;a=d.controllers.getRange();for(b=0,c=a.length;b<c;b++){a[b].finishInit(d)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var g=this,e,a,b,d;if(g.enableQuickTips){g.initQuickTips()}if(g.autoCreateViewport){g.initViewport()}g.launch.call(g.scope||g);g.launched=true;g.fireEvent("launch",g);e=g.controllers.items;b=e.length;for(a=0;a<b;a++){d=e[a];d.onLaunch(g)}},getModuleClassName:function(b,a){return Ext.app.Controller.getFullName(b,a,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");if(a){a.create()}},getController:function(e){var d=this,c=d.controllers,a,b;b=c.get(e);if(!b){a=d.getModuleClassName(e,"controller");b=Ext.create(a,{application:d,id:e});c.add(b);if(d._initialized){b.doInit(d)}}return b},getApplication:function(){return this}});Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:true,type:"controller",idProperty:"id",constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.Controller)}});Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.util.Observable},isProvider:true,constructor:function(a){var b=this;Ext.apply(b,a);Ext.applyIf(b,{id:Ext.id(null,"provider-")});b.addEvents("connect","disconnect","data","exception");b.mixins.observable.constructor.call(b,a)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.define("Ext.app.domain.Direct",{extend:Ext.app.EventDomain,singleton:true,type:"direct",idProperty:"id",constructor:function(){var a=this;a.callParent();a.monitor(Ext.direct.Provider)}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},onClick:function(a,c){var b=this;a.preventDefault();if(!b.disabled){if(b.overMenuTrigger){b.maybeShowMenu();b.fireEvent("arrowclick",b,a);if(b.arrowHandler){b.arrowHandler.call(b.scope||b,b,a)}}else{b.doToggle();b.fireHandler(a)}}}});Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(a){var b=this,c="";if(a&&b.showText===true){if(b.prependText){c+=b.prependText}c+=a.text;return c}return b.text},setActiveItem:function(a,c){var b=this;if(!Ext.isObject(a)){a=b.menu.getComponent(a)}if(a){if(!b.rendered){b.text=b.getButtonText(a);b.iconCls=a.iconCls;b.glyph=a.glyph}else{b.setText(b.getButtonText(a));b.setIconCls(a.iconCls);b.setGlyph(a.glyph)}b.activeItem=a;if(!a.checked){a.setChecked(true,false)}if(b.forceIcon){b.setIconCls(b.forceIcon)}if(b.forceGlyph){b.setGlyph(b.forceGlyph)}if(!c){b.fireEvent("change",b,a)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){var g=this,a=0,e,b,c,d;g.addEvents("change");if(g.changeHandler){g.on("change",g.changeHandler,g.scope||g);delete g.changeHandler}e=(g.menu.items||[]).concat(g.items||[]);g.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},g.menu);c=e.length;for(b=0;b<c;b++){d=e[b];d=Ext.applyIf({group:g.id,itemIndex:b,checkHandler:g.checkHandler,scope:g,checked:d.checked||false},d);g.menu.items.push(d);if(d.checked){a=b}}g.itemCount=g.menu.items.length;g.callParent(arguments);g.on("click",g.toggleSelected,g);g.setActiveItem(a,g);if(g.width&&g.showText){g.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")}},checkHandler:function(a,b){if(b){this.setActiveItem(a)}},toggleSelected:function(){var c=this,b=c.menu,a;a=c.activeItem.next(":not([disabled])")||b.items.getAt(0);a.setChecked(true)}});Ext.define("Ext.chart.Callout",{constructor:function(a){if(a.callouts){a.callouts.styles=Ext.applyIf(a.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"});this.callouts=Ext.apply(this.callouts||{},a.callouts);this.calloutsArray=[]}},renderCallouts:function(){if(!this.callouts){return}var o=this,k=o.items,a=o.chart.animate,b=o.callouts,v=b.styles,e=o.calloutsArray,t=o.chart.getChartStore(),n=t.getCount(),s=k.length/n,r=[],g,c,l,q,h,m,u,d;for(g=0,c=0;g<n;g++){for(l=0;l<s;l++){h=k[c];m=e[c];u=t.getAt(g);d=(!b.filter||b.filter(u));if(!d&&!m){c++;continue}if(!m){e[c]=m=o.onCreateCallout(u,h,g,d,l,c)}for(q in m){if(m[q]&&m[q].setAttributes){m[q].setAttributes(v,true)}}if(!d){for(q in m){if(m[q]){if(m[q].setAttributes){m[q].setAttributes({hidden:true},true)}else{if(m[q].setVisible){m[q].setVisible(false)}}}}}if(b&&b.renderer){b.renderer(m,u)}o.onPlaceCallout(m,u,h,g,d,a,l,c,r);r.push(m);c++}}this.hideCallouts(c)},onCreateCallout:function(l,j,h,d){var k=this,e=k.calloutsGroup,c=k.callouts,m=(c?c.styles:undefined),o=(m?m.width:0),g=(m?m.height:0),b=k.chart,n=b.surface,a={lines:false};a.lines=n.add(Ext.apply({},{type:"path",path:"M0,0",stroke:k.getLegendColor()||"#555"},m));if(c.items){a.panel=new Ext.Panel({style:"position: absolute;",width:o,height:g,items:c.items,renderTo:b.el})}return a},hideCallouts:function(c){var a=this.calloutsArray,d=a.length,b,e;while(d-->c){b=a[d];for(e in b){if(b[e]){b[e].hide(true)}}}}});Ext.define("Ext.draw.CompositeSprite",{extend:Ext.util.MixedCollection,mixins:{animate:Ext.util.Animate},autoDestroy:false,isCompositeSprite:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("mousedown","mouseup","mouseover","mouseout","click");b.id=Ext.id(null,"ext-sprite-group-");b.callParent()},onClick:function(a){this.fireEvent("click",a)},onMouseUp:function(a){this.fireEvent("mouseup",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)},onMouseOver:function(a){this.fireEvent("mouseover",a)},onMouseOut:function(a){this.fireEvent("mouseout",a)},attachEvents:function(b){var a=this;b.on({scope:a,mousedown:a.onMouseDown,mouseup:a.onMouseUp,mouseover:a.onMouseOver,mouseout:a.onMouseOut,click:a.onClick})},add:function(a,b){var c=this.callParent(arguments);this.attachEvents(c);return c},insert:function(a,b,c){return this.callParent(arguments)},remove:function(b){var a=this;b.un({scope:a,mousedown:a.onMouseDown,mouseup:a.onMouseUp,mouseover:a.onMouseOver,mouseout:a.onMouseOut,click:a.onClick});return a.callParent(arguments)},getBBox:function(){var b=0,n,a,d=this.items,e=this.length,c=Infinity,l=c,g=-c,m=c,j=-c,k,h;for(;b<e;b++){n=d[b];if(n.el&&!n.bboxExcluded){a=n.getBBox();l=Math.min(l,a.x);m=Math.min(m,a.y);g=Math.max(g,a.height+a.y);j=Math.max(j,a.width+a.x)}}return{x:l,y:m,height:g-m,width:j-l}},setAttributes:function(a,e){var b=0,c=this.items,d=this.length;for(;b<d;b++){c[b].setAttributes(a,e)}return this},hide:function(d){var a=0,b=this.items,c=this.length;for(;a<c;a++){b[a].hide(d)}return this},show:function(d){var a=0,b=this.items,c=this.length;for(;a<c;a++){b[a].show(d)}return this},redraw:function(){var d=this,a=0,b=d.items,e=d.getSurface(),c=d.length;if(e){for(;a<c;a++){e.renderItem(b[a])}}return d},setStyle:function(g){var b=0,d=this.items,e=this.length,c,a;for(;b<e;b++){c=d[b];a=c.el;if(a){a.setStyle(g)}}},addCls:function(d){var a=0,b=this.items,e=this.getSurface(),c=this.length;if(e){for(;a<c;a++){e.addCls(b[a],d)}}},removeCls:function(d){var a=0,b=this.items,e=this.getSurface(),c=this.length;if(e){for(;a<c;a++){e.removeCls(b[a],d)}}},getSurface:function(){var a=this.first();if(a){return a.surface}return null},destroy:function(){var c=this,d=c.getSurface(),a=c.autoDestroy,b;if(d){while(c.getCount()>0){b=c.first();c.remove(b);d.remove(b,a)}}c.clearListeners()}});Ext.define("Ext.draw.Surface",{mixins:{observable:Ext.util.Observable},separatorRe:/[, ]+/,enginePriority:["Svg","Vml"],statics:{create:function(a,b){b=b||this.prototype.enginePriority;var c=0,d=b.length;for(;c<d;c++){if(Ext.supports[b[c]]){return Ext.create("Ext.draw.engine."+b[c],a)}}return false},save:function(e,a){a=a||{};var c={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},d=c[a.type]||"Svg",b=Ext.draw.engine[d+"Exporter"];return b.generate(e,a)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:false,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:true,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.domRef=Ext.getDoc().dom;b.customAttributes={};b.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick");b.mixins.observable.constructor.call(b);b.getId();b.initGradients();b.initItems();if(b.renderTo){b.render(b.renderTo);delete b.renderTo}b.initBackground(a.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(c,d,b,a){if(isFinite(c)&&isFinite(d)&&isFinite(b)&&isFinite(a)){this.viewBox={x:c,y:d,width:b,height:a};this.applyViewBox()}},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var d=this.gradients,a=this.addGradient,b,c;if(d){for(b=0,c=d.length;b<c;b++){if(a.call(this,d[b],b,c)===false){break}}}}},initItems:function(){var a=this.items;this.items=new Ext.draw.CompositeSprite();this.items.autoDestroy=true;this.groups=new Ext.draw.CompositeSprite();if(a){this.add(a)}},initBackground:function(a){var e=this,g=e.width,d=e.height,c,b;if(Ext.isString(a)){a={fill:a}}if(a){if(a.gradient){b=a.gradient;c=b.id;e.addGradient(b);e.background=e.add({type:"rect",x:0,y:0,width:g,height:d,fill:"url(#"+c+")",zIndex:-1})}else{if(a.fill){e.background=e.add({type:"rect",x:0,y:0,width:g,height:d,fill:a.fill,zIndex:-1})}else{if(a.image){e.background=e.add({type:"image",x:0,y:0,width:g,height:d,src:a.image,zIndex:-1})}}}e.background.bboxExcluded=true}},setSize:function(b,a){this.applyViewBox()},scrubAttrs:function(e){var c,a={},b={},d=e.attr;for(c in d){if(this.translateAttrs.hasOwnProperty(c)){a[this.translateAttrs[c]]=d[c];b[this.translateAttrs[c]]=true}else{if(this.availableAttrs.hasOwnProperty(c)&&!b[c]){a[c]=d[c]}}}return a},onClick:function(a){this.processEvent("click",a)},onDblClick:function(a){this.processEvent("dblclick",a)},onMouseUp:function(a){this.processEvent("mouseup",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onMouseOver:function(a){this.processEvent("mouseover",a)},onMouseOut:function(a){this.processEvent("mouseout",a)},onMouseMove:function(a){this.fireEvent("mousemove",a)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var a=Array.prototype.slice.call(arguments),j,b=a.length>1,e,h,c,g,d;if(b||Ext.isArray(a[0])){e=b?a:a[0];h=[];for(c=0,g=e.length;c<g;c++){d=e[c];d=this.add(d);h.push(d)}return h}j=this.prepareItems(a[0],true)[0];this.insertByZIndex(j);this.onAdd(j);return j},insertByZIndex:function(j){var g=this,k=g.items.items,d=k.length,a=Math.ceil,l=j.attr.zIndex,c=d,b=c-1,e=0,h;if(g.orderSpritesByZIndex&&d&&l<k[b].attr.zIndex){while(e<=b){c=a((e+b)/2);h=k[c].attr.zIndex;if(h>l){b=c-1}else{if(h<l){e=c+1}else{break}}}while(c<d&&k[c].attr.zIndex<=l){c++}}g.items.insert(c,j);return c},onAdd:function(g){var b=g.group,a=g.draggable,c,e,d;if(b){c=[].concat(b);e=c.length;for(d=0;d<e;d++){b=c[d];this.getGroup(b).add(g)}delete g.group}if(a){g.initDraggable()}},remove:function(e,a){if(e){this.items.remove(e);var d=[].concat(this.groups.items),c=d.length,b;for(b=0;b<c;b++){d[b].remove(e)}e.onRemove();if(a===true){e.destroy()}}},removeAll:function(a){var c=this.items.items,d=c.length,b;for(b=d-1;b>-1;b--){this.remove(c[b],a)}},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var b=this,g=b.viewBox,m=b.width||1,a=b.height||1,k,l,j,h,c,d,e;if(g&&(m||a)){k=g.x;l=g.y;j=g.width;h=g.height;c=a/h;d=m/j;e=Math.min(d,c);if(j*e<m){k-=(m-j*e)/2/e}if(h*e<a){l-=(a-h*e)/2/e}b.viewBoxShift={dx:-k,dy:-l,scale:e};if(b.background){b.background.setAttributes(Ext.apply({},{x:k,y:l,width:m/e,height:a/e},{hidden:false}),true)}}else{if(b.background&&m&&a){b.background.setAttributes(Ext.apply({x:0,y:0,width:m,height:a},{hidden:false}),true)}}},getBBox:function(c,a){var b=this["getPath"+c.type](c);if(a){c.bbox.plain=c.bbox.plain||Ext.draw.Draw.pathDimensions(b);return c.bbox.plain}if(c.dirtyTransform){this.applyTransformations(c,true)}c.bbox.transform=c.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(b,c.matrix));return c.bbox.transform},transformToViewBox:function(c,d){if(this.viewBoxShift){var a=this,b=a.viewBoxShift;return[c/b.scale-b.dx,d/b.scale-b.dy]}else{return[c,d]}},applyTransformations:function(d,c){if(d.type=="text"){d.bbox.transform=0;this.transform(d,false)}d.dirtyTransform=false;var b=this,a=d.attr;if(a.translation.x!=null||a.translation.y!=null){b.translate(d)}if(a.scaling.x!=null||a.scaling.y!=null){b.scale(d)}if(a.rotation.degrees!=null){b.rotate(d)}d.bbox.transform=0;this.transform(d,c);d.transformations=[]},rotate:function(e){var a,d=e.attr.rotation.degrees,b=e.attr.rotation.x,c=e.attr.rotation.y;if(!Ext.isNumber(b)||!Ext.isNumber(c)){a=this.getBBox(e,true);b=!Ext.isNumber(b)?a.x+a.width/2:b;c=!Ext.isNumber(c)?a.y+a.height/2:c}e.transformations.push({type:"rotate",degrees:d,x:b,y:c})},translate:function(a){var b=a.attr.translation.x||0,c=a.attr.translation.y||0;a.transformations.push({type:"translate",x:b,y:c})},scale:function(d){var a,e=d.attr.scaling.x||1,g=d.attr.scaling.y||1,b=d.attr.scaling.centerX,c=d.attr.scaling.centerY;if(!Ext.isNumber(b)||!Ext.isNumber(c)){a=this.getBBox(d,true);b=!Ext.isNumber(b)?a.x+a.width/2:b;c=!Ext.isNumber(c)?a.y+a.height/2:c}d.transformations.push({type:"scale",x:e,y:g,centerX:b,centerY:c})},rectPath:function(d,e,c,a,b){if(b){return[["M",d+b,e],["l",c-b*2,0],["a",b,b,0,0,1,b,b],["l",0,a-b*2],["a",b,b,0,0,1,-b,b],["l",b*2-c,0],["a",b,b,0,0,1,-b,-b],["l",0,b*2-a],["a",b,b,0,0,1,b,-b],["z"]]}return[["M",d,e],["l",c,0],["l",0,a],["l",-c,0],["z"]]},ellipsePath:function(c,d,a,b){if(b==null){b=a}return[["M",c,d],["m",0,-b],["a",a,b,0,1,1,0,2*b],["a",a,b,0,1,1,0,-2*b],["z"]]},getPathpath:function(a){return a.attr.path},getPathcircle:function(c){var b=c.attr;return this.ellipsePath(b.x,b.y,b.radius,b.radius)},getPathellipse:function(c){var b=c.attr;return this.ellipsePath(b.x,b.y,b.radiusX||(b.width/2)||0,b.radiusY||(b.height/2)||0)},getPathrect:function(c){var b=c.attr;return this.rectPath(b.x||0,b.y||0,b.width||0,b.height||0,b.r||0)},getPathimage:function(c){var b=c.attr;return this.rectPath(b.x||0,b.y||0,b.width,b.height)},getPathtext:function(b){var a=this.getBBoxText(b);return this.rectPath(a.x,a.y,a.width,a.height)},createGroup:function(b){var a=this.groups.get(b);if(!a){a=new Ext.draw.CompositeSprite({surface:this});a.id=b||Ext.id(null,"ext-surface-group-");this.groups.add(a)}return a},getGroup:function(b){var a;if(typeof b=="string"){a=this.groups.get(b);if(!a){a=this.createGroup(b)}}else{a=b}return a},prepareItems:function(d,a){d=[].concat(d);var c,b,e;for(b=0,e=d.length;b<e;b++){c=d[b];if(!(c instanceof Ext.draw.Sprite)){c.surface=this;d[b]=this.createItem(c)}else{c.surface=this}}return d},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var a=this;delete a.domRef;if(a.background){a.background.destroy()}a.removeAll(true);Ext.destroy(a.groups.items)}});Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:Ext.layout.component.Auto,setHeightInDom:true,setWidthInDom:true,type:"draw",measureContentWidth:function(b){var d=b.target,c=b.getPaddingInfo(),a=this.getBBox(b);if(!d.viewBox){if(d.autoSize){return a.width+c.width}else{return a.x+a.width+c.width}}else{if(b.heightModel.shrinkWrap){return c.width}else{return a.width/a.height*(b.getProp("contentHeight")-c.height)+c.width}}},measureContentHeight:function(b){var d=b.target,c=b.getPaddingInfo(),a=this.getBBox(b);if(!b.target.viewBox){if(d.autoSize){return a.height+c.height}else{return a.y+a.height+c.height}}else{if(b.widthModel.shrinkWrap){return c.height}else{return a.height/a.width*(b.getProp("contentWidth")-c.width)+c.height}}},getBBox:function(b){var a=b.surfaceBBox;if(!a){a=b.target.surface.items.getBBox();if(a.width===-Infinity&&a.height===-Infinity){a.width=a.height=a.x=a.y=0}b.surfaceBBox=a}return a},publishInnerWidth:function(a,b){a.setContentWidth(b-a.getFrameInfo().width,true)},publishInnerHeight:function(b,a){b.setContentHeight(a-b.getFrameInfo().height,true)},finishedLayout:function(a){var c=a.props,b=a.getPaddingInfo();this.owner.setSurfaceSize(c.contentWidth-b.width,c.contentHeight-b.height);this.callParent(arguments)}});Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:Ext.Component,enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:true,shrinkWrap:3,autoSize:false,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var e=this,g=e.viewBox,a=e.autoSize,b,d,h,c,j,k;e.callParent(arguments);if(e.createSurface()!==false){d=e.surface.items;if(g||a){b=d.getBBox();h=b.width;c=b.height;j=b.x;k=b.y;if(e.viewBox){e.surface.setViewBox(j,k,h,c)}else{e.autoSizeSurface()}}}},autoSizeSurface:function(){var a=this.surface.items.getBBox();this.setSurfaceSize(a.width,a.height)},setSurfaceSize:function(c,b){this.surface.setSize(c,b);if(this.autoSize){var a=this.surface.items.getBBox();this.surface.setViewBox(a.x,a.y-(+Ext.isOpera),c,b)}},createSurface:function(){var b=this,a=Ext.applyIf({renderTo:b.el,height:b.height,width:b.width,items:b.items},b.initialConfig),d;delete a.listeners;if(!a.gradients){a.gradients=b.gradients}d=Ext.draw.Surface.create(a,b.enginePriority);if(!d){return false}b.surface=d;function c(e){return function(g){b.fireEvent(e,g)}}d.on({scope:b,mouseup:c("mouseup"),mousedown:c("mousedown"),mousemove:c("mousemove"),mouseenter:c("mouseenter"),mouseleave:c("mouseleave"),click:c("click"),dblclick:c("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}});Ext.chart=Ext.chart||{};Ext.define("Ext.chart.theme.Theme",(function(){(function(){Ext.chart.theme=function(e,a){e=e||{};var j=0,g=Ext.Date.now(),m,c,b,s,o,r,n,k,h=[],p,q;if(e.baseColor){p=Ext.draw.Color.fromString(e.baseColor);q=p.getHSL()[2];if(q<0.15){p=p.getLighter(0.3)}else{if(q<0.3){p=p.getLighter(0.15)}else{if(q>0.85){p=p.getDarker(0.3)}else{if(q>0.7){p=p.getDarker(0.15)}}}}e.colors=[p.getDarker(0.3).toString(),p.getDarker(0.15).toString(),p.toString(),p.getLighter(0.15).toString(),p.getLighter(0.3).toString()];delete e.baseColor}if(e.colors){c=e.colors.slice();o=a.markerThemes;s=a.seriesThemes;m=c.length;a.colors=c;for(;j<m;j++){b=c[j];n=o[j]||{};r=s[j]||{};n.fill=r.fill=n.stroke=r.stroke=b;o[j]=n;s[j]=r}a.markerThemes=o.slice(0,m);a.seriesThemes=s.slice(0,m)}for(k in a){if(k in e){if(Ext.isObject(e[k])&&Ext.isObject(a[k])){Ext.apply(a[k],e[k])}else{a[k]=e[k]}}}if(e.useGradients){c=a.colors||(function(){var d=[];for(j=0,s=a.seriesThemes,m=s.length;j<m;j++){d.push(s[j].fill||s[j].stroke)}return d}());for(j=0,m=c.length;j<m;j++){p=Ext.draw.Color.fromString(c[j]);if(p){b=p.getDarker(0.1).toString();p=p.toString();k="theme-"+p.substr(1)+"-"+b.substr(1)+"-"+g;h.push({id:k,angle:45,stops:{0:{color:p.toString()},100:{color:b.toString()}}});c[j]="url(#"+k+")"}}a.gradients=h;a.colors=c}Ext.apply(this,a)}}());return{theme:"Base",themeAttrs:false,initTheme:function(d){var c=this,e=Ext.chart.theme,b,a;if(d){d=d.split(":");for(b in e){if(b==d[0]){a=d[1]=="gradients";c.themeAttrs=new e[b]({useGradients:a});if(a){c.gradients=c.themeAttrs.gradients}if(c.themeAttrs.background){c.background=c.themeAttrs.background}return}}}}}})());Ext.define("Ext.chart.MaskLayer",{extend:Ext.Component,constructor:function(a){a=Ext.apply(a||{},{style:"position:absolute;background-color:#ff9;cursor:crosshair;opacity:0.5;border:1px solid #00f;"});this.callParent([a])},initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments);this.dd.onStart=function(b){var c=this,a=c.comp;this.startPosition=a.getPosition(true);if(a.ghost&&!a.liveDrag){c.proxy=a.ghost();c.dragTarget=c.proxy.header.el}if(c.constrain||c.constrainDelegate){c.constrainTo=c.calculateConstrainRegion()}}}});Ext.define("Ext.chart.Mask",{constructor:function(a){var b=this;b.addEvents("select");if(a){Ext.apply(b,a)}if(b.enableMask){b.on("afterrender",function(){var c=new Ext.chart.MaskLayer({renderTo:b.el,hidden:true});c.el.on({mousemove:function(d){b.onMouseMove(d)},mouseup:function(d){b.onMouseUp(d)}});c.initDraggable();b.maskType=b.mask;b.mask=c;b.maskSprite=b.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:0.6,hidden:true,stroke:"#00f",cursor:"crosshair"})},b,{single:true})}},onMouseUp:function(b){var c=this,a=c.bbox||c.chartBBox,d;c.maskMouseDown=false;c.mouseDown=false;if(c.mouseMoved){c.handleMouseEvent(b);c.mouseMoved=false;d=c.maskSelection;c.fireEvent("select",c,{x:d.x-a.x,y:d.y-a.y,width:d.width,height:d.height})}},onMouseDown:function(a){this.handleMouseEvent(a)},onMouseMove:function(a){this.handleMouseEvent(a)},handleMouseEvent:function(c){var m=this,h=m.maskType,b=m.bbox||m.chartBBox,s=b.x,t=b.y,k=Math,d=k.floor,a=k.abs,n=k.min,l=k.max,g=d(t+b.height),r=d(s+b.width),p=c.getPageX()-m.el.getX(),q=c.getPageY()-m.el.getY(),j=m.maskMouseDown,o;p=l(p,s);q=l(q,t);p=n(p,r);q=n(q,g);if(c.type==="mousedown"){m.mouseDown=true;m.mouseMoved=false;m.maskMouseDown={x:p,y:q}}else{m.mouseMoved=m.mouseDown;if(j&&m.mouseDown){if(h=="horizontal"){q=t;j.y=g}else{if(h=="vertical"){p=s;j.x=r}}r=j.x-p;g=j.y-q;o=["M",p,q,"l",r,0,0,g,-r,0,"z"];m.maskSelection={x:(r>0?p:p+r)+m.el.getX(),y:(g>0?q:q+g)+m.el.getY(),width:a(r),height:a(g)};m.mask.updateBox(m.maskSelection);m.mask.show();m.maskSprite.setAttributes({hidden:true},true)}else{if(h=="horizontal"){o=["M",p,t,"L",p,g]}else{if(h=="vertical"){o=["M",s,q,"L",r,q]}else{o=["M",p,t,"L",p,g,"M",s,q,"L",r,q]}}m.maskSprite.setAttributes({path:o,"stroke-width":h===true?1:1,hidden:false},true)}}},onMouseLeave:function(a){var b=this;b.mouseMoved=false;b.mouseDown=false;b.maskMouseDown=false;b.mask.hide();b.maskSprite.hide(true)}});Ext.define("Ext.chart.Navigation",{setZoom:function(t){var m=this,a=m.axes.items,j,l,b,c=m.chartBBox,q=c.width,r=c.height,s={x:t.x-m.el.getX(),y:t.y-m.el.getY(),width:t.width,height:t.height},u,e,g,p,o,d,n,k,h;for(j=0,l=a.length;j<l;j++){b=a[j];h=(b.position=="bottom"||b.position=="top");if(b.type=="Category"){if(!o){o=m.getChartStore();d=o.data.items.length}u=s;k=b.length;n=Math.round(k/d);if(h){g=(u.x?Math.floor(u.x/n)+1:0);p=(u.x+u.width)/n}else{g=(u.y?Math.floor(u.y/n)+1:0);p=(u.y+u.height)/n}}else{u={x:s.x/q,y:s.y/r,width:s.width/q,height:s.height/r};e=b.calcEnds();if(h){g=(e.to-e.from)*u.x+e.from;p=(e.to-e.from)*u.width+g}else{p=(e.to-e.from)*(1-u.y)+e.from;g=p-(e.to-e.from)*u.height}}b.minimum=g;b.maximum=p;if(h){if(b.doConstrain&&m.maskType!="vertical"){b.doConstrain()}}else{if(b.doConstrain&&m.maskType!="horizontal"){b.doConstrain()}}}m.redraw(false)},restoreZoom:function(){var e=this,a=e.axes.items,c,d,b;e.setSubStore(null);for(c=0,d=a.length;c<d;c++){b=a[c];delete b.minimum;delete b.maximum}e.redraw(false)}});Ext.define("Ext.chart.Shape",{singleton:true,circle:function(b,a){return b.add(Ext.apply({type:"circle",x:a.x,y:a.y,stroke:null,radius:a.radius},a))},line:function(b,a){return b.add(Ext.apply({type:"rect",x:a.x-a.radius,y:a.y-a.radius,height:2*a.radius,width:2*a.radius/5},a))},square:function(b,a){return b.add(Ext.applyIf({type:"rect",x:a.x-a.radius,y:a.y-a.radius,height:2*a.radius,width:2*a.radius,radius:null},a))},triangle:function(b,a){a.radius*=1.75;return b.add(Ext.apply({type:"path",stroke:null,path:"M".concat(a.x,",",a.y,"m0-",a.radius*0.58,"l",a.radius*0.5,",",a.radius*0.87,"-",a.radius,",0z")},a))},diamond:function(c,a){var b=a.radius;b*=1.5;return c.add(Ext.apply({type:"path",stroke:null,path:["M",a.x,a.y-b,"l",b,b,-b,b,-b,-b,b,-b,"z"]},a))},cross:function(c,a){var b=a.radius;b=b/1.7;return c.add(Ext.apply({type:"path",stroke:null,path:"M".concat(a.x-b,",",a.y,"l",[-b,-b,b,-b,b,b,b,-b,b,b,-b,b,b,b,-b,b,-b,-b,-b,b,-b,-b,"z"])},a))},plus:function(c,a){var b=a.radius/1.3;return c.add(Ext.apply({type:"path",stroke:null,path:"M".concat(a.x-b/2,",",a.y-b/2,"l",[0,-b,b,0,0,b,b,0,0,b,-b,0,0,b,-b,0,0,-b,-b,0,0,-b,"z"])},a))},arrow:function(c,a){var b=a.radius;return c.add(Ext.apply({type:"path",path:"M".concat(a.x-b*0.7,",",a.y-b*0.4,"l",[b*0.6,0,0,-b*0.4,b,b*0.8,-b,b*0.8,0,-b*0.4,-b*0.6,0],"z")},a))},drop:function(c,e,g,d,b,a){b=b||30;a=a||0;c.add({type:"path",path:["M",e,g,"l",b,0,"A",b*0.4,b*0.4,0,1,0,e+b*0.7,g-b*0.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-a,x:e,y:g}});a=(a+90)*Math.PI/180;c.add({type:"text",x:e+b*Math.sin(a)-10,y:g+b*Math.cos(a)+5,text:d,"font-size":b*12/40,stroke:"none",fill:"#fff"})}});Ext.define("Ext.chart.LegendItem",{extend:Ext.draw.CompositeSprite,hiddenSeries:false,label:undefined,x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(a){this.callParent(arguments);this.createLegend(a)},createLegend:function(a){var c=this,d=c.series,b=a.yFieldIndex;c.label=c.createLabel(a);c.createSeriesMarkers(a);c.setAttributes({hidden:false},true);c.yFieldIndex=b;c.on("mouseover",c.onMouseOver,c);c.on("mouseout",c.onMouseOut,c);c.on("mousedown",c.onMouseDown,c);if(!d.visibleInLegend(b)){c.hiddenSeries=true;c.label.setAttributes({opacity:0.5},true)}c.updatePosition({x:0,y:0})},getLabelText:function(){var c=this,d=c.series,b=c.yFieldIndex;function a(e){var g=d[e];return(Ext.isArray(g)?g[b]:g)}return a("title")||a("yField")},createLabel:function(a){var c=this,b=c.legend;return c.add("label",c.surface.add({type:"text",x:20,y:0,zIndex:(c.zIndex||0)+2,fill:b.labelColor,font:b.labelFont,text:c.getLabelText(),style:{cursor:"pointer"}}))},createSeriesMarkers:function(a){var d=this,b=a.yFieldIndex,e=d.series,h=e.type,j=d.surface,k=d.zIndex;if(h==="line"||h==="scatter"){if(h==="line"){var g=Ext.apply(e.seriesStyle,e.style);d.drawLine(0.5,0.5,16.5,0.5,k,g,b)}if(e.showMarkers||h==="scatter"){var c=Ext.apply(e.markerStyle,e.markerConfig||{},{fill:e.getLegendColor(b)});d.drawMarker(8.5,0.5,k,c)}}else{d.drawFilledBox(12,12,k,b)}},drawLine:function(a,b,j,k,l,g,c){var d=this,h=d.surface,e=d.series;return d.add("line",h.add({type:"path",path:"M"+a+","+b+"L"+j+","+k,zIndex:(l||0)+2,"stroke-width":e.lineWidth,"stroke-linejoin":"round","stroke-dasharray":e.dash,stroke:g.stroke||e.getLegendColor(c)||"#000",style:{cursor:"pointer"}}))},drawMarker:function(e,g,h,a){var b=this,d=b.surface,c=b.series;return b.add("marker",Ext.chart.Shape[a.type](d,{fill:a.fill,x:e,y:g,zIndex:(h||0)+2,radius:a.radius||a.size,style:{cursor:"pointer"}}))},drawFilledBox:function(g,a,h,b){var c=this,e=c.surface,d=c.series;return c.add("box",e.add({type:"rect",zIndex:(h||0)+2,x:0,y:0,width:g,height:a,fill:d.getLegendColor(b),style:{cursor:"pointer"}}))},onMouseOver:function(){var a=this;a.label.setStyle({"font-weight":"bold"});a.series._index=a.yFieldIndex;a.series.highlightItem()},onMouseOut:function(){var c=this,b=c.legend,a=c.boldRe;c.label.setStyle({"font-weight":b.labelFont&&a.test(b.labelFont)?"bold":"normal"});c.series._index=c.yFieldIndex;c.series.unHighlightItem()},onMouseDown:function(){var b=this,a=b.yFieldIndex;if(!b.hiddenSeries){b.series.hideAll(a);b.label.setAttributes({opacity:0.5},true)}else{b.series.showAll(a);b.label.setAttributes({opacity:1},true)}b.hiddenSeries=!b.hiddenSeries;b.legend.chart.redraw()},updatePosition:function(g){var e=this,c=e.items,d=c.length,a=0,b;if(!g){g=e.legend}for(;a<d;a++){b=c[a];switch(b.type){case"text":b.setAttributes({x:20+g.x+e.x,y:g.y+e.y},true);break;case"rect":b.setAttributes({translate:{x:g.x+e.x,y:g.y+e.y-6}},true);break;default:b.setAttributes({translate:{x:g.x+e.x,y:g.y+e.y}},true)}}}});Ext.define("Ext.chart.Legend",{visible:true,update:true,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.items=[];b.isVertical=("left|right|float".indexOf(b.position)!==-1);b.origX=b.x;b.origY=b.y},create:function(){var c=this,e=c.chart.series.items,a,b,d;c.createBox();if(c.rebuild!==false){c.createItems()}if(!c.created&&c.isDisplayed()){c.created=true;for(a=0,b=e.length;a<b;a++){d=e[a];d.on("titlechange",c.redraw,c)}}},redraw:function(){var a=this;a.create();a.updatePosition()},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",true)!==-1},createItems:function(){var k=this,m=k.chart.series.items,d=k.items,a,b,g,e,h,l,c;k.removeItems();for(b=0,g=m.length;b<g;b++){l=m[b];if(l.showInLegend){a=[].concat(l.yField);for(e=0,h=a.length;e<h;e++){c=k.createLegendItem(l,e);d.push(c)}}}k.alignItems()},removeItems:function(){var d=this,b=d.items,c=b?b.length:0,a;if(c){for(a=0;a<c;a++){b[a].destroy()}}b.length=[]},alignItems:function(){var d=this,g=d.padding,k=d.isVertical,e=Math.floor,a,c,b,j,h;a=d.updateItemDimensions();c=a.maxWidth;b=a.maxHeight;j=a.totalWidth;h=a.totalHeight;d.width=e((k?c:j)+g*2);d.height=e((k?h:b)+g*2)},updateItemDimensions:function(){var m=this,e=m.items,p=m.padding,g=m.itemSpacing,k=0,j=0,s=0,r=0,t=m.isVertical,n=Math.floor,o=Math.max,q=0,c,h,d,a,u,b;for(c=0,h=e.length;c<h;c++){d=e[c];a=d.getBBox();u=a.width;b=a.height;q=(c===0?0:g);d.x=p+n(t?0:s+q);d.y=p+n(t?r+q:0)+b/2;s+=q+u;r+=q+b;k=o(k,u);j=o(j,b)}return{totalWidth:s,totalHeight:r,maxWidth:k,maxHeight:j}},createLegendItem:function(b,c){var a=this;return new Ext.chart.LegendItem({legend:a,series:b,surface:a.chart.surface,yFieldIndex:c})},getBBox:function(){var a=this;return{x:Math.round(a.x)-a.boxStrokeWidth/2,y:Math.round(a.y)-a.boxStrokeWidth/2,width:a.width+a.boxStrokeWidth,height:a.height+a.boxStrokeWidth}},createBox:function(){var c=this,b,a;if(c.boxSprite){c.boxSprite.destroy()}a=c.getBBox();if(isNaN(a.width)||isNaN(a.height)){c.boxSprite=false;return}b=c.boxSprite=c.chart.surface.add(Ext.apply({type:"rect",stroke:c.boxStroke,"stroke-width":c.boxStrokeWidth,fill:c.boxFill,zIndex:c.boxZIndex},a));b.redraw()},calcPosition:function(){var l=this,o,p,k=l.width,j=l.height,a=l.chart,b=a.chartBBox,h=a.insetPadding,d=b.width-(h*2),c=b.height-(h*2),e=b.x+h,g=b.y+h,n=a.surface,m=Math.floor;switch(l.position){case"left":o=h;p=m(g+c/2-j/2);break;case"right":o=m(n.width-k)-h;p=m(g+c/2-j/2);break;case"top":o=m(e+d/2-k/2);p=h;break;case"bottom":o=m(e+d/2-k/2);p=m(n.height-j)-h;break;default:o=m(l.origX)+h;p=m(l.origY)+h}return{x:o,y:p}},updatePosition:function(){var e=this,c=e.items,g,b,d,a;if(e.isDisplayed()){g=e.calcPosition();e.x=g.x;e.y=g.y;for(b=0,d=c.length;b<d;b++){c[b].updatePosition()}a=e.getBBox();if(isNaN(a.width)||isNaN(a.height)){if(e.boxSprite){e.boxSprite.hide(true)}}else{if(!e.boxSprite){e.createBox()}e.boxSprite.setAttributes(a,true);e.boxSprite.show(true)}}},toggle:function(e){var d=this,a=0,b=d.items,c=b.length;if(d.boxSprite){if(e){d.boxSprite.show(true)}else{d.boxSprite.hide(true)}}for(;a<c;++a){if(e){b[a].show(true)}else{b[a].hide(true)}}d.visible=e}});Ext.define("Ext.chart.theme.Base",{constructor:function(a){var b=Ext.identityFn;Ext.chart.theme.call(this,a,{background:false,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:b},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){var h=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],g=["Green","Sky","Red","Purple","Blue","Yellow"],c=0,d=0,e=h.length,k=Ext.chart.theme,a=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],b=a.length;for(;c<e;c++){k[g[c]]=(function(j){return Ext.extend(k.Base,{constructor:function(l){k.Base.prototype.constructor.call(this,Ext.apply({baseColor:j},l))}})}(h[c]))}for(c=0;c<b;c++){k["Category"+(c+1)]=(function(j){return Ext.extend(k.Base,{constructor:function(l){k.Base.prototype.constructor.call(this,Ext.apply({colors:j},l))}})}(a[c]))}});Ext.define("Ext.chart.Chart",{extend:Ext.draw.Component,alias:"widget.chart",mixins:{themeManager:Ext.chart.theme.Theme,mask:Ext.chart.Mask,navigation:Ext.chart.Navigation,bindable:Ext.util.Bindable,observable:Ext.util.Observable},viewBox:false,animate:false,legend:false,insetPadding:10,background:false,constructor:function(a){var c=this,b;a=Ext.apply({},a);c.initTheme(a.theme||c.theme);if(c.gradients){Ext.apply(a,{gradients:c.gradients})}if(c.background){Ext.apply(a,{background:c.background})}if(a.animate){b={easing:"ease",duration:500};if(Ext.isObject(a.animate)){a.animate=Ext.applyIf(a.animate,b)}else{a.animate=b}}c.mixins.observable.constructor.call(c,a);if(a.enableMask){c.mixins.mask.constructor.call(c)}c.mixins.navigation.constructor.call(c);c.callParent([a])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var b=this,a,c;b.callParent();b.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");Ext.applyIf(b,{zoom:{width:1,height:1,x:0,y:0}});b.maxGutters={left:0,right:0,bottom:0,top:0};b.store=Ext.data.StoreManager.lookup(b.store);a=b.axes;b.axes=new Ext.util.MixedCollection(false,function(d){return d.position});if(a){b.axes.addAll(a)}c=b.series;b.series=new Ext.util.MixedCollection(false,function(d){return d.seriesId||(d.seriesId=Ext.id(null,"ext-chart-series-"))});if(c){b.series.addAll(c)}if(b.legend!==false){b.legend=new Ext.chart.Legend(Ext.applyIf({chart:b},b.legend))}b.on({mousemove:b.onMouseMove,mouseleave:b.onMouseLeave,mousedown:b.onMouseDown,mouseup:b.onMouseUp,click:b.onClick,dblclick:b.onDblClick,scope:b})},afterComponentLayout:function(e,a,d,c){var b=this;if(Ext.isNumber(e)&&Ext.isNumber(a)){if(e!==d||a!==c){b.curWidth=e;b.curHeight=a;b.redraw(true);b.needsRedraw=false}else{if(b.needsRedraw){b.redraw();b.needsRedraw=false}}}this.callParent(arguments)},redraw:function(j){var h=this,l=h.series.items,m=l.length,a=h.axes.items,b=a.length,n=0,d,e,c=h.chartBBox={x:0,y:0,height:h.curHeight,width:h.curWidth},g=h.legend,k;h.surface.setSize(c.width,c.height);for(d=0;d<m;d++){e=l[d];if(!e.initialized){k=h.initializeSeries(e,d,n)}else{k=e}k.onRedraw();if(Ext.isArray(e.yField)){n+=e.yField.length}else{++n}}for(d=0;d<b;d++){e=a[d];if(!e.initialized){h.initializeAxis(e)}}for(d=0;d<b;d++){a[d].processView()}for(d=0;d<b;d++){a[d].drawAxis(true)}if(g!==false&&g.visible){if(g.update||!g.created){g.create()}}h.alignAxes();if(g!==false&&g.visible){g.updatePosition()}h.getMaxGutters();h.resizing=!!j;for(d=0;d<b;d++){a[d].drawAxis()}for(d=0;d<m;d++){h.drawCharts(l[d])}h.resizing=false},afterRender:function(){var a=this;a.callParent(arguments);if(a.categoryNames){a.setCategoryNames(a.categoryNames)}a.bindStore(a.store,true);a.refresh();if(a.surface.engine==="Vml"){a.on("added",a.onAddedVml,a);a.mon(a.hierarchyEventSource,"added",a.onContainerAddedVml,a)}},onAddedVml:function(){this.needsRedraw=true},onContainerAddedVml:function(a){if(this.isDescendantOf(a)){this.needsRedraw=true}},getEventXY:function(b){var c=this,a=this.surface.getRegion(),d=b.getXY(),g=d[0]-a.left,h=d[1]-a.top;return[g,h]},onClick:function(a){this.handleClick("itemclick",a)},onDblClick:function(a){this.handleClick("itemdblclick",a)},handleClick:function(h,a){var g=this,j=g.getEventXY(a),l=g.series.items,b,d,k,c;for(b=0,d=l.length;b<d;b++){k=l[b];if(Ext.draw.Draw.withinBox(j[0],j[1],k.bbox)){if(k.getItemForPoint){c=k.getItemForPoint(j[0],j[1]);if(c){k.fireEvent(h,c)}}}}},onMouseDown:function(a){var g=this,h=g.getEventXY(a),k=g.series.items,b,d,j,c;if(g.enableMask){g.mixins.mask.onMouseDown.call(g,a)}for(b=0,d=k.length;b<d;b++){j=k[b];if(Ext.draw.Draw.withinBox(h[0],h[1],j.bbox)){if(j.getItemForPoint){c=j.getItemForPoint(h[0],h[1]);if(c){j.fireEvent("itemmousedown",c)}}}}},onMouseUp:function(a){var g=this,h=g.getEventXY(a),k=g.series.items,b,d,j,c;if(g.enableMask){g.mixins.mask.onMouseUp.call(g,a)}for(b=0,d=k.length;b<d;b++){j=k[b];if(Ext.draw.Draw.withinBox(h[0],h[1],j.bbox)){if(j.getItemForPoint){c=j.getItemForPoint(h[0],h[1]);if(c){j.fireEvent("itemmouseup",c)}}}}},onMouseMove:function(a){var h=this,j=h.getEventXY(a),l=h.series.items,b,g,k,c,d,n,m;if(h.enableMask){h.mixins.mask.onMouseMove.call(h,a)}for(b=0,g=l.length;b<g;b++){k=l[b];if(Ext.draw.Draw.withinBox(j[0],j[1],k.bbox)){if(k.getItemForPoint){c=k.getItemForPoint(j[0],j[1]);d=k._lastItemForPoint;n=k._lastStoreItem;m=k._lastStoreField;if(c!==d||c&&(c.storeItem!=n||c.storeField!=m)){if(d){k.fireEvent("itemmouseout",d);delete k._lastItemForPoint;delete k._lastStoreField;delete k._lastStoreItem}if(c){k.fireEvent("itemmouseover",c);k._lastItemForPoint=c;k._lastStoreItem=c.storeItem;k._lastStoreField=c.storeField}}}}else{d=k._lastItemForPoint;if(d){k.fireEvent("itemmouseout",d);delete k._lastItemForPoint;delete k._lastStoreField;delete k._lastStoreItem}}}},onMouseLeave:function(a){var d=this,h=d.series.items,b,c,g;if(d.enableMask){d.mixins.mask.onMouseLeave.call(d,a)}for(b=0,c=h.length;b<c;b++){g=h[b];delete g._lastItemForPoint}},delayRefresh:function(){var a=this;if(!a.refreshTask){a.refreshTask=new Ext.util.DelayedTask(a.refresh,a)}a.refreshTask.delay(a.refreshBuffer)},refresh:function(){var a=this;if(a.rendered&&a.curWidth!==undefined&&a.curHeight!==undefined){if(!a.isVisible(true)){if(!a.refreshPending){a.setShowListeners("mon");a.refreshPending=true}return}if(a.fireEvent("beforerefresh",a)!==false){a.redraw();a.fireEvent("refresh",a)}}},onShow:function(){var a=this;a.callParent(arguments);if(a.refreshPending){a.delayRefresh();a.setShowListeners("mun")}delete a.refreshPending},setShowListeners:function(b){var a=this;a[b](a.hierarchyEventSource,{scope:a,single:true,show:a.forceRefresh,expand:a.forceRefresh})},doRefresh:function(){this.setSubStore(null);this.refresh()},forceRefresh:function(a){var b=this;if(b.isDescendantOf(a)&&b.refreshPending){b.setShowListeners("mun");b.delayRefresh()}delete b.refreshPending},bindStore:function(c,a){var b=this;b.mixins.bindable.bindStore.apply(b,arguments);if(b.store&&!a){b.refresh()}},getStoreListeners:function(){var b=this.doRefresh,a=this.delayRefresh;return{refresh:b,add:a,bulkremove:a,update:a,clear:b}},setSubStore:function(a){this.substore=a},initializeAxis:function(a){var e=this,b=e.chartBBox,j=b.width,d=b.height,k=b.x,l=b.y,g=e.themeAttrs,c={chart:e};if(g){c.axisStyle=Ext.apply({},g.axis);c.axisLabelLeftStyle=Ext.apply({},g.axisLabelLeft);c.axisLabelRightStyle=Ext.apply({},g.axisLabelRight);c.axisLabelTopStyle=Ext.apply({},g.axisLabelTop);c.axisLabelBottomStyle=Ext.apply({},g.axisLabelBottom);c.axisTitleLeftStyle=Ext.apply({},g.axisTitleLeft);c.axisTitleRightStyle=Ext.apply({},g.axisTitleRight);c.axisTitleTopStyle=Ext.apply({},g.axisTitleTop);c.axisTitleBottomStyle=Ext.apply({},g.axisTitleBottom)}switch(a.position){case"top":Ext.apply(c,{length:j,width:d,x:k,y:l});break;case"bottom":Ext.apply(c,{length:j,width:d,x:k,y:d});break;case"left":Ext.apply(c,{length:d,width:j,x:k,y:d});break;case"right":Ext.apply(c,{length:d,width:j,x:j,y:d});break}if(!a.chart){Ext.apply(c,a);a=e.axes.replace(Ext.createByAlias("axis."+a.type.toLowerCase(),c))}else{Ext.apply(a,c)}a.initialized=true},getInsets:function(){var b=this,a=b.insetPadding;return{top:a,right:a,bottom:a,left:a}},calculateInsets:function(){var o=this,n=o.legend,a=o.axes,e=["top","right","bottom","left"],j,h,m,d,k,b,c;function g(l){var p=a.findIndex("position",l);return(p<0)?null:a.getAt(p)}j=o.getInsets();for(h=0,m=e.length;h<m;h++){d=e[h];k=(d==="left"||d==="right");b=g(d);if(n!==false){if(n.position===d){c=n.getBBox();j[d]+=(k?c.width:c.height)+o.insetPadding}}if(b&&b.bbox){c=b.bbox;j[d]+=(k?c.width:c.height)}}return j},alignAxes:function(){var j=this,a=j.axes.items,e,c,d,h,b,k,g;e=j.calculateInsets();c={x:e.left,y:e.top,width:j.curWidth-e.left-e.right,height:j.curHeight-e.top-e.bottom};j.chartBBox=c;for(d=0,h=a.length;d<h;d++){b=a[d];k=b.position;g=k==="left"||k==="right";b.x=(k==="right"?c.x+c.width:c.x);b.y=(k==="top"?c.y:c.y+c.height);b.width=(g?c.width:c.height);b.length=(g?c.height:c.width)}},initializeSeries:function(k,c,q){var j=this,p=j.themeAttrs,m,g,n,o,h,a=[],d=(k instanceof Ext.chart.series.Series).i=0,e,b;if(!k.initialized){b={chart:j,seriesId:k.seriesId};if(p){n=p.seriesThemes;h=p.markerThemes;m=Ext.apply({},p.series);g=Ext.apply({},p.marker);b.seriesStyle=Ext.apply(m,n[q%n.length]);b.seriesLabelStyle=Ext.apply({},p.seriesLabel);b.markerStyle=Ext.apply(g,h[q%h.length]);if(p.colors){b.colorArrayStyle=p.colors}else{a=[];for(e=n.length;i<e;i++){o=n[i];if(o.fill||o.stroke){a.push(o.fill||o.stroke)}}if(a.length){b.colorArrayStyle=a}}b.seriesIdx=c;b.themeIdx=q}if(d){Ext.applyIf(k,b)}else{Ext.applyIf(b,k);k=j.series.replace(Ext.createByAlias("series."+k.type.toLowerCase(),b))}}if(k.initialize){k.initialize()}k.initialized=true;return k},getMaxGutters:function(){var g=this,j=g.series.items,b,c,h,a,d=0,k=0,e=0,l=0;for(b=0,c=j.length;b<c;b++){a=j[b].getGutters();if(a){if(a.verticalAxis){e=Math.max(e,a.lower);l=Math.max(l,a.upper)}else{d=Math.max(d,a.lower);k=Math.max(k,a.upper)}}}g.maxGutters={left:d,right:k,bottom:e,top:l}},drawAxis:function(a){a.drawAxis()},drawCharts:function(a){a.triggerafterrender=false;a.drawSeries();if(!this.animate){a.fireEvent("afterrender")}},save:function(a){return Ext.draw.Surface.save(this.surface,a)},destroy:function(){Ext.destroy(this.surface);this.bindStore(null);this.callParent(arguments)}});Ext.define("Ext.chart.Highlight",{highlight:false,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(a){if(a.highlight&&(typeof a.highlight!=="boolean")){this.highlightCfg=Ext.merge({},this.highlightCfg,a.highlight)}},highlightItem:function(c){if(!c){return}var d=this,j=c.sprite,e=Ext.merge({},d.highlightCfg,d.highlight),k=d.chart.surface,a=d.chart.animate,g,b,l,h;if(!d.highlight||!j||j._highlighted){return}if(j._anim){j._anim.paused=true}j._highlighted=true;if(!j._defaults){j._defaults=Ext.apply({},j.attr);b={};l={};for(g in e){if(!(g in j._defaults)){j._defaults[g]=k.availableAttrs[g]}b[g]=j._defaults[g];l[g]=e[g];if(Ext.isObject(e[g])){b[g]={};l[g]={};Ext.apply(j._defaults[g],j.attr[g]);Ext.apply(b[g],j._defaults[g]);for(h in j._defaults[g]){if(!(h in e[g])){l[g][h]=b[g][h]}else{l[g][h]=e[g][h]}}for(h in e[g]){if(!(h in l[g])){l[g][h]=e[g][h]}}}}j._from=b;j._to=l;j._endStyle=l}if(a){j._anim=new Ext.fx.Anim({target:j,from:j._from,to:j._to,duration:150})}else{j.setAttributes(j._to,true)}},unHighlightItem:function(){if(!this.highlight||!this.items){return}var e=this,c=e.items,d=c.length,h=Ext.merge({},e.highlightCfg,e.highlight),a=e.chart.animate,b=0,g,j,k;for(;b<d;b++){if(!c[b]){continue}k=c[b].sprite;if(k&&k._highlighted){if(k._anim){k._anim.paused=true}g={};for(j in h){if(Ext.isObject(k._defaults[j])){g[j]=Ext.apply({},k._defaults[j])}else{g[j]=k._defaults[j]}}if(a){k._endStyle=g;k._anim=new Ext.fx.Anim({target:k,to:g,duration:150})}else{k.setAttributes(g,true)}delete k._highlighted}}},cleanHighlights:function(){if(!this.highlight){return}var a=this.group,d=this.markerGroup,b=0,c;for(c=a.getCount();b<c;b++){delete a.getAt(b)._defaults}if(d){for(c=d.getCount();b<c;b++){delete d.getAt(b)._defaults}}}});Ext.define("Ext.chart.Label",{colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(a){var b=this;b.label=Ext.applyIf(b.label||{},{display:"none",stackedDisplay:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:Ext.identityFn});if(b.label.display!=="none"){b.labelsGroup=b.chart.surface.getGroup(b.seriesId+"-labels")}},renderLabels:function(){var J=this,c=J.chart,t=c.gradients,D=J.items,a=c.animate,n=J.label,p=n.display,O=n.stackedDisplay,r=n.renderer,d=n.color,q=[].concat(n.field),v=J.labelsGroup,x=(v||0)&&v.length,P=J.chart.getChartStore(),I=P.getCount(),C=(D||0)&&D.length,K=C/I,u=(t||0)&&t.length,e=Ext.draw.Color,y=[],s,z,o,w,A,E,F,l,h,g,B,G,Q,L,N,M,H,m,S,U,T,R,b;if(p=="none"||!v){return}if(C==0){while(x--){y.push(x)}}else{for(z=0,o=0,w=0;z<I;z++){A=0;for(E=0;E<K;E++){B=D[o];G=v.getAt(w);Q=P.getAt(z);while(this.__excludes&&this.__excludes[A]){A++}if(!B&&G){G.hide(true);w++}if(B&&q[E]){if(!G){G=J.onCreateLabel(Q,B,z,p);if(!G){break}}G.setAttributes({fill:String(d)},true);J.onPlaceLabel(G,Q,B,z,p,a,A);w++;if(n.contrast&&B.sprite){L=B.sprite;if(a&&L._endStyle){m=L._endStyle.fill}else{if(a&&L._to){m=L._to.fill}else{m=L.attr.fill}}m=m||L.attr.fill;N=e.fromString(m);if(m&&!N){m=m.match(J.colorStringRe)[1];for(F=0;F<u;F++){s=t[F];if(s.id==m){g=0;l=0;for(h in s.stops){g++;l+=e.fromString(s.stops[h].color).getGrayscale()}M=(l/g)/255;break}}}else{M=N.getGrayscale()/255}if(G.isOutside){M=1}H=e.fromString(G.attr.fill||G.attr.color).getHSL();H[2]=M>0.5?0.2:0.8;G.setAttributes({fill:String(e.fromHSL.apply({},H))},true)}if(J.stacked&&O&&(B.totalPositiveValues||B.totalNegativeValues)){U=(B.totalPositiveValues||0);T=(B.totalNegativeValues||0);S=U+T;if(O=="total"){R=r(S)}else{if(O=="balances"){if(U==0&&T==0){R=r(0)}else{R=r(U);b=r(T)}}}if(R){G=v.getAt(w);if(!G){G=J.onCreateLabel(Q,B,z,"over")}H=e.fromString(G.attr.color||G.attr.fill).getHSL();G.setAttributes({text:R,style:n.font,fill:String(e.fromHSL.apply({},H))},true);J.onPlaceLabel(G,Q,B,z,"over",a,A);w++}if(b){G=v.getAt(w);if(!G){G=J.onCreateLabel(Q,B,z,"under")}H=e.fromString(G.attr.color||G.attr.fill).getHSL();G.setAttributes({text:b,style:n.font,fill:String(e.fromHSL.apply({},H))},true);J.onPlaceLabel(G,Q,B,z,"under",a,A);w++}}}o++;A++}}x=v.length;while(x>w){y.push(w);w++}}J.hideLabels(y)},hideLabels:function(a){var c=this.labelsGroup,b=!!a&&a.length;if(!c){return}if(b===false){b=c.getCount();while(b--){c.getAt(b).hide(true)}}else{while(b--){c.getAt(a[b]).hide(true)}}}});Ext.define("Ext.chart.TipSurface",{extend:Ext.draw.Component,spriteArray:false,renderFirst:true,constructor:function(a){this.callParent([a]);if(a.sprites){this.spriteArray=[].concat(a.sprites);delete a.sprites}},onRender:function(){var c=this,a=0,b=0,d,e;this.callParent(arguments);e=c.spriteArray;if(c.renderFirst&&e){c.renderFirst=false;for(b=e.length;a<b;a++){d=c.surface.add(e[a]);d.setAttributes({hidden:false},true)}}}});Ext.define("Ext.chart.Tip",{constructor:function(a){var b=this,d,c,e;if(a.tips){b.tipTimeout=null;b.tipConfig=Ext.apply({},a.tips,{renderer:Ext.emptyFn,constrainPosition:true,autoHide:true});b.tooltip=new Ext.tip.ToolTip(b.tipConfig);b.chart.surface.on("mousemove",b.tooltip.onMouseMove,b.tooltip);b.chart.surface.on("mouseleave",function(){b.hideTip()});if(b.tipConfig.surface){d=b.tipConfig.surface;c=d.sprites;e=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:c});if(d.width&&d.height){e.setSize(d.width,d.height)}b.tooltip.add(e);b.spriteTip=e}}},showTip:function(a){var b=this,k,e,j,l,d,g,h,c,m,n;if(!b.tooltip){return}clearTimeout(b.tipTimeout);k=b.tooltip;e=b.spriteTip;j=b.tipConfig;l=k.trackMouse;if(!l){k.trackMouse=true;d=a.sprite;g=d.surface;h=Ext.get(g.getId());if(h){c=h.getXY();m=c[0]+(d.attr.x||0)+(d.attr.translation&&d.attr.translation.x||0);n=c[1]+(d.attr.y||0)+(d.attr.translation&&d.attr.translation.y||0);k.targetXY=[m,n]}}if(e){j.renderer.call(k,a.storeItem,a,e.surface)}else{j.renderer.call(k,a.storeItem,a)}k.show();k.trackMouse=l},hideTip:function(a){var b=this.tooltip;if(!b){return}clearTimeout(this.tipTimeout);this.tipTimeout=setTimeout(function(){b.hide()},0)}});Ext.define("Ext.chart.axis.Abstract",{constructor:function(a){a=a||{};var b=this,c=a.position||"left";c=c.charAt(0).toUpperCase()+c.substring(1);a.label=Ext.apply(a["axisLabel"+c+"Style"]||{},a.label||{});a.axisTitleStyle=Ext.apply(a["axisTitle"+c+"Style"]||{},a.labelTitle||{});Ext.apply(b,a);b.fields=Ext.Array.from(b.fields);this.callParent();b.labels=[];b.getId();b.labelGroup=b.chart.surface.getGroup(b.axisId+"-labels")},alignment:null,grid:false,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn});Ext.define("Ext.chart.axis.Axis",{extend:Ext.chart.axis.Abstract,alternateClassName:"Ext.chart.Axis",hidden:false,forceMinMax:false,dashSize:3,position:"bottom",skipFirst:false,length:0,width:0,adjustEnd:true,majorTickSteps:false,nullGutters:{lower:0,upper:0,verticalAxis:undefined},applyData:Ext.emptyFn,getRange:function(){var w=this,e=w.chart,C=e.getChartStore(),h=C.data.items,A=e.series.items,y=w.position,d,B=Ext.chart.series,b=[],x=Infinity,v=-Infinity,E=w.position==="left"||w.position==="right"||w.position==="radial",q,t,u,r,s,l=h.length,a,g={},c={},m=true,p,o,z,n,D;p=w.fields;for(r=0,t=p.length;r<t;r++){c[p[r]]=true}for(q=0,t=A.length;q<t;q++){if(A[q].seriesIsHidden){continue}if(!A[q].getAxesForXAndYFields){continue}d=A[q].getAxesForXAndYFields();if(d.xAxis&&d.xAxis!==y&&d.yAxis&&d.yAxis!==y){continue}if(B.Bar&&A[q] instanceof B.Bar&&!A[q].column){p=E?Ext.Array.from(A[q].xField):Ext.Array.from(A[q].yField)}else{p=E?Ext.Array.from(A[q].yField):Ext.Array.from(A[q].xField)}if(w.fields.length){for(r=0,u=p.length;r<u;r++){if(c[p[r]]){break}}if(r==u){continue}}if(a=A[q].stacked){if(B.Bar&&A[q] instanceof B.Bar){if(A[q].column!=E){a=false;m=false}}else{if(!E){a=false;m=false}}}if(a){o={};for(r=0;r<p.length;r++){if(m&&A[q].__excludes&&A[q].__excludes[r]){continue}if(!c[p[r]]){Ext.Logger.warn("Field `"+p[r]+"` is not included in the "+y+" axis config.")}c[p[r]]=o[p[r]]=true}b.push({fields:o,positiveValue:0,negativeValue:0})}else{if(!p||p.length==0){p=w.fields}for(r=0;r<p.length;r++){if(m&&A[q].__excludes&&A[q].__excludes[r]){continue}c[p[r]]=g[p[r]]=true}}}for(q=0;q<l;q++){z=h[q];for(s=0;s<b.length;s++){b[s].positiveValue=0;b[s].negativeValue=0}for(n in c){D=z.get(n);if(w.type=="Time"&&typeof D=="string"){D=Date.parse(D)}if(isNaN(D)){continue}if(D===undefined){D=0}else{D=Number(D)}if(g[n]){if(x>D){x=D}if(v<D){v=D}}for(s=0;s<b.length;s++){if(b[s].fields[n]){if(D>=0){b[s].positiveValue+=D;if(v<b[s].positiveValue){v=b[s].positiveValue}if(x>0){x=0}}else{b[s].negativeValue+=D;if(x>b[s].negativeValue){x=b[s].negativeValue}if(v<0){v=0}}}}}}if(!isFinite(v)){v=w.prevMax||0}if(!isFinite(x)){x=w.prevMin||0}if(typeof x==="number"){x=Ext.Number.correctFloat(x)}if(typeof v==="number"){v=Ext.Number.correctFloat(v)}if(x!=v&&(v!=Math.floor(v)||x!=Math.floor(x))){x=Math.floor(x);v=Math.floor(v)+1}if(!isNaN(w.minimum)){x=w.minimum}if(!isNaN(w.maximum)){v=w.maximum}if(x>=v){x=Math.floor(x);v=x+1}return{min:x,max:v}},calcEnds:function(){var c=this,h=c.getRange(),d=h.min,b=h.max,j,g,e,a;j=(Ext.isNumber(c.majorTickSteps)?c.majorTickSteps+1:c.steps);g=!(Ext.isNumber(c.maximum)&&Ext.isNumber(c.minimum)&&Ext.isNumber(c.majorTickSteps)&&c.majorTickSteps>0);e=Ext.draw.Draw.snapEnds(d,b,j,g);if(Ext.isNumber(c.maximum)){e.to=c.maximum;a=true}if(Ext.isNumber(c.minimum)){e.from=c.minimum;a=true}if(c.adjustMaximumByMajorUnit){e.to=Math.ceil(e.to/e.step)*e.step;a=true}if(c.adjustMinimumByMajorUnit){e.from=Math.floor(e.from/e.step)*e.step;a=true}if(a){e.steps=Math.ceil((e.to-e.from)/e.step)}c.prevMin=(d==b?0:d);c.prevMax=b;return e},drawAxis:function(u){var z=this,s,S=z.x,T=z.y,m=z.dashSize,v=z.length,C=z.position,R=(C=="left"||C=="right"),t=[],d=(z.isNumericAxis),F=z.applyData(),E=F.step,H=F.steps,I=Ext.isArray(H),q=F.from,O=F.to,b=(O-q)||1,P,e,g,B,K=z.minorTickSteps||0,L=z.minorTickSteps||0,j=Math.max(K+1,0),k=Math.max(L+1,0),h=(C=="left"||C=="top"?-1:1),l=m*h,D=z.chart.series.items,p=D[0],r=p?p.nullGutters:z.nullGutters,A,J,M,n=0,G=0,N,a,w,Q,c,o;z.from=q;z.to=O;if(z.hidden||(q>O)){return}if((I&&(H.length==0))||(!I&&isNaN(E))){return}if(I){H=Ext.Array.filter(H,function(y,U,x){return(+y>+z.from&&+y<+z.to)},this);H=Ext.Array.union([z.from],H,[z.to])}else{H=new Array;for(Q=+z.from;Q<+z.to;Q+=E){H.push(Q)}H.push(+z.to)}G=H.length;for(s=0,w=D.length;s<w;s++){if(D[s].seriesIsHidden){continue}if(!D[s].getAxesForXAndYFields){continue}a=D[s].getAxesForXAndYFields();if(!a.xAxis||!a.yAxis||(a.xAxis===C)||(a.yAxis===C)){r=D[s].getGutters();if((r.verticalAxis!==undefined)&&(r.verticalAxis!=R)){A=D[s].getPadding();if(R){r={lower:A.bottom,upper:A.top,verticalAxis:true}}else{r={lower:A.left,upper:A.right,verticalAxis:false}}}break}}if(d){z.labels=[]}if(r){if(R){e=Math.floor(S);B=["M",e+0.5,T,"l",0,-v];P=v-(r.lower+r.upper);for(N=0;N<G;N++){g=T-r.lower-(H[N]-H[0])*P/b;B.push("M",e,Math.floor(g)+0.5,"l",l*2,0);t.push([e,Math.floor(g)]);if(d){z.labels.push(H[N])}}}else{g=Math.floor(T);B=["M",S,g+0.5,"l",v,0];P=v-(r.lower+r.upper);for(N=0;N<G;N++){e=S+r.lower+(H[N]-H[0])*P/b;B.push("M",Math.floor(e)+0.5,g,"l",0,l*2+1);t.push([Math.floor(e),g]);if(d){z.labels.push(H[N])}}}}J=(R?L:K);if(Ext.isArray(J)){if(J.length==2){M=+Ext.Date.add(new Date(),J[0],J[1])-Date.now()}else{M=J[0]}}else{if(Ext.isNumber(J)&&J>0){M=E/(J+1)}}if(r&&M){for(N=0;N<G-1;N++){c=+H[N];o=+H[N+1];if(R){for(value=c+M;value<o;value+=M){g=T-r.lower-(value-H[0])*P/b;B.push("M",e,Math.floor(g)+0.5,"l",l,0)}}else{for(value=c+M;value<o;value+=M){e=S+r.upper+(value-H[0])*P/b;B.push("M",Math.floor(e)+0.5,g,"l",0,l+1)}}}}if(!z.axis){z.axis=z.chart.surface.add(Ext.apply({type:"path",path:B},z.axisStyle))}z.axis.setAttributes({path:B},true);z.inflections=t;if(!u&&z.grid){z.drawGrid()}z.axisBBox=z.axis.getBBox();z.drawLabel()},drawGrid:function(){var l=this,t=l.chart.surface,d=l.grid,m=d.odd,b=d.even,g=l.inflections,j=g.length-((m||b)?0:1),q=l.position,k=l.chart.maxGutters,u=l.width-2,p,r,e=1,o=[],s,h,a,n=[],c=[];if(((k.bottom!==0||k.top!==0)&&(q=="left"||q=="right"))||((k.left!==0||k.right!==0)&&(q=="top"||q=="bottom"))){e=0;j++}for(;e<j;e++){p=g[e];r=g[e-1];if(m||b){o=(e%2)?n:c;s=((e%2)?m:b)||{};h=(s.lineWidth||s["stroke-width"]||0)/2;a=2*h;if(q=="left"){o.push("M",r[0]+1+h,r[1]+0.5-h,"L",r[0]+1+u-h,r[1]+0.5-h,"L",p[0]+1+u-h,p[1]+0.5+h,"L",p[0]+1+h,p[1]+0.5+h,"Z")}else{if(q=="right"){o.push("M",r[0]-h,r[1]+0.5-h,"L",r[0]-u+h,r[1]+0.5-h,"L",p[0]-u+h,p[1]+0.5+h,"L",p[0]-h,p[1]+0.5+h,"Z")}else{if(q=="top"){o.push("M",r[0]+0.5+h,r[1]+1+h,"L",r[0]+0.5+h,r[1]+1+u-h,"L",p[0]+0.5-h,p[1]+1+u-h,"L",p[0]+0.5-h,p[1]+1+h,"Z")}else{o.push("M",r[0]+0.5+h,r[1]-h,"L",r[0]+0.5+h,r[1]-u+h,"L",p[0]+0.5-h,p[1]-u+h,"L",p[0]+0.5-h,p[1]-h,"Z")}}}}else{if(q=="left"){o=o.concat(["M",p[0]+0.5,p[1]+0.5,"l",u,0])}else{if(q=="right"){o=o.concat(["M",p[0]-0.5,p[1]+0.5,"l",-u,0])}else{if(q=="top"){o=o.concat(["M",p[0]+0.5,p[1]+0.5,"l",0,u])}else{o=o.concat(["M",p[0]+0.5,p[1]-0.5,"l",0,-u])}}}}}if(m||b){if(n.length){if(!l.gridOdd&&n.length){l.gridOdd=t.add({type:"path",path:n})}l.gridOdd.setAttributes(Ext.apply({path:n,hidden:false},m||{}),true)}if(c.length){if(!l.gridEven){l.gridEven=t.add({type:"path",path:c})}l.gridEven.setAttributes(Ext.apply({path:c,hidden:false},b||{}),true)}}else{if(o.length){if(!l.gridLines){l.gridLines=l.chart.surface.add({type:"path",path:o,"stroke-width":l.lineWidth||1,stroke:l.gridColor||"#ccc"})}l.gridLines.setAttributes({hidden:false,path:o},true)}else{if(l.gridLines){l.gridLines.hide(true)}}}},getOrCreateLabel:function(a,e){var c=this,b=c.labelGroup,g=b.getAt(a),d=c.chart.surface;if(g){if(e!=g.attr.text){g.setAttributes(Ext.apply({text:e},c.label),true);g._bbox=g.getBBox()}}else{g=d.add(Ext.apply({group:b,type:"text",x:0,y:0,text:e},c.label));d.renderItem(g);g._bbox=g.getBBox()}if(c.label.rotation){g.setAttributes({rotation:{degrees:0}},true);g._ubbox=g.getBBox();g.setAttributes(c.label,true)}else{g._ubbox=g._bbox}return g},rect2pointArray:function(m){var n=this.chart.surface,l=n.getBBox(m,true),b=[l.x,l.y],c=b.slice(),d=[l.x+l.width,l.y],e=d.slice(),g=[l.x+l.width,l.y+l.height],h=g.slice(),j=[l.x,l.y+l.height],k=j.slice(),a=m.matrix;b[0]=a.x.apply(a,c);b[1]=a.y.apply(a,c);d[0]=a.x.apply(a,e);d[1]=a.y.apply(a,e);g[0]=a.x.apply(a,h);g[1]=a.y.apply(a,h);j[0]=a.x.apply(a,k);j[1]=a.y.apply(a,k);return[b,d,g,j]},intersect:function(a,b){var c=this.rect2pointArray(a),d=this.rect2pointArray(b);return !!Ext.draw.Draw.intersect(c,d).length},drawHorizontalLabels:function(){var t=this,n=t.label,e=Math.floor,r=Math.max,b=t.chart.axes,m=t.chart.insetPadding,g=t.chart.maxGutters,v=t.position,l=t.inflections,q=l.length,o=t.labels,s=0,A,c,u,w,z,a=t.adjustEnd,h=b.findIndex("position","left")!=-1,j=b.findIndex("position","right")!=-1,C,B,p,D,E,k,d;p=q-1;u=l[0];d=t.getOrCreateLabel(0,t.label.renderer(o[0]));A=Math.floor(Math.abs(Math.sin(n.rotate&&(n.rotate.degrees*Math.PI/180)||0)));for(k=0;k<q;k++){u=l[k];B=t.label.renderer(o[k]);C=t.getOrCreateLabel(k,B);c=C._bbox;s=r(s,c.height+t.dashSize+t.label.padding);D=e(u[0]-(A?c.height:c.width)/2);if(a&&g.left==0&&g.right==0){if(k==0&&!h){D=u[0]}else{if(k==p&&!j){D=Math.min(D,u[0]-c.width+m)}}}if(v=="top"){E=u[1]-(t.dashSize*2)-t.label.padding-(c.height/2)}else{E=u[1]+(t.dashSize*2)+t.label.padding+(c.height/2)}C.setAttributes({hidden:false,x:D,y:E},true);if(k!=0&&(t.intersect(C,w)||t.intersect(C,d))){if(k===p&&z!==0){w.hide(true)}else{C.hide(true);continue}}w=C;z=k}return s},drawVerticalLabels:function(){var t=this,m=t.inflections,v=t.position,q=m.length,e=t.chart,n=e.insetPadding,o=t.labels,s=0,r=Math.max,g=Math.floor,d=Math.ceil,b=t.chart.axes,h=t.chart.maxGutters,c,u,w,z,k=b.findIndex("position","top")!=-1,j=b.findIndex("position","bottom")!=-1,a=t.adjustEnd,B,A,p=q-1,C,D,l;for(l=0;l<q;l++){u=m[l];A=t.label.renderer(o[l]);B=t.getOrCreateLabel(l,A);c=B._bbox;s=r(s,c.width+t.dashSize+t.label.padding);D=u[1];if(a&&(h.bottom+h.top)<c.height/2){if(l==p&&!k){D=Math.max(D,t.y-t.length+d(c.height/2)-n)}else{if(l==0&&!j){D=t.y+h.bottom-g(c.height/2)}}}if(v=="left"){C=u[0]-c.width-t.dashSize-t.label.padding-2}else{C=u[0]+t.dashSize+t.label.padding+2}B.setAttributes(Ext.apply({hidden:false,x:C,y:D},t.label),true);if(l!=0&&t.intersect(B,w)){if(l===p&&z!==0){w.hide(true)}else{B.hide(true);continue}}w=B;z=l}return s},drawLabel:function(){var h=this,j=h.position,c=h.labelGroup,b=h.inflections,g=0,e=0,d,a;if(j=="left"||j=="right"){g=h.drawVerticalLabels()}else{e=h.drawHorizontalLabels()}d=c.getCount();a=b.length;for(;a<d;a++){c.getAt(a).hide(true)}h.bbox={};Ext.apply(h.bbox,h.axisBBox);h.bbox.height=e;h.bbox.width=g;if(Ext.isString(h.title)){h.drawTitle(g,e)}},setTitle:function(a){this.title=a;this.drawLabel()},drawTitle:function(e,d){var g=this,j=g.position,l=g.chart.surface,c=g.displaySprite,m=g.title,k=(j=="left"||j=="right"),n=g.x,o=g.y,a,b,h;if(c){c.setAttributes({text:m},true)}else{a={type:"text",x:0,y:0,text:m};c=g.displaySprite=l.add(Ext.apply(a,g.axisTitleStyle,g.labelTitle));l.renderItem(c)}b=c.getBBox();h=g.dashSize+g.label.padding;if(k){o-=((g.length/2)-(b.height/2));if(j=="left"){n-=(e+h+(b.width/2))}else{n+=(e+h+b.width-(b.width/2))}g.bbox.width+=b.width+10}else{n+=(g.length/2)-(b.width*0.5);if(j=="top"){o-=(d+h+(b.height*0.3))}else{o+=(d+h+(b.height*0.8))}g.bbox.height+=b.height+10}c.setAttributes({translate:{x:n,y:o}},true)}});Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:false,doConstrain:function(){var e=this,a=e.chart,j=a.getChartStore(),d=j.data.items,g=a.series.items,h=g.length,b=[],c;for(c=0;c<h;c++){if(g[c].type==="bar"&&g[c].stacked){return}}for(c=e.minimum;c<e.maximum;c++){b.push(d[c])}a.setSubStore(new Ext.data.Store({model:j.model,data:b}))},setLabels:function(){var m=this.chart.getChartStore(),b=m.data.items,a,c,l,e=this.fields,j=e.length,h,k,g;h=this.labels=[];for(a=0,c=b.length;a<c;a++){l=b[a];for(g=0;g<j;g++){k=l.get(e[g]);h.push(k)}}},applyData:function(){this.callParent();this.setLabels();var a=this.chart.getChartStore().getCount();return{from:0,to:a-1,power:1,step:1,steps:a-1}}});Ext.define("Ext.chart.axis.Gauge",{extend:Ext.chart.axis.Abstract,position:"gauge",alias:"axis.gauge",drawAxis:function(h){var d=this.chart,q=d.surface,a=d.chartBBox,b=a.x+(a.width/2),c=a.y+a.height,j=this.margin||10,l=Math.min(a.width,2*a.height)/2+j,o=[],n,p=this.steps,g,k=Math.PI,e=Math.cos,m=Math.sin;if(this.sprites&&!d.resizing){this.drawLabel();return}if(this.margin>=0){if(!this.sprites){for(g=0;g<=p;g++){n=q.add({type:"path",path:["M",b+(l-j)*e(g/p*k-k),c+(l-j)*m(g/p*k-k),"L",b+l*e(g/p*k-k),c+l*m(g/p*k-k),"Z"],stroke:"#ccc"});n.setAttributes({hidden:false},true);o.push(n)}}else{o=this.sprites;for(g=0;g<=p;g++){o[g].setAttributes({path:["M",b+(l-j)*e(g/p*k-k),c+(l-j)*m(g/p*k-k),"L",b+l*e(g/p*k-k),c+l*m(g/p*k-k),"Z"],stroke:"#ccc"},true)}}}this.sprites=o;this.drawLabel();if(this.title){this.drawTitle()}},drawTitle:function(){var e=this,b=e.chart,g=b.surface,a=b.chartBBox,d=e.titleSprite,c;if(!d){e.titleSprite=d=g.add(Ext.apply({type:"text",zIndex:2},e.axisTitleStyle,e.labelTitle))}d.setAttributes(Ext.apply({text:e.title},e.label||{}),true);c=d.getBBox();d.setAttributes({x:a.x+(a.width/2)-(c.width/2),y:a.y+a.height-(c.height/2)-4},true)},setTitle:function(a){this.title=a;this.drawTitle()},drawLabel:function(){var e=this.chart,v=e.surface,b=e.chartBBox,c=b.x+(b.width/2),d=b.y+b.height,m=this.margin||10,r=Math.min(b.width,2*b.height)/2+2*m,s=Math.round,k=[],j,n=this.maximum||0,o=this.minimum||0,u=this.steps,h=0,a,p=Math.PI,g=Math.cos,t=Math.sin,l=this.label,q=l.renderer||Ext.identityFn;if(!this.labelArray){for(h=0;h<=u;h++){a=(h===0||h===u)?7:0;j=v.add({type:"text",text:q(s(o+h/u*(n-o))),x:c+r*g(h/u*p-p),y:d+r*t(h/u*p-p)-a,"text-anchor":"middle","stroke-width":0.2,zIndex:10,stroke:"#333"});j.setAttributes({hidden:false},true);k.push(j)}}else{k=this.labelArray;for(h=0;h<=u;h++){a=(h===0||h===u)?7:0;k[h].setAttributes({text:q(s(o+h/u*(n-o))),x:c+r*g(h/u*p-p),y:d+r*t(h/u*p-p)-a},true)}}this.labelArray=k}});Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alternateClassName:"Ext.chart.NumericAxis",type:"Numeric",isNumericAxis:true,alias:"axis.numeric",constructor:function(a){var d=this,b=!!(a.label&&a.label.renderer),c;d.callParent([a]);c=d.label;if(a.constrain==null){d.constrain=(a.minimum!=null&&a.maximum!=null)}if(!b){c.renderer=function(e){return d.roundToDecimal(e,d.decimals)}}},roundToDecimal:function(b,a){var c=Math.pow(10,a||0);return Math.round(b*c)/c},minimum:NaN,maximum:NaN,constrain:true,decimals:2,scale:"linear",doConstrain:function(){var p=this,b=p.chart,u=b.getChartStore(),k=u.data.items,c,g,s,t=b.series.items,h=p.fields,n=h.length,r=p.calcEnds(),q=r.from,o=r.to,j,m,v=false,w,e=[],a;for(c=0,g=k.length;c<g;c++){a=true;s=k[c];for(j=0;j<n;j++){w=s.get(h[j]);if(p.type=="Time"&&typeof w=="string"){w=Date.parse(w)}if(+w<+q){a=false;break}if(+w>+o){a=false;break}}if(a){e.push(s)}}b.setSubStore(new Ext.data.Store({model:u.model,data:e}))},position:"left",adjustMaximumByMajorUnit:false,adjustMinimumByMajorUnit:false,processView:function(){var d=this,a=d.chart,e=a.series.items,b,c;for(b=0,c=e.length;b<c;b++){if(e[b].stacked){delete d.minimum;delete d.maximum;d.constrain=false;break}}if(d.constrain){d.doConstrain()}},applyData:function(){this.callParent();return this.calcEnds()}});Ext.define("Ext.chart.axis.Radial",{extend:Ext.chart.axis.Numeric,position:"radial",alias:"axis.radial",drawAxis:function(h){var d=this.chart,u=d.surface,a=d.chartBBox,t=d.getChartStore(),m=t.getCount(),b=a.x+(a.width/2),c=a.y+(a.height/2),o=Math.min(a.width,a.height)/2,r=[],q,s=this.steps,g,k,n=Math.PI*2,e=Math.cos,p=Math.sin;if(this.sprites&&!d.resizing){this.drawLabel();return}if(!this.sprites){for(g=1;g<=s;g++){q=u.add({type:"circle",x:b,y:c,radius:Math.max(o*g/s,0),stroke:"#ccc"});q.setAttributes({hidden:false},true);r.push(q)}for(g=0;g<m;g++){q=u.add({type:"path",path:["M",b,c,"L",b+o*e(g/m*n),c+o*p(g/m*n),"Z"],stroke:"#ccc"});q.setAttributes({hidden:false},true);r.push(q)}}else{r=this.sprites;for(g=0;g<s;g++){r[g].setAttributes({x:b,y:c,radius:Math.max(o*(g+1)/s,0),stroke:"#ccc"},true)}for(k=0;k<m;k++){r[g+k].setAttributes({path:["M",b,c,"L",b+o*e(k/m*n),c+o*p(k/m*n),"Z"],stroke:"#ccc"},true)}}this.sprites=r;this.drawLabel()},drawLabel:function(){var g=this.chart,E=g.series.items,D,I=g.surface,b=g.chartBBox,H=g.getChartStore(),k=H.data.items,u,A,d=b.x+(b.width/2),e=b.y+(b.height/2),B=Math.min(b.width,b.height)/2,w=Math.max,C=Math.round,t=[],s,p=[],y,c=[],J,a=!this.maximum,x=this.maximum||0,G=this.steps,q=0,r,n,o,z=Math.PI*2,h=Math.cos,F=Math.sin,l=this.label.display,m=l!=="none",v=10;if(!m){return}for(q=0,u=E.length;q<u;q++){D=E[q];p.push(D.yField);J=D.xField}for(r=0,u=k.length;r<u;r++){A=k[r];c.push(A.get(J));if(a){for(q=0,y=p.length;q<y;q++){x=w(+A.get(p[q]),x)}}}if(!this.labelArray){if(l!="categories"){for(q=1;q<=G;q++){s=I.add({type:"text",text:C(q/G*x),x:d,y:e-B*q/G,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"});s.setAttributes({hidden:false},true);t.push(s)}}if(l!="scale"){for(r=0,G=c.length;r<G;r++){n=h(r/G*z)*(B+v);o=F(r/G*z)*(B+v);s=I.add({type:"text",text:c[r],x:d+n,y:e+o,"text-anchor":n*n<=0.001?"middle":(n<0?"end":"start")});s.setAttributes({hidden:false},true);t.push(s)}}}else{t=this.labelArray;if(l!="categories"){for(q=0;q<G;q++){t[q].setAttributes({text:C((q+1)/G*x),x:d,y:e-B*(q+1)/G,"text-anchor":"middle","stroke-width":0.1,stroke:"#333"},true)}}if(l!="scale"){for(r=0,G=c.length;r<G;r++){n=h(r/G*z)*(B+v);o=F(r/G*z)*(B+v);if(t[q+r]){t[q+r].setAttributes({type:"text",text:c[r],x:d+n,y:e+o,"text-anchor":n*n<=0.001?"middle":(n<0?"end":"start")},true)}}}}this.labelArray=t},getRange:function(){var a=this.callParent();a.min=0;return a},processView:function(){var e=this,h=e.chart.series.items,c,d,g,a,b=[];for(c=0,d=h.length;c<d;c++){g=h[c];b.push(g.yField)}e.fields=b;a=e.calcEnds();e.maximum=a.to;e.steps=a.steps}});Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alternateClassName:"Ext.chart.TimeAxis",type:"Time",alias:"axis.time",dateFormat:false,fromDate:false,toDate:false,step:[Ext.Date.DAY,1],constrain:false,constructor:function(a){var e=this,d,c,b;e.callParent([a]);d=e.label||{};b=this.dateFormat;if(b){if(d.renderer){c=d.renderer;d.renderer=function(g){g=c(g);return Ext.Date.format(new Date(c(g)),b)}}else{d.renderer=function(g){return Ext.Date.format(new Date(g>>0),b)}}}},processView:function(){var a=this;if(a.fromDate){a.minimum=+a.fromDate}if(a.toDate){a.maximum=+a.toDate}if(a.constrain){a.doConstrain()}},calcEnds:function(){var a=this,b,c=a.step;if(c){b=a.getRange();b=Ext.draw.Draw.snapEndsByDateAndStep(new Date(b.min),new Date(b.max),Ext.isNumber(c)?[Date.MILLI,c]:c);if(a.minimum){b.from=a.minimum}if(a.maximum){b.to=a.maximum}return b}else{return a.callParent(arguments)}}});Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.util.Observable,labels:Ext.chart.Label,highlights:Ext.chart.Highlight,tips:Ext.chart.Tip,callouts:Ext.chart.Callout},type:null,title:null,showInLegend:true,renderer:function(d,c,a,b,e){return a},shadowAttributes:null,animating:false,nullGutters:{lower:0,upper:0,verticalAxis:undefined},nullPadding:{left:0,right:0,width:0,bottom:0,top:0,height:0},constructor:function(a){var b=this;if(a){Ext.apply(b,a)}b.shadowGroups=[];b.mixins.labels.constructor.call(b,a);b.mixins.highlights.constructor.call(b,a);b.mixins.tips.constructor.call(b,a);b.mixins.callouts.constructor.call(b,a);b.addEvents({scope:b,itemclick:true,itemmouseover:true,itemmouseout:true,itemmousedown:true,itemmouseup:true,mouseleave:true,afterdraw:true,titlechange:true});b.mixins.observable.constructor.call(b,a);b.on({scope:b,itemmouseover:b.onItemMouseOver,itemmouseout:b.onItemMouseOut,mouseleave:b.onMouseLeave});if(b.style){Ext.apply(b.seriesStyle,b.style)}},onRedraw:Ext.emptyFn,eachRecord:function(b,c){var a=this.chart;a.getChartStore().each(b,c)},getRecordCount:function(){var a=this.chart,b=a.getChartStore();return b?b.getCount():0},isExcluded:function(b){var a=this.__excludes;return !!(a&&a[b])},setBBox:function(h){var g=this,b=g.chart,c=b.chartBBox,e=h?{left:0,right:0,bottom:0,top:0}:b.maxGutters,d,a;d={x:c.x,y:c.y,width:c.width,height:c.height};g.clipBox=d;a={x:(d.x+e.left)-(b.zoom.x*b.zoom.width),y:(d.y+e.bottom)-(b.zoom.y*b.zoom.height),width:(d.width-(e.left+e.right))*b.zoom.width,height:(d.height-(e.bottom+e.top))*b.zoom.height};g.bbox=a},onAnimate:function(c,a){var b=this;c.stopAnimation();if(b.animating){return c.animate(Ext.applyIf(a,b.chart.animate))}else{b.animating=true;return c.animate(Ext.apply(Ext.applyIf(a,b.chart.animate),{callback:function(){b.animating=false;b.fireEvent("afterrender")}}))}},getGutters:function(){return this.nullGutters},getPadding:function(){return this.nullPadding},onItemMouseOver:function(a){var b=this;if(a.series===b){if(b.highlight){b.highlightItem(a)}if(b.tooltip){b.showTip(a)}}},onItemMouseOut:function(a){var b=this;if(a.series===b){b.unHighlightItem();if(b.tooltip){b.hideTip(a)}}},onMouseLeave:function(){var a=this;a.unHighlightItem();if(a.tooltip){a.hideTip()}},getItemForPoint:function(h,j){if(!this.items||!this.items.length||this.seriesIsHidden){return null}var g=this,d=g.items,a=g.bbox,c,b,e;if(!Ext.draw.Draw.withinBox(h,j,a)){return null}for(b=0,e=d.length;b<e;b++){if(d[b]&&this.isItemInPoint(h,j,d[b],b)){return d[b]}}return null},isItemInPoint:function(c,d,b,a){return false},hideAll:function(){var h=this,c=h.items,b,g,a,d,e,m,k;h.seriesIsHidden=true;h._prevShowMarkers=h.showMarkers;h.showMarkers=false;h.hideLabels(0);for(a=0,g=c.length;a<g;a++){b=c[a];m=b.sprite;if(m){m.setAttributes({hidden:true},true)}if(m&&m.shadows){k=m.shadows;for(d=0,e=k.length;d<e;++d){k[d].setAttributes({hidden:true},true)}}}},showAll:function(){var a=this,b=a.chart.animate;a.chart.animate=false;a.seriesIsHidden=false;a.showMarkers=a._prevShowMarkers;a.drawSeries();a.chart.animate=b},hide:function(){if(this.items){var g=this,b=g.items,a,c,e,d,h;if(b&&b.length){for(a=0,d=b.length;a<d;++a){if(b[a].sprite){b[a].sprite.hide(true);h=b[a].shadows||b[a].sprite.shadows;if(h){for(c=0,e=h.length;c<e;++c){h[c].hide(true)}}}}g.hideLabels()}}},getLegendColor:function(b){var c=this,a,d;if(c.seriesStyle){a=c.seriesStyle.fill;d=c.seriesStyle.stroke;if(a&&a!="none"){return a}if(d){return d}}return(c.colorArrayStyle)?c.colorArrayStyle[c.themeIdx%c.colorArrayStyle.length]:"#000"},visibleInLegend:function(b){var a=this.__excludes;if(a){return !a[b]}return !this.seriesIsHidden},setTitle:function(a,d){var b=this,c=b.title;if(Ext.isString(a)){d=a;a=0}if(Ext.isArray(c)){c[a]=d}else{b.title=d}b.fireEvent("titlechange",d,a)}});Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var k=this,h=[],c,d,j,a=k.combinations,l,b,e,g;c=[].concat(k.yField);for(d=0,j=c.length;d<j;d++){l=k.title;h.push((Ext.isArray(l)?l[d]:l)||c[d])}if(a){a=Ext.Array.from(a);for(d=0,j=a.length;d<j;d++){b=a[d];e=h[b[0]];g=h[b[1]];h[b[1]]=e+" & "+g;h.splice(b[0],1)}}return h},eachYValue:function(g,b,h){var e=this,j=e.getYValueAccessors(),c,d,a;for(c=0,d=j.length;c<d;c++){a=j[c];b.call(h,a(g),c)}},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(d,e){var g=this,c=g.getYValueAccessors(),a=c[d],b=c[e];c[e]=function(h){return a(h)+b(h)};c.splice(d,1);g.callParent([d,e])},clearCombinations:function(){delete this.yValueAccessors;this.callParent()},getYValueAccessors:function(){var d=this,a=d.yValueAccessors,g,e,b,c;if(!a){a=d.yValueAccessors=[];g=[].concat(d.yField);for(b=0,c=g.length;b<c;b++){e=g[b];a.push(function(h){return h.get(e)})}}return a},getMinMaxXValues:function(){var h=this,a=h.chart,l=a.getChartStore(),c=l.data.items,b=h.getRecordCount(),d,e,k,j,g,m=h.xField,n;if(b>0){j=Infinity;g=-j;for(d=0,e=c.length;d<e;d++){k=c[d];n=k.get(m);if(n>g){g=n}if(n<j){j=n}}if(j==Infinity){j=0}if(g==-Infinity){g=b-1}}else{j=g=0}return[j,g]},getMinMaxYValues:function(){var k=this,a=k.chart,q=a.getChartStore(),c=q.data.items,b=k.getRecordCount(),g,h,o,p=k.stacked,l,j,n,m;function e(s,r){if(!k.isExcluded(r)){if(s<0){m+=s}else{n+=s}}}function d(s,r){if(!k.isExcluded(r)){if(s>j){j=s}if(s<l){l=s}}}if(b>0){l=Infinity;j=-l;for(g=0,h=c.length;g<h;g++){o=c[g];if(p){n=0;m=0;k.eachYValue(o,e);if(n>j){j=n}if(m<l){l=m}}else{k.eachYValue(o,d)}}if(l==Infinity){l=0}if(j==-Infinity){j=b-1}}else{l=j=0}return[l,j]},getAxesForXAndYFields:function(){var h=this,a=h.chart.axes,b=[].concat(h.axis),o={},n=[].concat(h.yField),l={},k=[].concat(h.xField),c,j,m,e,g,d;d=h.type==="bar"&&h.column===false;if(d){c=n;n=k;k=c}if(Ext.Array.indexOf(b,"top")>-1){j="top"}else{if(Ext.Array.indexOf(b,"bottom")>-1){j="bottom"}else{if(a.get("top")&&a.get("bottom")){for(e=0,g=k.length;e<g;e++){l[k[e]]=true}c=[].concat(a.get("bottom").fields);for(e=0,g=c.length;e<g;e++){if(l[c[e]]){j="bottom";break}}c=[].concat(a.get("top").fields);for(e=0,g=c.length;e<g;e++){if(l[c[e]]){j="top";break}}}else{if(a.get("top")){j="top"}else{if(a.get("bottom")){j="bottom"}}}}}if(Ext.Array.indexOf(b,"left")>-1){m="left"}else{if(Ext.Array.indexOf(b,"right")>-1){m="right"}else{if(a.get("left")&&a.get("right")){for(e=0,g=n.length;e<g;e++){o[n[e]]=true}c=[].concat(a.get("right").fields);for(e=0,g=c.length;e<g;e++){if(o[c[e]]){break}}c=[].concat(a.get("left").fields);for(e=0,g=c.length;e<g;e++){if(o[c[e]]){m="left";break}}}else{if(a.get("left")){m="left"}else{if(a.get("right")){m="right"}}}}}return d?{xAxis:m,yAxis:j}:{xAxis:j,yAxis:m}}});Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.Cartesian,alias:"series.area",type:"area",stacked:true,style:{},constructor:function(a){this.callParent(arguments);var d=this,e=d.chart.surface,b,c;a.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:0.8,color:"#f00"},a.highlightCfg);Ext.apply(d,a,{__excludes:[]});if(d.highlight){d.highlightSprite=e.add({type:"path",path:["M",0,0],zIndex:1000,opacity:0.3,lineWidth:5,hidden:true,stroke:"#444"})}d.group=e.getGroup(d.seriesId)},shrink:function(k,o,e){var c=k.length,d=Math.floor(c/e),a,b,h=0,l=this.areas.length,n=[],g=[],m=[];for(b=0;b<l;++b){n[b]=0}for(a=0;a<c;++a){h+=+k[a];for(b=0;b<l;++b){n[b]+=+o[a][b]}if(a%d==0){g.push(h/d);for(b=0;b<l;++b){n[b]/=d}m.push(n);h=0;for(b=0,n=[];b<l;++b){n[b]=0}}}return{x:g,y:m}},getBounds:function(){var z=this,o=z.chart,G=o.getChartStore(),q=G.data.items,s,u,F,e=[].concat(z.yField),g=e.length,L=[],O=[],t=Infinity,A=t,B=t,x=-t,y=-t,w=Math,D=w.min,C=w.max,k=z.getAxesForXAndYFields(),m=k.xAxis,n=k.yAxis,r,b,I,j,J,M,K,N,d,a,v,H,p,c,h,E;z.setBBox();j=z.bbox;if(h=o.axes.get(m)){if(h.type==="Time"){b=true}r=h.applyData();A=r.from;x=r.to}if(h=o.axes.get(n)){r=h.applyData();B=r.from;y=r.to}if(z.xField&&!Ext.isNumber(A)){h=z.getMinMaxXValues();b=true;A=h[0];x=h[1]}if(z.yField&&!Ext.isNumber(B)){h=z.getMinMaxYValues();B=h[0];y=h[1]}if(!Ext.isNumber(B)){B=0}if(!Ext.isNumber(y)){y=0}u=q.length;if(u>0&&b){I=q[0].get(z.xField);if(typeof I!="number"){I=+I;if(isNaN(I)){b=false}}}for(s=0;s<u;s++){F=q[s];K=F.get(z.xField);N=[];if(typeof K!="number"){if(b){K=+K}else{K=s}}L.push(K);a=0;for(d=0;d<g;d++){if(z.__excludes[d]){continue}c=F.get(e[d]);if(typeof c=="number"){N.push(c)}}O.push(N)}J=j.width/((x-A)||1);M=j.height/((y-B)||1);v=L.length;if((v>j.width)&&z.areas){H=z.shrink(L,O,j.width);L=H.x;O=H.y}return{bbox:j,minX:A,minY:B,xValues:L,yValues:O,xScale:J,yScale:M,areasLen:g}},getPaths:function(){var p=this,g=p.chart,u=g.getChartStore(),l=true,e=p.getBounds(),d=e.bbox,n=p.items=[],j=[],h,k=0,r=[],m,o,v,z,w,A,a,c,s,b,q,t;o=e.xValues.length;for(m=0;m<o;m++){w=e.xValues[m];A=e.yValues[m];v=d.x+(w-e.minX)*e.xScale;if(t===undefined){t=v}a=0;k=0;for(c=0;c<e.areasLen;c++){if(p.__excludes[c]){continue}if(!j[c]){j[c]=[]}b=A[k];a+=b;z=d.y+d.height-(a-e.minY)*e.yScale;if(!r[c]){r[c]=["M",v,z];j[c].push(["L",v,z])}else{r[c].push("L",v,z);j[c].push(["L",v,z])}if(!n[c]){n[c]={pointsUp:[],pointsDown:[],series:p}}n[c].pointsUp.push([v,z]);k++}}for(c=0;c<e.areasLen;c++){if(p.__excludes[c]){continue}q=r[c];if(c==0||l){l=false;q.push("L",v,d.y+d.height,"L",t,d.y+d.height,"Z")}else{h=j[s];h.reverse();q.push("L",v,h[0][2]);for(m=0;m<o;m++){q.push(h[m][0],h[m][1],h[m][2]);n[c].pointsDown[o-m-1]=[h[m][1],h[m][2]]}q.push("L",t,q[2],"Z")}s=c}return{paths:r,areasLen:e.areasLen}},drawSeries:function(){var l=this,d=l.chart,p=d.getChartStore(),q=d.surface,a=d.animate,j=l.group,h=Ext.apply(l.seriesStyle,l.style),g=l.colorArrayStyle,e=g&&g.length||0,r=l.themeIdx,c,b,n,m,o,k;l.unHighlightItem();l.cleanHighlights();if(!p||!p.getCount()||l.seriesIsHidden){l.hide();l.items=[];return}n=l.getPaths();if(!l.areas){l.areas=[]}for(c=0;c<n.areasLen;c++){if(l.__excludes[c]){continue}k=r+c;if(!l.areas[c]){l.items[c].sprite=l.areas[c]=q.add(Ext.apply({},{type:"path",group:j,path:n.paths[c],stroke:h.stroke||g[k%e],fill:g[k%e]},h||{}))}b=l.areas[c];m=n.paths[c];if(a){o=l.renderer(b,false,{path:m,fill:g[c%e],stroke:h.stroke||g[c%e]},c,p);l.animation=l.onAnimate(b,{to:o})}else{o=l.renderer(b,false,{path:m,hidden:false,fill:g[k%e],stroke:h.stroke||g[k%e]},c,p);l.areas[c].setAttributes(o,true)}}l.renderLabels();l.renderCallouts()},onAnimate:function(b,a){b.show();return this.callParent(arguments)},onCreateLabel:function(k,h,g,c){return null;var j=this,e=j.labelsGroup,b=j.label,a=j.bbox,d=Ext.apply({},b,j.seriesLabelStyle||{});return j.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:Number(h.point[0]),y:a.y+a.height/2},d||{}))},onPlaceLabel:function(n,r,m,k,e,a,l){var p=this,c=p.chart,q=c.resizing,d=p.label,h=d.renderer,g=d.field,b=p.bbox,t=Number(m.point[k][0]),u=Number(m.point[k][1]),o,s,j;n.setAttributes({text:h(r.get(g[l]),n,r,m,k,e,a,l),hidden:true},true);o=n.getBBox();s=o.width/2;j=o.height/2;if(t<b.x+s){t=b.x+s}else{if(t+s>b.x+b.width){t=b.x+b.width-s}}u=u-j;if(u<b.y+j){u+=2*j}else{if(u+j>b.y+b.height){u-=2*j}}if(p.chart.animate&&!p.chart.resizing){n.show(true);p.onAnimate(n,{to:{x:t,y:u}})}else{n.setAttributes({x:t,y:u},true);if(q&&p.animation){p.animation.on("afteranimate",function(){n.show(true)})}else{n.show(true)}}},onPlaceCallout:function(m,K,w,u,t,d,v){var A=this,n=A.chart,L=n.surface,J=n.resizing,q=A.callouts,z=A.items,I=(u==0)?false:z[u-1].point,B=(u==z.length-1)?false:z[u+1].point,r=w.point,s,C,D,b,e,c,g=(m&&m.label?m.label.getBBox():{width:0,height:0}),F=30,G=10,E=3,k,l,j,h,H,o=A.clipRect,M,N;if(!g.width||!g.height){return}if(!I){I=r}if(!B){B=r}b=(B[1]-I[1])/(B[0]-I[0]);e=(r[1]-I[1])/(r[0]-I[0]);c=(B[1]-r[1])/(B[0]-r[0]);C=Math.sqrt(1+b*b);s=[1/C,b/C];D=[-s[1],s[0]];if(e>0&&c<0&&D[1]<0||e<0&&c>0&&D[1]>0){D[0]*=-1;D[1]*=-1}else{if(Math.abs(e)<Math.abs(c)&&D[0]<0||Math.abs(e)>Math.abs(c)&&D[0]>0){D[0]*=-1;D[1]*=-1}}M=r[0]+D[0]*F;N=r[1]+D[1]*F;k=M+(D[0]>0?0:-(g.width+2*E));l=N-g.height/2-E;j=g.width+2*E;h=g.height+2*E;if(k<o[0]||(k+j)>(o[0]+o[2])){D[0]*=-1}if(l<o[1]||(l+h)>(o[1]+o[3])){D[1]*=-1}M=r[0]+D[0]*F;N=r[1]+D[1]*F;k=M+(D[0]>0?0:-(g.width+2*E));l=N-g.height/2-E;j=g.width+2*E;h=g.height+2*E;m.lines.setAttributes({path:["M",r[0],r[1],"L",M,N,"Z"]},true);m.box.setAttributes({x:k,y:l,width:j,height:h},true);m.label.setAttributes({x:M+(D[0]>0?E:-(g.width+E)),y:N},true);for(H in m){m[H].show(true)}},isItemInPoint:function(o,q,e,d){var h=this,n=e.pointsUp,m=e.pointsDown,a=Math.abs,c=false,g=false,b=Infinity,j,k,l;for(j=0,k=n.length;j<k;j++){l=[n[j][0],n[j][1]];c=false;g=j==k-1;if(b>a(o-l[0])){b=a(o-l[0]);c=true;if(g){++j}}if(!c||(c&&g)){l=n[j-1];if(q>=l[1]&&(!m.length||q<=(m[j-1][1]))){e.storeIndex=j-1;e.storeField=h.yField[d];e.storeItem=h.chart.getChartStore().getAt(j-1);e._points=m.length?[l,m[j-1]]:[l];return true}else{break}}}return false},highlightSeries:function(){var a,c,b;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}a.__highlighted=true;a.__prevOpacity=a.__prevOpacity||a.attr.opacity||1;a.__prevFill=a.__prevFill||a.attr.fill;a.__prevLineWidth=a.__prevLineWidth||a.attr.lineWidth;b=Ext.draw.Color.fromString(a.__prevFill);c={lineWidth:(a.__prevLineWidth||0)+2};if(b){c.fill=b.getLighter(0.2).toString()}else{c.opacity=Math.max(a.__prevOpacity-0.3,0)}if(this.chart.animate){a.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:a,to:c},this.chart.animate))}else{a.setAttributes(c,true)}}},unHighlightSeries:function(){var a;if(this._index!==undefined){a=this.areas[this._index];if(a.__highlightAnim){a.__highlightAnim.paused=true}if(a.__highlighted){a.__highlighted=false;a.__highlightAnim=new Ext.fx.Anim({target:a,to:{fill:a.__prevFill,opacity:a.__prevOpacity,lineWidth:a.__prevLineWidth}})}}},highlightItem:function(a){var b=this,d,c;if(!a){this.highlightSeries();return}d=a._points;c=d.length==2?["M",d[0][0],d[0][1],"L",d[1][0],d[1][1]]:["M",d[0][0],d[0][1],"L",d[0][0],b.bbox.y+b.bbox.height];b.highlightSprite.setAttributes({path:c,hidden:false},true)},unHighlightItem:function(a){if(!a){this.unHighlightSeries()}if(this.highlightSprite){this.highlightSprite.hide(true)}},hideAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=true;b.areas[a].hide(true);b.redraw()},showAll:function(a){var b=this;a=(isNaN(b._index)?a:b._index)||0;b.__excludes[a]=false;b.areas[a].show(true);b.redraw()},redraw:function(){var a=this,b;b=a.chart.legend.rebuild;a.chart.legend.rebuild=false;a.chart.redraw();a.chart.legend.rebuild=b},hide:function(){if(this.areas){var g=this,a=g.areas,b,c,d,e,h;if(a&&a.length){for(b=0,e=a.length;b<e;++b){if(a[b]){a[b].hide(true)}}g.hideLabels()}}},getLegendColor:function(a){var b=this;a+=b.themeIdx;return b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],type:"bar",alias:"series.bar",column:false,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(a){this.callParent(arguments);var d=this,g=d.chart.surface,e=d.chart.shadow,b,c;a.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:0.8,color:"#f00"},a.highlightCfg);Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:0.9}},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:0.6}}]});d.group=g.getGroup(d.seriesId+"-bars");if(e){for(b=0,c=d.shadowAttributes.length;b<c;b++){d.shadowGroups.push(g.getGroup(d.seriesId+"-shadows"+b))}}},getPadding:function(){var a=this,c=a.xPadding,d=a.yPadding,b={};if(Ext.isNumber(c)){b.left=c;b.right=c}else{if(Ext.isObject(c)){b.left=c.left;b.right=c.right}else{b.left=0;b.right=0}}b.width=b.left+b.right;if(Ext.isNumber(d)){b.bottom=d;b.top=d}else{if(Ext.isObject(d)){b.bottom=d.bottom;b.top=d.top}else{b.bottom=0;b.top=0}}b.height=b.bottom+b.top;return b},getBarGirth:function(){var d=this,h=d.chart.getChartStore(),a=d.column,c=h.getCount(),b=d.gutter/100,e,g;if(d.style&&d.style.width){return d.style.width}e=d.getPadding();g=(a?"width":"height");return(d.chart.chartBBox[g]-e[g])/(c*(b+1)-b)},getGutters:function(){var d=this,a=d.column,e=d.getPadding(),b=d.getBarGirth()/2,c=Math.ceil((a?e.left:e.bottom)+b),g=Math.ceil((a?e.right:e.top)+b);return{lower:c,upper:g,verticalAxis:!a}},getBounds:function(){var D=this,m=D.chart,R=m.getChartStore(),q=R.data.items,w,y,N,b=[].concat(D.yField),d,c=b.length,s=c,u=D.groupGutter/100,p=D.column,K=D.getPadding(),Q=D.stacked,e=D.getBarGirth(),g=p?"width":"height",A=Math,I=A.min,H=A.max,z=A.abs,k=D.getAxesForXAndYFields(),l=k.yAxis,F,B,n,o,v,r,P,t,h,G,C,a,J,O,T,S,M,x,L,E;D.setBBox(true);h=D.bbox;if(D.__excludes){for(x=0,S=D.__excludes.length;x<S;x++){if(D.__excludes[x]){s--}}}a=m.axes.get(l);if(a){r=a.applyData();G=r.from;C=r.to}if(D.yField&&!Ext.isNumber(G)){J=D.getMinMaxYValues();G=J[0];C=J[1]}if(!Ext.isNumber(G)){G=0}if(!Ext.isNumber(C)){C=0}O=(p?h.height-K.height:h.width-K.width)/(C-G);P=e;t=(e/((Q?1:s)*(u+1)-u));if(g in D.style){t=I(t,D.style[g]);P=t*((Q?1:s)*(u+1)-u)}T=(p)?h.y+h.height-K.bottom:h.x+K.left;if(Q){S=[[],[]];for(w=0,y=q.length;w<y;w++){N=q[w];S[0][w]=S[0][w]||0;S[1][w]=S[1][w]||0;for(x=0;x<c;x++){if(D.__excludes&&D.__excludes[x]){continue}M=N.get(b[x]);S[+(M>0)][w]+=z(M)}}S[+(C>0)].push(z(C));S[+(G>0)].push(z(G));E=H.apply(A,S[0]);L=H.apply(A,S[1]);O=(p?h.height-K.height:h.width-K.width)/(L+E);T=T+E*O*(p?-1:1)}else{if(G/C<0){T=T-G*O*(p?-1:1)}}if(D.boundColumn){a=m.axes.get(k.xAxis);if(a){r=a.applyData();F=r.from;B=r.to}if(D.xField&&!Ext.isNumber(F)){J=D.getMinMaxYValues();F=J[0];B=J[1]}if(!Ext.isNumber(F)){F=0}if(!Ext.isNumber(B)){B=0}v=D.getGutters();n=(h.width-(v.lower+v.upper))/((B-F)||1);o=h.x+v.lower;d=[];for(w=0,y=q.length;w<y;w++){N=q[w];M=N.get(D.xField);d[w]=o+(M-F)*n-(t/2)}}return{bars:b,barsLoc:d,bbox:h,shrunkBarWidth:P,barsLen:c,groupBarsLen:s,barWidth:e,groupBarWidth:t,scale:O,zero:T,padding:K,signed:G/C<0,minY:G,maxY:C}},getPaths:function(){var E=this,l=E.chart,S=l.getChartStore(),q=S.data.items,y,V,J,k=E.bounds=E.getBounds(),A=E.items=[],aa=Ext.isArray(E.yField)?E.yField:[E.yField],v=E.gutter/100,u=E.groupGutter/100,a=l.animate,o=E.column,t=E.group,r=l.shadow,M=E.shadowGroups,L=E.shadowAttributes,N=M.length,g=k.bbox,e=k.barWidth,P=k.shrunkBarWidth,I=E.getPadding(),R=E.stacked,d=k.barsLen,n=E.colorArrayStyle,m=n&&n.length||0,T=E.themeIdx,D=Math,F=D.max,G=D.min,C=D.abs,B,ab,x,W,Y,h,U,w,c,b,p,Z,X,O,K,Q,H,s,z;for(y=0,V=q.length;y<V;y++){J=q[y];h=k.zero;U=k.zero;W=0;Y=0;Z=X=0;w=false;for(B=0,p=0;B<d;B++){if(E.__excludes&&E.__excludes[B]){continue}ab=J.get(k.bars[B]);if(ab>=0){Z+=ab}else{X+=ab}x=Math.round((ab-F(k.minY,0))*k.scale);z=T+(d>1?B:0);c={fill:n[z%m]};if(o){Ext.apply(c,{height:x,width:F(k.groupBarWidth,0),x:(E.boundColumn?k.barsLoc[y]:(g.x+I.left+(e-P)*0.5+y*e*(1+v)+p*k.groupBarWidth*(1+u)*!R)),y:h-x})}else{H=(V-1)-y;Ext.apply(c,{height:F(k.groupBarWidth,0),width:x+(h==k.zero),x:h+(h!=k.zero),y:(g.y+I.top+(e-P)*0.5+H*e*(1+v)+p*k.groupBarWidth*(1+u)*!R+1)})}if(x<0){if(o){c.y=U;c.height=C(x)}else{c.x=U+x;c.width=C(x)}}if(R){if(x<0){U+=x*(o?-1:1)}else{h+=x*(o?-1:1)}W+=C(x);if(x<0){Y+=C(x)}}c.x=Math.floor(c.x)+1;s=Math.floor(c.y);if(Ext.isIE8m&&c.y>s){s--}c.y=s;c.width=Math.floor(c.width);c.height=Math.floor(c.height);A.push({series:E,yField:aa[B],storeItem:J,value:[J.get(E.xField),ab],attr:c,point:o?[c.x+c.width/2,ab>=0?c.y:c.y+c.height]:[ab>=0?c.x+c.width:c.x,c.y+c.height/2]});if(a&&l.resizing){b=o?{x:c.x,y:k.zero,width:c.width,height:0}:{x:k.zero,y:c.y,width:0,height:c.height};if(r&&(R&&!w||!R)){w=true;for(O=0;O<N;O++){K=M[O].getAt(R?y:(y*d+B));if(K){K.setAttributes(b,true)}}}Q=t.getAt(y*d+B);if(Q){Q.setAttributes(b,true)}}p++}if(R&&A.length){A[y*p].totalDim=W;A[y*p].totalNegDim=Y;A[y*p].totalPositiveValues=Z;A[y*p].totalNegativeValues=X}}if(R&&p==0){for(y=0,V=q.length;y<V;y++){for(O=0;O<N;O++){K=M[O].getAt(y);if(K){K.hide(true)}}}}},renderShadows:function(h,b,c,d){var m=this,e=m.chart,x=e.surface,a=e.animate,v=m.stacked,r=m.shadowGroups,p=m.shadowAttributes,s=r.length,w=e.getChartStore(),g=m.column,k=m.items,u=[],A=d.zero,t,q,o,y,z,l,n;if((v&&(h%d.groupBarsLen===0))||!v){l=h/d.groupBarsLen;for(t=0;t<s;t++){q=Ext.apply({},p[t]);o=r[t].getAt(v?l:h);Ext.copyTo(q,b,"x,y,width,height");if(!o){o=x.add(Ext.apply({type:"rect",group:r[t]},Ext.apply({},c,q)))}if(v){y=k[h].totalDim;z=k[h].totalNegDim;if(g){q.y=A+z-y-1;q.height=y}else{q.x=A-z;q.width=y}}n=m.renderer(o,w.getAt(l),q,h,w);n.hidden=!!b.hidden;if(a){m.onAnimate(o,{to:n})}else{o.setAttributes(n,true)}u.push(o)}}return u},drawSeries:function(){var w=this,m=w.chart,F=m.getChartStore(),G=m.surface,b=m.animate,E=w.stacked,o=w.column,n=m.axes,g=w.getAxesForXAndYFields(),k=g.xAxis,l=g.yAxis,p=m.shadow,A=w.shadowGroups,B=A.length,r=w.group,y=w.seriesStyle,t,v,s,u,e,D,x,C,z,h,q,d,c,a;if(!F||!F.getCount()||w.seriesIsHidden){w.hide();w.items=[];return}q=Ext.apply({},this.style,y);delete q.fill;delete q.x;delete q.y;delete q.width;delete q.height;w.unHighlightItem();w.cleanHighlights();w.boundColumn=(k&&Ext.Array.contains(w.axis,k)&&n.get(k)&&n.get(k).isNumericAxis);w.getPaths();h=w.bounds;t=w.items;e=o?{y:h.zero,height:0}:{x:h.zero,width:0};v=t.length;for(s=0;s<v;s++){D=r.getAt(s);d=t[s].attr;if(p){t[s].shadows=w.renderShadows(s,d,e,h)}if(!D){c=Ext.apply({},e,d);c=Ext.apply(c,q||{});D=G.add(Ext.apply({},{type:"rect",group:r},c))}if(b){x=w.renderer(D,F.getAt(s),d,s,F);D._to=x;a=w.onAnimate(D,{to:Ext.apply(x,q)});if(p&&E&&(s%h.barsLen===0)){u=s/h.barsLen;for(C=0;C<B;C++){a.on("afteranimate",function(){this.show(true)},A[C].getAt(u))}}}else{x=w.renderer(D,F.getAt(s),Ext.apply(d,{hidden:false}),s,F);D.setAttributes(Ext.apply(x,q),true)}t[s].sprite=D}v=r.getCount();for(u=s;u<v;u++){r.getAt(u).hide(true)}if(w.stacked){s=F.getCount()}if(p){for(C=0;C<B;C++){z=A[C];v=z.getCount();for(u=s;u<v;u++){z.getAt(u).hide(true)}}}w.renderLabels()},onCreateLabel:function(k,g,e,b){var h=this,l=h.chart.surface,d=h.labelsGroup,a=h.label,c=Ext.apply({},a,h.seriesLabelStyle||{}),j;return l.add(Ext.apply({type:"text",group:d},c||{}))},onPlaceLabel:function(u,J,t,p,h,a,q){var z=this,A=z.bounds,n=A.groupBarWidth,e=z.column,c=z.chart,d=c.chartBBox,D=c.resizing,O=t.value[0],Q=t.value[1],b=t.attr,g=z.label,H=z.stacked,I=g.stackedDisplay,E=(g.orientation=="vertical"),j=[].concat(g.field),l=g.renderer,K,G,M,o,R=A.zero,s="insideStart",r="insideEnd",B="outside",C="over",L="under",v=4,w=2,F=A.signed,N,P,k;if(h==s||h==r||h==B){if(H&&(h==B)){u.hide(true);return}u.setAttributes({style:undefined});K=(Ext.isNumber(q)?l(J.get(j[q]),u,J,t,p,h,a,q):"");u.setAttributes({text:K});G=z.getLabelSize(K,u.attr.style);M=G.width;o=G.height;if(e){if(!M||!o||(H&&(b.height<o))){u.hide(true);return}N=b.x+(E?n/2:(n-M)/2);if(h==B){var m=(Q>=0?(b.y-d.y):(d.y+d.height-b.y-b.height));if(m<o+w){h=r}}if(!H&&(h!=B)){if(o+w>b.height){h=B}}if(!P){P=b.y;if(Q>=0){switch(h){case s:P+=b.height+(E?-w:-o/2);break;case r:P+=(E?o+v:o/2);break;case B:P+=(E?-w:-o/2);break}}else{switch(h){case s:P+=(E?o+w:o/2);break;case r:P+=(E?b.height-w:b.height-o/2);break;case B:P+=(E?b.height+o+w:b.height+o/2);break}}}}else{if(!M||!o||(H&&!b.width)){u.hide(true);return}P=b.y+(E?(n+o)/2:n/2);if(h==B){var m=(Q>=0?(d.x+d.width-b.x-b.width):(b.x-d.x));if(m<M+v){h=r}}if((h!=B)&&!E){if(M+v>b.width){if(H){if(o>b.width){u.hide(true);return}N=b.x+b.width/2;P=b.y+b.height-(b.height-M)/2;E=true}else{h=B}}}if(!N){N=b.x;if(Q>=0){switch(h){case s:N+=(E?M/2:v);break;case r:N+=b.width+(E?-M/2:-M-v);break;case B:N+=b.width+(E?M/2:v);break}}else{switch(h){case s:N+=b.width+(E?-M/2:-M-v);break;case r:N+=(E?M/2:v);break;case B:N+=(E?-M/2:-M-v);break}}}}}else{if(h==C||h==L){if(H&&I){K=u.attr.text;u.setAttributes({style:Ext.applyIf((u.attr&&u.attr.style)||{},{"font-weight":"bold","font-size":"14px"})});G=z.getLabelSize(K,u.attr.style);M=G.width;o=G.height;switch(h){case C:if(e){N=b.x+(E?n/2:(n-M)/2);P=R-(t.totalDim-t.totalNegDim)-o/2-w}else{N=R+(t.totalDim-t.totalNegDim)+v;P=b.y+(E?(n+o)/2:n/2)}break;case L:if(e){N=b.x+(E?n/2:(n-M)/2);P=R+t.totalNegDim+o/2}else{N=R-t.totalNegDim-M-v;P=b.y+(E?(n+o)/2:n/2)}break}}}}if(N==undefined||P==undefined){u.hide(true);return}u.isOutside=(h==B);u.setAttributes({text:K});k={x:N,y:P};if(E){k.rotate={x:N,y:P,degrees:270}}if(a&&D){if(e){N=b.x+b.width/2;P=R}else{N=R;P=b.y+b.height/2}u.setAttributes({x:N,y:P},true);if(E){u.setAttributes({rotate:{x:N,y:P,degrees:270}},true)}}if(a){z.onAnimate(u,{to:k})}else{u.setAttributes(Ext.apply(k,{hidden:false}),true)}},getLabelSize:function(l,e){var j=this.testerLabel,b=this.label,c=Ext.apply({},b,e,this.seriesLabelStyle||{}),g=b.orientation==="vertical",a,m,d,k;if(!j){j=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},c))}j.setAttributes({style:e,text:l},true);a=j.getBBox();m=a.width;d=a.height;return{width:g?d:m,height:g?m:d}},onAnimate:function(b,a){b.show();return this.callParent(arguments)},isItemInPoint:function(c,d,b){var a=b.sprite.getBBox();return a.x<=c&&a.y<=d&&(a.x+a.width)>=c&&(a.y+a.height)>=d},hideAll:function(d){var a=this.chart.axes,b=a.items,e=b.length,c=0;d=(isNaN(this._index)?d:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[d]=true;this.drawSeries();for(c;c<e;c++){b[c].drawAxis()}},showAll:function(d){var a=this.chart.axes,b=a.items,e=b.length,c=0;d=(isNaN(this._index)?d:this._index)||0;if(!this.__excludes){this.__excludes=[]}this.__excludes[d]=false;this.drawSeries();for(c;c<e;c++){b[c].drawAxis()}},getLegendColor:function(b){var c=this,a=c.colorArrayStyle.length;if(c.style&&c.style.fill){return c.style.fill}else{return c.colorArrayStyle[b%a]}},highlightItem:function(a){this.callParent(arguments);this.renderLabels()},unHighlightItem:function(){this.callParent(arguments);this.renderLabels()},cleanHighlights:function(){this.callParent(arguments);this.renderLabels()}});Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:Ext.chart.series.Bar,type:"column",alias:"series.column",column:true,boundColumn:false,xPadding:10,yPadding:0});Ext.define("Ext.chart.series.Gauge",{extend:Ext.chart.series.Series,type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:false,needle:false,donut:false,showInLegend:false,style:{},constructor:function(c){this.callParent(arguments);var g=this,b=g.chart,k=b.surface,j=b.store,h=b.shadow,d,e,a;Ext.apply(g,c,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:1}}]});g.group=k.getGroup(g.seriesId);if(h){for(d=0,e=g.shadowAttributes.length;d<e;d++){g.shadowGroups.push(k.getGroup(g.seriesId+"-shadows"+d))}}k.customAttributes.segment=function(l){return g.getSegment(l)}},initialize:function(){var d=this,e=d.chart.getChartStore(),a=e.data.items,b=d.label,c=a.length;d.yField=[];if(b&&b.field&&c>0){d.yField.push(a[0].get(b.field))}},getSegment:function(m){var k=this,o=k.rad,d=Math.cos,p=Math.sin,c=Math.abs,t=k.centerX,A=k.centerY,u=0,v=0,w=0,z=0,B=0,C=0,D=0,E=0,e=0.01,n=m.endRho-m.startRho,s=m.startAngle,g=m.endAngle,l=(s+g)/2*o,j=m.margin||0,h=c(g-s)>180,a=Math.min(s,g)*o,b=Math.max(s,g)*o,q=false;t+=j*d(l);A+=j*p(l);u=t+m.startRho*d(a);B=A+m.startRho*p(a);v=t+m.endRho*d(a);C=A+m.endRho*p(a);w=t+m.startRho*d(b);D=A+m.startRho*p(b);z=t+m.endRho*d(b);E=A+m.endRho*p(b);if(c(u-w)<=e&&c(B-D)<=e){q=true}if(q){return{path:[["M",u,B],["L",v,C],["A",m.endRho,m.endRho,0,+h,1,z,E],["Z"]]}}else{return{path:[["M",u,B],["L",v,C],["A",m.endRho,m.endRho,0,+h,1,z,E],["L",w,D],["A",m.startRho,m.startRho,0,+h,0,u,B],["Z"]]}}},calcMiddle:function(e){var g=this,j=g.rad,l=e.slice,n=g.centerX,p=g.centerY,m=l.startAngle,d=l.endAngle,k=Math.max(("rho" in l)?l.rho:g.radius,g.label.minMargin),c=+g.donut,a=Math.min(m,d)*j,b=Math.max(m,d)*j,h=-(a+(b-a)/2),o=n+(e.endRho+e.startRho)/2*Math.cos(h),q=p-(e.endRho+e.startRho)/2*Math.sin(h);e.middle={x:o,y:q}},drawSeries:function(){var y=this,g=y.chart,S=g.getChartStore(),r=y.group,a=y.chart.animate,b=y.chart.axes.get(0),A=b&&b.minimum||y.minimum||0,x=b&&b.maximum||y.maximum||0,q=y.angleField||y.field||y.xField,T=g.surface,h=g.chartBBox,D=y.rad,n=+y.donut,V={},u=[],H=y.seriesStyle,G=y.seriesLabelStyle,l=y.colorArrayStyle,k=l&&l.length||0,m=Math.cos,I=Math.sin,F,d,e,J,N,P,U,t,w,E,s,v,R,o,z,M,C,B,Q,c,O,K,L;Ext.apply(H,y.style||{});y.setBBox();c=y.bbox;if(y.colorSet){l=y.colorSet;k=l.length}if(!S||!S.getCount()||y.seriesIsHidden){y.hide();y.items=[];return}d=y.centerX=h.x+(h.width/2);e=y.centerY=h.y+h.height;y.radius=Math.min(d-h.x,e-h.y);y.slices=N=[];y.items=u=[];if(!y.value){E=S.getAt(0);y.value=E.get(q)}U=y.value;if(y.needle){K={series:y,value:U,startAngle:-180,endAngle:0,rho:y.radius};O=-180*(1-(U-A)/(x-A));N.push(K)}else{O=-180*(1-(U-A)/(x-A));K={series:y,value:U,startAngle:-180,endAngle:O,rho:y.radius};L={series:y,value:y.maximum-U,startAngle:O,endAngle:0,rho:y.radius};N.push(K,L)}for(s=0,w=N.length;s<w;s++){J=N[s];P=r.getAt(s);F=Ext.apply({segment:{startAngle:J.startAngle,endAngle:J.endAngle,margin:0,rho:J.rho,startRho:J.rho*+n/100,endRho:J.rho}},Ext.apply(H,l&&{fill:l[s%k]}||{}));t=Ext.apply({},F.segment,{slice:J,series:y,storeItem:E,index:s});u[s]=t;if(!P){Q=Ext.apply({type:"path",group:r},Ext.apply(H,l&&{fill:l[s%k]}||{}));P=T.add(Ext.apply(Q,F))}J.sprite=J.sprite||[];t.sprite=P;J.sprite.push(P);if(a){F=y.renderer(P,E,F,s,S);P._to=F;y.onAnimate(P,{to:F})}else{F=y.renderer(P,E,Ext.apply(F,{hidden:false}),s,S);P.setAttributes(F,true)}}if(y.needle){O=O*Math.PI/180;if(!y.needleSprite){y.needleSprite=y.chart.surface.add({type:"path",path:["M",d+(y.radius*+n/100)*m(O),e+-Math.abs((y.radius*+n/100)*I(O)),"L",d+y.radius*m(O),e+-Math.abs(y.radius*I(O))],"stroke-width":4,stroke:"#222"})}else{if(a){y.onAnimate(y.needleSprite,{to:{path:["M",d+(y.radius*+n/100)*m(O),e+-Math.abs((y.radius*+n/100)*I(O)),"L",d+y.radius*m(O),e+-Math.abs(y.radius*I(O))]}})}else{y.needleSprite.setAttributes({type:"path",path:["M",d+(y.radius*+n/100)*m(O),e+-Math.abs((y.radius*+n/100)*I(O)),"L",d+y.radius*m(O),e+-Math.abs(y.radius*I(O))]})}}y.needleSprite.setAttributes({hidden:false},true)}delete y.value},setValue:function(a){this.value=a;this.drawSeries()},onCreateLabel:function(d,c,b,a){},onPlaceLabel:function(g,h,e,c,b,a,d){},onPlaceCallout:function(){},onAnimate:function(b,a){b.show();return this.callParent(arguments)},isItemInPoint:function(o,p,k,j){var l=this,c=l.centerX,d=l.centerY,a=Math.abs,e=a(o-c),g=a(p-d),n=k.startAngle,h=k.endAngle,m=Math.sqrt(e*e+g*g),b=Math.atan2(p-d,o-c)/l.rad;return(j===0)&&(b>=n&&b<h&&m>=k.startRho&&m<=k.endRho)},getLegendColor:function(b){var a=this.colorSet||this.colorArrayStyle;return a[b%a.length]}});Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:true,markerConfig:{},style:{},smooth:false,defaultSmoothness:3,fill:false,constructor:function(a){this.callParent(arguments);var d=this,g=d.chart.surface,e=d.chart.shadow,b,c;a.highlightCfg=Ext.Object.merge({"stroke-width":3},a.highlightCfg);Ext.apply(d,a,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]});d.group=g.getGroup(d.seriesId);if(d.showMarkers){d.markerGroup=g.getGroup(d.seriesId+"-markers")}if(e){for(b=0,c=d.shadowAttributes.length;b<c;b++){d.shadowGroups.push(g.getGroup(d.seriesId+"-shadows"+b))}}},shrink:function(h,l,d){var b=h.length,c=Math.floor(b/d),a=1,g=0,k=0,e=[+h[0]],j=[+l[0]];for(;a<b;++a){g+=+h[a]||0;k+=+l[a]||0;if(a%c==0){e.push(g/c);j.push(k/c);g=0;k=0}}return{x:e,y:j}},drawSeries:function(){var W=this,k=W.chart,l=k.axes,at=k.getChartStore(),q=at.data.items,ae,au=at.getCount(),aw=W.chart.surface,d={},F=W.group,ap=W.showMarkers,R=W.markerGroup,s=k.shadow,am=W.shadowGroups,ak=W.shadowAttributes,aq=W.smooth,N=am.length,r=["M"],ab=["M"],ag=["M"],ar=["M"],S=k.markerIndex,b=[].concat(W.axis),al,aD=[],aC={},aJ=[],aI={},Z=false,av=[],T=Ext.apply({},W.markerStyle),ai=W.seriesStyle,n=W.colorArrayStyle,m=n&&n.length||0,H=Ext.isNumber,ah=W.seriesIdx,e=W.getAxesForXAndYFields(),g=e.xAxis,h=e.yAxis,az=g?l.get(g).type:"",aF=h?l.get(h).type:"",an,aj,ao,E,w,B,af,ay,aE,ac,ad,C,D,Q,G,J,M,c,v,O,P,I,aB,aH,o,aA,aG,X,U,Y,V,K,a,u,t,ax,p,aa,L,A,z;if(W.fireEvent("beforedraw",W)===false){return}if(!au||W.seriesIsHidden){W.hide();W.items=[];if(W.line){W.line.hide(true);if(W.line.shadows){an=W.line.shadows;for(J=0,N=an.length;J<N;J++){aj=an[J];aj.hide(true)}}if(W.fillPath){W.fillPath.hide(true)}}W.line=null;W.fillPath=null;return}u=Ext.apply(T||{},W.markerConfig,{fill:W.seriesStyle.fill||n[W.themeIdx%n.length]});ax=u.type;delete u.type;t=ai;if(!t["stroke-width"]){t["stroke-width"]=0.5}aa="opacity" in t?t.opacity:1;z="opacity" in t?t.opacity:0.3;L="lineOpacity" in t?t.lineOpacity:aa;A="fillOpacity" in t?t.fillOpacity:z;if(S&&R&&R.getCount()){for(G=0;G<S;G++){O=R.getAt(G);R.remove(O);R.add(O);P=R.getAt(R.getCount()-2);O.setAttributes({x:0,y:0,translate:{x:P.attr.translation.x,y:P.attr.translation.y}},true)}}W.unHighlightItem();W.cleanHighlights();W.setBBox();d=W.bbox;W.clipRect=[d.x,d.y,d.width,d.height];if(c=l.get(g)){v=c.applyData();X=v.from;U=v.to}if(c=l.get(h)){v=c.applyData();Y=v.from;V=v.to}if(W.xField&&!Ext.isNumber(X)){c=W.getMinMaxXValues();X=c[0];U=c[1]}if(W.yField&&!Ext.isNumber(Y)){c=W.getMinMaxYValues();Y=c[0];V=c[1]}if(isNaN(X)){X=0;aA=d.width/((au-1)||1)}else{aA=d.width/((U-X)||(au-1)||1)}if(isNaN(Y)){Y=0;aG=d.height/((au-1)||1)}else{aG=d.height/((V-Y)||(au-1)||1)}for(G=0,M=q.length;G<M;G++){ae=q[G];aB=ae.get(W.xField);if(az=="Time"&&typeof aB=="string"){aB=Date.parse(aB)}if(typeof aB=="string"||typeof aB=="object"&&!Ext.isDate(aB)||g&&l.get(g)&&l.get(g).type=="Category"){if(aB in aC){aB=aC[aB]}else{aB=aC[aB]=G}}aH=ae.get(W.yField);if(aF=="Time"&&typeof aH=="string"){aH=Date.parse(aH)}if(typeof aH=="undefined"||(typeof aH=="string"&&!aH)){continue}if(typeof aH=="string"||typeof aH=="object"&&!Ext.isDate(aH)||h&&l.get(h)&&l.get(h).type=="Category"){aH=G}av.push(G);aD.push(aB);aJ.push(aH)}M=aD.length;if(M>d.width){o=W.shrink(aD,aJ,d.width);aD=o.x;aJ=o.y}W.items=[];p=0;M=aD.length;for(G=0;G<M;G++){aB=aD[G];aH=aJ[G];if(aH===false){if(ab.length==1){ab=[]}Z=true;W.items.push(false);continue}else{ay=(d.x+(aB-X)*aA).toFixed(2);aE=((d.y+d.height)-(aH-Y)*aG).toFixed(2);if(Z){Z=false;ab.push("M")}ab=ab.concat([ay,aE])}if((typeof D=="undefined")&&(typeof aE!="undefined")){D=aE;C=ay}if(!W.line||k.resizing){r=r.concat([ay,d.y+d.height/2])}if(k.animate&&k.resizing&&W.line){W.line.setAttributes({path:r,opacity:L},true);if(W.fillPath){W.fillPath.setAttributes({path:r,opacity:A},true)}if(W.line.shadows){an=W.line.shadows;for(J=0,N=an.length;J<N;J++){aj=an[J];aj.setAttributes({path:r},true)}}}if(ap){O=R.getAt(p++);if(!O){O=Ext.chart.Shape[ax](aw,Ext.apply({group:[F,R],x:0,y:0,translate:{x:+(ac||ay),y:ad||(d.y+d.height/2)},value:'"'+aB+", "+aH+'"',zIndex:4000},u));O._to={translate:{x:+ay,y:+aE}}}else{O.setAttributes({value:'"'+aB+", "+aH+'"',x:0,y:0,hidden:false},true);O._to={translate:{x:+ay,y:+aE}}}}W.items.push({series:W,value:[aB,aH],point:[ay,aE],sprite:O,storeItem:at.getAt(av[G])});ac=ay;ad=aE}if(ab.length<=1){return}if(W.smooth){ar=Ext.draw.Draw.smooth(ab,H(aq)?aq:W.defaultSmoothness)}ag=aq?ar:ab;if(k.markerIndex&&W.previousPath){E=W.previousPath;if(!aq){Ext.Array.erase(E,1,2)}}else{E=ab}if(!W.line){W.line=aw.add(Ext.apply({type:"path",group:F,path:r,stroke:t.stroke||t.fill},t||{}));W;W.line.setAttributes({opacity:L},true);if(s){W.line.setAttributes(Ext.apply({},W.shadowOptions),true)}W.line.setAttributes({fill:"none",zIndex:3000});if(!t.stroke&&m){W.line.setAttributes({stroke:n[W.themeIdx%m]},true)}if(s){an=W.line.shadows=[];for(ao=0;ao<N;ao++){al=ak[ao];al=Ext.apply({},al,{path:r});aj=aw.add(Ext.apply({},{type:"path",group:am[ao]},al));an.push(aj)}}}if(W.fill){B=ag.concat([["L",ay,d.y+d.height],["L",C,d.y+d.height],["L",C,D]]);if(!W.fillPath){W.fillPath=aw.add({group:F,type:"path",fill:t.fill||n[W.themeIdx%m],path:r})}}Q=ap&&R.getCount();if(k.animate){w=W.fill;K=W.line;af=W.renderer(K,false,{path:ag},G,at);Ext.apply(af,t||{},{stroke:t.stroke||t.fill});delete af.fill;K.show(true);if(k.markerIndex&&W.previousPath){W.animation=a=W.onAnimate(K,{to:af,from:{path:E}})}else{W.animation=a=W.onAnimate(K,{to:af})}if(s){an=K.shadows;for(J=0;J<N;J++){an[J].show(true);if(k.markerIndex&&W.previousPath){W.onAnimate(an[J],{to:{path:ag},from:{path:E}})}else{W.onAnimate(an[J],{to:{path:ag}})}}}if(w){W.fillPath.show(true);W.onAnimate(W.fillPath,{to:Ext.apply({},{path:B,fill:t.fill||n[W.themeIdx%m],"stroke-width":0,opacity:A},t||{})})}if(ap){p=0;for(G=0;G<M;G++){if(W.items[G]){I=R.getAt(p++);if(I){af=W.renderer(I,at.getAt(G),I._to,G,at);W.onAnimate(I,{to:Ext.applyIf(af,u||{})});I.show(true)}}}for(;p<Q;p++){I=R.getAt(p);I.hide(true)}}}else{af=W.renderer(W.line,false,{path:ag,hidden:false},G,at);Ext.apply(af,t||{},{stroke:t.stroke||t.fill});delete af.fill;W.line.setAttributes(af,true);W.line.setAttributes({opacity:L},true);if(s){an=W.line.shadows;for(J=0;J<N;J++){an[J].setAttributes({path:ag,hidden:false},true)}}if(W.fill){W.fillPath.setAttributes({path:B,hidden:false,opacity:A},true)}if(ap){p=0;for(G=0;G<M;G++){if(W.items[G]){I=R.getAt(p++);if(I){af=W.renderer(I,at.getAt(G),I._to,G,at);I.setAttributes(Ext.apply(u||{},af||{}),true);if(!I.attr.hidden){I.show(true)}}}}for(;p<Q;p++){I=R.getAt(p);I.hide(true)}}}if(k.markerIndex){if(W.smooth){Ext.Array.erase(ab,1,2)}else{Ext.Array.splice(ab,1,0,ab[1],ab[2])}W.previousPath=ab}W.renderLabels();W.renderCallouts();W.fireEvent("draw",W)},onCreateLabel:function(k,h,g,c){var j=this,e=j.labelsGroup,b=j.label,a=j.bbox,d=Ext.apply({},b,j.seriesLabelStyle||{});return j.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:Number(h.point[0]),y:a.y+a.height/2},d||{}))},onPlaceLabel:function(n,t,m,k,e,a,l){var q=this,c=q.chart,s=c.resizing,d=q.label,h=d.renderer,g=d.field,b=q.bbox,v=Number(m.point[0]),z=Number(m.point[1]),r=m.sprite.attr.radius,o,p,u,j,w,A;n.setAttributes({text:h(t.get(g),n,t,m,k,e,a,l),hidden:true},true);p=m.sprite.getBBox();p.width=p.width||(r*2);p.height=p.height||(r*2);o=n.getBBox();u=o.width/2;j=o.height/2;if(e=="rotate"){w=p.width/2+u+j/2;if(v+w+u>b.x+b.width){v-=w}else{v+=w}n.setAttributes({rotation:{x:v,y:z,degrees:-45}},true)}else{if(e=="under"||e=="over"){n.setAttributes({rotation:{degrees:0}},true);if(v<b.x+u){v=b.x+u}else{if(v+u>b.x+b.width){v=b.x+b.width-u}}A=p.height/2+j;z=z+(e=="over"?-A:A);if(z<b.y+j){z+=2*A}else{if(z+j>b.y+b.height){z-=2*A}}}}if(q.chart.animate&&!q.chart.resizing){n.show(true);q.onAnimate(n,{to:{x:v,y:z}})}else{n.setAttributes({x:v,y:z},true);if(s&&q.animation){q.animation.on("afteranimate",function(){n.show(true)})}else{n.show(true)}}},highlightItem:function(){var b=this,a=b.line;b.callParent(arguments);if(a&&!b.highlighted){if(!("__strokeWidth" in a)){a.__strokeWidth=parseFloat(a.attr["stroke-width"])||0}if(a.__anim){a.__anim.paused=true}a.__anim=new Ext.fx.Anim({target:a,to:{"stroke-width":a.__strokeWidth+3}});b.highlighted=true}},unHighlightItem:function(){var b=this,a=b.line,c;b.callParent(arguments);if(a&&b.highlighted){c=a.__strokeWidth||parseFloat(a.attr["stroke-width"])||0;a.__anim=new Ext.fx.Anim({target:a,to:{"stroke-width":c}});b.highlighted=false}},onPlaceCallout:function(m,K,w,u,t,d,v){if(!t){return}var A=this,n=A.chart,L=n.surface,J=n.resizing,q=A.callouts,z=A.items,I=u==0?false:z[u-1].point,B=(u==z.length-1)?false:z[u+1].point,r=[+w.point[0],+w.point[1]],s,C,D,b,e,c,F=q.offsetFromViz||30,G=q.offsetToSide||10,E=q.offsetBox||3,k,l,j,h,H,o=A.clipRect,g={width:q.styles.width||10,height:q.styles.height||10},M,N;if(!I){I=r}if(!B){B=r}b=(B[1]-I[1])/(B[0]-I[0]);e=(r[1]-I[1])/(r[0]-I[0]);c=(B[1]-r[1])/(B[0]-r[0]);C=Math.sqrt(1+b*b);s=[1/C,b/C];D=[-s[1],s[0]];if(e>0&&c<0&&D[1]<0||e<0&&c>0&&D[1]>0){D[0]*=-1;D[1]*=-1}else{if(Math.abs(e)<Math.abs(c)&&D[0]<0||Math.abs(e)>Math.abs(c)&&D[0]>0){D[0]*=-1;D[1]*=-1}}M=r[0]+D[0]*F;N=r[1]+D[1]*F;k=M+(D[0]>0?0:-(g.width+2*E));l=N-g.height/2-E;j=g.width+2*E;h=g.height+2*E;if(k<o[0]||(k+j)>(o[0]+o[2])){D[0]*=-1}if(l<o[1]||(l+h)>(o[1]+o[3])){D[1]*=-1}M=r[0]+D[0]*F;N=r[1]+D[1]*F;k=M+(D[0]>0?0:-(g.width+2*E));l=N-g.height/2-E;j=g.width+2*E;h=g.height+2*E;if(n.animate){A.onAnimate(m.lines,{to:{path:["M",r[0],r[1],"L",M,N,"Z"]}});if(m.panel){m.panel.setPosition(k,l,true)}}else{m.lines.setAttributes({path:["M",r[0],r[1],"L",M,N,"Z"]},true);if(m.panel){m.panel.setPosition(k,l)}}for(H in m){m[H].show(true)}},isItemInPoint:function(u,A,g,e){var k=this,h=k.items,t=k.selectionTolerance,r=null,p,n,q,o,j,v,B,w,C,z,D,c,d,b,l,m,s=Math.sqrt,a=Math.abs;n=h[e];p=e&&h[e-1];if(e>=j){p=h[j-1]}q=p&&p.point;o=n&&n.point;v=p?q[0]:o[0]-t;B=p?q[1]:o[1];w=n?o[0]:q[0]+t;C=n?o[1]:q[1];c=s((u-v)*(u-v)+(A-B)*(A-B));d=s((u-w)*(u-w)+(A-C)*(A-C));b=Math.min(c,d);if(b<=t){return b==c?p:n}return false},toggleAll:function(g){var c=this,a,b,d,e;if(!g){Ext.chart.series.Cartesian.prototype.hideAll.call(c)}else{Ext.chart.series.Cartesian.prototype.showAll.call(c)}if(c.line){c.line.setAttributes({hidden:!g},true);if(c.line.shadows){for(a=0,e=c.line.shadows,b=e.length;a<b;a++){d=e[a];d.setAttributes({hidden:!g},true)}}}if(c.fillPath){c.fillPath.setAttributes({hidden:!g},true)}},hideAll:function(){this.toggleAll(false)},showAll:function(){this.toggleAll(true)}});Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:Ext.chart.series.Series,type:"pie",alias:"series.pie",accuracy:100000,rad:Math.PI*2/100000,highlightDuration:150,angleField:false,lengthField:false,donut:false,showInLegend:false,style:{},constructor:function(c){this.callParent(arguments);var g=this,b=g.chart,k=b.surface,j=b.store,h=b.shadow,d,e,a;c.highlightCfg=Ext.merge({segment:{margin:20}},c.highlightCfg);Ext.apply(g,c,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:0.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:0.6,y:1}}]});g.group=k.getGroup(g.seriesId);if(h){for(d=0,e=g.shadowAttributes.length;d<e;d++){g.shadowGroups.push(k.getGroup(g.seriesId+"-shadows"+d))}}k.customAttributes.segment=function(m){var l=g.getSegment(m);if(!l.path||l.path.length===0){l.path=["M",0,0]}return l};g.__excludes=g.__excludes||[]},onRedraw:function(){this.initialize()},initialize:function(){var d=this,g=d.chart.getChartStore(),a=g.data.items,b,c,e;d.yField=[];if(d.label.field){for(b=0,c=a.length;b<c;b++){e=a[b];d.yField.push(e.get(d.label.field))}}},getSegment:function(p){var n=this,q=n.rad,g=Math.cos,t=Math.sin,w=n.centerX,F=n.centerY,z=0,A=0,B=0,C=0,G=0,H=0,I=0,J=0,D=0,K=0,E=0,L=0,h=0.01,v=p.startAngle,j=p.endAngle,o=(v+j)/2*q,m=p.margin||0,a=Math.min(v,j)*q,b=Math.max(v,j)*q,c=g(a),r=t(a),d=g(b),s=t(b),e=g(o),u=t(o),k=0,l=0.7071067811865476;if(b-a<h){return{path:""}}if(m!==0){w+=m*e;F+=m*u}A=w+p.endRho*c;H=F+p.endRho*r;C=w+p.endRho*d;J=F+p.endRho*s;E=w+p.endRho*e;L=F+p.endRho*u;if(p.startRho!==0){z=w+p.startRho*c;G=F+p.startRho*r;B=w+p.startRho*d;I=F+p.startRho*s;D=w+p.startRho*e;K=F+p.startRho*u;return{path:[["M",A,H],["A",p.endRho,p.endRho,0,0,1,E,L],["L",E,L],["A",p.endRho,p.endRho,0,k,1,C,J],["L",C,J],["L",B,I],["A",p.startRho,p.startRho,0,k,0,D,K],["L",D,K],["A",p.startRho,p.startRho,0,0,0,z,G],["L",z,G],["Z"]]}}else{return{path:[["M",w,F],["L",A,H],["A",p.endRho,p.endRho,0,0,1,E,L],["L",E,L],["A",p.endRho,p.endRho,0,k,1,C,J],["L",C,J],["L",w,F],["Z"]]}}},calcMiddle:function(c){var d=this,h=d.rad,j=c.slice,l=d.centerX,n=d.centerY,k=j.startAngle,b=j.endAngle,a=+d.donut,e=-(k+b)*h/2,g=(c.endRho+c.startRho)/2,m=l+g*Math.cos(e),o=n-g*Math.sin(e);c.middle={x:m,y:o}},drawSeries:function(){var G=this,X=G.chart.getChartStore(),m=X.data.items,J,u=G.group,b=G.chart.animate,s=G.angleField||G.field||G.xField,B=[].concat(G.lengthField),aa=0,g=G.chart,Y=g.surface,h=g.chartBBox,q=g.shadow,Q=G.shadowGroups,P=G.shadowAttributes,E=Q.length,z=B.length,L=0,o=+G.donut,A=[],x=[],Z=0,F=0,a=0,M=G.seriesStyle,l=G.colorArrayStyle,k=l&&l.length||0,K,O,R,N,S,d,e,n,t=0,T,U,V,ab,w,C,D,v,y,r,I,H,W,c;Ext.apply(M,G.style||{});G.setBBox();c=G.bbox;if(G.colorSet){l=G.colorSet;k=l.length}if(!X||!X.getCount()||G.seriesIsHidden){G.hide();G.items=[];return}G.unHighlightItem();G.cleanHighlights();d=G.centerX=h.x+(h.width/2);e=G.centerY=h.y+(h.height/2);G.radius=Math.min(d-h.x,e-h.y);G.slices=U=[];G.items=x=[];for(v=0,D=m.length;v<D;v++){J=m[v];if(this.__excludes&&this.__excludes[v]){continue}Z+=+J.get(s);if(B[0]){for(y=0,aa=0;y<z;y++){aa+=+J.get(B[y])}A[v]=aa;F=Math.max(F,aa)}}Z=Z||1;for(v=0,D=m.length;v<D;v++){J=m[v];if(this.__excludes&&this.__excludes[v]){ab=0}else{ab=J.get(s);if(t==0){t=1}}if(t==1){t=2;G.firstAngle=a=G.accuracy*ab/Z/2;for(y=0;y<v;y++){U[y].startAngle=U[y].endAngle=G.firstAngle}}r=a-G.accuracy*ab/Z;T={series:G,value:ab,startAngle:a,endAngle:r,storeItem:J};if(B[0]){C=+A[v];T.rho=Math.floor(G.radius/F*C)}else{T.rho=G.radius}U[v]=T;(function(){a=r})()}if(q){for(v=0,D=U.length;v<D;v++){T=U[v];T.shadowAttrs=[];for(y=0,L=0,R=[];y<z;y++){V=u.getAt(v*z+y);n=B[y]?X.getAt(v).get(B[y])/A[v]*T.rho:T.rho;K={segment:{startAngle:T.startAngle,endAngle:T.endAngle,margin:0,rho:T.rho,startRho:L+(n*o/100),endRho:L+n},hidden:!T.value&&(T.startAngle%G.accuracy)==(T.endAngle%G.accuracy)};for(S=0,R=[];S<E;S++){O=P[S];N=Q[S].getAt(v);if(!N){N=g.surface.add(Ext.apply({},{type:"path",group:Q[S],strokeLinejoin:"round"},K,O))}O=G.renderer(N,X.getAt(v),Ext.apply({},K,O),v,X);if(b){G.onAnimate(N,{to:O})}else{N.setAttributes(O,true)}R.push(N)}T.shadowAttrs[y]=R}}}for(v=0,D=U.length;v<D;v++){T=U[v];for(y=0,L=0;y<z;y++){V=u.getAt(v*z+y);n=B[y]?X.getAt(v).get(B[y])/A[v]*T.rho:T.rho;K=Ext.apply({segment:{startAngle:T.startAngle,endAngle:T.endAngle,margin:0,rho:T.rho,startRho:L+(n*o/100),endRho:L+n},hidden:(!T.value&&(T.startAngle%G.accuracy)==(T.endAngle%G.accuracy))},Ext.apply(M,l&&{fill:l[(z>1?y:v)%k]}||{}));w=Ext.apply({},K.segment,{slice:T,series:G,storeItem:T.storeItem,index:v});G.calcMiddle(w);if(q){w.shadows=T.shadowAttrs[y]}x[v]=w;if(!V){W=Ext.apply({type:"path",group:u,middle:w.middle},Ext.apply(M,l&&{fill:l[(z>1?y:v)%k]}||{}));V=Y.add(Ext.apply(W,K))}T.sprite=T.sprite||[];w.sprite=V;T.sprite.push(V);T.point=[w.middle.x,w.middle.y];if(b){K=G.renderer(V,X.getAt(v),K,v,X);V._to=K;V._animating=true;G.onAnimate(V,{to:K,listeners:{afteranimate:{fn:function(){this._animating=false},scope:V}}})}else{K=G.renderer(V,X.getAt(v),Ext.apply(K,{hidden:false}),v,X);V.setAttributes(K,true)}L+=n}}D=u.getCount();for(v=0;v<D;v++){if(!U[(v/z)>>0]&&u.getAt(v)){u.getAt(v).hide(true)}}if(q){E=Q.length;for(S=0;S<D;S++){if(!U[(S/z)>>0]){for(y=0;y<E;y++){if(Q[y].getAt(S)){Q[y].getAt(S).hide(true)}}}}}G.renderLabels();G.renderCallouts()},onCreateLabel:function(m,j,h,d){var k=this,g=k.labelsGroup,c=k.label,a=k.centerX,b=k.centerY,l=j.middle,e=Ext.apply(k.seriesLabelStyle||{},c||{});return k.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:g,x:l.x,y:l.y},e))},onPlaceLabel:function(r,B,q,o,h,a,p){var t=this,d=t.chart,z=d.resizing,e=t.label,l=e.renderer,j=e.field,b=t.centerX,c=t.centerY,u=q.middle,v={x:u.x,y:u.y},E=u.x-b,F=u.y-c,m={},A=1,C=Math.atan2(F,E||1),g=C*180/Math.PI,w,s,D,n;v.hidden=false;if(this.__excludes&&this.__excludes[o]){v.hidden=true}function k(x){if(x<0){x+=360}return x%360}r.setAttributes({text:l(B.get(j),r,B,q,o,h,a,p)},true);switch(h){case"outside":A=Math.sqrt(E*E+F*F)*2;r.setAttributes({rotation:{degrees:0}},true);s=r.getBBox();D=s.width/2*Math.cos(C)+4;n=s.height/2*Math.sin(C)+4;A+=Math.sqrt(D*D+n*n);v.x=A*Math.cos(C)+b;v.y=A*Math.sin(C)+c;break;case"rotate":g=k(g);g=(g>90&&g<270)?g+180:g;w=r.attr.rotation.degrees;if(w!=null&&Math.abs(w-g)>180*0.5){if(g>w){g-=360}else{g+=360}g=g%360}else{g=k(g)}v.rotate={degrees:g,x:v.x,y:v.y};break;default:break}v.translate={x:0,y:0};if(a&&!z&&(h!="rotate"||w!=null)){t.onAnimate(r,{to:v})}else{r.setAttributes(v,true)}r._from=m},onPlaceCallout:function(c,w,l,j,h,a,k){var m=this,g=m.chart,d=m.centerX,e=m.centerY,n=l.middle,s={x:n.x,y:n.y},A=n.x-d,B=n.y-e,u=1,v,z=Math.atan2(B,A||1),b=(c&&c.label?c.label.getBBox():{width:0,height:0}),q=20,r=10,o=10,t;if(!b.width||!b.height){return}u=l.endRho+q;v=(l.endRho+l.startRho)/2+(l.endRho-l.startRho)/3;s.x=u*Math.cos(z)+d;s.y=u*Math.sin(z)+e;A=v*Math.cos(z);B=v*Math.sin(z);if(g.animate){m.onAnimate(c.lines,{to:{path:["M",A+d,B+e,"L",s.x,s.y,"Z","M",s.x,s.y,"l",A>0?r:-r,0,"z"]}});m.onAnimate(c.box,{to:{x:s.x+(A>0?r:-(r+b.width+2*o)),y:s.y+(B>0?(-b.height-o/2):(-b.height-o/2)),width:b.width+2*o,height:b.height+2*o}});m.onAnimate(c.label,{to:{x:s.x+(A>0?(r+o):-(r+b.width+o)),y:s.y+(B>0?-b.height/4:-b.height/4)}})}else{c.lines.setAttributes({path:["M",A+d,B+e,"L",s.x,s.y,"Z","M",s.x,s.y,"l",A>0?r:-r,0,"z"]},true);c.box.setAttributes({x:s.x+(A>0?r:-(r+b.width+2*o)),y:s.y+(B>0?(-b.height-o/2):(-b.height-o/2)),width:b.width+2*o,height:b.height+2*o},true);c.label.setAttributes({x:s.x+(A>0?(r+o):-(r+b.width+o)),y:s.y+(B>0?-b.height/4:-b.height/4)},true)}for(t in c){c[t].show(true)}},onAnimate:function(b,a){b.show();return this.callParent(arguments)},isItemInPoint:function(o,p,k,j){var l=this,c=l.centerX,d=l.centerY,a=Math.abs,e=a(o-c),g=a(p-d),n=k.startAngle,h=k.endAngle,m=Math.sqrt(e*e+g*g),b=Math.atan2(p-d,o-c)/l.rad;if(b>l.firstAngle){b-=l.accuracy}return(b<=n&&b>h&&m>=k.startRho&&m<=k.endRho)},hideAll:function(b){var a,c,g,h,e,d,j;b=(isNaN(this._index)?b:this._index)||0;this.__excludes=this.__excludes||[];this.__excludes[b]=true;j=this.slices[b].sprite;for(e=0,d=j.length;e<d;e++){j[e].setAttributes({hidden:true},true)}if(this.slices[b].shadowAttrs){for(a=0,h=this.slices[b].shadowAttrs,c=h.length;a<c;a++){g=h[a];for(e=0,d=g.length;e<d;e++){g[e].setAttributes({hidden:true},true)}}}this.drawSeries()},showAll:function(a){a=(isNaN(this._index)?a:this._index)||0;this.__excludes[a]=false;this.drawSeries()},highlightItem:function(h){var m=this,q=m.rad,e,a,b,g,t,s,l,u,j,o,d,c,k,n,p,v,w;h=h||this.items[this._index];this.unHighlightItem();if(!h||m.animating||(h.sprite&&h.sprite._animating)){return}m.callParent([h]);if(!m.highlight){return}if("segment" in m.highlightCfg){e=m.highlightCfg.segment;a=m.chart.animate;if(m.labelsGroup){d=m.labelsGroup;c=m.label.display;k=d.getAt(h.index);n=(h.startAngle+h.endAngle)/2*q;p=e.margin||0;v=p*Math.cos(n);w=p*Math.sin(n);if(Math.abs(v)<1e-10){v=0}if(Math.abs(w)<1e-10){w=0}if(a){k.stopAnimation();k.animate({to:{translate:{x:v,y:w}},duration:m.highlightDuration})}else{k.setAttributes({translate:{x:v,y:w}},true)}}if(m.chart.shadow&&h.shadows){g=0;t=h.shadows;l=t.length;for(;g<l;g++){s=t[g];u={};j=h.sprite._from.segment;for(o in j){if(!(o in e)){u[o]=j[o]}}b={segment:Ext.applyIf(u,m.highlightCfg.segment)};if(a){s.stopAnimation();s.animate({to:b,duration:m.highlightDuration})}else{s.setAttributes(b,true)}}}}},unHighlightItem:function(){var q=this,l,a,v,d,o,g,m,c,t,r,x,h,e,w,u,s,k,n,b;if(!q.highlight){return}if(("segment" in q.highlightCfg)&&q.items){l=q.items;a=q.chart.animate;v=!!q.chart.shadow;d=q.labelsGroup;o=l.length;g=0;m=0;c=q.label.display;for(;g<o;g++){k=l[g];if(!k){continue}w=k.sprite;if(w&&w._highlighted){if(d){n=d.getAt(k.index);b=Ext.apply({translate:{x:0,y:0}},c=="rotate"?{rotate:{x:n.attr.x,y:n.attr.y,degrees:n.attr.rotation.degrees}}:{});if(a){n.stopAnimation();n.animate({to:b,duration:q.highlightDuration})}else{n.setAttributes(b,true)}}if(v){u=k.shadows;t=u.length;for(;m<t;m++){x={};h=k.sprite._to.segment;e=k.sprite._from.segment;Ext.apply(x,e);for(r in h){if(!(r in e)){x[r]=h[r]}}s=u[m];if(a){s.stopAnimation();s.animate({to:{segment:x},duration:q.highlightDuration})}else{s.setAttributes({segment:x},true)}}}}}}q.callParent(arguments)},getLegendColor:function(a){var b=this;return(b.colorSet&&b.colorSet[a%b.colorSet.length])||b.colorArrayStyle[a%b.colorArrayStyle.length]}});Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Series,type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:false,style:{},constructor:function(a){this.callParent(arguments);var b=this,c=b.chart.surface;b.group=c.getGroup(b.seriesId);if(b.showMarkers){b.markerGroup=c.getGroup(b.seriesId+"-markers")}},drawSeries:function(){var z=this,N=z.chart.getChartStore(),n=N.data.items,m,E,q=z.group,g=z.chart,I=g.series.items,G,L,H,o=z.field||z.yField,O=g.surface,h=g.chartBBox,j=z.colorArrayStyle,c,e,t,D,w=0,p=[],v=Math.max,k=Math.cos,K=Math.sin,C=Math.PI*2,u=N.getCount(),M,B,P,Q,F,r,A,J=z.seriesStyle,b=g.axes&&g.axes.get(0),a=!(b&&b.maximum);z.setBBox();w=a?0:(b.maximum||0);Ext.apply(J,z.style||{});if(!N||!N.getCount()||z.seriesIsHidden){z.hide();z.items=[];if(z.radar){z.radar.hide(true)}z.radar=null;return}if(!J.stroke){J.stroke=j[z.themeIdx%j.length]}z.unHighlightItem();z.cleanHighlights();c=z.centerX=h.x+(h.width/2);e=z.centerY=h.y+(h.height/2);z.radius=D=Math.min(h.width,h.height)/2;z.items=t=[];if(a){for(G=0,L=I.length;G<L;G++){H=I[G];p.push(H.yField)}for(m=0;m<u;m++){E=n[m];for(r=0,A=p.length;r<A;r++){w=v(+E.get(p[r]),w)}}}w=w||1;M=[];B=[];for(r=0;r<u;r++){E=n[r];F=D*E.get(o)/w;P=F*k(r/u*C);Q=F*K(r/u*C);if(r==0){B.push("M",P+c,Q+e);M.push("M",0.01*P+c,0.01*Q+e)}else{B.push("L",P+c,Q+e);M.push("L",0.01*P+c,0.01*Q+e)}t.push({sprite:false,point:[c+P,e+Q],storeItem:E,series:z})}B.push("Z");if(!z.radar){z.radar=O.add(Ext.apply({type:"path",group:q,path:M},J||{}))}if(g.resizing){z.radar.setAttributes({path:M},true)}if(g.animate){z.onAnimate(z.radar,{to:Ext.apply({path:B},J||{})})}else{z.radar.setAttributes(Ext.apply({path:B},J||{}),true)}if(z.showMarkers){z.drawMarkers()}z.renderLabels();z.renderCallouts()},drawMarkers:function(){var o=this,c=o.chart,r=c.surface,q=c.getChartStore(),n=Ext.apply({},o.markerStyle||{}),d=Ext.apply(n,o.markerConfig,{fill:o.colorArrayStyle[o.themeIdx%o.colorArrayStyle.length]}),h=o.items,s=d.type,m=o.markerGroup,a=o.centerX,b=o.centerY,g,e,j,k,p;delete d.type;for(e=0,j=h.length;e<j;e++){g=h[e];k=m.getAt(e);if(!k){k=Ext.chart.Shape[s](r,Ext.apply({group:m,x:0,y:0,translate:{x:a,y:b}},d))}else{k.show()}g.sprite=k;if(c.resizing){k.setAttributes({x:0,y:0,translate:{x:a,y:b}},true)}k._to={translate:{x:g.point[0],y:g.point[1]}};p=o.renderer(k,q.getAt(e),k._to,e,q);p=Ext.applyIf(p||{},d||{});if(c.animate){o.onAnimate(k,{to:p})}else{k.setAttributes(p,true)}}},isItemInPoint:function(e,g,b){var c,d=10,a=Math.abs;c=b.point;return(a(c[0]-e)<=d&&a(c[1]-g)<=d)},onCreateLabel:function(l,j,h,d){var k=this,g=k.labelsGroup,c=k.label,a=k.centerX,b=k.centerY,e=Ext.apply({},c,k.seriesLabelStyle||{});return k.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:g,x:a,y:b},e||{}))},onPlaceLabel:function(q,v,p,n,j,a,o){var s=this,d=s.chart,u=d.resizing,e=s.label,m=e.renderer,k=e.field,b=s.centerX,c=s.centerY,t={x:Number(p.point[0]),y:Number(p.point[1])},z=t.x-b,A=t.y-c,w=Math.atan2(A,z||1),g=w*180/Math.PI,r,h;function l(x){if(x<0){x+=360}return x%360}q.setAttributes({text:m(v.get(k),q,v,p,n,j,a,o),hidden:true},true);r=q.getBBox();g=l(g);if((g>45&&g<135)||(g>225&&g<315)){h=(g>45&&g<135?1:-1);t.y+=h*r.height/2}else{h=(g>=135&&g<=225?-1:1);t.x+=h*r.width/2}if(u){q.setAttributes({x:b,y:c},true)}if(a){q.show(true);s.onAnimate(q,{to:t})}else{q.setAttributes(t,true);q.show(true)}},toggleAll:function(g){var c=this,a,b,d,e;if(!g){Ext.chart.series.Radar.superclass.hideAll.call(c)}else{Ext.chart.series.Radar.superclass.showAll.call(c)}if(c.radar){c.radar.setAttributes({hidden:!g},true);if(c.radar.shadows){for(a=0,e=c.radar.shadows,b=e.length;a<b;a++){d=e[a];d.setAttributes({hidden:!g},true)}}}},hideAll:function(){this.toggleAll(false);this.hideMarkers(0)},showAll:function(){this.toggleAll(true)},hideMarkers:function(c){var d=this,a=d.markerGroup&&d.markerGroup.getCount()||0,b=c||0;for(;b<a;b++){d.markerGroup.getAt(b).hide(true)}},getAxesForXAndYFields:function(){var d=this,c=d.chart,a=c.axes,b=[].concat(a&&a.get(0));return{yAxis:b}}});Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,type:"scatter",alias:"series.scatter",constructor:function(a){this.callParent(arguments);var d=this,e=d.chart.shadow,g=d.chart.surface,b,c;Ext.apply(d,a,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":0.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":0.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":0.15,stroke:"rgb(0, 0, 0)"}]});d.group=g.getGroup(d.seriesId);if(e){for(b=0,c=d.shadowAttributes.length;b<c;b++){d.shadowGroups.push(g.getGroup(d.seriesId+"-shadows"+b))}}},getBounds:function(){var o=this,g=o.chart,r=g.getChartStore(),h=g.axes,c=o.getAxesForXAndYFields(),d=c.xAxis,e=c.yAxis,b,s,t,l,p,q,m,n,k,a,j;o.setBBox();b=o.bbox;if(a=h.get(d)){j=a.applyData();p=j.from;m=j.to}if(a=h.get(e)){j=a.applyData();q=j.from;n=j.to}if(o.xField&&!Ext.isNumber(p)){a=o.getMinMaxXValues();p=a[0];m=a[1]}if(o.yField&&!Ext.isNumber(q)){a=o.getMinMaxYValues();q=a[0];n=a[1]}if(isNaN(p)){p=0;m=r.getCount()-1;s=b.width/(r.getCount()-1)}else{s=b.width/(m-p)}if(isNaN(q)){q=0;n=r.getCount()-1;t=b.height/(r.getCount()-1)}else{t=b.height/(n-q)}return{bbox:b,minX:p,minY:q,xScale:s,yScale:t}},getPaths:function(){var p=this,h=p.chart,k=h.shadow,u=h.getChartStore(),j=u.data.items,m,o,s,l=p.group,c=p.bounds=p.getBounds(),b=p.bbox,w=c.xScale,B=c.yScale,q=c.minX,r=c.minY,e=b.x,g=b.y,d=b.height,n=p.items=[],a=[],v,A,z,C,t;for(m=0,o=j.length;m<o;m++){s=j[m];z=s.get(p.xField);C=s.get(p.yField);if(typeof C=="undefined"||(typeof C=="string"&&!C)||z==null||C==null){continue}if(typeof z=="string"||typeof z=="object"&&!Ext.isDate(z)){z=m}if(typeof C=="string"||typeof C=="object"&&!Ext.isDate(C)){C=m}v=e+(z-q)*w;A=g+d-(C-r)*B;a.push({x:v,y:A});p.items.push({series:p,value:[z,C],point:[v,A],storeItem:s});if(h.animate&&h.resizing){t=l.getAt(m);if(t){p.resetPoint(t);if(k){p.resetShadow(t)}}}}return a},resetPoint:function(b){var a=this.bbox;b.setAttributes({translate:{x:(a.x+a.width)/2,y:(a.y+a.height)/2}},true)},resetShadow:function(j){var e=this,h=j.shadows,g=e.shadowAttributes,d=e.shadowGroups.length,b=e.bbox,c,a;for(c=0;c<d;c++){a=Ext.apply({},g[c]);if(a.translate){a.translate.x+=(b.x+b.width)/2;a.translate.y+=(b.y+b.height)/2}else{a.translate={x:(b.x+b.width)/2,y:(b.y+b.height)/2}}h[c].setAttributes(a,true)}},createPoint:function(a,g){var e=this,c=e.chart,d=e.group,b=e.bbox;return Ext.chart.Shape[g](c.surface,Ext.apply({},{x:0,y:0,group:d,translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}},a))},createShadow:function(n,d,o){var h=this,c=h.chart,l=h.shadowGroups,k=h.shadowAttributes,g=l.length,b=h.bbox,e,j,m,a;n.shadows=m=[];for(e=0;e<g;e++){a=Ext.apply({},k[e]);if(a.translate){a.translate.x+=(b.x+b.width)/2;a.translate.y+=(b.y+b.height)/2}else{Ext.apply(a,{translate:{x:(b.x+b.width)/2,y:(b.y+b.height)/2}})}Ext.apply(a,d);j=Ext.chart.Shape[o](c.surface,Ext.apply({},{x:0,y:0,group:l[e]},a));m.push(j)}},drawSeries:function(){var l=this,c=l.chart,t=c.getChartStore(),g=l.group,d=c.shadow,p=l.shadowGroups,o=l.shadowAttributes,k=p.length,s,b,a,j,h,e,r,u,q,m,n;e=Ext.apply(l.markerStyle,l.markerConfig);u=e.type||"circle";delete e.type;if(!t||!t.getCount()){l.hide();l.items=[];return}l.unHighlightItem();l.cleanHighlights();b=l.getPaths();j=b.length;for(h=0;h<j;h++){a=b[h];s=g.getAt(h);Ext.apply(a,e);if(!s){s=l.createPoint(a,u);if(d){l.createShadow(s,e,u)}}q=s.shadows;if(c.animate){m=l.renderer(s,t.getAt(h),{translate:a},h,t);s._to=m;l.onAnimate(s,{to:m});for(r=0;r<k;r++){n=Ext.apply({},o[r]);m=l.renderer(q[r],t.getAt(h),Ext.apply({},{hidden:false,translate:{x:a.x+(n.translate?n.translate.x:0),y:a.y+(n.translate?n.translate.y:0)}},n),h,t);l.onAnimate(q[r],{to:m})}}else{m=l.renderer(s,t.getAt(h),{translate:a},h,t);s._to=m;s.setAttributes(m,true);for(r=0;r<k;r++){n=Ext.apply({},o[r]);m=l.renderer(q[r],t.getAt(h),Ext.apply({},{hidden:false,translate:{x:a.x+(n.translate?n.translate.x:0),y:a.y+(n.translate?n.translate.y:0)}},n),h,t);q[r].setAttributes(m,true)}}l.items[h].sprite=s}j=g.getCount();for(h=b.length;h<j;h++){g.getAt(h).hide(true)}l.renderLabels();l.renderCallouts()},onCreateLabel:function(k,h,g,c){var j=this,e=j.labelsGroup,b=j.label,d=Ext.apply({},b,j.seriesLabelStyle),a=j.bbox;return j.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:e,x:Number(h.point[0]),y:a.y+a.height/2},d))},onPlaceLabel:function(o,u,n,l,g,b,m){var r=this,d=r.chart,t=d.resizing,e=r.label,j=e.renderer,h=e.field,c=r.bbox,w=Number(n.point[0]),A=Number(n.point[1]),s=n.sprite.attr.radius,p,q,v,k,z,B,a;o.setAttributes({text:j(u.get(h),o,u,n,l,g,b,m),hidden:true},true);q=n.sprite.getBBox();q.width=q.width||(s*2);q.height=q.height||(s*2);p=o.getBBox();v=p.width/2;k=p.height/2;if(g=="rotate"){z=q.width/2+v+k/2;if(w+z+v>c.x+c.width){w-=z}else{w+=z}o.setAttributes({rotation:{x:w,y:A,degrees:-45}},true)}else{if(g=="under"||g=="over"){o.setAttributes({rotation:{degrees:0}},true);if(w<c.x+v){w=c.x+v}else{if(w+v>c.x+c.width){w=c.x+c.width-v}}B=q.height/2+k;A=A+(g=="over"?-B:B);if(A<c.y+k){A+=2*B}else{if(A+k>c.y+c.height){A-=2*B}}}}if(!d.animate){o.setAttributes({x:w,y:A},true);o.show(true)}else{if(t){a=n.sprite.getActiveAnimation();if(a){a.on("afteranimate",function(){o.setAttributes({x:w,y:A},true);o.show(true)})}else{o.show(true)}}else{r.onAnimate(o,{to:{x:w,y:A}})}}},onPlaceCallout:function(h,C,r,o,n,a,q){var t=this,j=t.chart,D=j.surface,B=j.resizing,l=t.callouts,s=t.items,m=r.point,u,b=h.label.getBBox(),w=30,z=10,v=3,e,g,d,c,A,k=t.bbox,E,F;u=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)];E=m[0]+u[0]*w;F=m[1]+u[1]*w;e=E+(u[0]>0?0:-(b.width+2*v));g=F-b.height/2-v;d=b.width+2*v;c=b.height+2*v;if(e<k[0]||(e+d)>(k[0]+k[2])){u[0]*=-1}if(g<k[1]||(g+c)>(k[1]+k[3])){u[1]*=-1}E=m[0]+u[0]*w;F=m[1]+u[1]*w;e=E+(u[0]>0?0:-(b.width+2*v));g=F-b.height/2-v;d=b.width+2*v;c=b.height+2*v;if(j.animate){t.onAnimate(h.lines,{to:{path:["M",m[0],m[1],"L",E,F,"Z"]}},true);t.onAnimate(h.box,{to:{x:e,y:g,width:d,height:c}},true);t.onAnimate(h.label,{to:{x:E+(u[0]>0?v:-(b.width+v)),y:F}},true)}else{h.lines.setAttributes({path:["M",m[0],m[1],"L",E,F,"Z"]},true);h.box.setAttributes({x:e,y:g,width:d,height:c},true);h.label.setAttributes({x:E+(u[0]>0?v:-(b.width+v)),y:F},true)}for(A in h){h[A].show(true)}},onAnimate:function(b,a){b.show();return this.callParent(arguments)},isItemInPoint:function(g,h,c){var d,e=10,a=Math.abs;function b(l){var j=a(l[0]-g),k=a(l[1]-h);return Math.sqrt(j*j+k*k)}d=c.point;return(d[0]-e<=g&&d[0]+e>=g&&d[1]-e<=h&&d[1]+e>=h)}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",createsInnerCt:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(a){return this.autoSizePolicy},initHierarchyState:function(a){a.inShrinkWrapTable=true},getLayoutItems:function(){var e=this,g=[],c=e.callParent(),b,d=c.length,a;for(a=0;a<d;a++){b=c[a];if(!b.hidden){g.push(b)}}return g},getHiddenItems:function(){var e=[],c=this.owner.items.items,d=c.length,a=0,b;for(;a<d;++a){b=c[a];if(b.rendered&&b.hidden){e.push(b)}}return e},renderChildren:function(){var m=this,k=m.getLayoutItems(),p=m.owner.getTargetEl().child("table",true).tBodies[0],o=p.rows,g=0,l=k.length,e=m.getHiddenItems(),b,c,n,a,h,r,q,j,d;b=m.calculateCells(k);for(;g<l;g++){c=b[g];n=c.rowIdx;a=c.cellIdx;h=k[g];r=o[n];if(!r){r=p.insertRow(n);if(m.trAttrs){r.set(m.trAttrs)}}j=q=Ext.get(r.cells[a]||r.insertCell(a));if(m.needsDivWrap()){j=q.first()||q.createChild({tag:"div"});j.setWidth(null)}if(!h.rendered){m.renderItem(h,j,0)}else{if(!m.isValidParent(h,j,n,a,p)){m.moveItem(h,j,0)}}if(m.tdAttrs){q.set(m.tdAttrs)}if(h.tdAttrs){q.set(h.tdAttrs)}q.set({colSpan:h.colspan||1,rowSpan:h.rowspan||1,id:h.cellId||"",cls:m.cellCls+" "+(h.cellCls||"")});if(!b[g+1]||b[g+1].rowIdx!==n){a++;while(r.cells[a]){r.deleteCell(a)}}}n++;while(p.rows[n]){p.deleteRow(n)}for(g=0,l=e.length;g<l;++g){m.ensureInDocument(e[g].getEl())}},ensureInDocument:function(b){var a=b.dom.parentNode;while(a){if(a.tagName.toUpperCase()=="BODY"){return}a=a.parentNode}Ext.getDetachedBody().appendChild(b)},calculate:function(b){if(!b.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var e=b.targetContext,h=b.widthModel.shrinkWrap,a=b.heightModel.shrinkWrap,c=a||h,d=c&&e.el.child("table",true),g=c&&e.getPaddingInfo();if(h){b.setContentWidth(d.offsetWidth+g.width,true)}if(a){b.setContentHeight(d.offsetHeight+g.height,true)}}},finalizeLayout:function(){if(this.needsDivWrap()){var d=this.getLayoutItems(),a,b=d.length,c;for(a=0;a<b;a++){c=d[a];Ext.fly(c.el.dom.parentNode).setWidth(c.getWidth())}}if(Ext.isIE6||Ext.isIEQuirks){this.owner.getTargetEl().child("table").repaint()}},calculateCells:function(g){var b=[],l=0,c=0,a=0,n=this.columns||Infinity,m=[],d=0,h,k=g.length,e;for(;d<k;d++){e=g[d];while(c>=n||m[c]>0){if(c>=n){c=0;a=0;l++;for(h=0;h<n;h++){if(m[h]>0){m[h]--}}}else{c++}}b.push({rowIdx:l,cellIdx:a});for(h=e.colspan||1;h;--h){m[c]=e.rowspan||1;++c}++a}return b},getRenderTree:function(){var k=this,h=k.getLayoutItems(),c,o=[],m=Ext.apply({tag:"table",role:"presentation",cls:k.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:o}},k.tableAttrs),p=k.tdAttrs,l=k.needsDivWrap(),e,j=h.length,g,d,q,n,b,a;c=k.calculateCells(h);for(e=0;e<j;e++){g=h[e];d=c[e];n=d.rowIdx;b=d.cellIdx;q=o[n];if(!q){q=o[n]={tag:"tr",cn:[]};if(k.trAttrs){Ext.apply(q,k.trAttrs)}}a=q.cn[b]={tag:"td"};if(p){Ext.apply(a,p)}Ext.apply(a,{colSpan:g.colspan||1,rowSpan:g.rowspan||1,id:g.cellId||"",cls:k.cellCls+" "+(g.cellCls||"")});if(l){a=a.cn={tag:"div"}}k.configureItem(g);a.cn=g.getRenderTree()}return m},isValidParent:function(c,g,d,a){var h,b,e;if(arguments.length===3){e=c.el.up("table");return e&&e.dom.parentNode===g.dom}h=this.owner.getTargetEl().child("table",true).tBodies[0];b=h.rows[d].cells[a];return c.el.dom.parentNode===b},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,titleAlign:"center",noTitleCls:"notitle",initComponent:function(){var b=this,a=b.columns;if(a){b.layout=Ext.apply({},{columns:a},b.layout)}if(!b.title){b.addClsWithUI(b.noTitleCls)}b.callParent(arguments)},onBeforeAdd:function(a){if(a.isButton){if(this.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui")){a.ui=this.defaultButtonUI}else{a.ui=a.ui+"-toolbar"}}this.callParent(arguments)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a}});Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(b){var a=this;a.target=b;b.on("beforedestroy",a.disable,a);a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;if(b){b.un("beforedestroy",a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(b,a){if(!this.disabled){if(a.is(this.selector)){this.onItemAdd(a.ownerCt,a)}if(a.isQueryable){this.onContainerAdd(a)}}},onItemAdd:function(b,a){var e=this,d=e.items,c=e.addHandler;if(!e.disabled){if(c){c.call(e.scope||a,a)}if(d){d.add(a)}}},onItemRemove:function(b,a){var e=this,d=e.items,c=e.removeHandler;if(!e.disabled){if(c){c.call(e.scope||a,a)}if(d){d.remove(a)}}},onContainerAdd:function(b,k){var j=this,g,h,c=j.handleAdd,d=j.handleRemove,e,a;if(b.isContainer){b.on("add",c,j);b.on("dockedadd",c,j);b.on("remove",d,j);b.on("dockedremove",d,j)}if(k!==true){g=b.query(j.selector);for(e=0,h=g.length;e<h;++e){a=g[e];j.onItemAdd(a.ownerCt,a)}}g=b.query("container");for(e=0,h=g.length;e<h;++e){j.onContainerAdd(g[e],true)}},handleRemove:function(b,a){var c=this;if(!c.disabled){if(a.is(c.selector)){c.onItemRemove(b,a)}if(a.isQueryable){c.onContainerRemove(b,a)}}},onContainerRemove:function(b,a){var h=this,e,c,g,d;if(!a.isDestroyed&&!a.destroying&&a.isContainer){h.removeCtListeners(a);e=a.query(h.selector);for(c=0,g=e.length;c<g;++c){d=e[c];h.onItemRemove(d.ownerCt,d)}e=a.query("container");for(c=0,g=e.length;c<g;++c){h.removeCtListeners(e[c])}}else{h.invalidateItems()}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b);a.un("dockedadd",b.handleAdd,b);a.un("remove",b.handleRemove,b);a.un("dockedremove",b.handleRemove,b)},getItems:function(){var b=this,a=b.items;if(!a){a=b.items=new Ext.util.MixedCollection();a.addAll(b.target.query(b.selector))}return a},invalidateItems:function(){this.items=null}});Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,alias:"widget.viewport",alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",preserveElOnDestroy:true,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var c=this,b=document.body.parentNode,a=c.el=Ext.getBody();Ext.getScrollbarSize();c.width=c.height=undefined;c.callParent(arguments);Ext.fly(b).addCls(c.viewportCls);if(c.autoScroll){Ext.fly(b).setStyle(c.getOverflowStyle());delete c.autoScroll}a.setHeight=a.setWidth=Ext.emptyFn;a.dom.scroll="no";c.allowDomMove=false;c.renderTo=c.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(b,a){if(b!=this.width||a!=this.height){this.setSize(b,a)}},initHierarchyState:function(a){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var a=this;a.removeUIFromElement();a.el.removeCls(a.baseCls);Ext.fly(document.body.parentNode).removeCls(a.viewportCls);a.callParent()}});Ext.define("Ext.data.IdGenerator",{isGenerator:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.id){Ext.data.IdGenerator.all[b.id]=b}},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var b,c,d;if(typeof a=="string"){c=d=a;a=null}else{if(a.isGenerator){return a}else{c=a.id||a.type;d=a.type}}b=this.all[c];if(!b){b=Ext.create("idgen."+d,a)}return b}}});Ext.define("Ext.data.SortTypes",{singleton:true,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}});Ext.define("Ext.data.Types",{singleton:true},function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(c){var b=this.useNull?null:"";return(c===undefined||c===null)?b:String(c)},sortType:a.asUCString,type:"string"},INT:{convert:function(b){if(typeof b=="number"){return parseInt(b)}return b!==undefined&&b!==null&&b!==""?parseInt(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"int"},FLOAT:{convert:function(b){if(typeof b==="number"){return b}return b!==undefined&&b!==null&&b!==""?parseFloat(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"float"},BOOL:{convert:function(b){if(typeof b==="boolean"){return b}if(this.useNull&&(b===undefined||b===null||b==="")){return null}return b==="true"||b==1},sortType:a.none,type:"bool"},DATE:{convert:function(d){var b=this.dateReadFormat||this.dateFormat,c;if(!d){return null}if(d instanceof Date){return d}if(b){return Ext.Date.parse(d,b)}c=Date.parse(d);return c?new Date(c):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});Ext.define("Ext.data.Field",{alias:"data.field",isField:true,constructor:function(a){var b=this,d=Ext.data.Types,c;if(Ext.isString(a)){a={name:a}}Ext.apply(b,a);c=b.sortType;if(b.type){if(Ext.isString(b.type)){b.type=d[b.type.toUpperCase()]||d.AUTO}}else{b.type=d.AUTO}if(Ext.isString(c)){b.sortType=Ext.data.SortTypes[c]}else{if(Ext.isEmpty(c)){b.sortType=b.type.sortType}}if(!a.hasOwnProperty("convert")){b.convert=b.type.convert}else{if(!b.convert&&b.type.convert&&!a.hasOwnProperty("defaultValue")){b.defaultValue=b.type.convert(b.defaultValue)}}if(a.convert){b.hasCustomConvert=true}},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true});Ext.define("Ext.data.Errors",{extend:Ext.util.MixedCollection,isValid:function(){return this.length===0},getByField:function(c){var b=[],a,d;for(d=0;d<this.length;d++){a=this.items[d];if(a.field==c){b.push(a)}}return b}});Ext.define("Ext.data.validations",{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){if(arguments.length===1){b=a}return !!b||b===0||b===false},length:function(a,e){if(e===undefined||e===null){return false}var b=e.length,d=a.min,c=a.max;if((d&&b<d)||(c&&b>c)){return false}else{return true}},email:function(a,b){return Ext.data.validations.emailRe.test(b)},format:function(a,b){return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.util.Observable},compareConvertFields:function(a,c){var b=a.convert&&a.type&&a.convert!==a.type.convert,d=c.convert&&c.type&&c.convert!==c.type.convert;if(b&&!d){return 1}if(!b&&d){return -1}return 0},itemNameFn:function(a){return a.name},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(k,m){var y=this,z=Ext.getClassName(k),B=k.prototype,D=k.prototype.superclass,G=m.validations||[],q=m.fields||[],o,h=m.associations||[],e=function(J,L){var H=0,K,I;if(J){J=Ext.Array.from(J);for(K=J.length;H<K;++H){I=J[H];if(!Ext.isObject(I)){I={model:I}}I.type=L;h.push(I)}}},v=m.idgen,r=new Ext.util.MixedCollection(false,B.itemNameFn),j=new Ext.util.MixedCollection(false,B.itemNameFn),F=D.validations,E=D.fields,C=D.associations,g,s,x,n=[],w="idProperty" in m?m.idProperty:B.idProperty,t=w?(w.isField?w:new Ext.data.Field(w)):null,u=false,A=function(H,I,J){var K,L;if(r.events.add.firing){L=H;K=I}else{K=J;L=I.originalIndex}K.originalIndex=L;if(t&&((K.mapping&&(K.mapping===t.mapping))||(K.name===t.name))){B.idField=K;u=true;K.defaultValue=undefined}},l=m.proxy,p=function(){r.sortBy(B.compareConvertFields)};k.modelName=z;B.modelName=z;if(F){G=F.concat(G)}m.validations=G;if(E){q=E.items.concat(q)}r.on({add:A,replace:A});for(s=0,x=q.length;s<x;++s){o=q[s];r.add(o.isField?o:new Ext.data.Field(o))}if(t&&!u){B.idField=t;t.defaultValue=undefined;r.add(t)}p();r.on({add:p,replace:p});m.fields=r;if(v){m.idgen=Ext.data.IdGenerator.get(v)}e(m.belongsTo,"belongsTo");delete m.belongsTo;e(m.hasMany,"hasMany");delete m.hasMany;e(m.hasOne,"hasOne");delete m.hasOne;if(C){h=C.items.concat(h)}for(s=0,x=h.length;s<x;++s){n.push("association."+h[s].type.toLowerCase())}if(l){if(!l.isProxy){n.push("proxy."+(l.type||l))}}else{if(!k.prototype.proxy){k.prototype.proxy=k.prototype.defaultProxyType;n.push("proxy."+k.prototype.defaultProxyType)}}Ext.require(n,function(){Ext.ModelManager.registerType(z,k);for(s=0,x=h.length;s<x;++s){g=h[s];if(g.isAssociation){g=Ext.applyIf({ownerModel:z,associatedModel:g.model},g.initialConfig)}else{Ext.apply(g,{ownerModel:z,associatedModel:g.model})}if(Ext.ModelManager.getModel(g.model)===undefined){Ext.ModelManager.registerDeferredAssociation(g)}else{j.add(Ext.data.association.Association.create(g))}}m.associations=j;d.call(y,k,m,c);if(l&&l.isProxy){k.setProxy(l)}Ext.ModelManager.onModelDefined(k)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){var a=this.proxy;if(!a){a=this.prototype.proxy;if(a.isProxy){a=a.clone()}return this.setProxy(a)}return a},setFields:function(b,g,a){var j=this,k,d,e=false,l=j.prototype,m=l.fields,n=l.superclass.fields,h,c;if(g){l.idProperty=g;d=g.isField?g:new Ext.data.Field(g)}if(a){l.clientIdProperty=a}if(m){m.clear()}else{m=j.prototype.fields=new Ext.util.MixedCollection(false,function(o){return o.name})}if(n){b=n.items.concat(b)}for(c=0,h=b.length;c<h;c++){k=new Ext.data.Field(b[c]);if(d&&((k.mapping&&(k.mapping===d.mapping))||(k.name===d.name))){e=true;k.defaultValue=undefined}m.add(k)}if(d&&!e){d.defaultValue=undefined;m.add(d)}j.fields=m;return m},getFields:function(){return this.prototype.fields.items},load:function(c,b){b=Ext.apply({},b);b=Ext.applyIf(b,{action:"read",id:c});var d=new Ext.data.Operation(b),e=b.scope||this,a;a=function(g){var h=null,j=g.wasSuccessful();if(j){h=g.getRecords()[0];if(!h.hasId()){h.setId(c)}Ext.callback(b.success,e,[h,g])}else{Ext.callback(b.failure,e,[h,g])}Ext.callback(b.callback,e,[h,g,j])};this.getProxy().read(d,a,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(b){var a=[this.PREFIX,"-",this.AUTO_ID++].join("");b.phantom=true;b.internalId=a;return a}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(b,h,r,a){var m=this,p=(h||h===0),e,d,l,c,n,s,o,q,k=m.idProperty,j=m.idField,g;m.raw=r||b;m.modified={};q=m[m.persistenceProperty]=a||{};m.data=m[m.persistenceProperty];m.mixins.observable.constructor.call(m);if(!a){if(b){if(!p&&k){h=b[k];e=(h||h===0)}}else{b=m.emptyData}d=m.fields.items;l=d.length;g=0;if(Ext.isArray(b)){for(;g<l;g++){c=d[g];n=c.name;s=b[c.originalIndex];if(s===undefined){s=c.defaultValue}if(c.convert){s=c.convert(s,m)}if(s!==undefined){q[n]=s}}}else{for(;g<l;g++){c=d[g];n=c.name;s=b[n];if(s===undefined){s=c.defaultValue}if(c.convert){s=c.convert(s,m)}if(s!==undefined){q[n]=s}}}}m.stores=[];if(p){e=true;q[k]=j&&j.convert?j.convert(h):h}else{if(!e){o=m.idgen.generate();if(o!=null){m.preventInternalUpdate=true;m.setId(o);delete m.preventInternalUpdate}}}m.internalId=e?h:Ext.data.Model.id(m);if(typeof m.init=="function"){m.init()}m.id=m.idgen.getRecId(m)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(d,o){var j=this,b=j[j.persistenceProperty],e=j.fields,k=j.modified,q=(typeof d=="string"),a,c,g,h,l,m,p,n,r,s;if(q){s=j._singleProp;s[d]=o}else{s=d}for(m in s){if(s.hasOwnProperty(m)){r=s[m];if(e&&(c=e.get(m))&&c.convert){r=c.convert(r,j)}a=b[m];if(j.isEqual(a,r)){continue}b[m]=r;(l||(l=[])).push(m);if(c&&c.persist){if(k.hasOwnProperty(m)){if(j.isEqual(k[m],r)){delete k[m];j.dirty=false;for(h in k){if(k.hasOwnProperty(h)){j.dirty=true;break}}}}else{j.dirty=true;k[m]=a}}if(m==j.idProperty){g=true;p=a;n=r}}}if(q){delete s[d]}if(g){j.changeId(p,n)}if(!j.editing&&l){j.afterEdit(l)}return l||null},copyFrom:function(m){var g=this,c=g.fields.items,b=c.length,h=[],a,d=0,j,l,e=g.idProperty,k,n;if(m){j=g[g.persistenceProperty];l=m[m.persistenceProperty];for(;d<b;d++){a=c[d];k=a.name;if(k!=e){n=l[k];if(n!==undefined&&!g.isEqual(j[k],n)){j[k]=n;h.push(k)}}}if(g.phantom&&!m.phantom){g.beginEdit();g.setId(m.getId());g.endEdit(true);g.commit(true)}}return h},isEqual:function(c,d){if(c instanceof Date&&d instanceof Date){return c.getTime()===d.getTime()}return c===d},beginEdit:function(){var c=this,b,a,d;if(!c.editing){c.editing=true;c.dirtySave=c.dirty;d=c[c.persistenceProperty];a=c.dataSave={};for(b in d){if(d.hasOwnProperty(b)){a[b]=d[b]}}d=c.modified;a=c.modifiedSave={};for(b in d){if(d.hasOwnProperty(b)){a[b]=d[b]}}}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;a.modifiedSave=a.dataSave=a.dirtySave=null}},endEdit:function(e,d){var c=this,b,a;e=e===true;if(c.editing){c.editing=false;b=c.dataSave;c.modifiedSave=c.dataSave=c.dirtySave=null;if(!e){if(!d){d=c.getModifiedFieldNames(b)}a=c.dirty||d.length>0;if(a){c.afterEdit(d)}}}},getModifiedFieldNames:function(e){var c=this,a=c[c.persistenceProperty],d=[],b;e=e||c.dataSave;for(b in a){if(a.hasOwnProperty(b)){if(!c.isEqual(a[b],e[b])){d.push(b)}}}return d},getChanges:function(){var c=this.modified,a={},b;for(b in c){if(c.hasOwnProperty(b)){a[b]=this.get(b)}}return a},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var e=this,c=e.fields.items,d=c.length,b,g,a;e.dirty=true;for(a=0;a<d;a++){b=c[a];if(b.persist){g=b.name;e.modified[g]=e.get(g)}}},reject:function(d){var b=this,c=b.modified,a;for(a in c){if(c.hasOwnProperty(a)){if(typeof c[a]!="function"){b[b.persistenceProperty][a]=c[a]}}}b.dirty=false;b.editing=false;b.modified={};if(d!==true){b.afterReject()}},commit:function(c,b){var a=this;a.phantom=a.dirty=a.editing=false;a.modified={};if(c!==true){a.afterCommit(b)}},copy:function(b){var a=this;return new a.self(a.raw,b,null,Ext.apply({},a[a.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){if(typeof a==="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var a=new Ext.data.Errors(),j=this.validations,k=Ext.data.validations,d,h,b,g,e,c;if(j){d=j.length;for(c=0;c<d;c++){h=j[c];b=h.field||h.name;e=h.type;g=k[e](h,this.get(b));if(!g){a.add({field:b,message:h.message||k[e+"Message"]})}}}return a},isValid:function(){return this.validate().isValid()},save:function(g){g=Ext.apply({},g);var d=this,a=d.phantom?"create":"update",h=g.scope||d,l=d.stores,c=0,k,j,e,b;Ext.apply(g,{records:[d],action:a});e=new Ext.data.Operation(g);b=function(m){var n=m.wasSuccessful();if(n){for(k=l.length;c<k;c++){j=l[c];j.fireEvent("write",j,m);j.fireEvent("datachanged",j)}Ext.callback(g.success,h,[d,m])}else{Ext.callback(g.failure,h,[d,m])}Ext.callback(g.callback,h,[d,m,n])};d.getProxy()[a](e,b,d);return d},destroy:function(h){h=Ext.apply({records:[this],action:"destroy"},h);var e=this,d=e.phantom!==true,j=h.scope||e,m,c=0,l,k,a,g,b;g=new Ext.data.Operation(h);b=function(n){a=[e,n];m=Ext.Array.clone(e.stores);if(n.wasSuccessful()){for(l=m.length;c<l;c++){k=m[c];if(k.remove){k.remove(e,true)}k.fireEvent("bulkremove",k,[e],[k.indexOf(e)],false);if(d){k.fireEvent("write",k,n)}}e.clearListeners();Ext.callback(h.success,j,a)}else{Ext.callback(h.failure,j,a)}Ext.callback(h.callback,j,a)};if(d){e.getProxy().destroy(g,b,e)}else{g.complete=g.success=true;g.resultSet=e.getProxy().reader.nullResultSet;b(g)}return e},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(e,d){var c=this,b,a,g;if(!c.preventInternalUpdate){b=c.hasId(e);a=c.hasId(d);g=c.internalId;c.phantom=!a;if(a!==b||(a&&b)){c.internalId=a?d:Ext.data.Model.id(c)}c.fireEvent("idchanged",c,e,d,g);c.callStore("onIdChanged",e,d,g)}},hasId:function(a){if(arguments.length===0){a=this.getId()}return !!(a||a===0)},join:function(b){var a=this;if(!a.stores.length){a.stores[0]=b}else{Ext.Array.include(this.stores,b)}this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(b){var a=Ext.Array.clone(arguments),g=this.stores,c=0,d=g.length,e;a[0]=this;for(;c<d;++c){e=g[c];if(e&&Ext.isFunction(e[b])){e[b].apply(e,a)}}},getData:function(e){var g=this,c=g.fields.items,d=c.length,a={},h,b;for(b=0;b<d;b++){h=c[b].name;a[h]=g.get(h)}if(e===true){Ext.apply(a,g.getAssociatedData())}return a},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(w,m){var r=this,l=r.associations.items,g=l.length,h={},x=[],z=[],y=[],d,c,a,t,p,u,v,k,b,e,n,q,A,s;for(n=0;n<g;n++){e=l[n];k=e.associationId;v=w[k];if(v&&v!==m){continue}w[k]=m;A=e.type;s=e.name;if(A=="hasMany"){d=r[e.storeName];h[s]=[];if(d&&d.getCount()>0){c=d.data.items;b=c.length;for(q=0;q<b;q++){a=c[q];h[s][q]=a.getData();x.push(a);z.push(s);y.push(q)}}}else{if(A=="belongsTo"||A=="hasOne"){a=r[e.instanceName];if(a!==undefined){h[s]=a.getData();x.push(a);z.push(s);y.push(-1)}}}}for(n=0,b=x.length;n<b;++n){a=x[n];t=h[z[n]];p=y[n];u=a.prepareAssociatedData(w,m+1);if(p===-1){Ext.apply(t,u)}else{Ext.apply(t[p],u)}}return h}});Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,constructor:function(a){var b=this;a=a||{};b.callParent([a]);b.extraParams=a.extraParams||{};b.api=Ext.apply({},a.api||b.api);b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(b){var a=this,c=b.params=Ext.apply({},b.params,a.extraParams),d;Ext.applyIf(c,a.getParams(b));if(b.id!==undefined&&c[a.idParam]===undefined){c[a.idParam]=b.id}d=new Ext.data.Request({params:c,action:b.action,records:b.records,operation:b,url:b.url,proxy:a});d.url=a.buildUrl(d);b.request=d;return d},processResponse:function(k,c,e,g,a,j){var b=this,d,h;if(k===true){d=b.getReader();d.applyDefaults=c.action==="read";h=d.read(b.extractResponseData(g));if(h.success!==false){Ext.apply(c,{response:g,resultSet:h});c.commitRecords(h.records);c.setCompleted();c.setSuccessful()}else{c.setException(h.message);b.fireEvent("exception",this,g,c)}}else{b.setException(c,g);b.fireEvent("exception",this,g,c)}if(typeof a=="function"){a.call(j||b,c)}b.afterRequest(e,k)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(d){var c=[],b=d.length,a=0;for(;a<b;a++){c[a]={property:d[a].property,direction:d[a].direction}}return this.applyEncoding(c)},encodeFilters:function(a){var d=[],c=a.length,b=0;for(;b<c;b++){d[b]={property:a[b].property,value:a[b].value}}return this.applyEncoding(d)},getParams:function(o){var n=this,r={},k=Ext.isDefined,e=o.groupers,u=o.sorters,c=o.filters,p=o.page,w=o.start,l=o.limit,t=n.simpleSortMode,s=n.simpleGroupMode,q=n.pageParam,x=n.startParam,m=n.limitParam,g=n.groupParam,d=n.groupDirectionParam,v=n.sortParam,b=n.filterParam,a=n.directionParam,h,j;if(q&&k(p)){r[q]=p}if(x&&k(w)){r[x]=w}if(m&&k(l)){r[m]=l}h=g&&e&&e.length>0;if(h){if(s){r[g]=e[0].property;r[d]=e[0].direction||"ASC"}else{r[g]=n.encodeSorters(e)}}if(v&&u&&u.length>0){if(t){j=0;if(u.length>1&&h){j=1}r[v]=u[j].property;r[a]=u[j].direction}else{r[v]=n.encodeSorters(u)}}if(b&&c&&c.length>0){r[b]=n.encodeFilters(c)}return r},buildUrl:function(b){var a=this,c=a.getUrl(b);if(a.noCache){c=Ext.urlAppend(c,Ext.String.format("{0}={1}",a.cacheString,Ext.Date.now()))}return c},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(b,a,c){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}});Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:false,doRequest:function(b,a,d){var e=this.getWriter(),c=this.buildRequest(b);if(b.allowWrite()){c=e.write(c)}Ext.apply(c,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(c,b,a,d),method:this.getMethod(c),disableCaching:false});Ext.Ajax.request(c);return c},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(d,c,a,e){var b=this;return function(g,j,h){b.processResponse(j,c,d,h,a,e)}}},function(){Ext.data.HttpProxy=this});Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}});Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(d,a,g){var b=0,e=d.getRecords(),c=e.length;for(b;b<c;b++){e[b].commit()}d.setCompleted();d.setSuccessful();Ext.callback(a,g||this,[d])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,a,j){var d=this,h=e.resultSet=d.getReader().read(d.data),g=h.records,k=e.sorters,c=e.groupers,b=e.filters;e.setCompleted();if(h.success){if(b&&b.length){g=h.records=Ext.Array.filter(g,Ext.util.Filter.createFilterFn(b))}if(c&&c.length){k=k?k.concat(c):k}if(k&&k.length){h.records=Ext.Array.sort(g,Ext.util.Sortable.createComparator(k))}if(d.enablePaging&&e.start!==undefined&&e.limit!==undefined){if(e.start>=h.total){h.success=false;h.count=0;h.records=[]}else{h.records=Ext.Array.slice(h.records,e.start,e.start+e.limit);h.count=h.records.length}}}if(h.success){e.setSuccessful()}else{d.fireEvent("exception",d,null,e)}Ext.callback(a,j||d,[e])},clear:Ext.emptyFn});Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(c,e){var d=this,b=d.findKey(e),a;if(b){d.unlinkEntry(a=d.map[b]);a.prev=d.last;a.next=null}else{a={prev:d.last,next:null,key:c,value:e}}if(d.last){d.last.next=a}else{d.first=a}d.last=a;d.callParent([c,a]);d.prune();return e},insertBefore:function(c,e,g){var d=this,b,a;if(g=this.map[this.findKey(g)]){b=d.findKey(e);if(b){d.unlinkEntry(a=d.map[b])}else{a={prev:g.prev,next:g,key:c,value:e}}if(g.prev){a.prev.next=a}else{d.first=a}a.next=g;g.prev=a;d.prune();return e}else{return d.add(c,e)}},get:function(b){var a=this.map[b];if(a){if(a.next){this.moveToEnd(a)}return a.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else{this.last=a.prev}if(a.prev){a.prev.next=a.next}else{this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else{this.first=a}this.last=a},getArray:function(c){var a=[],b=this.first;while(b){a.push(c?b.key:b.value);b=b.next}return a},each:function(b,g,e){var d=this,a=e?d.last:d.first,c=d.length;g=g||d;while(a){if(b.call(g,a.key,a.value,c)===false){break}a=e?a.prev:a.next}return d},findKey:function(c){var a,b=this.map;for(a in b){if(b.hasOwnProperty(a)&&b[a].value===c){return a}}return undefined},clone:function(){var c=new this.self(this.initialConfig),b=this.map,a;c.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){c.add(a,b[a].value)}}c.resumeEvents();return c},prune:function(){var a=this,b=a.maxSize?(a.length-a.maxSize):0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}});Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,clear:function(a){var b=this;b.pageMapGeneration=(b.pageMapGeneration||0)+1;b.callParent(arguments)},forEach:function(a,m){var d=this,k=Ext.Object.getKeys(d.map),g=k.length,b,c,h,e,l;for(b=0;b<g;b++){k[b]=Number(k[b])}Ext.Array.sort(k);m=m||d;for(b=0;b<g;b++){h=k[b];e=d.getPage(h);l=e.length;for(c=0;c<l;c++){if(a.call(m,e[c],(h-1)*d.pageSize+c)===false){return}}}},findBy:function(a,d){var b=this,c=null;d=d||b;b.forEach(function(g,e){if(a.call(d,g,e)){c=g;return false}});return c},findIndexBy:function(a,d){var b=this,c=-1;d=d||b;b.forEach(function(g,e){if(a.call(d,g)){c=e;return false}});return c},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(d,e){var b=this,a=d+Math.floor((e.length-1)/b.pageSize),g,c;for(g=0;d<=a;d++,g+=b.pageSize){c=Ext.Array.slice(e,g,g+b.pageSize);b.add(d,c);b.fireEvent("pageAdded",d,c)}},getCount:function(){var a=this.callParent();if(a){a=(a-1)*this.pageSize+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(d,a){var c=this.getPageFromRecordIndex(d),b=this.getPageFromRecordIndex(a);for(;c<=b;c++){if(!this.hasPage(c)){return false}}return true},hasPage:function(a){return !!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(o,d){if(!this.hasRange(o,d)){Ext.Error.raise("PageMap asked for range which it does not have")}var j=this,p=j.getPageFromRecordIndex(o),e=j.getPageFromRecordIndex(d),b=(p-1)*j.pageSize,a=(e*j.pageSize)-1,k=p,l=[],m,n,c,g=0,h;for(;k<=e;k++){if(k==p){m=o-b;c=true}else{m=0;c=false}if(k==e){n=j.pageSize-(a-d);c=true}if(c){Ext.Array.push(l,Ext.Array.slice(j.getPage(k),m,n))}else{Ext.Array.push(l,j.getPage(k))}}for(h=l.length;g<h;g++){l[g].index=o++}return l}});Ext.define("Ext.data.Group",{extend:Ext.util.Observable,key:undefined,dirty:true,constructor:function(){this.callParent(arguments);this.records=[]},contains:function(a){return Ext.Array.indexOf(this.records,a)!==-1},add:function(a){Ext.Array.push(this.records,a);this.dirty=true},remove:function(c){if(!Ext.isArray(c)){c=[c]}var b=c.length,a;for(a=0;a<b;++a){Ext.Array.remove(this.records,c[a])}this.dirty=true},isDirty:function(){return this.dirty},hasAggregate:function(){return !!this.aggregate},setDirty:function(){this.dirty=true},commit:function(){this.dirty=false},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){var b=this,c;if(a===true||b.dirty||!b.aggregate){c=b.store.model;b.aggregate=new c();b.aggregate.isSummary=true}return b.aggregate}});Ext.define("Ext.data.Store",{extend:Ext.data.AbstractStore,alias:"store.store",remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,clearRemovedOnLoad:true,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:true},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(a){a=Ext.apply({},a);var e=this,c=a.groupers||e.groupers,d=a.groupField||e.groupField,g,b;b=a.data||e.data;if(b){e.inlineData=b;delete a.data}if(!c&&d){c=[{property:d,direction:a.groupDir||e.groupDir}];if(a.getGroupString||(e.getGroupString!==Ext.data.Store.prototype.getGroupString)){c[0].getGroupString=function(h){return e.getGroupString(h)}}}delete a.groupers;e.groupers=new Ext.util.MixedCollection(false,Ext.data.Store.grouperIdFn);e.groupers.addAll(e.decodeGroupers(c));e.groups=new Ext.util.MixedCollection(false,Ext.data.Store.groupIdFn);e.callParent([a]);if(e.buffered){e.data=new Ext.data.PageMap({store:e,keyFn:Ext.data.Store.recordIdFn,pageSize:e.pageSize,maxSize:e.purgePageCount,listeners:{clear:e.onPageMapClear,scope:e}});e.pageRequests={};e.remoteSort=e.remoteGroup=e.remoteFilter=true;e.sortOnLoad=false;e.filterOnLoad=false}else{e.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:true});e.data.pageSize=e.pageSize}if(e.remoteGroup){e.remoteSort=true}e.sorters.insert(0,e.groupers.getRange());g=e.proxy;b=e.inlineData;if(!e.buffered&&!e.pageSize){e.pageSize=e.defaultPageSize}if(b){if(g instanceof Ext.data.proxy.Memory){g.data=b;e.read()}else{e.add.apply(e,[b])}if(e.sorters.items.length&&!e.remoteSort){e.group(null,null,true)}delete e.inlineData}else{if(e.autoLoad){Ext.defer(e.load,1,e,[typeof e.autoLoad==="object"?e.autoLoad:undefined])}}},onBeforeSort:function(){var a=this.groupers;if(a.getCount()>0){this.sort(a.items,"prepend",false)}},decodeGroupers:function(c){if(!Ext.isArray(c)){if(c===undefined){c=[]}else{c=[c]}}var e=c.length,b=Ext.util.Grouper,a,d,g=[];for(d=0;d<e;d++){a=c[d];if(!(a instanceof b)){if(Ext.isString(a)){a={property:a}}a=Ext.apply({root:"data",direction:"ASC"},a);if(a.fn){a.sorterFn=a.fn}if(typeof a=="function"){a={sorterFn:a}}g.push(new b(a))}else{g.push(a)}}return g},group:function(c,a,g){var d=this,b,e;if(c){d.sorters.removeAll(d.groupers.items);if(Ext.isArray(c)){e=c}else{if(Ext.isObject(c)){e=[c]}else{if(Ext.isString(c)){b=d.groupers.get(c);if(!b){b={property:c,direction:a||"ASC"};e=[b]}else{if(a===undefined){b.toggle()}else{b.setDirection(a)}}}}}if(e&&e.length){d.groupers.clear();d.groupers.addAll(d.decodeGroupers(e))}d.sorters.insert(0,d.groupers.items)}if(d.remoteGroup){if(d.buffered){d.data.clear();d.loadPage(1,{groupChange:true})}else{d.load({scope:d,callback:g?null:d.fireGroupChange})}}else{d.doSort(d.generateComparator());d.constructGroups();if(!g){d.fireGroupChange()}}},getGroupField:function(){var a=this.groupers.first(),b;if(a){b=a.property}return b},constructGroups:function(){var h=this,a=this.data.items,g=a.length,c=h.groups,d,e,b,j;c.clear();if(h.isGrouped()){for(e=0;e<g;++e){j=a[e];d=h.getGroupString(j);b=c.get(d);if(!b){b=new Ext.data.Group({key:d,store:h});c.add(d,b)}b.add(j)}}},clearGrouping:function(){var d=this,c=d.groupers.items,b=c.length,a;for(a=0;a<b;a++){d.sorters.remove(c[a])}d.groupers.clear();if(d.remoteGroup){if(d.buffered){d.data.clear();d.loadPage(1,{groupChange:true})}else{d.load({scope:d,callback:d.fireGroupChange})}}else{d.groups.clear();if(d.sorters.length){d.sort()}else{d.fireEvent("datachanged",d);d.fireEvent("refresh",d)}d.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(k){var j=this.data.items,e=j.length,b=[],g={},h,c,a,d;for(d=0;d<e;d++){h=j[d];c=this.getGroupString(h);a=g[c];if(a===undefined){a={name:c,children:[]};b.push(a);g[c]=a}a.children.push(h)}return k?g[k]:b},getGroupsForGrouper:function(k,b){var e=k.length,c=[],h,g,j,a,d;for(d=0;d<e;d++){j=k[d];g=b.getGroupString(j);if(g!==h){a={name:g,grouper:b,records:[]};c.push(a)}a.records.push(j);h=g}return c},getGroupsForGrouperIndex:function(j,b){var h=this,c=h.groupers,a=c.getAt(b),d=h.getGroupsForGrouper(j,a),g=d.length,e;if(b+1<c.length){for(e=0;e<g;e++){d[e].children=h.getGroupsForGrouperIndex(d[e].records,b+1)}}for(e=0;e<g;e++){d[e].depth=b}return d},getGroupData:function(b){var a=this;if(b!==false){a.sort()}return a.getGroupsForGrouperIndex(a.data.items,0)},getGroupString:function(b){var a=this.groupers.first();if(a){return a.getGroupString(b)}return""},insert:function(c,j){var e=this,k=false,b,d,h,a=e.modelDefaults,g;if(!Ext.isIterable(j)){g=j=[j]}else{g=[]}d=j.length;if(d){for(b=0;b<d;b++){h=j[b];if(!h.isModel){h=e.createModel(h)}g[b]=h;if(a){h.set(a)}h.join(e);k=k||h.phantom===true}e.data.insert(c,g);if(e.snapshot){e.snapshot.addAll(g)}if(e.requireSort){e.suspendEvents();e.sort();e.resumeEvents()}if(e.isGrouped()){e.updateGroupsOnAdd(g)}e.fireEvent("add",e,g,c);e.fireEvent("datachanged",e);if(e.autoSync&&k&&!e.autoSyncSuspended){e.sync()}}return g},updateGroupsOnAdd:function(j){var g=this,c=g.groups,e=j.length,d,b,a,h;for(d=0;d<e;++d){h=j[d];b=g.getGroupString(h);a=c.getByKey(b);if(!a){a=c.add(new Ext.data.Group({key:b,store:g}))}a.add(h)}},updateGroupsOnRemove:function(j){var g=this,c=g.groups,e=j.length,d,b,a,h;for(d=0;d<e;++d){h=j[d];b=g.getGroupString(h);a=c.getByKey(b);if(a){a.remove(h);if(a.records.length===0){c.remove(a)}}}},updateGroupsOnUpdate:function(l,k){var j=this,b=j.getGroupField(),c=j.getGroupString(l),d=j.groups,h,e,g,a;if(k&&Ext.Array.indexOf(k,b)!==-1){if(j.buffered){Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"})}g=d.items;for(e=0,h=g.length;e<h;++e){a=g[e];if(a.contains(l)){a.remove(l);break}}a=d.getByKey(c);if(!a){a=d.add(new Ext.data.Group({key:c,store:j}))}a.add(l);j.data.remove(l);j.data.insert(j.data.findInsertionIndex(l,j.generateComparator()),l);for(e=0,h=this.getCount();e<h;e++){j.data.items[e].index=e}}else{d.getByKey(c).setDirty()}},add:function(a){var d=this,e,c,b;if(Ext.isArray(a)){e=a}else{e=arguments}c=e.length;b=!d.remoteSort&&d.sorters&&d.sorters.items.length;if(b&&c===1){return[d.addSorted(d.createModel(e[0]))]}if(b){d.requireSort=true}e=d.insert(d.data.length,e);delete d.requireSort;return e},addSorted:function(c){var b=this,a=b.data.findInsertionIndex(c,b.generateComparator());b.insert(a,c);return c},createModel:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.model)}return a},onUpdate:function(b,c,a){if(this.isGrouped()){this.updateGroupsOnUpdate(b,a)}},each:function(e,h){var b=this.data.items,c=b.length,g,a;for(a=0;a<c;a++){g=b[a];if(e.call(h||g,g,a,c)===false){break}}},remove:function(p,j,s){j=j===true;var n=this,u=false,t=n.snapshot,b=n.data,d=0,m,h=[],a=[],g=[],l,k,e,o,r,q,c=!s&&n.hasListeners.remove;if(p.isModel){p=[p];m=1}else{if(Ext.isIterable(p)){m=p.length}else{if(typeof p==="object"){r=true;d=p.start;m=p.end+1;q=m-d}}}if(!r){for(d=0;d<m;++d){o=p[d];if(typeof o=="number"){e=o;o=b.getAt(e)}else{e=n.indexOf(o)}if(o&&e>-1){h.push({record:o,index:e})}if(t){t.remove(o)}}h=Ext.Array.sort(h,function(x,y){var v=x.index,w=y.index;return v===y.index2?0:(v<w?-1:1)});d=0;m=h.length}for(;d<m;d++){if(r){o=b.getAt(d);e=d}else{l=h[d];o=l.record;e=l.index}a.push(o);g.push(e);k=o.phantom!==true;if(!j&&k){o.removedFrom=e;n.removed.push(o)}o.unjoin(n);e-=d;u=u||k;if(!r){b.removeAt(e);if(c){n.fireEvent("remove",n,o,e,!!j)}}}if(r){b.removeRange(p.start,q)}if(!s){n.fireEvent("bulkremove",n,a,g,!!j);n.fireEvent("datachanged",n)}if(!j&&n.autoSync&&u&&!n.autoSyncSuspended){n.sync()}},removeAt:function(b,a){var c=this,d=c.getCount();if(b<=d){if(arguments.length===1){c.remove([b])}else{if(a){c.remove({start:b,end:Math.min(b+a,d)-1})}}}},removeAll:function(c){var b=this,d=b.snapshot,a=b.data;if(d){d.removeAll(a.getRange())}if(b.buffered){if(a){if(c){b.suspendEvent("clear")}a.clear();if(c){b.resumeEvent("clear")}}}else{b.remove({start:0,end:b.getCount()-1},false,c);if(c!==true){b.fireEvent("clear",b)}}},load:function(b){var a=this;b=b||{};if(typeof b=="function"){b={callback:b}}b.groupers=b.groupers||a.groupers.items;b.page=b.page||a.currentPage;b.start=(b.start!==undefined)?b.start:(b.page-1)*a.pageSize;b.limit=b.limit||a.pageSize;b.addRecords=b.addRecords||false;if(a.buffered){b.limit=a.viewSize||a.defaultViewSize;return a.loadToPrefetch(b)}return a.callParent([b])},reload:function(h){var g=this,k,c,l,d,e,m,a,j,b=g.getCount();if(!h){h={}}if(g.buffered){delete g.totalCount;m=function(){if(g.rangeCached(k,c)){g.loading=false;g.data.un("pageAdded",m);j=g.data.getRange(k,c);g.fireEvent("load",g,j,true)}};a=Math.ceil((g.leadingBufferZone+g.trailingBufferZone)/2);k=h.start||(b?g.getAt(0).index:0);c=k+(h.count||(b?b:g.pageSize))-1;l=g.getPageFromRecordIndex(Math.max(k-a,0));d=g.getPageFromRecordIndex(c+a);g.data.clear(true);if(g.fireEvent("beforeload",g,h)!==false){g.loading=true;g.data.on("pageAdded",m);for(e=l;e<=d;e++){g.prefetchPage(e,h)}}}else{return g.callParent(arguments)}},onProxyLoad:function(b){var a=this,d=b.getResultSet(),c=b.getRecords(),e=b.wasSuccessful();if(a.isDestroyed){return}if(d){a.totalCount=d.total}a.loading=false;if(e){a.loadRecords(c,b)}if(a.hasListeners.load){a.fireEvent("load",a,c,e)}if(a.hasListeners.read){a.fireEvent("read",a,c,e)}Ext.callback(b.callback,b.scope||a,[c,b,e])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(c,h){if(Ext.isString(c)){c={property:c,value:h}}var g=this,a=g.decodeFilters(c),d,b=g.sorters.length&&g.sortOnFilter&&!g.remoteSort,e=a.length;for(d=0;d<e;d++){g.filters.replace(a[d])}c=g.filters.items;if(c.length){if(g.remoteFilter){delete g.totalCount;if(g.buffered){g.data.clear();g.loadPage(1)}else{g.currentPage=1;g.load()}}else{g.snapshot=g.snapshot||g.data.clone();g.data=g.snapshot.filter(c);g.constructGroups();if(b){g.sort()}else{g.fireEvent("datachanged",g);g.fireEvent("refresh",g)}}g.fireEvent("filterchange",g,c)}},clearFilter:function(b){var a=this;a.filters.clear();if(a.remoteFilter){if(b){return}delete a.totalCount;if(a.buffered){a.data.clear();a.loadPage(1)}else{a.currentPage=1;a.load()}}else{if(a.isFiltered()){a.data=a.snapshot;delete a.snapshot;a.constructGroups();if(b!==true){a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}}}a.fireEvent("filterchange",a,a.filters.items)},removeFilter:function(c,a){var b=this;if(!b.remoteFilter&&b.isFiltered()){if(c instanceof Ext.util.Filter){b.filters.remove(c)}else{b.filters.removeAtKey(c)}if(a!==false){if(b.filters.length){b.filter()}else{b.clearFilter()}}else{b.fireEvent("filterchange",b,b.filters.items)}}},addFilter:function(c,a){var g=this,b,d,e;b=g.decodeFilters(c);e=b.length;for(d=0;d<e;d++){g.filters.replace(b[d])}if(a!==false&&g.filters.length){g.filter()}else{g.fireEvent("filterchange",g,g.filters.items)}},isFiltered:function(){var a=this.snapshot;return !!(a&&a!==this.data)},filterBy:function(a,c){var b=this;b.snapshot=b.snapshot||b.data.clone();b.data=b.queryBy(a,c||b);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)},queryBy:function(a,c){var b=this;return(b.snapshot||b.data).filterBy(a,c||b)},query:function(e,j,a,b,c){var d=this,g=d.createFilterFn(e,j,a,b,c),h=d.queryBy(g);if(!h){h=new Ext.util.MixedCollection()}return h},loadData:function(b,a){var d=b.length,e=[],c;for(c=0;c<d;c++){e.push(this.createModel(b[c]))}this.loadRecords(e,a?this.addRecordsOptions:undefined)},loadRawData:function(b,a){var c=this,e=c.proxy.reader.read(b),d=e.records;if(e.success){c.totalCount=e.total;c.loadRecords(d,a?c.addRecordsOptions:undefined)}},loadRecords:function(g,e){var d=this,b=0,c=g.length,j,a,h=d.snapshot;if(e){j=e.start;a=e.addRecords}if(!a){delete d.snapshot;d.clearData(true)}else{if(h){h.addAll(g)}}d.data.addAll(g);if(j!==undefined){for(;b<c;b++){g[b].index=j+b;g[b].join(d)}}else{for(;b<c;b++){g[b].join(d)}}d.suspendEvents();if(d.filterOnLoad&&!d.remoteFilter){d.filter()}if(d.sortOnLoad&&!d.remoteSort){d.sort(undefined,undefined,undefined,true)}d.resumeEvents();if(d.isGrouped()){d.constructGroups()}d.fireEvent("datachanged",d);d.fireEvent("refresh",d)},loadPage:function(c,b){var a=this;a.currentPage=c;b=Ext.apply({page:c,start:(c-1)*a.pageSize,limit:a.pageSize,addRecords:!a.clearOnPageLoad},b);if(a.buffered){b.limit=a.viewSize||a.defaultViewSize;return a.loadToPrefetch(b)}a.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(b){var c=this,d,a;if(!c.buffered&&c.data){d=c.data.items;a=d.length;while(a--){d[a].unjoin(c)}}if(c.data){c.data.clear()}if(b!==true||c.clearRemovedOnLoad){c.removed.length=0}},loadToPrefetch:function(h){var g=this,d,k,a,j=h,l=h.start,b=h.start+h.limit-1,e=Math.min(b,h.start+(g.viewSize||h.limit)-1),m=g.getPageFromRecordIndex(Math.max(l-g.trailingBufferZone,0)),c=g.getPageFromRecordIndex(b+g.leadingBufferZone),n=function(){if(g.rangeCached(l,e)){g.loading=false;k=g.data.getRange(l,e);g.data.un("pageAdded",n);if(g.hasListeners.guaranteedrange){g.guaranteeRange(l,e,h.callback,h.scope)}if(h.callback){h.callback.call(h.scope||g,k,l,b,h)}g.fireEvent("datachanged",g);g.fireEvent("refresh",g);g.fireEvent("load",g,k,true);if(h.groupChange){g.fireGroupChange()}}};if(g.fireEvent("beforeload",g,h)!==false){delete g.totalCount;g.loading=true;if(h.callback){j=Ext.apply({},h);delete j.callback}g.on("prefetch",function(q,p,r,o){if(r){if((a=g.getTotalCount())){g.data.on("pageAdded",n);e=Math.min(e,a-1);c=g.getPageFromRecordIndex(Math.min(e+g.leadingBufferZone,a-1));for(d=m+1;d<=c;++d){g.prefetchPage(d,j)}}else{g.fireEvent("datachanged",g);g.fireEvent("refresh",g);g.fireEvent("load",g,p,true)}}else{g.fireEvent("load",g,p,false)}},null,{single:true});g.prefetchPage(m,j)}},prefetch:function(c){var a=this,d=a.pageSize,e,b;if(d){if(a.lastPageSize&&d!=a.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!a.data.pageSize){a.data.pageSize=d}}else{a.pageSize=a.data.pageSize=d=c.limit}a.lastPageSize=d;if(!c.page){c.page=a.getPageFromRecordIndex(c.start);c.start=(c.page-1)*d;c.limit=Math.ceil(c.limit/d)*d}if(!a.pageRequests[c.page]){c=Ext.apply({action:"read",filters:a.filters.items,sorters:a.sorters.items,groupers:a.groupers.items,pageMapGeneration:a.data.pageMapGeneration},c);b=new Ext.data.Operation(c);if(a.fireEvent("beforeprefetch",a,b)!==false){e=a.proxy;a.pageRequests[c.page]=e.read(b,a.onProxyPrefetch,a);if(e.isSynchronous){delete a.pageRequests[c.page]}}}return a},onPageMapClear:function(){var b=this,a=b.wasLoading,e=b.pageRequests,d,c;if(b.data.events.pageadded){b.data.events.pageadded.clearListeners()}b.loading=true;b.totalCount=0;for(c in e){if(e.hasOwnProperty(c)){d=e[c];delete e[c];delete d.callback}}b.fireEvent("clear",b);b.loading=a},prefetchPage:function(c,b){var a=this,d=a.pageSize||a.defaultPageSize,e=(c-1)*a.pageSize,g=a.totalCount;if(g!==undefined&&a.getCount()===g){return}a.prefetch(Ext.applyIf({page:c,start:e,limit:d},b))},onProxyPrefetch:function(b){var a=this,e=b.getResultSet(),d=b.getRecords(),g=b.wasSuccessful(),c=b.page;if(b.pageMapGeneration===a.data.pageMapGeneration){if(e){a.totalCount=e.total;a.fireEvent("totalcountchange",a.totalCount)}if(c!==undefined){delete a.pageRequests[c]}a.loading=false;a.fireEvent("prefetch",a,d,g,b);if(g){a.cachePage(d,b.page)}Ext.callback(b.callback,b.scope||a,[d,b,g])}},cachePage:function(e,d){var c=this,b=e.length,a;if(!Ext.isDefined(c.totalCount)){c.totalCount=e.length;c.fireEvent("totalcountchange",c.totalCount)}for(a=0;a<b;a++){e[a].join(c)}c.data.addPage(d,e)},rangeCached:function(b,a){return this.data&&this.data.hasRange(b,a)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return !!this.pageRequests[a]},rangeSatisfied:function(b,a){return this.rangeCached(b,a)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(c){var b=this,g=b.getTotalCount(),e=c.prefetchStart,a=(c.prefetchEnd>g-1)?g-1:c.prefetchEnd,d;a=Math.max(0,a);d=b.data.getRange(e,a);if(c.fireEvent!==false){b.fireEvent("guaranteedrange",d,e,a,c)}if(c.callback){c.callback.call(c.scope||b,d,e,a,c)}},guaranteeRange:function(e,b,a,d,c){c=Ext.apply({callback:a,scope:d},c);this.getRange(e,b,c)},prefetchRange:function(e,a){var c=this,g,b,d;if(!c.rangeCached(e,a)){g=c.getPageFromRecordIndex(e);b=c.getPageFromRecordIndex(a);c.data.maxSize=c.purgePageCount?(b-g+1)+c.purgePageCount:0;for(d=g;d<=b;d++){if(!c.pageCached(d)){c.prefetchPage(d)}}}},primeCache:function(d,b,a){var c=this;if(a===-1){d=Math.max(d-c.leadingBufferZone,0);b=Math.min(b+c.trailingBufferZone,c.totalCount-1)}else{if(a===1){d=Math.max(Math.min(d-c.trailingBufferZone,c.totalCount-c.pageSize),0);b=Math.min(b+c.leadingBufferZone,c.totalCount-1)}else{d=Math.min(Math.max(Math.floor(d-((c.leadingBufferZone+c.trailingBufferZone)/2)),0),c.totalCount-c.pageSize);b=Math.min(Math.max(Math.ceil(b+((c.leadingBufferZone+c.trailingBufferZone)/2)),0),c.totalCount-1)}}c.prefetchRange(d,b)},sort:function(){var a=this;if(a.buffered&&a.remoteSort){a.data.clear()}return a.callParent(arguments)},doSort:function(e){var c=this,d,b,a;if(c.remoteSort){if(c.buffered){c.data.clear();c.loadPage(1)}else{c.load()}}else{c.data.sortBy(e);if(!c.buffered){d=c.getRange();b=d.length;for(a=0;a<b;a++){d[a].index=a}}c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}},find:function(e,h,g,a,b,c){var d=this.createFilterFn(e,h,a,b,c);return d?this.data.findIndexBy(d,null,g):-1},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return a!==-1?b.getAt(a):null},createFilterFn:function(d,e,a,b,c){if(Ext.isEmpty(e)){return false}e=this.data.createValueMatcher(e,a,b,c);return function(g){return e.test(g.data[d])}},findExact:function(a,c,b){return this.data.findIndexBy(function(d){return d.isEqual(d.get(a),c)},this,b)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},collect:function(d,a,b){var e=this,c=(b===true&&e.snapshot)?e.snapshot:e.data;return c.collect(d,"data",a)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(l,a,e){var d=this,j,h,c=d.totalCount-1,b=d.lastRequestStart,g,k;e=Ext.apply({prefetchStart:l,prefetchEnd:a},e);if(d.buffered){a=(a>=d.totalCount)?c:a;j=l===0?0:l-1;h=a===c?a:a+1;d.lastRequestStart=l;if(d.rangeCached(j,h)){d.onGuaranteedRange(e);k=d.data.getRange(l,a)}else{d.fireEvent("cachemiss",d,l,a);g=function(m,n){if(d.rangeCached(j,h)){d.fireEvent("cachefilled",d,l,a);d.data.un("pageAdded",g);d.onGuaranteedRange(e)}};d.data.on("pageAdded",g);d.prefetchRange(l,a)}d.primeCache(l,a,l<b?-1:1)}else{k=d.data.getRange(l,a);if(e.callback){e.callback.call(e.scope||d,k,l,a,e)}}return k},getById:function(a){var b=(this.snapshot||this.data).findBy(function(c){return c.getId()===a});return b},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(b){var a=b.index;if(a||a===0){return a}return this.indexOf(b)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(c){return c.length?c[0]:undefined},b,true)}else{return b.data.first()}},last:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(d){var c=d.length;return c?d[c-1]:undefined},b,true)}else{return b.data.last()}},sum:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getSum,c,true,[a])}else{return c.getSum(c.data.items,a)}},getSum:function(d,a){var e=0,b=0,c=d.length;for(;b<c;++b){e+=d[b].get(a)}return e},count:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(c){return c.length},b,true)}else{return b.getCount()}},min:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMin,c,true,[a])}else{return c.getMin(c.data.items,a)}},getMin:function(e,a){var b=1,c=e.length,g,d;if(c>0){d=e[0].get(a)}for(;b<c;++b){g=e[b].get(a);if(g<d){d=g}}return d},max:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getMax,c,true,[a])}else{return c.getMax(c.data.items,a)}},getMax:function(e,a){var b=1,c=e.length,g,d;if(c>0){d=e[0].get(a)}for(;b<c;++b){g=e[b].get(a);if(g>d){d=g}}return d},average:function(a,b){var c=this;if(b&&c.isGrouped()){return c.aggregate(c.getAverage,c,true,[a])}else{return c.getAverage(c.data.items,a)}},getAverage:function(d,a){var b=0,c=d.length,e=0;if(d.length>0){for(;b<c;++b){e+=d[b].get(a)}return e/c}return 0},aggregate:function(b,k,d,a){a=a||[];if(d&&this.isGrouped()){var e=this.getGroups(),h=e.length,j={},c,g;for(g=0;g<h;++g){c=e[g];j[c.name]=this.getAggregate(b,k||this,c.children,a)}return j}else{return this.getAggregate(b,k,this.data.items,a)}},getAggregate:function(b,d,c,a){a=a||[];return b.apply(d||this,[c].concat(a))},onIdChanged:function(d,b,a,c){var e=this.snapshot;if(e){e.updateKey(c,a)}this.data.updateKey(c,a);this.callParent(arguments)},commitChanges:function(){var c=this,d=c.getModifiedRecords(),b=d.length,a=0;for(;a<b;a++){d[a].commit()}c.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var c=this,e=c.getRejectRecords(),b=e.length,a=0,d;for(;a<b;a++){d=e[a];d.reject();if(d.phantom){c.remove(d)}}e=c.removed;b=e.length;for(a=0;a<b;a++){d=e[a];c.insert(d.removedFrom||0,d);d.reject()}c.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})});Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(b,c,a){var d=(b.mapping==null)?b.originalIndex:b.mapping,e;if(typeof d==="function"){e=c+".mapping("+a+", this)"}else{if(isNaN(d)){d='"'+d+'"'}e=a+"["+d+"]"}return e}});Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(b,a){if(this.expandData===true){var e=[],c=0,d=b.length;for(;c<d;c++){e[e.length]=[b[c]]}b=e}this.callParent([b,a])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});Ext.define("Ext.data.Batch",{mixins:{observable:Ext.util.Observable},autoStart:false,pauseOnException:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.operations=[];b.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){var b=this;if(b.isRunning){return b}b.exceptions.length=0;b.hasException=false;b.isRunning=true;return b.runOperation(Ext.isDefined(a)?a:b.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(a){var b=this,e=b.operations,d=e[a],c;if(d===undefined){b.isRunning=false;b.isComplete=true;b.fireEvent("complete",b,e[e.length-1])}else{b.current=a;c=function(h){var g=h.hasException();if(g){b.hasException=true;b.exceptions.push(h);b.fireEvent("exception",b,h)}if(g&&b.pauseOnException){b.pause()}else{h.setCompleted();b.fireEvent("operationcomplete",b,h);b.runNextOperation()}};d.setStarted();b.proxy[d.action](d,c,b)}return b}});Ext.define("Ext.data.BufferStore",{extend:Ext.data.Store,alias:"store.buffer",sortOnLoad:false,filterOnLoad:false,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}});Ext.define("Ext.direct.Manager",{singleton:true,mixins:{observable:Ext.util.Observable},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){var a=this;a.addEvents("event","exception");a.transactions=new Ext.util.MixedCollection();a.providers=new Ext.util.MixedCollection();a.mixins.observable.constructor.call(a)},addProvider:function(e){var d=this,a=arguments,g=d.relayers||(d.relayers={}),b,c;if(a.length>1){for(b=0,c=a.length;b<c;++b){d.addProvider(a[b])}return}if(!e.isProvider){e=Ext.create("direct."+e.type+"provider",e)}d.providers.add(e);e.on("data",d.onProviderData,d);if(e.relayedEvents){g[e.id]=d.relayEvents(e,e.relayedEvents)}if(!e.isConnected()){e.connect()}return e},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(c){var b=this,d=b.providers,e=b.relayers,a;c=c.isProvider?c:d.get(c);if(c){c.un("data",b.onProviderData,b);a=c.id;if(e[a]){e[a].destroy();delete e[a]}d.remove(c);return c}return null},addTransaction:function(a){this.transactions.add(a);return a},removeTransaction:function(b){var a=this;b=a.getTransaction(b);a.transactions.remove(b);return b},getTransaction:function(a){return typeof a==="object"?a:this.transactions.get(a)},onProviderData:function(e,a){var d=this,b,c;if(Ext.isArray(a)){for(b=0,c=a.length;b<c;++b){d.onProviderData(e,a[b])}return}if(a.name&&a.name!="event"&&a.name!="exception"){d.fireEvent(a.name,a)}else{if(a.status===false){d.fireEvent("exception",a)}}d.fireEvent("event",a,e)},parseMethod:function(b){if(Ext.isString(b)){var e=b.split("."),c=0,d=e.length,a=Ext.global;while(a&&c<d){a=a[e[c]];++c}b=Ext.isFunction(a)?a:null}return b||null}},function(){Ext.Direct=Ext.direct.Manager});Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",paramOrder:undefined,paramsAsHash:true,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(a){var b=this,c;b.callParent(arguments);c=b.paramOrder;if(Ext.isString(c)){b.paramOrder=c.split(b.paramOrderRe)}},resolveMethods:function(){var d=this,b=d.directFn,a=d.api,c=Ext.direct.Manager,e;if(b){e=d.directFn=c.parseMethod(b);if(!Ext.isFunction(e)){Ext.Error.raise("Cannot resolve directFn "+b)}}else{if(a){for(b in a){if(a.hasOwnProperty(b)){e=a[b];a[b]=c.parseMethod(e);if(!Ext.isFunction(a[b])){Ext.Error.raise("Cannot resolve Direct api "+b+" method "+e)}}}}}d.methodsResolved=true},doRequest:function(g,b,k){var d=this,l=d.getWriter(),j=d.buildRequest(g),h=j.params,a=[],c,e;if(!d.methodsResolved){d.resolveMethods()}c=d.api[j.action]||d.directFn;if(g.allowWrite()){j=l.write(j)}if(g.action=="read"){e=c.directCfg.method;a=e.getArgs(h,d.paramOrder,d.paramsAsHash)}else{a.push(j.jsonData)}Ext.apply(j,{args:a,directFn:c});a.push(d.createRequestCallback(j,g,b,k),d);c.apply(window,a)},applyEncoding:Ext.identityFn,createRequestCallback:function(d,c,a,e){var b=this;return function(g,h){b.processResponse(h.status,c,d,h,a,e)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}});Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(b.reader,a,"totalProperty,root,idProperty");a.proxy=b}this.callParent([a])}});Ext.define("Ext.data.JsonP",{singleton:true,requestCount:0,requests:{},timeout:30000,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(j){j=Ext.apply({},j);var g=this,d=Ext.isDefined(j.disableCaching)?j.disableCaching:g.disableCaching,a=j.disableCachingParam||g.disableCachingParam,e=++g.requestCount,c=j.callbackName||"callback"+e,b=j.callbackKey||g.callbackKey,n=Ext.isDefined(j.timeout)?j.timeout:g.timeout,k=Ext.apply({},j.params),o=j.url,h=Ext.name,l,m;if(d&&!k[a]){k[a]=Ext.Date.now()}j.params=k;k[b]=h+".data.JsonP."+c;m=g.createScript(o,k,j);g.requests[e]=l={url:o,params:k,script:m,id:e,scope:j.scope,success:j.success,failure:j.failure,callback:j.callback,callbackKey:b,callbackName:c};if(n>0){l.timeout=setTimeout(Ext.bind(g.handleTimeout,g,[l]),n)}g.setupErrorHandling(l);g[c]=Ext.bind(g.handleResponse,g,[l],true);g.loadScript(l);return l},abort:function(c){var b=this,d=b.requests,a;if(c){if(!c.id){c=d[c]}b.handleAbort(c)}else{for(a in d){if(d.hasOwnProperty(a)){b.abort(d[a])}}}},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort";this.handleResponse(null,a)},handleError:function(a){a.errorType="error";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout";this.handleResponse(null,a)},handleResponse:function(b,a){var c=true;if(a.timeout){clearTimeout(a.timeout)}delete this[a.callbackName];delete this.requests[a.id];this.cleanupErrorHandling(a);Ext.fly(a.script).remove();if(a.errorType){c=false;Ext.callback(a.failure,a.scope,[a.errorType])}else{Ext.callback(a.success,a.scope,[b])}Ext.callback(a.callback,a.scope,[c,b,a.errorType]);Ext.EventManager.idleEvent.fire()},createScript:function(d,b,a){var c=document.createElement("script");c.setAttribute("src",Ext.urlAppend(d,Ext.Object.toQueryString(b)));c.setAttribute("async",true);c.setAttribute("type","text/javascript");return c},loadScript:function(a){Ext.getHead().appendChild(a.script)}});Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:true,constructor:function(){this.addEvents("exception");this.callParent(arguments)},doRequest:function(c,a,g){var b=this,e=b.buildRequest(c),d=e.params;Ext.apply(e,{callbackKey:b.callbackKey,timeout:b.timeout,scope:b,disableCaching:false,callback:b.createRequestCallback(e,c,a,g)});if(b.autoAppendParams){e.params={}}e.jsonp=Ext.data.JsonP.request(e);e.params=d;c.setStarted();b.lastRequest=e;return e},createRequestCallback:function(d,c,a,e){var b=this;return function(j,h,g){delete b.lastRequest;b.processResponse(j,c,d,h,a,e)}},setException:function(a,b){a.setException(a.request.jsonp.errorType)},buildUrl:function(h){var d=this,j=d.callParent(arguments),g=h.records,k=d.getWriter(),e,b,a,c;if(k&&h.operation.allowWrite()){h=k.write(h)}e=h.params;b=e.filters,delete e.filters;if(b&&b.length){for(c=0;c<b.length;c++){a=b[c];if(a.value){e[a.property]=a.value}}}if((!k||!k.encode)&&Ext.isArray(g)&&g.length>0){e[d.recordParam]=d.encodeRecords(g)}if(d.autoAppendParams){j=Ext.urlAppend(j,Ext.Object.toQueryString(e))}return j},abort:function(){var a=this.lastRequest;if(a){Ext.data.JsonP.abort(a.jsonp)}},encodeRecords:function(d){var a=[],b=0,c=d.length;for(;b<c;b++){a.push(Ext.encode(d[b].getData()))}return a}});Ext.define("Ext.data.JsonPStore",{extend:Ext.data.Store,alias:"store.jsonp",constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(d){var b,a,c;if(typeof d=="string"){d=Ext.ModelManager.getModel(d)}else{if(d.isModel){d=Ext.ModelManager.getModel(d.modelName)}}if(d.prototype.isNode){return}b=d.prototype.idProperty;a=d.prototype.fields.get(b);c=d.prototype.fields.get(b).type.type;d.override(this.getPrototypeBody());this.applyFields(d,[{name:"parentId",type:c,defaultValue:null,useNull:a.useNull},{name:"index",type:"int",defaultValue:0,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null}])},applyFields:function(h,b){var j=h.prototype,c=j.fields,e=c.keys,g=b.length,a,d;for(d=0;d<g;d++){a=b[d];if(!Ext.Array.contains(e,a.name)){c.add(new Ext.data.Field(a))}}},getPrototypeBody:function(){var a={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true,rootchange:true};return{isNode:true,constructor:function(){var b=this;b.callParent(arguments);b.firstChild=b.lastChild=b.parentNode=b.previousSibling=b.nextSibling=null;b.childNodes=[];return b},createNode:function(b){if(!b.isModel){b=Ext.ModelManager.create(b,this.modelName)}if(!b.childNodes){b.firstChild=b.lastChild=b.parentNode=b.previousSibling=b.nextSibling=null;b.childNodes=[]}return b},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},updateInfo:function(e,k){var l=this,n=l.data.depth,c={},d=l.childNodes,b=d.length,j,o=l.phantom,g=l[l.persistenceProperty],p,m,h;if(!k){Ext.Error.raise("NodeInterface expects update info to be passed")}for(p in k){h=l.fields.get(p);m=k[p];if(h&&h.persist){l.dirty=l.dirty||!l.isEqual(g[p],m)}g[p]=m}if(e){l.commit();l.phantom=o}if(l.data.depth!==n){c={depth:l.data.depth+1};for(j=0;j<b;j++){d[j].updateInfo(e,c)}}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var b=this;if(b.get("expandable")){return !(b.isLeaf()||(b.isLoaded()&&!b.hasChildNodes()))}return false},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(j,m,c){var h=this,d,g,e,k,l,b={isLast:true,parentId:h.getId(),depth:(h.data.depth||0)+1};if(Ext.isArray(j)){h.callStore("suspendAutoSync");for(d=0,g=j.length-1;d<g;d++){h.appendChild(j[d],m,c)}h.callStore("resumeAutoSync");h.appendChild(j[g],m,c)}else{j=h.createNode(j);if(m!==true&&h.fireEventArgs("beforeappend",[h,j])===false){return false}e=h.childNodes.length;k=j.parentNode;if(k){if(m!==true&&j.fireEventArgs("beforemove",[j,k,h,e])===false){return false}k.removeChild(j,false,false,true)}Ext.suspendLayouts();e=h.childNodes.length;if(e===0){h.setFirstChild(j)}h.childNodes[e]=j;j.parentNode=h;j.nextSibling=null;h.setLastChild(j);l=h.childNodes[e-1];if(l){j.previousSibling=l;l.nextSibling=j;l.updateInfo(c,{isLast:false});l.triggerUIUpdate()}else{j.previousSibling=null}b.isFirst=e===0;b.index=e;j.updateInfo(c,b);if(!h.isLoaded()){h.set("loaded",true)}else{if(h.childNodes.length===1){h.triggerUIUpdate()}}if(e&&h.childNodes[e-1].isExpanded()){h.childNodes[e-1].cascadeBy(h.triggerUIUpdate)}if(!j.isLeaf()&&j.phantom){j.set("loaded",true)}Ext.resumeLayouts(true);if(m!==true){h.fireEventArgs("append",[h,j,e]);if(k){j.fireEventArgs("move",[j,k,h,e])}}return j}},getOwnerTree:function(){var b=this,c;while(b.parentNode){b=b.parentNode}c=b.store;if(c){if(c.treeStore){c=c.treeStore}if(c.tree){return c.ownerTree}}return undefined},removeChild:function(j,c,l,g){var h=this,e=h.indexOf(j),d,b,k;if(e===-1||(l!==true&&h.fireEventArgs("beforeremove",[h,j,!!g])===false)){return false}Ext.suspendLayouts();Ext.Array.erase(h.childNodes,e,1);if(h.firstChild===j){h.setFirstChild(j.nextSibling)}if(h.lastChild===j){h.setLastChild(j.previousSibling)}if(k=j.previousSibling){j.previousSibling.nextSibling=j.nextSibling}if(j.nextSibling){j.nextSibling.previousSibling=j.previousSibling;if(e===0){j.nextSibling.updateInfo(false,{isFirst:true})}for(d=e,b=h.childNodes.length;d<b;d++){h.childNodes[d].updateInfo(false,{index:d})}}else{if(k){k.updateInfo(false,{isLast:true});if(k.isExpanded()){k.cascadeBy(h.triggerUIUpdate)}else{k.triggerUIUpdate()}}}if(!h.childNodes.length){h.triggerUIUpdate()}Ext.resumeLayouts(true);if(l!==true){j.removeContext={parentNode:j.parentNode,previousSibling:j.previousSibling,nextSibling:j.nextSibling};j.previousSibling=j.nextSibling=j.parentNode=null;h.fireEventArgs("remove",[h,j,!!g]);j.removeContext=null}if(c){j.destroy(true)}else{j.clear()}return j},copy:function(g,b){var e=this,h=e.callParent(arguments),d=e.childNodes?e.childNodes.length:0,c;if(b){for(c=0;c<d;c++){h.appendChild(e.childNodes[c].copy(undefined,true))}}return h},clear:function(b){var c=this;c.parentNode=c.previousSibling=c.nextSibling=null;if(b){c.firstChild=c.lastChild=null}},destroy:function(h){var b=this,g=b.destroyOptions,e=b.childNodes,d=e.length,c;if(h===true){b.clear(true);for(c=0;c<d;c++){e[c].destroy(true)}b.childNodes=null;delete b.destroyOptions;b.callParent([g])}else{b.destroyOptions=h;b.remove(true)}},insertBefore:function(g,l,m){var e=this,d=e.indexOf(l),h=g.parentNode,k=d,b,j,c;if(!l){return e.appendChild(g)}if(g===l){return false}g=e.createNode(g);if(m!==true&&e.fireEventArgs("beforeinsert",[e,g,l])===false){return false}if(h===e&&e.indexOf(g)<d){k--}if(h){if(m!==true&&g.fireEventArgs("beforemove",[g,h,e,d,l])===false){return false}h.removeChild(g,false,false,true)}if(k===0){e.setFirstChild(g)}Ext.Array.splice(e.childNodes,k,0,g);g.parentNode=e;g.nextSibling=l;l.previousSibling=g;j=e.childNodes[k-1];if(j){g.previousSibling=j;j.nextSibling=g}else{g.previousSibling=null}g.updateInfo(false,{parentId:e.getId(),index:k,isFirst:k===0,isLast:false,depth:(e.data.depth||0)+1});for(c=k+1,b=e.childNodes.length;c<b;c++){e.childNodes[c].updateInfo(false,{index:c})}if(!e.isLoaded()){e.set("loaded",true)}else{if(e.childNodes.length===1){e.triggerUIUpdate()}}if(!g.isLeaf()&&g.phantom){g.set("loaded",true)}if(m!==true){e.fireEventArgs("insert",[e,g,l]);if(h){g.fireEventArgs("move",[g,h,e,k,l])}}return g},insertChild:function(b,c){var d=this.childNodes[b];if(d){return this.insertBefore(c,d)}else{return this.appendChild(c)}},remove:function(b,e){var c=this,d=c.parentNode;if(d){d.removeChild(c,b,e)}else{if(b){c.destroy(true)}}return c},removeAll:function(c,k,d){var h=this,b=h.childNodes,e=0,g=b.length,j;if(!g){return}h.fireEventArgs("bulkremove",[h,b,false]);for(;e<g;++e){j=b[e];j.removeContext={parentNode:j.parentNode,previousSibling:j.previousSibling,nextSibling:j.nextSibling};j.previousSibling=j.nextSibling=j.parentNode=null;h.fireEventArgs("remove",[h,j,false]);j.removeContext=null;if(c){j.destroy(true)}else{j.removeAll(false,k,true)}}h.firstChild=h.lastChild=null;if(d){h.childNodes=null}else{h.childNodes.length=0;h.triggerUIUpdate()}return h},getChildAt:function(b){return this.childNodes[b]},replaceChild:function(b,c,e){var d=c?c.nextSibling:null;this.removeChild(c,false,e);this.insertBefore(b,d,e);return c},indexOf:function(b){return Ext.Array.indexOf(this.childNodes,b)},indexOfId:function(d){var b=this.childNodes,e=b.length,c=0;for(;c<e;++c){if(b[c].getId()===d){return c}}return -1},getPath:function(b,e){b=b||this.idProperty;e=e||"/";var d=[this.get(b)],c=this.parentNode;while(c){d.unshift(c.get(b));c=c.parentNode}return e+d.join(e)},getDepth:function(){return this.get("depth")},bubble:function(c,e,b){var d=this;while(d){if(c.apply(e||d,b||[d])===false){break}d=d.parentNode}},cascade:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.")}return this.cascadeBy.apply(this,arguments)},cascadeBy:function(d,h,b){if(d.apply(h||this,b||[this])!==false){var c=this.childNodes,g=c.length,e;for(e=0;e<g;e++){c[e].cascadeBy(d,h,b)}}},eachChild:function(d,h,b){var c=this.childNodes,g=c.length,e;for(e=0;e<g;e++){if(d.apply(h||this,b||[c[e]])===false){break}}},findChild:function(b,d,c){return this.findChildBy(function(){return this.get(b)==d},null,c)},findChildBy:function(d,k,c){var b=this.childNodes,g=b.length,e=0,h,j;for(;e<g;e++){h=b[e];if(d.call(k||h,h)===true){return h}else{if(c){j=h.findChildBy(d,k,c);if(j!==null){return j}}}}return null},contains:function(b){return b.isAncestor(this)},isAncestor:function(b){var c=this.parentNode;while(c){if(c===b){return true}c=c.parentNode}return false},sort:function(j,h,k){var b=this.childNodes,e=b.length,c,g,d={isFirst:true};if(e>0){Ext.Array.sort(b,j);this.setFirstChild(b[0]);this.setLastChild(b[e-1]);for(c=0;c<e;c++){g=b[c];g.previousSibling=b[c-1];g.nextSibling=b[c+1];d.isLast=(c===e-1);d.index=c;g.updateInfo(false,d);d.isFirst=false;if(h&&!g.isLeaf()){g.sort(j,true,true)}}if(k!==true){this.fireEventArgs("sort",[this,b])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return !this.parentNode},isVisible:function(){var b=this.parentNode;while(b){if(!b.isExpanded()){return false}b=b.parentNode}return true},expand:function(e,b,g){var c=this,d;if(!c.isLeaf()){if(c.isLoading()){c.on("expand",function(){c.expand(e,b,g)},c,{single:true})}else{if(!c.isExpanded()){c.fireEventArgs("beforeexpand",[c,c.onChildNodesAvailable,c,[e,b,g]])}else{if(e){d=c.getOwnerTree();c.expandChildren(true,d?d.singleExpand:false,b,g)}else{Ext.callback(b,g||c,[c.childNodes])}}}}else{Ext.callback(b,g||c)}},onChildNodesAvailable:function(e,g,b,h){var c=this,d;Ext.suspendLayouts();c.set("expanded",true);c.fireEventArgs("expand",[c,c.childNodes,false]);if(g){d=c.getOwnerTree();c.expandChildren(true,d?d.singleExpand:false,b,h)}else{Ext.callback(b,h||c,[c.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(k,m,c,l){var h=this,e,b=h.childNodes,d=[],g=m?Math.min(b.length,1):b.length,j;for(e=0;e<g;++e){j=b[e];if(!j.isLeaf()){d[d.length]=j}}g=d.length;for(e=0;e<g;++e){d[e].expand(k)}if(c){Ext.callback(c,l||h,[h.childNodes])}},collapse:function(j,b,k){var h=this,d=h.isExpanded(),g=h.childNodes.length,e,c;if(!h.isLeaf()&&((!d&&j)||h.fireEventArgs("beforecollapse",[h])!==false)){Ext.suspendLayouts();if(h.isExpanded()){if(j){c=function(){for(e=0;e<g;e++){h.childNodes[e].setCollapsed(true)}};if(b){b=Ext.Function.createSequence(c,b)}else{b=c}}h.set("expanded",false);h.fireEventArgs("collapse",[h,h.childNodes,false,b?Ext.Function.bind(b,k,[h.childNodes]):null,null]);b=null}else{if(j){for(e=0;e<g;e++){h.childNodes[e].setCollapsed(true)}}}Ext.resumeLayouts(true)}Ext.callback(b,k||h,[h.childNodes])},setCollapsed:function(e){var d=this,c=d.childNodes.length,b;if(!d.isLeaf()&&d.fireEventArgs("beforecollapse",[d,Ext.emptyFn])!==false){d.data.expanded=false;d.fireEventArgs("collapse",[d,d.childNodes,false,null,null]);if(e){for(b=0;b<c;b++){d.childNodes[b].setCollapsed(true)}}}},collapseChildren:function(k,c,l){var h=this,e,b=h.childNodes,g=b.length,d=[],j;for(e=0;e<g;++e){j=b[e];if(!j.isLeaf()&&j.isLoaded()&&j.isExpanded()){d.push(j)}}g=d.length;for(e=0;e<g;++e){j=d[e];if(e===g-1){j.collapse(k,c,l)}else{j.collapse(k)}}},fireEventArgs:function(c,b){var e=Ext.data.Model.prototype.fireEventArgs,g,d,j,k,h;if(a[c]){for(d=this;g!==false&&d;d=(h=d).parentNode){if(d.hasListeners[c]){g=e.call(d,c,b)}}j=h.rootOf;if(g!==false&&j){k=j.treeStore;if(k&&k.hasListeners[c]){g=k.fireEventArgs.call(k,c,b)}if(g!==false&&j.hasListeners[c]){g=j.fireEventArgs.call(j,c,b)}}return g}else{return e.apply(this,arguments)}},serialize:function(){var g=Ext.data.writer.Json.prototype.getRecordData(this),b=this.childNodes,e=b.length,c,d;if(e>0){c=[];for(d=0;d<e;d++){c.push(b[d].serialize())}g.children=c}return g}}}}});Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:true,node:null,recursive:false,rootVisible:false,isExpandingOrCollapsing:0,constructor:function(a){var b=this,c;a=a||{};Ext.apply(b,a);a.proxy={type:"proxy"};b.callParent([a]);c=b.node;if(c){b.node=null;b.setNode(c)}},getTotalCount:function(){return this.getCount()},setNode:function(b){var a=this;if(a.node&&a.node!=b){a.mun(a.node,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,bulkremove:a.onBulkRemove,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=null}if(b){Ext.data.NodeInterface.decorate(b.self);a.removeAll();if(a.rootVisible){a.add(b)}else{if(!b.isExpanded()&&a.treeStore.autoLoad!==false){b.expand()}}a.mon(b,{expand:a.onNodeExpand,collapse:a.onNodeCollapse,append:a.onNodeAppend,insert:a.onNodeInsert,bulkremove:a.onBulkRemove,remove:a.onNodeRemove,sort:a.onNodeSort,scope:a});a.node=b;if(b.isExpanded()&&b.isLoaded()){a.onNodeExpand(b,b.childNodes,true)}}},onNodeSort:function(c,a){var b=this;if((b.indexOf(c)!==-1||(c===b.node&&!b.rootVisible)&&c.isExpanded())){Ext.suspendLayouts();b.onNodeCollapse(c,a,true);b.onNodeExpand(c,a,true);Ext.resumeLayouts(true)}},onNodeExpand:function(c,d,e){var b=this,a=b.indexOf(c)+1,g=[];if(!e){b.fireEvent("beforeexpand",c,d,a)}b.handleNodeExpand(c,d,g);b.insert(a,g);if(!e){b.fireEvent("expand",c,d)}},handleNodeExpand:function(d,g,h){var c=this,b=g?g.length:0,a,e;if(!c.recursive&&d!==c.node){return}if(d!==this.node&&!c.isVisible(d)){return}if(b){for(a=0;a<b;a++){e=g[a];h.push(e);if(e.isExpanded()){if(e.isLoaded()){c.handleNodeExpand(e,e.childNodes,h)}else{e.set("expanded",false);e.expand()}}}}},onBulkRemove:function(c,a,b){this.onNodeCollapse(c,a,true)},onNodeCollapse:function(h,j,m,a,k){var e=this,b=e.indexOf(h)+1,g,d,l,c;if(!e.recursive&&h!==e.node){return}if(!m){e.fireEvent("beforecollapse",h,j,b,a,k)}if(j.length&&e.data.contains(j[0])){g=h;while(g.parentNode){l=g.nextSibling;if(l){c=true;d=e.indexOf(l);break}else{g=g.parentNode}}if(!c){d=e.getCount()}e.removeAt(b,d-b)}if(!m){e.fireEvent("collapse",h,j,b)}},onNodeAppend:function(d,c,a){var b=this,e,g;if(b.isVisible(c)){if(a===0){e=d}else{g=c.previousSibling;while(g.isExpanded()&&g.lastChild){g=g.lastChild}e=g}b.insert(b.indexOf(e)+1,c);if(!c.isLeaf()&&c.isExpanded()){if(c.isLoaded()){b.onNodeExpand(c,c.childNodes,true)}else{if(!b.treeStore.fillCount){c.set("expanded",false);c.expand()}}}}},onNodeInsert:function(d,c,e){var b=this,a=this.indexOf(e);if(a!=-1&&b.isVisible(c)){b.insert(a,c);if(!c.isLeaf()&&c.isExpanded()){if(c.isLoaded()){b.onNodeExpand(c,c.childNodes,true)}else{c.set("expanded",false);c.expand()}}}},onNodeRemove:function(d,c,a){var b=this;if(b.indexOf(c)!=-1){if(!c.isLeaf()&&c.isExpanded()){c.parentNode=c.removeContext.parentNode;c.nextSibling=c.removeContext.nextSibling;b.onNodeCollapse(c,c.childNodes,true);c.parentNode=c.nextSibling=null}b.remove(c)}},isVisible:function(a){var b=a.parentNode;while(b){if(b===this.node&&b.data.expanded){return true}if(!b.data.expanded){return false}b=b.parentNode}return false}});Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}});Ext.define("Ext.data.SequentialIdGenerator",{extend:Ext.data.IdGenerator,alias:"idgen.sequential",constructor:function(){var a=this;a.callParent(arguments);a.parts=[a.prefix,""]},prefix:"",seed:1,generate:function(){var a=this,b=a.parts;b[1]=a.seed++;return b.join("")}});Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:Ext.util.Observable},root:null,constructor:function(b){var a=this;a.mixins.observable.constructor.call(a);if(b){a.setRootNode(b)}a.on({scope:a,idchanged:a.onNodeIdChanged,insert:a.onNodeInsert,append:a.onNodeAppend,remove:a.onNodeRemove})},getRootNode:function(){return this.root},setRootNode:function(b){var a=this;a.root=b;if(b.rootOf){b.rootOf.removeRootNode()}else{if(b.parentNode){b.parentNode.removeChild(b)}}b.rootOf=a;if(b.fireEventArgs("beforeappend",[null,b])!==false){b.set("root",true);b.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});a.nodeHash={};b.fireEvent("append",null,b);b.fireEvent("rootchange",b)}return b},removeRootNode:function(){var a=this,b=a.root;b.set("root",false);b.fireEvent("remove",null,b,false);b.fireEvent("rootchange",null);b.rootOf=a.root=null;return b},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(b,a){this.registerNode(a,true)},onNodeAppend:function(b,a){this.registerNode(a,true)},onNodeRemove:function(b,a){this.unregisterNode(a,true)},onNodeIdChanged:function(b,d,a,e){var c=this.nodeHash;c[b.internalId]=b;delete c[e]},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(g,c){var e=this,a,d,b;e.nodeHash[g.internalId]=g;if(c===true){a=g.childNodes;d=a.length;for(b=0;b<d;b++){e.registerNode(a[b],true)}}},unregisterNode:function(g,c){var e=this,a,d,b;delete e.nodeHash[g.internalId];if(c===true){a=g.childNodes;d=a.length;for(b=0;b<d;b++){e.unregisterNode(a[b],true)}}},sort:function(b,a){this.getRootNode().sort(b,a)},filter:function(a,b){this.getRootNode().filter(a,b)}});Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model},function(){Ext.data.NodeInterface.decorate(this)});Ext.define("Ext.data.TreeStore",{extend:Ext.data.AbstractStore,alias:"store.tree",clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",defaultRootProperty:"children",rootProperty:"children",fillCount:0,folderSort:false,constructor:function(a){var d=this,e,c,b;a=Ext.apply({},a);c=a.fields||d.fields;if(!c){a.fields=[{name:"text",type:"string"}];b=a.defaultRootProperty||d.defaultRootProperty;if(b!==d.defaultRootProperty){a.fields.push({name:b,type:"auto",defaultValue:null,persist:false})}}d.callParent([a]);d.tree=new Ext.data.Tree();d.tree.treeStore=d;d.tree.on({scope:d,remove:d.onNodeRemove,beforeexpand:d.onBeforeNodeExpand,append:d.onNodeAdded,insert:d.onNodeAdded,sort:d.onNodeSort});d.onBeforeSort();e=d.root;if(e){delete d.root;d.setRootNode(e)}if(Ext.isDefined(d.nodeParameter)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead.")}d.nodeParam=d.nodeParameter;delete d.nodeParameter}},setProxy:function(b){var c,a;if(b instanceof Ext.data.proxy.Proxy){a=Ext.isEmpty(b.getReader().root)}else{if(Ext.isString(b)){a=true}else{c=b.reader;a=!(c&&!Ext.isEmpty(c.root))}}b=this.callParent(arguments);b.idParam=this.nodeParam;if(a){c=b.getReader();c.root=this.defaultRootProperty;c.buildExtractors(true)}return b},onBeforeSort:function(){if(this.folderSort){this.sort({property:"leaf",direction:"ASC"},"prepend",false)}},onBeforeNodeExpand:function(h,b,k,a){var g=this,j,e,d,c;if(h.isLoaded()){c=[h.childNodes];if(a){c.push.apply(c,a)}Ext.callback(b,k||h,c)}else{if(e=(d=(h.raw||h[h.persistenceProperty])[(j=g.getProxy().getReader()).root])){g.fillNode(h,j.extractData(e));delete d[j.root];c=[h.childNodes];if(a){c.push.apply(c,a)}Ext.callback(b,k||h,c)}else{if(h.isLoading()){g.on("load",function(){c=[h.childNodes];if(a){c.push.apply(c,a)}Ext.callback(b,k||h,c)},g,{single:true})}else{g.read({node:h,callback:function(){delete g.lastOptions.callback;c=[h.childNodes];if(a){c.push.apply(c,a)}Ext.callback(b,k||h,c)}})}}}},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onNodeRemove:function(d,c,a){var b=this;c.unjoin(b);if(!c.phantom&&!a){Ext.Array.include(b.removed,c)}if(b.autoSync&&!b.autoSyncSuspended&&!a){b.sync()}},onNodeAdded:function(e,d){var c=this,g=c.getProxy(),h=g.getReader(),a=d.raw||d[d.persistenceProperty],b;Ext.Array.remove(c.removed,d);d.join(c);if(!d.isLeaf()&&!c.lazyFill){b=h.getRoot(a);if(b){c.fillNode(d,h.extractData(b));delete a[h.root]}}if(c.autoSync&&!c.autoSyncSuspended&&(d.phantom||d.dirty)){c.sync()}},onNodeSort:function(){if(this.autoSync&&!this.autoSyncSuspended){this.sync()}},setRootNode:function(e,d){var b=this,c=b.model,a=c.prototype.idProperty;e=e||{};if(!e.isModel){e=Ext.apply({},e);Ext.applyIf(e,{id:b.defaultRootId,text:b.defaultRootText,allowDrag:false});if(e[a]===undefined){e[a]=b.defaultRootId}Ext.data.NodeInterface.decorate(c);e=Ext.ModelManager.create(e,c)}else{if(e.isModel&&!e.isNode){Ext.data.NodeInterface.decorate(c)}}b.getProxy().getReader().buildExtractors(true);b.tree.setRootNode(e);if(d!==true&&!e.isLoaded()&&(b.autoLoad===true||e.isExpanded())){e.data.expanded=false;e.expand()}return e},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(a){return this.tree.getNodeById(a)},getById:function(a){return this.getNodeById(a)},load:function(c){c=c||{};c.params=c.params||{};var a=this,b=c.node||a.tree.getRootNode();if(!b){b=a.setRootNode({expanded:true},true)}c.id=b.getId();if(a.clearOnLoad){if(a.clearRemovedOnLoad){a.clearRemoved(b)}a.tree.un("remove",a.onNodeRemove,a);b.removeAll(false);a.tree.on("remove",a.onNodeRemove,a)}Ext.applyIf(c,{node:b});a.callParent([c]);if(a.loading&&b){b.set("loading",true)}return a},clearRemoved:function(e){var c=this,h=c.removed,b=e.getId(),k=h.length,a=k,g={},d=[],j={},l,n,m;if(e===c.getRootNode()){c.removed=[];return}for(;a--;){l=h[a];j[l.getId()]=l}for(a=k;a--;){l=h[a];n=l;while(n&&n.getId()!==b){m=n.get("parentId");n=n.parentNode||c.getNodeById(m)||j[m]}if(n){g[l.getId()]=l}}for(a=0;a<k;a++){l=h[a];if(!g[l.getId()]){d.push(l)}}c.removed=d},fillNode:function(g,e){var c=this,b=e?e.length:0,n=c.sorters,a,m,d=false,k=b&&c.sortOnLoad&&!c.remoteSort&&n&&n.items&&n.items.length,h,j,l;for(a=1;a<b;a++){h=e[a];j=e[a-1];d=h[h.persistenceProperty].index!=j[j.persistenceProperty].index;if(d){break}}if(k){if(d){c.sorters.insert(0,c.indexSorter)}m=new Ext.util.MixedCollection();m.addAll(e);m.sort(c.sorters.items);e=m.items;c.sorters.remove(c.indexSorter)}else{if(d){Ext.Array.sort(e,c.sortByIndex)}}g.set("loaded",true);l=c.fillCount===0;if(l){c.fireEvent("beforefill",c,g,e)}++c.fillCount;if(e.length){g.appendChild(e,undefined,true)}if(l){c.fireEvent("fillcomplete",c,g,e)}--c.fillCount;return e},sortByIndex:function(a,b){return a[a.persistenceProperty].index-b[b.persistenceProperty].index},onIdChanged:function(a,c,b,d){this.tree.onNodeIdChanged(a,c,b,d);this.callParent(arguments)},onProxyLoad:function(c){var a=this,e=c.wasSuccessful(),d=c.getRecords(),b=c.node;a.loading=false;b.set("loading",false);if(e){if(!a.clearOnLoad){d=a.cleanRecords(b,d)}d=a.fillNode(b,d)}a.fireEvent("read",a,c.node,d,e);a.fireEvent("load",a,c.node,d,e);Ext.callback(c.callback,c.scope||a,[d,c,e])},cleanRecords:function(d,j){var e={},a=d.childNodes,b=0,c=a.length,g=[],h;for(;b<c;++b){e[a[b].getId()]=true}for(b=0,c=j.length;b<c;++b){h=j[b];if(!e[h.getId()]){g.push(h)}}return g},removeAll:function(){var a=this.getRootNode();if(a){a.destroy(true)}this.fireEvent("clear",this)},doSort:function(b){var a=this;if(a.remoteSort){a.load()}else{a.tree.sort(b,true);a.fireEvent("datachanged",a);a.fireEvent("refresh",a)}a.fireEvent("sort",a,a.sorters.getRange())}},function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});Ext.define("Ext.data.UuidGenerator",(function(){var d=Math.pow(2,14),e=Math.pow(2,16),g=Math.pow(2,28),h=Math.pow(2,32);function c(l,j){var k=l.toString(16);if(k.length>j){k=k.substring(k.length-j)}else{if(k.length<j){k=Ext.String.leftPad(k,j,"0")}}return k}function a(k,j){var l=Math.random()*(j-k+1);return Math.floor(l)+k}function b(j){if(typeof(j)=="number"){var k=Math.floor(j/h);return{lo:Math.floor(j-k*h),hi:k}}return j}return{extend:Ext.data.IdGenerator,alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var j=this;j.callParent(arguments);j.parts=[];j.init()},generate:function(){var j=this,k=j.parts,l=j.timestamp;k[0]=c(l.lo,8);k[1]=c(l.hi&65535,4);k[2]=c(((l.hi>>>16)&4095)|(j.version<<12),4);k[3]=c(128|((j.clockSeq>>>8)&63),2)+c(j.clockSeq&255,2);k[4]=c(j.salt.hi,4)+c(j.salt.lo,8);if(j.version==4){j.init()}else{++l.lo;if(l.lo>=h){l.lo=0;++l.hi}}return k.join("-").toLowerCase()},getRecId:function(j){return j.getId()},init:function(){var j=this,k,l;if(j.version==4){j.clockSeq=a(0,d-1);k=j.salt||(j.salt={});l=j.timestamp||(j.timestamp={});k.lo=a(0,h-1);k.hi=a(0,e-1);l.lo=a(0,h-1);l.hi=a(0,g-1)}else{j.salt=b(j.salt);j.timestamp=b(j.timestamp);j.salt.hi|=256}},reconfigure:function(j){Ext.apply(this,j);this.init()}}}()));Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(a){var b=this;if(Ext.isEmpty(a)){return Ext.emptyFn}if(Ext.isFunction(a)){return a}return function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){if(a){if(typeof a.normalize==="function"){a.normalize()}a=a.firstChild;if(a){return a.nodeValue}}return undefined},getResponseData:function(c){var d=c.responseXML,a,b;if(!d){b="XML data not found in the response";a=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:b});this.fireEvent("exception",this,c,a);Ext.Logger.warn(b);return a}return this.readRecords(d)},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.root;if(!c||(b&&b==c)){return a}else{if(Ext.DomQuery.isXml(a)){return Ext.DomQuery.selectNode(c,a)}}},extractData:function(b){var a=this.record;if(a!=b.nodeName){b=Ext.DomQuery.select(a,b)}else{b=[b]}return this.callParent([b])},getAssociatedDataRoot:function(b,a){return Ext.DomQuery.select(a,b)[0]},readRecords:function(a){if(Ext.isArray(a)){a=a[0]}this.xmlData=a;return this.callParent([a])},createFieldAccessExpression:function(b,c,a){var d=this.namespace,g,e;g=b.mapping||((d?d+"|":"")+b.name);if(typeof g==="function"){e=c+".mapping("+a+", this)"}else{e='me.getNodeValue(Ext.DomQuery.selectNode("'+g+'", '+a+"))"}return e}});Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(k,a){var g=this,m=[],b=0,e=a.length,l=g.documentRoot,j=g.record,h=a.length!==1,c,d;m.push(g.header||"");if(!l&&h){l=g.defaultDocumentRoot}if(l){m.push("<",l,">")}for(;b<e;++b){c=a[b];m.push("<",j,">");for(d in c){if(c.hasOwnProperty(d)){m.push("<",d,">",c[d],"</",d,">")}}m.push("</",j,">")}if(l){m.push("</",l,">")}k.xmlData=m.join("");return k}});Ext.define("Ext.data.XmlStore",{extend:Ext.data.Store,alias:"store.xml",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a);this.callParent([a])}});Ext.define("Ext.data.amf.Encoder",{alias:"data.amf.Encoder",config:{format:3},bytes:[],constructor:function(a){this.initConfig(a);this.clear()},clear:function(){this.bytes=[]},applyFormat:function(b){var a={0:{writeUndefined:this.write0Undefined,writeNull:this.write0Null,writeBoolean:this.write0Boolean,writeNumber:this.write0Number,writeString:this.write0String,writeXml:this.write0Xml,writeDate:this.write0Date,writeArray:this.write0Array,writeGenericObject:this.write0GenericObject},3:{writeUndefined:this.write3Undefined,writeNull:this.write3Null,writeBoolean:this.write3Boolean,writeNumber:this.write3Number,writeString:this.write3String,writeXml:this.write3Xml,writeDate:this.write3Date,writeArray:this.write3Array,writeGenericObject:this.write3GenericObject}}[b];if(a){Ext.apply(this,a);return b}else{return}},writeObject:function(a){var b=typeof(a);if(b==="undefined"){this.writeUndefined()}else{if(a===null){this.writeNull()}else{if(Ext.isBoolean(a)){this.writeBoolean(a)}else{if(Ext.isString(a)){this.writeString(a)}else{if(b==="number"||a instanceof Number){this.writeNumber(a)}else{if(b==="object"){if(a instanceof Date){this.writeDate(a)}else{if(Ext.isArray(a)){this.writeArray(a)}else{if(this.isXmlDocument(a)){this.writeXml(a)}else{this.writeGenericObject(a)}}}}else{}}}}}}},write3Undefined:function(){this.writeByte(0)},write0Undefined:function(){this.writeByte(6)},write3Null:function(){this.writeByte(1)},write0Null:function(){this.writeByte(5)},write3Boolean:function(a){if(a){this.writeByte(3)}else{this.writeByte(2)}},write0Boolean:function(a){this.writeByte(1);if(a){this.writeByte(1)}else{this.writeByte(0)}},encode29Int:function(c){var a=[],e=c,d,b;if(e==0){return[0]}if(e>2097151){d=e&255;a.unshift(d);e=e>>8}while(e>0){d=e&127;a.unshift(d);e=e>>7}for(b=0;b<a.length-1;b++){a[b]=a[b]|128}return a},write3Number:function(b){var a;var c=536870911,d=-268435455;if(b instanceof Number){b=b.valueOf()}if(b%1===0&&b>=d&&b<=c){b=b&c;a=this.encode29Int(b);a.unshift(4);this.writeBytes(a)}else{a=this.encodeDouble(b);a.unshift(5);this.writeBytes(a)}},write0Number:function(b){var a;if(b instanceof Number){b=b.valueOf()}a=this.encodeDouble(b);a.unshift(0);this.writeBytes(a)},encodeUtf8Char:function(d){var e=[],j,a,g,h;if(d<=127){e.push(d)}else{if(d<=2047){a=2}else{if(d<=65535){a=3}else{a=4}}h=128;for(g=1;g<a;g++){j=(d&63)|128;e.unshift(j);d=d>>6;h=(h>>1)|128}j=d|h;e.unshift(j)}return e},encodeUtf8String:function(c){var b,d=[];for(b=0;b<c.length;b++){var a=this.encodeUtf8Char(c.charCodeAt(b));Ext.Array.push(d,a)}return d},encode3Utf8StringLen:function(c){var b=c.length,a=[];if(b<=268435455){b=b<<1;b=b|1;a=this.encode29Int(b)}else{}return a},write3String:function(a){if(a==""){this.writeByte(6);this.writeByte(1)}else{var c=this.encodeUtf8String(a);var b=this.encode3Utf8StringLen(c);this.writeByte(6);this.writeBytes(b);this.writeBytes(c)}},encodeXInt:function(d,a){var b=[],c;for(c=0;c<a;c++){b.unshift(d&255);d=d>>8}return b},write0String:function(b){if(b==""){this.writeByte(2);this.writeBytes([0,0])}else{var d=this.encodeUtf8String(b);var a;var c;if(d.length<=65535){a=2;c=this.encodeXInt(d.length,2)}else{a=12;c=this.encodeXInt(d.length,4)}this.writeByte(a);this.writeBytes(c);this.writeBytes(d)}},write3XmlWithType:function(d,a){var e=this.convertXmlToString(d);if(e==""){this.writeByte(a);this.writeByte(1)}else{var c=this.encodeUtf8String(e);var b=this.encode3Utf8StringLen(c);this.writeByte(a);this.writeBytes(b);this.writeBytes(c)}},write3XmlDocument:function(a){this.write3XmlWithType(a,7)},write3Xml:function(a){this.write3XmlWithType(a,11)},write0Xml:function(c){var d=this.convertXmlToString(c);this.writeByte(15);var b=this.encodeUtf8String(d);var a=this.encodeXInt(b.length,4);this.writeBytes(a);this.writeBytes(b)},write3Date:function(a){this.writeByte(8);this.writeBytes(this.encode29Int(1));this.writeBytes(this.encodeDouble(new Number(a)))},write0Date:function(a){this.writeByte(11);this.writeBytes(this.encodeDouble(new Number(a)));this.writeBytes([0,0])},write3Array:function(a){this.writeByte(9);var b=a.length;b=b<<1;b=b|1;this.writeBytes(this.encode29Int(b));this.writeByte(1);Ext.each(a,function(c){this.writeObject(c)},this)},write0ObjectProperty:function(a,d){if(!(a instanceof String)&&(typeof(a)!=="string")){a=a+""}var c=this.encodeUtf8String(a);var b;b=this.encodeXInt(c.length,2);this.writeBytes(b);this.writeBytes(c);this.writeObject(d)},write0Array:function(a){var b;this.writeByte(8);var c=0;for(b in a){c++}this.writeBytes(this.encodeXInt(c,4));for(b in a){Ext.Array.push(this.write0ObjectProperty(b,a[b]))}this.writeBytes([0,0,9])},write0StrictArray:function(a){this.writeByte(10);var b=a.length;this.writeBytes(this.encodeXInt(b,4));Ext.each(a,function(c){this.writeObject(c)},this)},write3ByteArray:function(a){this.writeByte(12);var b=a.length;b=b<<1;b=b|1;this.writeBytes(this.encode29Int(b));this.writeBytes(a)},write3GenericObject:function(d){var a;this.writeByte(10);var e=11;this.writeByte(e);this.writeByte(1);for(a in d){var c=new String(a).valueOf();if(c==""){}var b=(this.encodeUtf8String(a));this.writeBytes(this.encode3Utf8StringLen(a));this.writeBytes(b);this.writeObject(d[a])}this.writeByte(1)},write0GenericObject:function(c){var d,a,b;d=!!c.$flexType;a=d?16:3;this.writeByte(a);if(d){this.write0ShortUtf8String(c.$flexType)}for(b in c){if(b!="$flexType"){Ext.Array.push(this.write0ObjectProperty(b,c[b]))}}this.writeBytes([0,0,9])},writeByte:function(a){Ext.Array.push(this.bytes,a)},writeBytes:function(a){var c;Ext.Array.push(this.bytes,a)},convertXmlToString:function(b){var a;if(window.XMLSerializer){a=new window.XMLSerializer().serializeToString(b)}else{a=b.xml}return a},isXmlDocument:function(a){if(window.DOMParser){if(Ext.isDefined(a.doctype)){return true}}if(Ext.isString(a.xml)){return true}return false},encodeDouble:function(r){var g=11,j=52;var a=(1<<(g-1))-1,p,d,h,o,k,b,q,c=[];var l=[127,240,0,0,0,0,0,0],n=[255,240,0,0,0,0,0,0],m=[255,248,0,0,0,0,0,0];if(isNaN(r)){c=m}else{if(r===Infinity){c=l}else{if(r==-Infinity){c=n}else{if(r===0){d=0;h=0;p=(1/r===-Infinity)?1:0}else{p=r<0;r=Math.abs(r);if(r>=Math.pow(2,1-a)){o=Math.min(Math.floor(Math.log(r)/Math.LN2),a);d=o+a;h=Math.round(r*Math.pow(2,j-o)-Math.pow(2,j))}else{d=0;h=Math.round(r/Math.pow(2,1-a-j))}}b=[];for(k=j;k;k-=1){b.push(h%2?1:0);h=Math.floor(h/2)}for(k=g;k;k-=1){b.push(d%2?1:0);d=Math.floor(d/2)}b.push(p?1:0);b.reverse();q=b.join("");c=[];while(q.length){c.push(parseInt(q.substring(0,8),2));q=q.substring(8)}}}}return c},write0ShortUtf8String:function(b){var c=this.encodeUtf8String(b),a;a=this.encodeXInt(c.length,2);this.writeBytes(a);this.writeBytes(c)},writeAmfPacket:function(a,c){var b;this.writeBytes([0,0]);this.writeBytes(this.encodeXInt(a.length,2));for(b in a){this.writeAmfHeader(a[b].name,a[b].mustUnderstand,a[b].value)}this.writeBytes(this.encodeXInt(c.length,2));for(b in c){this.writeAmfMessage(c[b].targetUri,c[b].responseUri,c[b].body)}},writeAmfHeader:function(a,c,d){this.write0ShortUtf8String(a);var b=c?1:0;this.writeByte(b);this.writeBytes(this.encodeXInt(-1,4));this.writeObject(d)},writeAmfMessage:function(c,b,a){this.write0ShortUtf8String(c);this.write0ShortUtf8String(b);this.writeBytes(this.encodeXInt(-1,4));this.write0StrictArray(a)}});Ext.define("Ext.data.amf.Packet",function(){var h=Math.pow(2,-52),g=Math.pow(2,8),c=0,a,d,b,e;return{typeMap:{0:{0:"readDouble",1:"readBoolean",2:"readAmf0String",3:"readAmf0Object",5:"readNull",6:"readUndefined",7:"readReference",8:"readEcmaArray",10:"readStrictArray",11:"readAmf0Date",12:"readLongString",13:"readUnsupported",15:"readAmf0Xml",16:"readTypedObject"},3:{0:"readUndefined",1:"readNull",2:"readFalse",3:"readTrue",4:"readUInt29",5:"readDouble",6:"readAmf3String",7:"readAmf3Xml",8:"readAmf3Date",9:"readAmf3Array",10:"readAmf3Object",11:"readAmf3Xml",12:"readByteArray"}},decode:function(j){var m=this,l=m.headers=[],o=m.messages=[],k,n;c=0;a=m.bytes=j;d=m.strings=[];b=m.objects=[];e=m.traits=[];m.version=m.readUInt(2);for(k=m.readUInt(2);k--;){l.push({name:m.readAmf0String(),mustUnderstand:m.readBoolean(),byteLength:m.readUInt(4),value:m.readValue()});d=m.strings=[];b=m.objects=[];e=m.traits=[]}for(n=m.readUInt(2);n--;){o.push({targetURI:m.readAmf0String(),responseURI:m.readAmf0String(),byteLength:m.readUInt(4),body:m.readValue()});d=m.strings=[];b=m.objects=[];e=m.traits=[]}c=0;a=d=b=e=m.bytes=m.strings=m.objects=m.traits=null;return m},decodeValue:function(j){var k=this;a=k.bytes=j;c=0;k.version=3;d=k.strings=[];b=k.objects=[];e=k.traits=[];return k.readValue()},parseXml:function(k){var j;if(window.DOMParser){j=(new DOMParser()).parseFromString(k,"text/xml")}else{j=new ActiveXObject("Microsoft.XMLDOM");j.loadXML(k)}return j},readAmf0Date:function(){var j=new Date(this.readDouble());c+=2;return j},readAmf0Object:function(l){var k=this,j;l=l||{};b.push(l);while((j=k.readAmf0String())||a[c]!==9){l[j]=k.readValue()}c++;return l},readAmf0String:function(){return this.readUtf8(this.readUInt(2))},readAmf0Xml:function(){return this.parseXml(this.readLongString())},readAmf3Array:function(){var o=this,l=o.readUInt29(),k,n,j,m;if(l&1){k=(l>>1);n=o.readAmf3String();if(n){j={};b.push(j);do{j[n]=o.readValue()}while((n=o.readAmf3String()));for(m=0;m<k;m++){j[m]=o.readValue()}}else{j=[];b.push(j);for(m=0;m<k;m++){j.push(o.readValue())}}}else{j=b[l>>1]}return j},readAmf3Date:function(){var l=this,k=l.readUInt29(),j;if(k&1){j=new Date(l.readDouble());b.push(j)}else{j=b[k>>1]}return j},readAmf3Object:function(){var q=this,l=q.readUInt29(),s=[],m,r,j,k,u,t,o,p,n;if(l&1){m=(l&7);if(m===3){j=q.readAmf3String();k=!!(l&8);r=(l>>4);for(n=0;n<r;n++){s.push(q.readAmf3String())}u={className:j,dynamic:k,members:s};e.push(u)}else{if((l&3)===1){u=e[l>>2];j=u.className;k=u.dynamic;s=u.members;r=s.length}else{if(m===7){}}}if(j){p=Ext.ClassManager.getByAlias("amf."+j);t=p?new p():{$className:j}}else{t={}}b.push(t);for(n=0;n<r;n++){t[s[n]]=q.readValue()}if(k){while((o=q.readAmf3String())){t[o]=q.readValue()}}if((!p)&&this.converters[j]){t=this.converters[j](t)}}else{t=b[l>>1]}return t},readAmf3String:function(){var k=this,j=k.readUInt29(),l;if(j&1){l=k.readUtf8(j>>1);if(l){d.push(l)}return l}else{return d[j>>1]}},readAmf3Xml:function(){var l=this,k=l.readUInt29(),j;if(k&1){j=l.parseXml(l.readUtf8(k>>1));b.push(j)}else{j=b[k>>1]}return j},readBoolean:function(){return !!a[c++]},readByteArray:function(){var l=this.readUInt29(),j,k;if(l&1){k=c+(l>>1);j=Array.prototype.slice.call(a,c,k);b.push(j);c=k}else{j=b[l>>1]}return j},readDouble:function(){var j=a[c++],k=a[c++],o=(j>>7)?-1:1,l=(((j&127)<<4)|(k>>4)),p=(k&15),m=l?1:0,n=6;while(n--){p=(p*g)+a[c++]}if(!l){if(!p){return 0}l=1}if(l===2047){return p?NaN:(Infinity*o)}return o*Math.pow(2,l-1023)*(m+h*p)},readEcmaArray:function(){c+=4;return this.readAmf0Object()},readFalse:function(){return false},readLongString:function(){return this.readUtf8(this.readUInt(4))},readNull:function(){return null},readReference:function(){return b[this.readUInt(2)]},readStrictArray:function(){var l=this,k=l.readUInt(4),j=[];b.push(j);while(k--){j.push(l.readValue())}return j},readTrue:function(){return true},readTypedObject:function(){var m=this,j=m.readAmf0String(),l,k,n;l=Ext.ClassManager.getByAlias("amf."+j);k=l?new l():{$className:j};n=m.readAmf0Object(k);if((!l)&&this.converters[j]){n=this.converters[j](k)}return n},readUInt:function(j){var k=1,l;l=a[c++];for(;k<j;++k){l=(l<<8)|a[c++]}return l},readUInt29:function(){var k=a[c++],j;if(k&128){j=a[c++];k=((k&127)<<7)|(j&127);if(j&128){j=a[c++];k=(k<<7)|(j&127);if(j&128){j=a[c++];k=(k<<8)|j}}}return k},readUndefined:Ext.emptyFn,readUnsupported:Ext.emptyFn,readUtf8:function(k){var q=c+k,p=[],o=0,s=65535,l=1,t=[],r=0,m,j,n;m=[p];while(c<q){n=a[c++];if(n>127){if(n>239){j=4;n=(n&7)}else{if(n>223){j=3;n=(n&15)}else{j=2;n=(n&31)}}while(--j){n=((n<<6)|(a[c++]&63))}}p.push(n);if(++o===s){m.push(p=[]);o=0;l++}}for(;r<l;r++){t.push(String.fromCharCode.apply(String,m[r]))}return t.join("")},readValue:function(){var k=this,j=a[c++];if(j===17){k.version=3;j=a[c++]}return k[k.typeMap[k.version][j]]()},converters:{"flex.messaging.io.ArrayCollection":function(j){return j.source||[]}}}});Ext.define("Ext.data.amf.Reader",{extend:Ext.data.reader.Json,alias:"reader.amf",messageIndex:0,read:function(e){var b=this,a=e.responseBytes,d,c,g;if(!a){throw"AMF Reader cannot process the response because it does not contain binary data. Make sure the Proxy's 'binary' config is true."}d=new Ext.data.amf.Packet(),d.decode(a);c=d.messages;if(c.length){g=b.readRecords(c[b.messageIndex].body)}else{g=b.nullResultSet;if(d.invalid){g.success=false}}return g}});Ext.define("Ext.data.amf.Proxy",{extend:Ext.data.proxy.Ajax,alias:"proxy.amf",binary:true,reader:"amf"});Ext.define("Ext.data.amf.RemotingMessage",{alias:"data.amf.remotingmessage",config:{$flexType:"flex.messaging.messages.RemotingMessage",body:[],clientId:"",destination:"",headers:[],messageId:"",operation:"",source:"",timestamp:[],timeToLive:[]},constructor:function(a){this.initConfig(a)},encodeMessage:function(){var b=Ext.create("Ext.data.amf.XmlEncoder"),a;a=Ext.copyTo({},this,"$flexType,body,clientId,destination,headers,messageId,operation,source,timestamp,timeToLive",true);b.writeObject(a);return b.body}});Ext.define("Ext.data.amf.XmlDecoder",{alias:"data.amf.xmldecoder",statics:{readXml:function(b){var a;if(window.DOMParser){a=(new DOMParser()).parseFromString(b,"text/xml")}else{a=new ActiveXObject("Microsoft.XMLDOM");a.loadXML(b)}return a},readByteArray:function(e){var a=[],b,d,g;g=e.firstChild.nodeValue;for(d=0;d<g.length;d=d+2){b=g.substr(d,2);a.push(parseInt(b,16))}return a},readAMF3Value:function(a){var b;b=Ext.create("Ext.data.amf.Packet");return b.decodeValue(a)},decodeTidFromFlexUID:function(a){var b;b=a.substr(0,8);return parseInt(b,16)}},constructor:function(a){this.initConfig(a);this.clear()},clear:function(){this.objectReferences=[];this.traitsReferences=[];this.stringReferences=[]},readAmfxMessage:function(g){var c,a,b,d,e={};this.clear();c=Ext.data.amf.XmlDecoder.readXml(g);a=c.getElementsByTagName("amfx")[0];b=a.getElementsByTagName("body")[0];e.targetURI=b.getAttribute("targetURI");e.responseURI=b.getAttribute("responseURI");for(d=0;d<b.childNodes.length;d++){if(b.childNodes.item(d).nodeType!=1){continue}e.message=this.readValue(b.childNodes.item(d));break}return e},readValue:function(a){var b;if(typeof a.normalize==="function"){a.normalize()}if(a.tagName=="null"){return null}else{if(a.tagName=="true"){return true}else{if(a.tagName=="false"){return false}else{if(a.tagName=="string"){return this.readString(a)}else{if(a.tagName=="int"){return parseInt(a.firstChild.nodeValue)}else{if(a.tagName=="double"){return parseFloat(a.firstChild.nodeValue)}else{if(a.tagName=="date"){b=new Date(parseFloat(a.firstChild.nodeValue));this.objectReferences.push(b);return b}else{if(a.tagName=="dictionary"){return this.readDictionary(a)}else{if(a.tagName=="array"){return this.readArray(a)}else{if(a.tagName=="ref"){return this.readObjectRef(a)}else{if(a.tagName=="object"){return this.readObject(a)}else{if(a.tagName=="xml"){return Ext.data.amf.XmlDecoder.readXml(a.firstChild.nodeValue)}else{if(a.tagName=="bytearray"){return Ext.data.amf.XmlDecoder.readAMF3Value(Ext.data.amf.XmlDecoder.readByteArray(a))}}}}}}}}}}}}}return null},readString:function(a){var b;if(a.getAttributeNode("id")){return this.stringReferences[parseInt(a.getAttribute("id"))]}b=(a.firstChild?a.firstChild.nodeValue:"")||"";this.stringReferences.push(b);return b},readTraits:function(b){var d=[],a,c;if(b===null){return null}if(b.getAttribute("externalizable")=="true"){return null}if(b.getAttributeNode("id")){return this.traitsReferences[parseInt(b.getAttributeNode("id").value)]}c=b.childNodes;for(a=0;a<c.length;a++){if(c.item(a).nodeType!=1){continue}d.push(this.readValue(c.item(a)))}this.traitsReferences.push(d);return d},readObjectRef:function(b){var a;a=parseInt(b.getAttribute("id"));return this.objectReferences[a]},readObject:function(h){var k,l=[],m,b,c,g,d,o,e=null,a;a=h.getAttribute("type");if(a){e=Ext.ClassManager.getByAlias("amfx."+a)}k=e?new e():(a?{$className:a}:{});if((!e)&&this.converters[a]){k=this.converters[a](this,h);return k}m=h.getElementsByTagName("traits")[0];l=this.readTraits(m);this.objectReferences.push(k);c=0;for(b=0;b<h.childNodes.length;b++){g=h.childNodes.item(b);if(g.nodeType!=1){continue}if(g.tagName=="traits"){continue}d=l[c];o=this.readValue(g);c=c+1;k[d]=o}return k},readArray:function(o){var a=[],k,d,e,g,m,p,h,b,c;this.objectReferences.push(a);h=parseInt(o.getAttributeNode("length").value);d=0;for(g=0;g<o.childNodes.length;g++){k=o.childNodes.item(g);if(k.nodeType!=1){continue}if(k.tagName=="item"){m=k.getAttributeNode("name").value;b=k.childNodes;for(e=0;e<b.length;e++){c=b.item(e);if(c.nodeType!=1){continue}p=this.readValue(c);break}a[m]=p}else{a[d]=this.readValue(k);d++}}return a},readDictionary:function(h){var a={},d,k,b,c,g,e;e=parseInt(h.getAttribute("length"));this.objectReferences.push(a);d=null;k=null;c=0;for(b=0;b<h.childNodes.length;b++){g=h.childNodes.item(b);if(g.nodeType!=1){continue}if(!d){d=this.readValue(g);continue}k=this.readValue(g);c=c+1;a[d]=k;d=null;k=null}return a},convertObjectWithSourceField:function(c){var a,b,d;for(a=0;a<c.childNodes.length;a++){b=c.childNodes.item(a);if(b.tagName=="bytearray"){d=this.readValue(b);this.objectReferences.push(d);return d}}return null},converters:{"flex.messaging.io.ArrayCollection":function(a,b){return a.convertObjectWithSourceField(b)},"mx.collections.ArrayList":function(a,b){return a.convertObjectWithSourceField(b)},"mx.collections.ArrayCollection":function(a,b){return a.convertObjectWithSourceField(b)}}});Ext.define("Ext.data.amf.XmlEncoder",{alias:"data.amf.xmlencoder",body:"",statics:{generateFlexUID:function(b){var e="",a,c,d;if(b===undefined){b=Ext.Number.randomInt(0,4294967295)}d=(b+4294967296).toString(16).toUpperCase();e=d.substr(d.length-8,8);for(c=0;c<3;c++){e+="-";for(a=0;a<4;a++){e+=Ext.Number.randomInt(0,15).toString(16).toUpperCase()}}e+="-";d=new Number(new Date()).valueOf().toString(16).toUpperCase();c=0;if(d.length<8){for(a=0;a<d.length-8;a++){c++;e+="0"}}e+=d.substr(-(8-c));for(a=0;a<4;a++){e+=Ext.Number.randomInt(0,15).toString(16).toUpperCase()}return e}},constructor:function(a){this.initConfig(a);this.clear()},clear:function(){this.body=""},encodeUndefined:function(){return this.encodeNull()},writeUndefined:function(){this.write(this.encodeUndefined())},encodeNull:function(){return"<null />"},writeNull:function(){this.write(this.encodeNull())},encodeBoolean:function(b){var a;if(b){a="<true />"}else{a="<false />"}return a},writeBoolean:function(a){this.write(this.encodeBoolean(a))},encodeString:function(b){var a;if(b===""){a="<string />"}else{a="<string>"+b+"</string>"}return a},writeString:function(a){this.write(this.encodeString(a))},encodeInt:function(a){return"<int>"+a.toString()+"</int>"},writeInt:function(a){this.write(this.encodeInt(a))},encodeDouble:function(a){return"<double>"+a.toString()+"</double>"},writeDouble:function(a){this.write(this.encodeDouble(a))},encodeNumber:function(c){var a=536870911,b=-268435455;if(c instanceof Number){c=c.valueOf()}if(c%1===0&&c>=b&&c<=a){return this.encodeInt(c)}else{return this.encodeDouble(c)}},writeNumber:function(a){this.write(this.encodeNumber(a))},encodeDate:function(a){return"<date>"+(new Number(a)).toString()+"</date>"},writeDate:function(a){this.write(this.encodeDate(a))},encodeEcmaElement:function(a,c){var b='<item name="'+a.toString()+'">'+this.encodeObject(c)+"</item>";return b},encodeArray:function(a){var g=[],c,b=[],e=a.length,d,h;for(d in a){if(Ext.isNumeric(d)&&(d%1==0)){g[d]=this.encodeObject(a[d])}else{b.push(this.encodeEcmaElement(d,a[d]))}}c=g.length;for(d=0;d<g.length;d++){if(g[d]===undefined){c=d;break}}if(c<g.length){for(d=firstNonOrdinals;d<g.length;d++){if(g[d]!==undefined){b.push(this.encodeEcmaElement(d,g[d]))}}g=g.slice(0,c)}h='<array length="'+g.length+'"';if(b.length>0){h+=' ecma="true"'}h+=">";for(d=0;d<g.length;d++){h+=g[d]}for(d in b){h+=b[d]}h+="</array>";return h},writeArray:function(a){this.write(this.encodeArray(a))},encodeXml:function(b){var a=this.convertXmlToString(b);return"<xml><![CDATA["+a+"]]></xml>"},writeXml:function(a){this.write(this.encodeXml(a))},encodeGenericObject:function(c){var e=[],g=[],a=null,b,d;for(b in c){if(b=="$flexType"){a=c[b]}else{e.push(this.encodeString(new String(b)));g.push(this.encodeObject(c[b]))}}if(a){d='<object type="'+a+'">'}else{d="<object>"}if(e.length>0){d+="<traits>";d+=e.join("");d+="</traits>"}else{d+="<traits />"}d+=g.join("");d+="</object>";return d},writeGenericObject:function(a){this.write(this.encodeGenericObject(a))},encodeByteArray:function(a){var d,c,b;if(a.length>0){d="<bytearray>";for(c=0;c<a.length;c++){b=a[c].toString(16).toUpperCase();if(a[c]<16){b="0"+b}d+=b}d+="</bytearray>"}else{d="<bytearray />"}return d},writeByteArray:function(a){this.write(this.encodeByteArray(a))},encodeObject:function(a){var b=typeof(a);if(b==="undefined"){return this.encodeUndefined()}else{if(a===null){return this.encodeNull()}else{if(Ext.isBoolean(a)){return this.encodeBoolean(a)}else{if(Ext.isString(a)){return this.encodeString(a)}else{if(b==="number"||a instanceof Number){return this.encodeNumber(a)}else{if(b==="object"){if(a instanceof Date){return this.encodeDate(a)}else{if(Ext.isArray(a)){return this.encodeArray(a)}else{if(this.isXmlDocument(a)){return this.encodeXml(a)}else{return this.encodeGenericObject(a)}}}}else{}}}}}}return null},writeObject:function(a){this.write(this.encodeObject(a))},encodeAmfxRemotingPacket:function(a){var b,c;c='<amfx ver="3" xmlns="http://www.macromedia.com/2005/amfx"><body>';c+=a.encodeMessage();c+="</body></amfx>";return c},writeAmfxRemotingPacket:function(a){this.write(this.encodeAmfxRemotingPacket(a))},convertXmlToString:function(b){var a;if(window.XMLSerializer){a=new window.XMLSerializer().serializeToString(b)}else{a=b.xml}return a},isXmlDocument:function(a){if(window.DOMParser){if(Ext.isDefined(a.doctype)){return true}}if(Ext.isString(a.xml)){return true}return false},write:function(a){this.body+=a}});Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(b){this.callParent(arguments);var d=this,e=d.ownerModel.prototype,a=d.associatedName,c=d.getterName||"get"+a,g=d.setterName||"set"+a;Ext.applyIf(d,{name:a,foreignKey:a.toLowerCase()+"_id",instanceName:a+"BelongsToInstance",associationKey:a.toLowerCase()});e[c]=d.createGetter();e[g]=d.createSetter()},createSetter:function(){var c=this,a=c.foreignKey,b=c.instanceName;return function(h,d,e){var g=h&&h.isModel,j=g?h.getId():h;if(g){this[b]=h}else{if(this[b] instanceof Ext.data.Model&&!this.isEqual(this.get(a),j)){delete this[b]}}this.set(a,j);if(Ext.isFunction(d)){d={callback:d,scope:e||this}}if(Ext.isObject(d)){return this.save(d)}}},createGetter:function(){var e=this,b=e.associatedName,a=e.associatedModel,c=e.foreignKey,g=e.primaryKey,d=e.instanceName;return function(m,n){m=m||{};var l=this,j=l.get(c),o,k,h;if(m.reload===true||l[d]===undefined){k=Ext.ModelManager.create({},b);k.set(g,j);if(typeof m=="function"){m={callback:m,scope:n||l}}o=m.success;m.success=function(p){l[d]=p;if(o){o.apply(this,arguments)}};a.load(j,m);l[d]=k;return k}else{k=l[d];h=[k];n=n||m.scope||l;Ext.callback(m,n,h);Ext.callback(m.success,n,h);Ext.callback(m.failure,n,h);Ext.callback(m.callback,n,h);return k}}},read:function(c,b,a){c[this.instanceName]=b.read([a]).records[0]}});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^person$/),"people"],[(/^man$/),"men"],[(/^(child)$/),"$1ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/people$/i),"person"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(g){if(this.isTransnumeral(g)){return g}var c=this.plurals,b=c.length,e,d,a;for(a=0;a<b;a++){e=c[a];d=e[0];if(d==g||(d.test&&d.test(g))){return g.replace(d,e[1])}}return g},singularize:function(g){if(this.isTransnumeral(g)){return g}var d=this.singulars,b=d.length,e,c,a;for(a=0;a<b;a++){e=d[a];c=e[0];if(c==g||(c.test&&c.test(g))){return g.replace(c,e[1])}}return g},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(c){var d=parseInt(c,10),a=d%10,b=d%100;if(11<=b&&b<=13){return c+"th"}else{switch(a){case 1:return c+"st";case 2:return c+"nd";case 3:return c+"rd";default:return c+"th"}}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a){this.plural(b,a[b]);this.singular(a[b],b)}});Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",constructor:function(a){var b=this,d,c;b.callParent(arguments);b.name=b.name||Ext.util.Inflector.pluralize(b.associatedName.toLowerCase());d=b.ownerModel.prototype;c=b.name;Ext.applyIf(b,{storeName:c+"Store",foreignKey:b.ownerName.toLowerCase()+"_id"});d[c]=b.createStore()},createStore:function(){var j=this,a=j.associatedModel,h=j.storeName,d=j.foreignKey,e=j.primaryKey,c=j.filterProperty,b=j.autoLoad,g=j.storeConfig||{};return function(){var m=this,k,l,n={};if(m[h]===undefined){if(c){l={property:c,value:m.get(c),exactMatch:true}}else{l={property:d,value:m.get(e),exactMatch:true}}n[d]=m.get(e);k=Ext.apply({},g,{model:a,filters:[l],remoteFilter:false,modelDefaults:n,disableMetaChangeEvent:true});m[h]=Ext.data.AbstractStore.create(k);if(b){m[h].load()}}return m[h]}},read:function(h,g,a){var j=h[this.name](),d,e,c,b;j.add(g.read(a).records);d=this.associatedModel.prototype.associations.findBy(function(k){return k.type==="belongsTo"&&k.associatedName===h.$className});if(d){e=j.data.items;c=e.length;for(b=0;b<c;b++){e[b][d.instanceName]=h}}}});Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(b){this.callParent(arguments);var d=this,e=d.ownerModel.prototype,a=d.associatedName,c=d.getterName||"get"+a,g=d.setterName||"set"+a;Ext.applyIf(d,{name:a,foreignKey:a.toLowerCase()+"_id",instanceName:a+"HasOneInstance",associationKey:a.toLowerCase()});e[c]=d.createGetter();e[g]=d.createSetter()},createSetter:function(){var c=this,a=c.foreignKey,b=c.instanceName;return function(h,d,e){var g=h&&h.isModel,j=g?h.getId():h;if(g){this[b]=h}else{if(this[b] instanceof Ext.data.Model&&!this.isEqual(this.get(a),j)){delete this[b]}}this.set(a,j);if(Ext.isFunction(d)){d={callback:d,scope:e||this}}if(Ext.isObject(d)){return this.save(d)}}},createGetter:function(){var e=this,g=e.ownerModel,b=e.associatedName,a=e.associatedModel,c=e.foreignKey,h=e.primaryKey,d=e.instanceName;return function(n,o){n=n||{};var m=this,k=m.get(c),p,l,j;if(n.reload===true||m[d]===undefined){l=Ext.ModelManager.create({},b);l.set(h,k);if(typeof n=="function"){n={callback:n,scope:o||m}}p=n.success;n.success=function(q){m[d]=q;if(p){p.apply(this,arguments)}};a.load(k,n);m[d]=l;return l}else{l=m[d];j=[l];o=o||n.scope||m;Ext.callback(n,o,j);Ext.callback(n.success,o,j);Ext.callback(n.failure,o,j);Ext.callback(n.callback,o,j);return l}}},read:function(e,d,a){var b=this.associatedModel.prototype.associations.findBy(function(g){return g.type==="belongsTo"&&g.associatedName===e.$className}),c=d.read([a]).records[0];e[this.instanceName]=c;if(b){c[b.instanceName]=e}}});Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",id:undefined,constructor:function(a){this.callParent(arguments);this.cache={};this.id=this.id||(this.store?this.store.storeId:undefined);this.initialize()},create:function(h,a,l){var g=this,k=h.records,e=k.length,d=g.getIds(),c,j,b;h.setStarted();if(g.isHierarchical===undefined){g.isHierarchical=!!k[0].isNode;if(g.isHierarchical){g.getStorageObject().setItem(g.getTreeKey(),true)}}for(b=0;b<e;b++){j=k[b];if(j.phantom){j.phantom=false;c=g.getNextId()}else{c=j.getId()}g.setRecord(j,c);j.commit();d.push(c)}g.setIds(d);h.setCompleted();h.setSuccessful();if(typeof a=="function"){a.call(l||g,h)}},read:function(k,a,n){var h=this,m=[],c=0,o=true,j=h.model,e,g,l,b,d;k.setStarted();if(h.isHierarchical){m=h.getTreeData()}else{e=h.getIds();g=e.length;d=k.id;if(d){b=h.getRecord(d);if(b!==null){l=new j(b,d,b)}if(l){m.push(l)}else{o=false}}else{for(;c<g;c++){d=e[c];b=h.getRecord(d);m.push(new j(b,d,b))}}}if(o){k.setSuccessful()}k.setCompleted();k.resultSet=Ext.create("Ext.data.ResultSet",{records:m,total:m.length,loaded:true});if(typeof a=="function"){a.call(n||h,k)}},update:function(g,a,k){var j=g.records,e=j.length,d=this.getIds(),h,c,b;g.setStarted();for(b=0;b<e;b++){h=j[b];this.setRecord(h);h.commit();c=h.getId();if(c!==undefined&&Ext.Array.indexOf(d,c)==-1){d.push(c)}}this.setIds(d);g.setCompleted();g.setSuccessful();if(typeof a=="function"){a.call(k||this,g)}},destroy:function(j,a,m){var g=this,k=j.records,e=g.getIds(),d=e.length,h=[],l={},b=k.length,c;j.setStarted();for(;b--;){Ext.apply(l,g.removeRecord(k[b]))}for(b=0;b<d;b++){c=e[b];if(!l[c]){h.push(c)}}g.setIds(h);j.setCompleted();j.setSuccessful();if(typeof a=="function"){a.call(m||g,j)}},getRecord:function(c){var d=this,a=d.cache,b=!a[c]?Ext.decode(d.getStorageObject().getItem(d.getRecordKey(c))):a[c];if(!b){return null}a[c]=b;b[d.model.prototype.idProperty]=c;return b},setRecord:function(o,e){if(e){o.setId(e)}else{e=o.getId()}var j=this,n=o.data,a={},k=j.model,c=k.prototype.fields.items,h=c.length,d=0,b,l,m,g;for(;d<h;d++){b=c[d];l=b.name;if(b.persist){a[l]=n[l]}}delete a[j.model.prototype.idProperty];if(o.isNode&&o.get("depth")===1){delete a.parentId}m=j.getStorageObject();g=j.getRecordKey(e);j.cache[e]=a;m.removeItem(g);m.setItem(g,Ext.encode(a))},removeRecord:function(e){var d=this,c=e.getId(),g={},b,a;g[c]=e;d.getStorageObject().removeItem(d.getRecordKey(c));delete d.cache[c];if(e.childNodes){a=e.childNodes;for(b=a.length;b--;){Ext.apply(g,d.removeRecord(a[b]))}}return g},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format("{0}-{1}",this.id,a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var e=this,b=(e.getStorageObject().getItem(e.id)||"").split(","),g=e.model,d=b.length,c=g.prototype.fields.get(g.prototype.idProperty).type.type==="string",a;if(d==1&&b[0]===""){b=[]}else{for(a=0;a<d;a++){b[a]=c?b[a]:+b[a]}}return b},setIds:function(a){var b=this.getStorageObject(),c=a.join(",");b.removeItem(this.id);if(!Ext.isEmpty(c)){b.setItem(this.id,c)}},getNextId:function(){var d=this,g=d.getStorageObject(),c=d.getRecordCounterKey(),e=d.model,b=e.prototype.fields.get(e.prototype.idProperty).type.type==="string",a;a=d.idGenerator.generate();g.setItem(c,a);if(!b){a=+a}return a},getTreeData:function(){var h=this,e=h.getIds(),g=e.length,o=[],n={},p=[],b=0,j=h.model,d=j.prototype.idProperty,q,m,k,l,a,c;for(;b<g;b++){c=e[b];m=h.getRecord(c);o.push(m);n[c]=m;if(!m.parentId){p.push(m)}}q=p.length;Ext.Array.sort(o,h.sortByParentId);for(b=q;b<g;b++){m=o[b];l=m.parentId;if(!k||k[d]!==l){k=n[l];k.children=a=[]}a.push(m)}for(b=g;b--;){m=o[b];if(!m.children&&!m.leaf){m.loaded=true}}for(b=q;b--;){m=p[b];p[b]=new j(m,m[d],m)}return p},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var b=this,c=b.getStorageObject(),a=+c.getItem(b.getRecordCounterKey());c.setItem(b.id,c.getItem(b.id)||"");if(c.getItem(b.getTreeKey())){b.isHierarchical=true}b.idGenerator=new Ext.data.SequentialIdGenerator({seed:a?a+1:1})},clear:function(){var d=this,e=d.getStorageObject(),b=d.getIds(),c=b.length,a;for(a=0;a<c;a++){e.removeItem(d.getRecordKey(b[a]))}e.removeItem(d.getRecordCounterKey());e.removeItem(d.getTreeKey());e.removeItem(d.id);d.cache={}},getStorageObject:function(){}});Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},appendId:true,batchActions:false,buildUrl:function(h){var c=this,d=h.operation,g=d.records||[],e=g[0],a=c.format,j=c.getUrl(h),b=e?e.getId():d.id;if(c.appendId&&c.isValidId(b)){if(!j.match(/\/$/)){j+="/"}j+=b}if(a){if(!j.match(/\.$/)){j+="."}j+=a}h.url=j;return c.callParent(arguments)},isValidId:function(a){return a||a===0}});Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}});Ext.define("Ext.data.soap.Reader",{extend:Ext.data.reader.Xml,alias:"reader.soap",getData:function(a){var b=a.documentElement,c=b.prefix;return Ext.DomQuery.selectNode(c+"|Body",a)}});Ext.define("Ext.data.soap.Proxy",{extend:Ext.data.proxy.Ajax,alias:"proxy.soap",operationParam:"op",reader:"soap",envelopeTpl:['<?xml version="1.0" encoding="utf-8" ?>','<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"{[values.bodyTpl.apply(values)]}","</soap:Envelope>"],readBodyTpl:["<soap:Body>",'<{operation} xmlns="{targetNamespace}">','<tpl foreach="params">',"<{$}>{.}</{$}>","</tpl>","</{operation}>","</soap:Body>"],writeBodyTpl:["<soap:Body>",'<{operation} xmlns="{targetNamespace}">','<tpl for="records">','{% var recordName=values.modelName.split(".").pop(); %}',"<{[recordName]}>",'<tpl for="fields">',"<{name}>{[parent.get(values.name)]}</{name}>","</tpl>","</{[recordName]}>","</tpl>","</{operation}>","</soap:Body>"],constructor:function(a){this.callParent(arguments);this.api=a.api||{};this.soapAction=a.soapAction||{}},doRequest:function(e,c,j){var d=this,m=Ext.XTemplate,a=e.action,k=d.api[a],g=Ext.applyIf(e.params||{},d.extraParams||{}),b=a+"BodyTpl",l=m.getTpl(d,"envelopeTpl").apply({operation:k,targetNamespace:d.targetNamespace,params:g,records:e.records,bodyTpl:m.getTpl(d,d[b]?b:"writeBodyTpl")}),h=new Ext.data.Request({url:d.url+"?"+d.operationParam+"="+k,method:"POST",action:a,operation:e,xmlData:l,headers:Ext.apply({SOAPAction:d.soapAction[a]},d.headers),timeout:d.timeout,scope:d,disableCaching:false});h.callback=d.createRequestCallback(h,e,c,j);Ext.Ajax.request(h);return h}});Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(b,c,a){if(b){this.initTarget(b,c,a)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){var b=this;Ext.apply(b,a);b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");b.dragRegion=new Ext.util.Region(0,0,0,0);if(b.el){b.initEl(b.el)}b.mixins.observable.constructor.call(b);if(b.disabled){b.disable()}},initEl:function(a){var b=this;b.el=Ext.get(a);b.handle=Ext.get(b.delegate);b.delegate=b.handle?undefined:b.delegate;if(!b.handle){b.handle=b.el}b.handleListeners={scope:b,delegate:b.delegate,mousedown:b.onMouseDown};if(b.trackOver||b.overCls){Ext.apply(b.handleListeners,{mouseover:b.onMouseOver,mouseout:b.onMouseOut})}b.mon(b.handle,b.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var a=this;if(a.active){a.endDrag({})}a.clearListeners();a.mun(a.handle,a.handleListeners);a.el=a.handle=null},onMouseOver:function(a,c){var b=this;if(!b.disabled){if(Ext.EventManager.contains(a)||b.delegate){b.mouseIsOut=false;if(b.overCls){b.el.addCls(b.overCls)}b.fireEvent("mouseover",b,a,b.delegate?a.getTarget(b.delegate,c):b.handle)}}},onMouseOut:function(a){var b=this;if(b.mouseIsDown){b.mouseIsOut=true}else{if(b.overCls){b.el.removeCls(b.overCls)}b.fireEvent("mouseout",b,a)}},onMouseDown:function(a,d){var c=this,b;if(c.disabled||a.dragTracked){return}c.dragTarget=c.delegate?d:c.handle.dom;c.startXY=c.lastXY=a.getXY();c.startRegion=Ext.fly(c.dragTarget).getRegion();if(c.fireEvent("mousedown",c,a)===false||c.fireEvent("beforedragstart",c,a)===false||c.onBeforeStart(a)===false){return}c.mouseIsDown=true;a.dragTracked=true;b=c.el.dom;if(Ext.isIE&&b.setCapture){b.setCapture()}if(c.preventDefault!==false){a.preventDefault()}Ext.getDoc().on({scope:c,mouseup:c.onMouseUp,mousemove:c.onMouseMove,selectstart:c.stopSelect});if(c.autoStart){c.timer=Ext.defer(c.triggerStart,c.autoStart===true?1000:c.autoStart,c,[a])}},onMouseMove:function(a,d){var b=this,g=a.getXY(),c=b.startXY;a.preventDefault();b.lastXY=g;if(!b.active){if(Math.max(Math.abs(c[0]-g[0]),Math.abs(c[1]-g[1]))>b.tolerance){b.triggerStart(a)}else{return}}if(b.fireEvent("mousemove",b,a)===false){b.onMouseUp(a)}else{b.onDrag(a);b.fireEvent("drag",b,a)}},onMouseUp:function(a){var b=this;b.mouseIsDown=false;if(b.mouseIsOut){b.mouseIsOut=false;b.onMouseOut(a)}a.preventDefault();if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}b.fireEvent("mouseup",b,a);b.endDrag(a)},endDrag:function(a){var b=this,c=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,scope:b});b.clearStart();b.active=false;if(c){b.onEnd(a);b.fireEvent("dragend",b,a)}b._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(a){var b=this;b.clearStart();b.active=true;b.onStart(a);b.fireEvent("dragstart",b,a)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else{if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){var c=this.getXY(a),b=this.startXY;return[c[0]-b[0],c[1]-b[1]]},constrainModes:{point:function(c,d){var b=c.dragRegion,a=c.getConstrainRegion();if(!a){return d}b.x=b.left=b[0]=b.right=d[0];b.y=b.top=b[1]=b.bottom=d[1];b.constrainTo(a);return[b.left,b.top]},dragTarget:function(d,g){var e=d.startXY,c=d.startRegion.copy(),b=d.getConstrainRegion(),a;if(!b){return g}c.translateBy(g[0]-e[0],g[1]-e[1]);if(c.right>b.right){g[0]+=a=(b.right-c.right);c.left+=a}if(c.left<b.left){g[0]+=(b.left-c.left)}if(c.bottom>b.bottom){g[1]+=a=(b.bottom-c.bottom);c.top+=a}if(c.top<b.top){g[1]+=(b.top-c.top)}return g}}});Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(b,a){var c=this,d=c.containerScroll;c.callParent([b,a]);if(d){b=c.scrollEl||b;b=Ext.get(b);if(Ext.isObject(d)){b.ddScrollConfig=d}Ext.dd.ScrollManager.register(b)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}});Ext.define("Ext.dd.ScrollManager",{singleton:true,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null;b.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var c=this.proc,d=c.el,a=c.el.ddScrollConfig,b=a?a.increment:this.increment;if(!this.animate){if(d.scroll(c.dir,b)){this.triggerRefresh()}}else{d.scroll(c.dir,b,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=""},startProc:function(b,a){this.clearProc();this.proc.el=b;this.proc.dir=a;var d=b.ddScrollConfig?b.ddScrollConfig.ddGroup:undefined,c=(b.ddScrollConfig&&b.ddScrollConfig.frequency)?b.ddScrollConfig.frequency:this.frequency;if(d===undefined||this.ddmInstance.dragCurrent.ddGroup==d){this.proc.id=setInterval(this.doScroll,c)}},onFire:function(b,j){if(j||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var n=b.getXY(),l=b.getPoint(),k=this.proc,g=this.els,h,d,m,a;for(h in g){d=g[h];m=d._region;a=d.ddScrollConfig?d.ddScrollConfig:this;if(m&&m.contains(l)&&d.isScrollable()){if(m.bottom-l.y<=a.vthresh){if(k.el!=d){this.startProc(d,"down")}return}else{if(m.right-l.x<=a.hthresh){if(k.el!=d){this.startProc(d,"left")}return}else{if(l.y-m.top<=a.vthresh){if(k.el!=d){this.startProc(d,"up")}return}else{if(l.x-m.left<=a.hthresh){if(k.el!=d){this.startProc(d,"right")}return}}}}}}this.clearProc()},register:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.register(a[b])}}else{a=Ext.get(a);this.els[a.id]=a}},unregister:function(a){if(Ext.isArray(a)){for(var b=0,c=a.length;b<c;b++){this.unregister(a[b])}}else{a=Ext.get(a);delete this.els[a.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=="object"){a[b]._region=a[b].getRegion()}}}});Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(b,c,a){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(b,c,a){return this.dropAllowed},notifyOut:function(b,c,a){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(b,c,a){return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.dd.Registry",{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(b,a){if(typeof b=="string"){return b}var c=b.id;if(!c&&a!==false){c="extdd-"+(++this.autoIdSeed);b.id=c}return c},register:function(b,a){a=a||{};if(typeof b=="string"){b=document.getElementById(b)}a.ddel=b;this.elements[this.getId(b)]=a;if(a.isHandle!==false){this.handles[a.ddel.id]=a}if(a.handles){var c=a.handles,d,e;for(d=0,e=c.length;d<e;d++){this.handles[this.getId(c[d])]=a}}},unregister:function(b){var e=this.getId(b,false),a=this.elements[e],c,d,g;if(a){delete this.elements[e];if(a.handles){c=a.handles;for(d=0,g=c.length;d<g;d++){delete this.handles[this.getId(c[d],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return this.handles[a]},getHandleFromEvent:function(a){var b=a.getTarget();return b?this.handles[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return this.elements[a]},getTargetFromEvent:function(a){var b=a.getTarget();return b?this.elements[b.id]||this.handles[b.id]:null}});Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,b,c,a){},onNodeOver:function(d,b,c,a){return this.dropAllowed},onNodeOut:function(d,b,c,a){},onNodeDrop:function(d,b,c,a){return false},onContainerOver:function(b,c,a){return this.dropNotAllowed},onContainerDrop:function(b,c,a){return false},notifyEnter:function(b,c,a){return this.dropNotAllowed},notifyOver:function(b,c,a){var d=this.getTargetFromEvent(c);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,c,a);this.lastOverNode=null}return this.onContainerOver(b,c,a)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,c,a)}this.onNodeEnter(d,b,c,a);this.lastOverNode=d}return this.onNodeOver(d,b,c,a)},notifyOut:function(b,c,a){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,c,a);this.lastOverNode=null}},notifyDrop:function(b,c,a){var d=this,g=d.getTargetFromEvent(c),h=g?d.onNodeDrop(g,b,c,a):d.onContainerDrop(b,c,a);if(d.lastOverNode){d.onNodeOut(d.lastOverNode,b,c,a);d.lastOverNode=null}return h},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(a){var b=this;Ext.apply(b,a);b.id=b.tid=++b.self.TRANSACTION_ID;b.retryCount=0},send:function(){var a=this;a.provider.queueTransaction(a)},retry:function(){var a=this;a.retryCount++;a.send()},getProvider:function(){return this.provider}});Ext.define("Ext.direct.RemotingMethod",{constructor:function(a){var b=this,g=Ext.isDefined(a.params)?a.params:a.len,c,h,d,e;b.name=a.name;b.formHandler=a.formHandler;if(Ext.isNumeric(g)){b.len=g;b.ordered=true}else{b.params={};h=g.length;for(d=0;d<h;d++){e=g[d];c=Ext.isObject(e)?e.name:e;b.params[c]=true}}},getArgs:function(g,e,h){var d=this,a=[],b,c;if(d.ordered){if(d.len>0){if(e){for(b=0,c=e.length;b<c;b++){a.push(g[e[b]])}}else{if(h){a.push(g)}}}}else{a.push(g)}return a},getCallData:function(a){var e=this,c=null,d=e.len,j=e.params,b,k,g,h;if(e.ordered){b=a[d];k=a[d+1];h=a[d+2];if(d!==0){c=a.slice(0,d)}}else{c=Ext.apply({},a[0]);b=a[1];k=a[2];h=a[3];for(g in c){if(c.hasOwnProperty(g)&&!j[g]){delete c[g]}}}return{data:c,callback:b,scope:k,options:h}}});Ext.define("Ext.direct.Event",{alias:"direct.event",status:true,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",getTransaction:function(){var a=this;return a.transaction||Ext.direct.Manager.getTransaction(a.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",status:false});Ext.define("Ext.direct.AmfRemotingProvider",{alias:"direct.amfremotingprovider",extend:Ext.direct.Provider,binary:false,maxRetries:1,timeout:undefined,constructor:function(a){var b=this;b.callParent(arguments);b.addEvents("beforecall","call");b.namespace=(Ext.isString(b.namespace))?Ext.ns(b.namespace):b.namespace||window;b.transactions=new Ext.util.MixedCollection();b.callBuffer=[]},initAPI:function(){var b=this.actions,j=this.namespace,a,c,h,d,e,g;for(a in b){if(b.hasOwnProperty(a)){c=j[a];if(!c){c=j[a]={}}h=b[a];for(d=0,e=h.length;d<e;++d){g=new Ext.direct.RemotingMethod(h[d]);c[g.name]=this.createHandler(a,g)}}}},createHandler:function(a,d){var c=this,b;if(!d.formHandler){b=function(){c.configureRequest(a,d,Array.prototype.slice.call(arguments,0))}}else{b=function(g,e,h){c.configureFormRequest(a,d,g,e,h)}}b.directCfg={action:a,method:d};return b},isConnected:function(){return !!this.connected},connect:function(){var a=this;if(a.url){a.clientId=Ext.data.amf.XmlEncoder.generateFlexUID();a.initAPI();a.connected=true;a.fireEvent("connect",a);a.DSId=null}else{if(!a.url){}}},disconnect:function(){var a=this;if(a.connected){a.connected=false;a.fireEvent("disconnect",a)}},runCallback:function(g,b){var e=!!b.status,c=e?"success":"failure",a,d;if(g&&g.callback){a=g.callback;d=Ext.isDefined(b.result)?b.result:b.data;if(Ext.isFunction(a)){a(d,b,e)}else{Ext.callback(a[c],a.scope,[d,b,e]);Ext.callback(a.callback,a.scope,[d,b,e])}}},onData:function(g,j,h){var e=this,c=0,d,b,a,k,l;if(j){b=e.createEvents(h);for(d=b.length;c<d;++c){a=b[c];k=e.getTransaction(a);e.fireEvent("data",e,a);if(k){e.runCallback(k,a,true);Ext.direct.Manager.removeTransaction(k)}}}else{l=[].concat(g.transaction);for(d=l.length;c<d;++c){k=e.getTransaction(l[c]);if(k&&k.retryCount<e.maxRetries){k.retry()}else{a=new Ext.direct.ExceptionEvent({data:null,transaction:k,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:h});e.fireEvent("data",e,a);if(k){e.runCallback(k,a,false);Ext.direct.Manager.removeTransaction(k)}}}}},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,h,b){var g=this,d=h.getCallData(b),e=d.data,c=d.callback,j=d.scope,k;k=new Ext.direct.Transaction({provider:g,args:b,action:a,method:h.name,data:e,callback:j&&Ext.isFunction(c)?Ext.Function.bind(c,j):c});if(g.fireEvent("beforecall",g,k,h)!==false){Ext.direct.Manager.addTransaction(k);g.queueTransaction(k);g.fireEvent("call",g,k,h)}},getCallData:function(a){if(this.binary){return{targetUri:a.action+"."+a.method,responseUri:"/"+a.id,body:a.data||[]}}else{return new Ext.data.amf.RemotingMessage({body:a.data||[],clientId:this.clientId,destination:a.action,headers:{DSEndpoint:this.endpoint,DSId:this.DSId||"nil"},messageId:Ext.data.amf.XmlEncoder.generateFlexUID(a.id),operation:a.method,timestamp:0,timeToLive:0})}},sendRequest:function(d){var j=this,l={url:j.url,callback:j.onData,scope:j,transaction:d,timeout:j.timeout},c,g=0,h,k,e,b=[],a=[];if(Ext.isArray(d)){for(h=d.length;g<h;++g){b.push(j.getCallData(d[g]))}}else{b.push(j.getCallData(d))}if(j.binary){e=new Ext.data.amf.Encoder({format:0});e.writeAmfPacket(a,b);l.binaryData=e.bytes;l.binary=true;l.headers={"Content-Type":"application/x-amf"}}else{e=new Ext.data.amf.XmlEncoder();e.writeAmfxRemotingPacket(b[0]);l.xmlData=e.body}Ext.Ajax.request(l)},queueTransaction:function(c){var b=this,a=false;if(c.form){b.sendFormRequest(c);return}b.callBuffer.push(c);if(a){if(!b.callTask){b.callTask=new Ext.util.DelayedTask(b.combineAndSend,b)}b.callTask.delay(Ext.isNumber(a)?a:10)}else{b.combineAndSend()}},combineAndSend:function(){var a=this.callBuffer,b=a.length;if(b>0){this.sendRequest(b==1?a[0]:a);this.callBuffer=[]}},configureFormRequest:function(a,d,c,b,e){},sendFormRequest:function(a){},createEvents:function(l){var a=null,k=[],g=[],d,h=0,j,b;try{if(this.binary){b=new Ext.data.amf.Packet();a=b.decode(l.responseBytes)}else{b=new Ext.data.amf.XmlDecoder();a=b.readAmfxMessage(l.responseText)}}catch(c){d=new Ext.direct.ExceptionEvent({data:c,xhr:l,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing AMF response: \n\n "+a});return[d]}if(this.binary){for(h=0;h<a.messages.length;h++){g.push(this.createEvent(a.messages[h]))}}else{g.push(this.createEvent(a))}return g},createEvent:function(d){var e=d.targetURI.split("/"),h,b,a,g,c=this;if(c.binary){h=e[1];g=2}else{h=Ext.data.amf.XmlDecoder.decodeTidFromFlexUID(d.message.correlationId);g=1}if(e[g]=="onStatus"){a={tid:h,data:(c.binary?d.body:d.message)};b=Ext.create("direct.exception",a)}else{if(e[g]=="onResult"){a={tid:h,data:(c.binary?d.body:d.message.body)};b=Ext.create("direct.rpc",a)}else{}}return b}});Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(Ext.isObject(a.responseText)){return a.responseText}return Ext.decode(a.responseText)}return null},createEvents:function(k){var j=this,a=null,d=[],c,g,h;try{a=j.parseResponse(k)}catch(b){c=new Ext.direct.ExceptionEvent({data:b,xhr:k,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+b});return[c]}if(Ext.isArray(a)){for(g=0,h=a.length;g<h;++g){d.push(j.createEvent(a[g]))}}else{if(Ext.isObject(a)){d.push(j.createEvent(a))}}return d},createEvent:function(a){if(typeof a!=="object"||!("type" in a)){return new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}return Ext.create("direct."+a.type,a)}});Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",interval:3000,constructor:function(a){var b=this;b.callParent(arguments);b.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){var a=this,b=a.url;if(b&&!a.pollTask){a.pollTask=Ext.TaskManager.start({run:a.runPoll,interval:a.interval,scope:a});a.fireEvent("connect",a)}},disconnect:function(){var a=this;if(a.pollTask){Ext.TaskManager.stop(a.pollTask);delete a.pollTask;a.fireEvent("disconnect",a)}},runPoll:function(){var a=this,b=a.url;if(a.fireEvent("beforepoll",a)!==false){if(Ext.isFunction(b)){b(a.baseParams)}else{Ext.Ajax.request({url:b,callback:a.onData,scope:a,params:a.baseParams})}a.fireEvent("poll",a)}},onData:function(e,h,g){var d=this,b,c,a;if(h){a=d.createEvents(g);for(b=0,c=a.length;b<c;++b){d.fireEvent("data",d,a[b])}}else{a=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:g});d.fireEvent("data",d,a)}}});Ext.define("Ext.direct.RemotingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.remotingprovider",enableBuffer:10,maxRetries:1,constructor:function(a){var b=this;b.callParent(arguments);b.addEvents("beforecall","call","beforecallback");b.namespace=(Ext.isString(b.namespace))?Ext.ns(b.namespace):b.namespace||Ext.global;b.transactions=new Ext.util.MixedCollection();b.callBuffer=[]},getNamespace:function(g,a){var e,d,b,c;g=g||Ext.global;e=a.toString().split(".");for(b=0,c=e.length;b<c;b++){d=e[b];g=g[d];if(typeof g==="undefined"){return g}}return g},createNamespaces:function(g,a){var e,d;g=g||Ext.global;e=a.toString().split(".");for(var b=0,c=e.length;b<c;b++){d=e[b];g[d]=g[d]||{};g=g[d]}return g},initAPI:function(){var g=this,b=g.actions,k=g.namespace,a,c,j,d,e,h;for(a in b){if(b.hasOwnProperty(a)){if(g.disableNestedActions){c=k[a];if(!c){c=k[a]={}}}else{c=g.getNamespace(k,a);if(!c){c=g.createNamespaces(k,a)}}j=b[a];for(d=0,e=j.length;d<e;++d){h=new Ext.direct.RemotingMethod(j[d]);c[h.name]=g.createHandler(a,h)}}}},createHandler:function(a,d){var c=this,e=Array.prototype.slice,b;if(!d.formHandler){b=function(){c.configureRequest(a,d,e.call(arguments,0))}}else{b=function(h,g,j){c.configureFormRequest(a,d,h,g,j)}}b.directCfg={action:a,method:d};return b},isConnected:function(){return !!this.connected},connect:function(){var a=this;if(a.url){a.initAPI();a.connected=true;a.fireEvent("connect",a)}},disconnect:function(){var a=this;if(a.connected){a.connected=false;a.fireEvent("disconnect",a)}},runCallback:function(h,b){var g=!!b.status,c=g?"success":"failure",a,d,e;if(h&&h.callback){a=h.callback;d=h.callbackOptions;e=typeof b.result!=="undefined"?b.result:b.data;if(Ext.isFunction(a)){a(e,b,g,d)}else{Ext.callback(a[c],a.scope,[e,b,g,d]);Ext.callback(a.callback,a.scope,[e,b,g,d])}}},onData:function(g,j,h){var e=this,c,d,b,a,k,l;if(j){b=e.createEvents(h);for(c=0,d=b.length;c<d;++c){a=b[c];k=e.getTransaction(a);e.fireEvent("data",e,a);if(k&&e.fireEvent("beforecallback",e,a,k)!==false){e.runCallback(k,a,true);Ext.direct.Manager.removeTransaction(k)}}}else{l=[].concat(g.transaction);for(c=0,d=l.length;c<d;++c){k=e.getTransaction(l[c]);if(k&&k.retryCount<e.maxRetries){k.retry()}else{a=new Ext.direct.ExceptionEvent({data:null,transaction:k,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:h});e.fireEvent("data",e,a);if(k&&e.fireEvent("beforecallback",e,k)!==false){e.runCallback(k,a,false);Ext.direct.Manager.removeTransaction(k)}}}}},getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,h,b){var g=this,d,e,c,l,j,m,k;d=h.getCallData(b);e=d.data;c=d.callback;l=d.scope;j=d.options||{};k=Ext.apply({},{provider:g,args:b,action:a,method:h.name,data:e,callbackOptions:j,callback:l&&Ext.isFunction(c)?Ext.Function.bind(c,l):c});if(j.timeout){Ext.applyIf(k,{timeout:j.timeout})}m=new Ext.direct.Transaction(k);if(g.fireEvent("beforecall",g,m,h)!==false){Ext.direct.Manager.addTransaction(m);g.queueTransaction(m);g.fireEvent("call",g,m,h)}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(b){var g=this,j,a,h,c=g.enableUrlEncode,d,e;j={url:g.url,callback:g.onData,scope:g,transaction:b,timeout:g.timeout};if(b.timeout){j.timeout=b.timeout}if(Ext.isArray(b)){a=[];for(d=0,e=b.length;d<e;++d){a.push(g.getCallData(b[d]))}}else{a=g.getCallData(b)}if(c){h={};h[Ext.isString(c)?c:"data"]=Ext.encode(a);j.params=h}else{j.jsonData=a}Ext.Ajax.request(j)},queueTransaction:function(c){var b=this,a=b.enableBuffer;if(c.form){b.sendFormRequest(c);return}if(a===false||typeof c.timeout!=="undefined"){b.sendRequest(c);return}b.callBuffer.push(c);if(a){if(!b.callTask){b.callTask=new Ext.util.DelayedTask(b.combineAndSend,b)}b.callTask.delay(Ext.isNumber(a)?a:10)}else{b.combineAndSend()}},combineAndSend:function(){var c=this,a=c.callBuffer,b=a.length;if(b>0){c.sendRequest(b==1?a[0]:a);c.callBuffer=[]}},configureFormRequest:function(a,g,c,b,j){var e=this,k,d,h;k=new Ext.direct.Transaction({provider:e,action:a,method:g.name,args:[c,b,j],callback:j&&Ext.isFunction(b)?Ext.Function.bind(b,j):b,isForm:true});if(e.fireEvent("beforecall",e,k,g)!==false){Ext.direct.Manager.addTransaction(k);d=String(c.getAttribute("enctype")).toLowerCase()=="multipart/form-data";h={extTID:k.id,extAction:a,extMethod:g.name,extType:"rpc",extUpload:String(d)};Ext.apply(k,{form:Ext.getDom(c),isUpload:d,params:b&&Ext.isObject(b.params)?Ext.apply(h,b.params):h});e.fireEvent("call",e,k,g);e.sendFormRequest(k)}},sendFormRequest:function(b){var a=this;Ext.Ajax.request({url:a.url,params:b.params,callback:a.onData,scope:a,form:b.form,isUpload:b.isUpload,transaction:b})}});Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:true,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(b,e){b=b||{};var h=this,d=Ext.DomHelper,c=b.parentEl,j=c?Ext.getDom(c):document.body,g=b.hideMode,a=Ext.baseCSSPrefix+(b.fixed&&!(Ext.isIE6||Ext.isIEQuirks)?"fixed-layer":"layer");h.el=h;if(e){h.dom=Ext.getDom(e)}if(!h.dom){h.dom=d.append(j,b.dh||{tag:"div",cls:a})}else{h.addCls(a);if(!h.dom.parentNode){j.appendChild(h.dom)}}if(b.preventSync){h.preventSync=true}if(b.id){h.id=h.dom.id=b.id}else{h.id=Ext.id(h.dom)}Ext.Element.addToCache(h);if(b.cls){h.addCls(b.cls)}h.constrain=b.constrain!==false;if(g){h.setVisibilityMode(Ext.Element[g.toUpperCase()]);if(h.visibilityMode==Ext.Element.ASCLASS){h.visibilityCls=b.visibilityCls}}else{if(b.useDisplay){h.setVisibilityMode(Ext.Element.DISPLAY)}else{h.setVisibilityMode(Ext.Element.VISIBILITY)}}if(b.shadow){h.shadowOffset=b.shadowOffset||4;h.shadow=new Ext.Shadow({offset:h.shadowOffset,mode:b.shadow,fixed:b.fixed});h.disableShadow()}else{h.shadowOffset=0}h.useShim=b.shim!==false&&Ext.useShims;if(b.hidden===true){h.hide()}else{h.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var a=this,c,b;if(!a.useShim){return null}if(!a.shim){c=a.self.shims.shift();if(!c){c=a.createShim();c.enableDisplayMode("block");c.hide()}b=a.dom.parentNode;if(c.dom.parentNode!=b){b.insertBefore(c.dom,a.dom)}a.shim=c}return a.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(false);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(b){var a=this;if(a.shadow&&a.shadowDisabled){a.shadowDisabled=false;a.shadowOffset=a.lastShadowOffset;delete a.lastShadowOffset;if(b){a.sync(true)}}},sync:function(a){var c=this,d=c.shadow,e,l,g,j,o,n,p,m,b,k;if(c.preventSync){return}if(!c.updating&&c.isVisible()&&(d||c.useShim)){j=c.getShim();o=c[c.localXYNames.get]();n=o[0];p=o[1];m=c.dom.offsetWidth;b=c.dom.offsetHeight;if(d&&!c.shadowDisabled){if(a&&!d.isVisible()){d.show(c)}else{d.realign(n,p,m,b)}if(j){k=j.getStyle("z-index");if(k>c.zindex){c.shim.setStyle("z-index",c.zindex-2)}j.show();if(d.isVisible()){e=d.el.getXY();l=j.dom.style;g=d.el.getSize();if(Ext.supports.CSS3BoxShadow){g.height+=6;g.width+=4;e[0]-=2;e[1]-=4}l.left=(e[0])+"px";l.top=(e[1])+"px";l.width=(g.width)+"px";l.height=(g.height)+"px"}else{j.setSize(m,b);j[c.localXYNames.set](n,p)}}}else{if(j){k=j.getStyle("z-index");if(k>c.zindex){c.shim.setStyle("z-index",c.zindex-2)}j.show();j.setSize(m,b);j[c.localXYNames.set](n,p)}}}return c},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var g=Ext.Element.getViewWidth(),e=Ext.Element.getViewHeight(),c=Ext.getDoc().getScroll(),l=this.getXY(),k=l[0],m=l[1],d=this.shadowOffset,j=this.dom.offsetWidth+d,a=this.dom.offsetHeight+d,b=false;if((k+j)>g+c.left){k=g-j-d;b=true}if((m+a)>e+c.top){m=e-a-d;b=true}if(k<c.left){k=c.left;b=true}if(m<c.top){m=c.top;b=true}if(b){Ext.Layer.superclass.setXY.call(this,[k,m]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(h,a,d,b,e){var g=this,c;c=function(){if(h){g.sync(true)}if(b){b()}};if(!h){g.hideUnders(true)}g.callParent([h,a,d,b,e]);if(!a){c()}return g},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(a,b){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(g,a,c,b,d){var e=this;b=e.createCB(b);e.fixDisplay();e.beforeAction();e.callParent([g,a,c,b,d]);if(!a){b()}return e},createCB:function(a){var b=this,c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);if(a){a()}}},setX:function(e,a,c,b,d){this.setXY([e,this.getY()],a,c,b,d);return this},setY:function(e,a,c,b,d){this.setXY([this.getX(),e],a,c,b,d);return this},setSize:function(j,e,a,c,b,d){var g=this;b=g.createCB(b);g.beforeAction();g.callParent([j,e,a,c,b,d]);if(!a){b()}return g},setWidth:function(g,a,c,b,d){var e=this;b=e.createCB(b);e.beforeAction();e.callParent([g,a,c,b,d]);if(!a){b()}return e},setHeight:function(e,a,c,b,d){var g=this;b=g.createCB(b);g.beforeAction();g.callParent([e,a,c,b,d]);if(!a){b()}return g},setBounds:function(j,k,h,e,a,c,b,d){var g=this;b=g.createCB(b);g.beforeAction();if(!a){Ext.Layer.superclass.setXY.call(g,[j,k]);Ext.Layer.superclass.setSize.call(g,h,e);b()}else{g.callParent([j,k,h,e,a,c,b,d])}return g},setZIndex:function(b){var a=this;a.zindex=b;if(a.getShim()){a.shim.setStyle("z-index",b++)}if(a.shadow){a.shadow.setZIndex(b++)}return a.setStyle("z-index",b)},onOpacitySet:function(a){var b=this.shadow;if(b){b.setOpacity(a)}}});Ext.define("Ext.draw.Matrix",{constructor:function(g,h,j,k,l,m){if(g!=null){this.matrix=[[g,j,l],[h,k,m],[0,0,1]]}else{this.matrix=[[1,0,0],[0,1,0],[0,0,1]]}},add:function(g,h,j,k,l,m){var o=this,p=[[],[],[]],n=[[g,j,l],[h,k,m],[0,0,1]],r,s,t,q;for(r=0;r<3;r++){for(s=0;s<3;s++){q=0;for(t=0;t<3;t++){q+=o.matrix[r][t]*n[t][s]}p[r][s]=q}}o.matrix=p},prepend:function(g,h,j,k,l,m){var o=this,p=[[],[],[]],n=[[g,j,l],[h,k,m],[0,0,1]],r,s,t,q;for(r=0;r<3;r++){for(s=0;s<3;s++){q=0;for(t=0;t<3;t++){q+=n[r][t]*o.matrix[t][s]}p[r][s]=q}}o.matrix=p},invert:function(){var n=this.matrix,g=n[0][0],h=n[1][0],j=n[0][1],k=n[1][1],l=n[0][2],m=n[1][2],o=g*k-h*j;return new Ext.draw.Matrix(k/o,-h/o,-j/o,g/o,(j*m-k*l)/o,(h*l-g*m)/o)},clone:function(){var n=this.matrix,g=n[0][0],h=n[1][0],j=n[0][1],k=n[1][1],l=n[0][2],m=n[1][2];return new Ext.draw.Matrix(g,h,j,k,l,m)},translate:function(a,b){this.prepend(1,0,0,1,a,b)},scale:function(d,e,a,b){var c=this;if(e==null){e=d}c.add(d,0,0,e,a*(1-d),b*(1-e))},rotate:function(b,g,h){b=Ext.draw.Draw.rad(b);var d=this,c=+Math.cos(b).toFixed(9),e=+Math.sin(b).toFixed(9);d.add(c,e,-e,c,g-c*g+e*h,-(e*g)+h-c*h)},x:function(b,c){var a=this.matrix;return b*a[0][0]+c*a[0][1]+a[0][2]},y:function(b,c){var a=this.matrix;return b*a[1][0]+c*a[1][1]+a[1][2]},get:function(a,b){return +this.matrix[a][b].toFixed(4)},toString:function(){var a=this;return[a.get(0,0),a.get(0,1),a.get(1,0),a.get(1,1),0,0].join()},toSvg:function(){var a=this;return"matrix("+[a.get(0,0),a.get(1,0),a.get(0,1),a.get(1,1),a.get(0,2),a.get(1,2)].join()+")"},toFilter:function(a,b){var c=this;a=a||0;b=b||0;return"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+c.get(0,0)+", M12="+c.get(0,1)+", M21="+c.get(1,0)+", M22="+c.get(1,1)+", Dx="+(c.get(0,2)+a)+", Dy="+(c.get(1,2)+b)+")"},offset:function(){var a=this.matrix;return[(a[0][2]||0).toFixed(4),(a[1][2]||0).toFixed(4)]},split:function(){function b(g){return g[0]*g[0]+g[1]*g[1]}function c(g){var h=Math.sqrt(b(g));g[0]/=h;g[1]/=h}var a=this.matrix,d={translateX:a[0][2],translateY:a[1][2]},e;e=[[a[0][0],a[0][1]],[a[1][1],a[1][1]]];d.scaleX=Math.sqrt(b(e[0]));c(e[0]);d.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];e[1]=[e[1][0]-e[0][0]*d.shear,e[1][1]-e[0][1]*d.shear];d.scaleY=Math.sqrt(b(e[1]));c(e[1]);d.shear/=d.scaleY;d.rotate=Math.asin(-e[0][1]);d.isSimple=!+d.shear.toFixed(9)&&(d.scaleX.toFixed(9)==d.scaleY.toFixed(9)||!d.rotate);return d}});Ext.define("Ext.draw.SpriteDD",{extend:Ext.dd.DragSource,constructor:function(d,a){var c=this,b=d.el;c.sprite=d;c.el=b;c.dragData={el:b,sprite:d};c.callParent([b,a]);c.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(a){return this.el},getRegion:function(){var j=this,g=j.el,k,p,q,s,u,o,m,a,h,c,n;n=j.sprite;c=n.getBBox();try{k=Ext.Element.getXY(g)}catch(d){}if(!k){return null}p=k[0];q=p+c.width;s=k[1];u=s+c.height;return new Ext.util.Region(s,q,u,p)},startDrag:function(c,d){var b=this,a=b.sprite.attr;b.prev=b.sprite.surface.transformToViewBox(c,d)},onDrag:function(d){var j=d.getXY(),g=this,h=g.sprite,a=h.attr,b,c;j=g.sprite.surface.transformToViewBox(j[0],j[1]);b=j[0]-g.prev[0];c=j[1]-g.prev[1];h.setAttributes({translate:{x:a.translation.x+b,y:a.translation.y+c}},true);g.prev=j},setDragElPos:function(){return false}});Ext.define("Ext.draw.Sprite",{mixins:{observable:Ext.util.Observable,animate:Ext.util.Animate},dirty:false,dirtyHidden:false,dirtyTransform:false,dirtyPath:true,dirtyFont:true,zIndexDirty:true,isSprite:true,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(a){var b=this;a=Ext.merge({},a||{});b.id=Ext.id(null,"ext-sprite-");b.transformations=[];Ext.copyTo(this,a,"surface,group,type,draggable");b.bbox={};b.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}};delete a.surface;delete a.group;delete a.type;delete a.draggable;b.setAttributes(a);b.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click");b.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var a=this;if(!a.el){a.surface.createSpriteElement(a)}a.dd=new Ext.draw.SpriteDD(a,Ext.isBoolean(a.draggable)?null:a.draggable);a.on("beforedestroy",a.dd.destroy,a.dd)},setAttributes:function(b,q){var k=this,e=k.fontProperties,g=e.length,o=k.pathProperties,p=o.length,h=!!k.surface,c=h&&k.surface.customAttributes||{},t=k.attr,d=false,a,j,n,u,l,r,m,s;b=Ext.apply({},b);for(a in c){if(b.hasOwnProperty(a)&&typeof c[a]=="function"){Ext.apply(b,c[a].apply(k,[].concat(b[a])))}}if(!!b.hidden!==!!t.hidden){k.dirtyHidden=true}for(j=0;j<p;j++){a=o[j];if(a in b&&b[a]!==t[a]){k.dirtyPath=true;d=true;break}}if("zIndex" in b){k.zIndexDirty=true}if("text" in b){k.dirtyFont=true;d=true}for(j=0;j<g;j++){a=e[j];if(a in b&&b[a]!==t[a]){k.dirtyFont=true;d=true;break}}n=b.translation||b.translate;delete b.translate;delete b.translation;u=t.translation;if(n){if(("x" in n&&n.x!==u.x)||("y" in n&&n.y!==u.y)){k.dirtyTransform=true;u.x=n.x;u.y=n.y}}l=b.rotation||b.rotate;r=t.rotation;delete b.rotate;delete b.rotation;if(l){if(("x" in l&&l.x!==r.x)||("y" in l&&l.y!==r.y)||("degrees" in l&&l.degrees!==r.degrees)){k.dirtyTransform=true;r.x=l.x;r.y=l.y;r.degrees=l.degrees}}m=b.scaling||b.scale;s=t.scaling;delete b.scale;delete b.scaling;if(m){if(("x" in m&&m.x!==s.x)||("y" in m&&m.y!==s.y)||("cx" in m&&m.cx!==s.cx)||("cy" in m&&m.cy!==s.cy)){k.dirtyTransform=true;s.x=m.x;s.y=m.y;s.cx=m.cx;s.cy=m.cy}}if(!k.dirtyTransform&&d){if(t.scaling.x===null||t.scaling.y===null||t.rotation.y===null||t.rotation.y===null){k.dirtyTransform=true}}Ext.apply(t,b);k.dirty=true;if(q===true&&h){k.redraw()}return this},getBBox:function(){return this.surface.getBBox(this)},setText:function(a){return this.surface.setText(this,a)},hide:function(a){this.setAttributes({hidden:true},a);return this},show:function(a){this.setAttributes({hidden:false},a);return this},remove:function(){if(this.surface){this.surface.remove(this);return true}return false},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var a=this;if(a.fireEvent("beforedestroy",a)!==false){a.remove();a.surface.onDestroy(a);a.clearListeners();a.fireEvent("destroy")}},redraw:function(){this.surface.renderItem(this);return this},setStyle:function(){this.el.setStyle.apply(this.el,arguments);return this},addCls:function(a){this.surface.addCls(this,a);return this},removeCls:function(a){this.surface.removeCls(this,a);return this}});Ext.define("Ext.draw.Text",{extend:Ext.draw.Component,alias:"widget.text",text:"",focusable:false,viewBox:false,autoSize:true,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var a=this;a.textConfig=Ext.apply({type:"text",text:a.text,rotate:{degrees:a.degrees||0}},a.textStyle);Ext.apply(a.textConfig,a.getStyles(a.styleSelectors||a.styleSelector));a.initialConfig.items=[a.textConfig];a.callParent(arguments)},getStyles:function(g){g=Ext.Array.from(g);var a=0,b=g.length,e,h,c,d={};for(;a<b;a++){e=Ext.util.CSS.getRule(g[a]);if(e){h=e.style;if(h){Ext.apply(d,{"font-family":h.fontFamily,"font-weight":h.fontWeight,"line-height":h.lineHeight,"font-size":h.fontSize,fill:h.color})}}}return d},setAngle:function(a){var b=this,d,c;if(b.rendered){d=b.surface;c=d.items.items[0];b.degrees=a;c.setAttributes({rotate:{degrees:a}},true);if(b.autoSize||b.viewBox){b.updateLayout()}}else{b.degrees=a}},setText:function(d){var a=this,c,b;if(a.rendered){c=a.surface;b=c.items.items[0];a.text=d||"";c.remove(b);a.textConfig.type="text";a.textConfig.text=a.text;b=c.add(a.textConfig);b.setAttributes({rotate:{degrees:a.degrees}},true);if(a.autoSize||a.viewBox){a.updateLayout()}}else{a.on({render:function(){a.setText(d)},single:true})}}});Ext.define("Ext.draw.engine.ImageExporter",{singleton:true,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(d,a){a=a||{};var c=this,e=a.type,b;if(Ext.Array.indexOf(c.supportedTypes,e)===-1){return false}b=Ext.getBody().createChild({tag:"form",method:"POST",action:a.url||c.defaultUrl,cls:c.formCls,children:[{tag:"input",type:"hidden",name:a.widthParam||c.widthParam,value:a.width||d.width},{tag:"input",type:"hidden",name:a.heightParam||c.heightParam,value:a.height||d.height},{tag:"input",type:"hidden",name:a.typeParam||c.typeParam,value:e},{tag:"input",type:"hidden",name:a.svgParam||c.svgParam}]});b.last(null,true).value=Ext.draw.engine.SvgExporter.generate(d);b.dom.submit();b.remove();return true}});Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(d,a){var b=this.domRef.createElementNS("http://www.w3.org/2000/svg",d),c;if(a){for(c in a){b.setAttribute(c,String(a[c]))}}return b},createSpriteElement:function(b){var a=this.createSvgElement(b.type);a.id=b.id;if(a.style){a.style.webkitTapHighlightColor="rgba(0,0,0,0)"}b.el=Ext.get(a);this.applyZIndex(b);b.matrix=new Ext.draw.Matrix();b.bbox={plain:0,transform:0};this.applyAttrs(b);this.applyTransformations(b);b.fireEvent("render",b);return a},getBBoxText:function(k){var b={},a,g,l,h,j,d;if(k&&k.el){d=k.el.dom;try{b=d.getBBox();return b}catch(c){}b={x:b.x,y:Infinity,width:0,height:0};j=d.getNumberOfChars();for(h=0;h<j;h++){a=d.getExtentOfChar(h);b.y=Math.min(a.y,b.y);g=a.y+a.height-b.y;b.height=Math.max(b.height,g);l=a.x+a.width-b.x;b.width=Math.max(b.width,l)}return b}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(a){this.addCls(a,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){this.removeCls(a,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,c){var d=this,b=new Ext.draw.Matrix(),h=e.transformations,j=h.length,a=0,g,k;for(;a<j;a++){g=h[a];k=g.type;if(k=="translate"){b.translate(g.x,g.y)}else{if(k=="rotate"){b.rotate(g.degrees,g.x,g.y)}else{if(k=="scale"){b.scale(g.x,g.y,g.centerX,g.centerY)}}}}e.matrix=b;if(!c){e.el.set({transform:b.toSvg()})}},setSize:function(d,b){var c=this,a=c.el;d=+d||c.width;b=+b||c.height;c.width=d;c.height=b;a.setSize(d,b);a.set({width:d,height:b});c.callParent([d,b])},getRegion:function(){var c=this.el.getXY(),b=this.bgRect.getXY(),a=Math.max,d=a(c[0],b[0]),e=a(c[1],b[1]);return{left:d,top:e,right:d+this.width,bottom:e+this.height}},onRemove:function(a){if(a.el){a.el.destroy();delete a.el}this.callParent(arguments)},setViewBox:function(c,d,b,a){if(isFinite(c)&&isFinite(d)&&isFinite(b)&&isFinite(a)){this.callParent(arguments);this.el.dom.setAttribute("viewBox",[c,d,b,a].join(" "))}},render:function(b){var g=this,j,e,d,c,a,h;if(!g.el){j=g.width||0;e=g.height||0;d=g.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:j,height:e});c=g.getDefs();a=g.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0});if(Ext.isSafari3){h=g.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})}d.appendChild(c);if(Ext.isSafari3){d.appendChild(h)}d.appendChild(a);b.appendChild(d);g.el=Ext.get(d);g.bgRect=Ext.get(a);if(Ext.isSafari3){g.webkitRect=Ext.get(h);g.webkitRect.hide()}g.el.on({scope:g,mouseup:g.onMouseUp,mousedown:g.onMouseDown,mouseover:g.onMouseOver,mouseout:g.onMouseOut,mousemove:g.onMouseMove,mouseenter:g.onMouseEnter,mouseleave:g.onMouseLeave,click:g.onClick,dblclick:g.onDblClick})}g.renderAll()},onMouseEnter:function(a){if(this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseenter",a)}},onMouseLeave:function(a){if(!this.el.parent().getRegion().contains(a.getPoint())){this.fireEvent("mouseleave",a)}},processEvent:function(b,a){var g=a.getTarget(),d=this.surface,c;this.fireEvent(b,a);if(g.nodeName=="tspan"&&g.parentNode){g=g.parentNode}c=this.items.get(g.id);if(c){c.fireEvent(b,c,a)}},tuneText:function(h,a){var b=h.el.dom,m=[],d,l,j,e,g,k,c,n;if(a.hasOwnProperty("text")){j=h.tspans&&Ext.Array.map(h.tspans,function(o){return o.textContent}).join("");if(!h.tspans||a.text!=j){m=this.setText(h,a.text);h.tspans=m}else{m=h.tspans||[]}}if(m.length){d=this.getBBoxText(h).height;n=h.el.dom.getAttribute("x");for(e=0,g=m.length;e<g;e++){c=(Ext.isFF3_0||Ext.isFF3_5)?2:4;m[e].setAttribute("x",n);m[e].setAttribute("dy",e?d*1.2:d/c)}h.dirty=true}},setText:function(g,k){var e=this,a=g.el.dom,m=[],b,l,h,c,d,j;while(a.firstChild){a.removeChild(a.firstChild)}j=String(k).split("\n");for(c=0,d=j.length;c<d;c++){h=j[c];if(h){l=e.createSvgElement("tspan");l.appendChild(document.createTextNode(Ext.htmlDecode(h)));a.appendChild(l);m[c]=l}}return m},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.zIndexDirty){this.applyZIndex(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},redraw:function(a){a.dirty=a.zIndexDirty=true;this.renderItem(a)},applyAttrs:function(r){var l=this,b=r.el,e=r.group,q=r.attr,n=l.parsers,d=l.gradientsMap||{},p=Ext.isSafari&&!Ext.isStrict,g,h,k,a,c,j,s,m,o;if(e){g=[].concat(e);k=g.length;for(h=0;h<k;h++){e=g[h];l.getGroup(e).add(r)}delete r.group}a=l.scrubAttrs(r)||{};r.bbox.plain=0;r.bbox.transform=0;if(r.type=="circle"||r.type=="ellipse"){a.cx=a.cx||a.x;a.cy=a.cy||a.y}else{if(r.type=="rect"){a.rx=a.ry=a.r}else{if(r.type=="path"&&a.d){a.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(a.d))}}}r.dirtyPath=false;if(a["clip-rect"]){l.setClip(r,a);delete a["clip-rect"]}if(r.type=="text"&&a.font&&r.dirtyFont){b.set({style:"font: "+a.font})}if(r.type=="image"){b.dom.setAttributeNS(l.xlink,"href",a.src)}Ext.applyIf(a,l.minDefaults[r.type]);if(r.dirtyHidden){(q.hidden)?l.hidePrim(r):l.showPrim(r);r.dirtyHidden=false}for(j in a){if(a.hasOwnProperty(j)&&a[j]!=null){if(p&&("color|stroke|fill".indexOf(j)>-1)&&(a[j] in d)){a[j]=d[a[j]]}if(j=="hidden"&&r.type=="text"){continue}if(j in n){b.dom.setAttribute(j,n[j](a[j],r,l))}else{b.dom.setAttribute(j,a[j])}}}if(r.type=="text"){l.tuneText(r,a)}r.dirtyFont=false;s=q.style;if(s){b.setStyle(s)}r.dirty=false;if(Ext.isSafari3){l.webkitRect.show();setTimeout(function(){l.webkitRect.hide()})}},setClip:function(g,d){var c=this,e=d["clip-rect"],a,b;if(e){if(g.clip){g.clip.parentNode.parentNode.removeChild(g.clip.parentNode)}a=c.createSvgElement("clipPath");b=c.createSvgElement("rect");a.id=Ext.id(null,"ext-clip-");b.setAttribute("x",e.x);b.setAttribute("y",e.y);b.setAttribute("width",e.width);b.setAttribute("height",e.height);a.appendChild(b);c.getDefs().appendChild(a);g.el.dom.setAttribute("clip-path","url(#"+a.id+")");g.clip=b}},applyZIndex:function(g){var d=this,c=d.items,b=c.indexOf(g),a=g.el,e;if(d.el.dom.childNodes[b+2]!==a.dom){if(b>0){do{e=c.getAt(--b).el}while(!e&&b>0)}a.insertAfter(e||d.bgRect)}g.zIndexDirty=false},createItem:function(a){var b=new Ext.draw.Sprite(a);b.surface=this;return b},addGradient:function(a){a=Ext.draw.Draw.parseGradient(a);var g=this,e=a.stops.length,l=a.vector,k=Ext.isSafari&&!Ext.isStrict,b,h,j,d,c;c=g.gradientsMap||{};if(!k){if(a.type=="linear"){b=g.createSvgElement("linearGradient");b.setAttribute("x1",l[0]);b.setAttribute("y1",l[1]);b.setAttribute("x2",l[2]);b.setAttribute("y2",l[3])}else{b=g.createSvgElement("radialGradient");b.setAttribute("cx",a.centerX);b.setAttribute("cy",a.centerY);b.setAttribute("r",a.radius);if(Ext.isNumber(a.focalX)&&Ext.isNumber(a.focalY)){b.setAttribute("fx",a.focalX);b.setAttribute("fy",a.focalY)}}b.id=a.id;g.getDefs().appendChild(b);for(d=0;d<e;d++){h=a.stops[d];j=g.createSvgElement("stop");j.setAttribute("offset",h.offset+"%");j.setAttribute("stop-color",h.color);j.setAttribute("stop-opacity",h.opacity);b.appendChild(j)}}else{c["url(#"+a.id+")"]=a.stops[0].color}g.gradientsMap=c},hasCls:function(b,a){return a&&(" "+(b.el.dom.getAttribute("class")||"")+" ").indexOf(" "+a+" ")!=-1},addCls:function(h,a){var d=h.el,e,g,j,b=[],c=d.getAttribute("class")||"";if(!Ext.isArray(a)){if(typeof a=="string"&&!this.hasCls(h,a)){d.set({"class":c+" "+a})}}else{for(e=0,g=a.length;e<g;e++){j=a[e];if(typeof j=="string"&&(" "+c+" ").indexOf(" "+j+" ")==-1){b.push(j)}}if(b.length){d.set({"class":" "+b.join(" ")})}}},removeCls:function(l,a){var k=this,d=l.el,c=d.getAttribute("class")||"",g,h,j,b,e;if(!Ext.isArray(a)){a=[a]}if(c){e=c.replace(k.trimRe," ").split(k.spacesRe);for(g=0,j=a.length;g<j;g++){b=a[g];if(typeof b=="string"){b=b.replace(k.trimRe,"");h=Ext.Array.indexOf(e,b);if(h!=-1){Ext.Array.erase(e,h,1)}}}d.set({"class":e.join(" ")})}},destroy:function(){var a=this;a.callParent();if(a.el){a.el.remove()}if(a._defs){Ext.get(a._defs).destroy()}if(a.bgRect){Ext.get(a.bgRect).destroy()}if(a.webkitRect){Ext.get(a.webkitRect).destroy()}delete a.el}});Ext.define("Ext.draw.engine.SvgExporter",function(){var a=/,/g,b=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,h=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,g=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,k,e,o,c,d=function(p){k=p;e=k.length;o=k.width;c=k.height},j={path:function(w){var q=w.attr,s=q.path,t="",v,r,u;if(Ext.isArray(s[0])){u=s.length;for(r=0;r<u;r++){t+=s[r].join(" ")}}else{if(Ext.isArray(s)){t=s.join(" ")}else{t=s.replace(a," ")}}v=n({d:t,fill:q.fill||"none",stroke:q.stroke,"fill-opacity":q.opacity,"stroke-width":q["stroke-width"],"stroke-opacity":q["stroke-opacity"],"z-index":q.zIndex,transform:w.matrix.toSvg()});return"<path "+v+"/>"},text:function(v){var p=v.attr,s=b.exec(p.font),u=(s&&s[1])||"12",r=(s&&s[3])||"Arial",w=p.text,q=(Ext.isFF3_0||Ext.isFF3_5)?2:4,x="",t;v.getBBox();x+='<tspan x="'+(p.x||"")+'" dy="';x+=(u/q)+'">';x+=Ext.htmlEncode(w)+"</tspan>";t=n({x:p.x,y:p.y,"font-size":u,"font-family":r,"font-weight":p["font-weight"],"text-anchor":p["text-anchor"],fill:p.fill||"#000","fill-opacity":p.opacity,transform:v.matrix.toSvg()});return"<text "+t+">"+x+"</text>"},rect:function(r){var p=r.attr,q=n({x:p.x,y:p.y,rx:p.rx,ry:p.ry,width:p.width,height:p.height,fill:p.fill||"none","fill-opacity":p.opacity,stroke:p.stroke,"stroke-opacity":p["stroke-opacity"],"stroke-width":p["stroke-width"],transform:r.matrix&&r.matrix.toSvg()});return"<rect "+q+"/>"},circle:function(r){var p=r.attr,q=n({cx:p.x,cy:p.y,r:p.radius,fill:p.translation.fill||p.fill||"none","fill-opacity":p.opacity,stroke:p.stroke,"stroke-opacity":p["stroke-opacity"],"stroke-width":p["stroke-width"],transform:r.matrix.toSvg()});return"<circle "+q+" />"},image:function(r){var p=r.attr,q=n({x:p.x-(p.width/2>>0),y:p.y-(p.height/2>>0),width:p.width,height:p.height,"xlink:href":p.src,transform:r.matrix.toSvg()});return"<image "+q+" />"}},m=function(){var p='<?xml version="1.0" standalone="yes"?>';p+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return p},l=function(){var J='<svg width="'+o+'px" height="'+c+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',u="",y,A,z,w,v,t,H,p,E,r,C,F,D,q,x,B,I,G,K,L;z=k.items.items;A=z.length;v=function(U){var R=U.childNodes,Q=R.length,S=0,O,T,V="",P,M,W,N;for(;S<Q;S++){P=R[S];M=P.attributes;W=P.tagName;V+="<"+W;for(T=0,O=M.length;T<O;T++){N=M.item(T);V+=" "+N.name+'="'+N.value+'"'}V+=">";if(P.childNodes.length>0){V+=v(P)}V+="</"+W+">"}return V};if(k.getDefs){u=v(k.getDefs())}else{p=k.gradientsColl;if(p){E=p.keys;r=p.items;C=0;F=E.length}for(;C<F;C++){D=E[C];q=r[C];w=k.gradientsColl.getByKey(D);u+='<linearGradient id="'+D+'" x1="0" y1="0" x2="1" y2="1">';var s=w.colors.replace(h,"rgb($1|$2|$3)");s=s.replace(g,"rgba($1|$2|$3|$4)");t=s.split(",");for(x=0,I=t.length;x<I;x++){H=t[x].split(" ");s=Ext.draw.Color.fromString(H[1].replace(/\|/g,","));u+='<stop offset="'+H[0]+'" stop-color="'+s.toString()+'" stop-opacity="1"></stop>'}u+="</linearGradient>"}}J+="<defs>"+u+"</defs>";J+=j.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}});G=new Array(A);for(x=0;x<A;x++){G[x]=x}G.sort(function(M,N){K=z[M].attr.zIndex||0;L=z[N].attr.zIndex||0;if(K==L){return M-N}return K-L});for(x=0;x<A;x++){y=z[G[x]];if(!y.attr.hidden){J+=j[y.type](y)}}J+="</svg>";return J},n=function(q){var r="",p;for(p in q){if(q.hasOwnProperty(p)&&q[p]!=null){r+=p+'="'+q[p]+'" '}}return r};return{singleton:true,generate:function(q,p){p=p||{};d(q);return m()+l()}}});Ext.define("Ext.draw.engine.Vml",{extend:Ext.draw.Surface,engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1000,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:false,path2vml:function(o){var k=this,l=k.NonVmlPathRe,h=k.map,t=k.valRe,u=k.zoom,a=k.bitesRe,b=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),s,n,m,q,c,d,e,g;if(String(o).match(l)){b=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw)}else{if(!String(o).match(k.partialPathRe)){s=String(o).replace(a,function(j,r,p){var x=[],v=r.toLowerCase()=="m",w=h[r];p.replace(t,function(y){if(v&&x.length===2){w+=x+h[r=="m"?"l":"L"];x=[]}x.push(Math.round(y*u))});return w+x});return s}}n=b(o);s=[];for(c=0,d=n.length;c<d;c++){m=n[c];q=n[c][0].toLowerCase();if(q=="z"){q="x"}for(e=1,g=m.length;e<g;e++){q+=Math.round(m[e]*k.zoom)+(e!=g-1?",":"")}s.push(q)}return s.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(a){this.fireEvent("mouseenter",a)},onMouseLeave:function(a){this.fireEvent("mouseleave",a)},processEvent:function(b,a){var g=a.getTarget(),d=this.surface,c;this.fireEvent(b,a);c=this.items.get(g.id);if(c){c.fireEvent(b,c,a)}},createSpriteElement:function(h){var c=this,a=h.attr,k=h.type,m=c.zoom,l=h.vml||(h.vml={}),e=Math.round,b=(k==="image")?c.createNode("image"):c.createNode("shape"),d,g,j;b.coordsize=m+" "+m;b.coordorigin=a.coordorigin||"0 0";Ext.get(b).addCls(c.spriteCls);if(k=="text"){l.path=d=c.createNode("path");d.textpathok=true;l.textpath=j=c.createNode("textpath");j.on=true;b.appendChild(j);b.appendChild(d)}b.id=h.id;h.el=Ext.get(b);h.el.setStyle("zIndex",-c.zIndexShift);c.el.appendChild(b);if(k!=="image"){g=c.createNode("skew");g.on=true;b.appendChild(g);h.skew=g}h.matrix=new Ext.draw.Matrix();h.bbox={plain:null,transform:null};this.applyAttrs(h);this.applyTransformations(h);h.fireEvent("render",h);return h.el},getBBoxText:function(a){var b=a.vml;return{x:b.X+(b.bbx||0)-b.W/2,y:b.Y-b.H/2,width:b.W,height:b.H}},applyAttrs:function(r){var m=this,u=r.vml,g=r.group,s=r.attr,d=r.el,c=d.dom,t,n,h,j,l,q,e,k,a,b,o,p;if(g){h=[].concat(g);l=h.length;for(j=0;j<l;j++){g=h[j];m.getGroup(g).add(r)}delete r.group}q=m.scrubAttrs(r)||{};if(r.zIndexDirty){m.setZIndex(r)}Ext.applyIf(q,m.minDefaults[r.type]);if(r.type=="image"){Ext.apply(r.attr,{x:q.x,y:q.y,width:q.width,height:q.height});d.setStyle({width:q.width+"px",height:q.height+"px"});c.src=q.src}if(c.href){c.href=q.href}if(c.title){c.title=q.title}if(c.target){c.target=q.target}if(c.cursor){c.cursor=q.cursor}if(r.dirtyHidden){(q.hidden)?m.hidePrim(r):m.showPrim(r);r.dirtyHidden=false}if(r.dirtyPath){if(r.type=="circle"||r.type=="ellipse"){a=q.x;b=q.y;o=q.rx||q.r||0;p=q.ry||q.r||0;c.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((a-o)*m.zoom),Math.round((b-p)*m.zoom),Math.round((a+o)*m.zoom),Math.round((b+p)*m.zoom),Math.round(a*m.zoom));r.dirtyPath=false}else{if(r.type!=="text"&&r.type!=="image"){r.attr.path=q.path=m.setPaths(r,q)||q.path;c.path=m.path2vml(q.path);r.dirtyPath=false}}}if("clip-rect" in q){m.setClip(r,q)}if(r.type=="text"){m.setTextAttributes(r,q)}if(q.opacity||q["stroke-opacity"]||q.fill){m.setFill(r,q)}if(q.stroke||q["stroke-opacity"]||q.fill){m.setStroke(r,q)}t=s.style;if(t){d.setStyle(t)}r.dirty=false},setZIndex:function(h){var e=this,j=h.attr.zIndex,g=e.zIndexShift,d,b,c,a;if(j<g){d=e.items.items;b=d.length;for(a=0;a<b;a++){if((j=d[a].attr.zIndex)&&j<g){g=j}}e.zIndexShift=g;for(a=0;a<b;a++){c=d[a];if(c.el){c.el.setStyle("zIndex",c.attr.zIndex-g)}c.zIndexDirty=false}}else{if(h.el){h.el.setStyle("zIndex",j-g);h.zIndexDirty=false}}},setPaths:function(b,a){var c=b.attr,d=b.attr["stroke-width"]||1;b.bbox.plain=null;b.bbox.transform=null;if(b.type=="circle"){c.rx=c.ry=a.r;return Ext.draw.Draw.ellipsePath(b)}else{if(b.type=="ellipse"){c.rx=a.rx;c.ry=a.ry;return Ext.draw.Draw.ellipsePath(b)}else{if(b.type=="rect"){c.rx=c.ry=a.r;return Ext.draw.Draw.rectPath(b)}else{if(b.type=="path"&&c.path){return Ext.draw.Draw.pathToAbsolute(c.path)}}}}return false},setFill:function(m,k){var g=this,b=m.el.dom,c=b.fill,h=false,j,e,d,l,a;if(!c){c=b.fill=g.createNode("fill");h=true}if(Ext.isArray(k.fill)){k.fill=k.fill[0]}if(k.fill=="none"){c.on=false}else{if(typeof k.opacity=="number"){c.opacity=k.opacity}if(typeof k["fill-opacity"]=="number"){c.opacity=k["fill-opacity"]}c.on=true;if(typeof k.fill=="string"){d=k.fill.match(g.fillUrlRe);if(d){d=d[1];if(d.charAt(0)=="#"){e=g.gradientsColl.getByKey(d.substring(1))}if(e){l=k.rotation;a=-(e.angle+270+(l?l.degrees:0))%360;if(a===0){a=180}c.angle=a;c.type="gradient";c.method="sigma";if(c.colors){c.colors.value=e.colors}else{c.colors=e.colors}}else{c.src=d;c.type="tile"}}else{c.color=Ext.draw.Color.toHex(k.fill);c.src="";c.type="solid"}}}if(h){b.appendChild(c)}},setStroke:function(g,e){var b=this,a=g.el.dom,h=g.strokeEl,c=false,j,d;if(!h){h=g.strokeEl=b.createNode("stroke");c=true}if(Ext.isArray(e.stroke)){e.stroke=e.stroke[0]}if(!e.stroke||e.stroke=="none"||e.stroke==0||e["stroke-width"]==0){h.on=false}else{h.on=true;if(e.stroke&&!e.stroke.match(b.fillUrlRe)){h.color=Ext.draw.Color.toHex(e.stroke)}h.dashstyle=e["stroke-dasharray"]?"dash":"solid";h.joinstyle=e["stroke-linejoin"];h.endcap=e["stroke-linecap"]||"round";h.miterlimit=e["stroke-miterlimit"]||8;j=parseFloat(e["stroke-width"]||1)*0.75;d=e["stroke-opacity"]||1;if(Ext.isNumber(j)&&j<1){h.weight=1;h.opacity=d*j}else{h.weight=j;h.opacity=d}}if(c){a.appendChild(h)}},setClip:function(g,d){var c=this,b=g.el,a=g.clipEl,e=String(d["clip-rect"]).split(c.separatorRe);if(!a){a=g.clipEl=c.el.insertFirst(Ext.getDoc().dom.createElement("div"));a.addCls(Ext.baseCSSPrefix+"vml-sprite")}if(e.length==4){e[2]=+e[2]+(+e[0]);e[3]=+e[3]+(+e[1]);a.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",e[0],e[1],e[2],e[3]));a.setSize(c.el.width,c.el.height)}else{a.setStyle("clip","")}},setTextAttributes:function(j,e){var c=this,l=j.vml,k=l.textpath.style,h=c.span.style,m=c.zoom,g=Math.round,a={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},b,d;if(j.dirtyFont){if(e.font){k.font=h.font=e.font}if(e["font-family"]){k.fontFamily='"'+e["font-family"].split(",")[0].replace(c.fontFamilyRe,"")+'"';h.fontFamily=e["font-family"]}for(b in a){d=e[a[b]];if(d){k[b]=h[b]=d}}c.setText(j,e.text);if(l.textpath.string){c.span.innerHTML=String(l.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")}l.W=c.span.offsetWidth;l.H=c.span.offsetHeight+2;if(e["text-anchor"]=="middle"){k["v-text-align"]="center"}else{if(e["text-anchor"]=="end"){k["v-text-align"]="right";l.bbx=-Math.round(l.W/2)}else{k["v-text-align"]="left";l.bbx=Math.round(l.W/2)}}}l.X=e.x;l.Y=e.y;l.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(l.X*m),Math.round(l.Y*m),Math.round(l.X*m)+1);j.bbox.plain=null;j.bbox.transform=null;j.dirtyFont=false},setText:function(a,b){a.vml.textpath.string=Ext.htmlDecode(b)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(a){a.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(a){a.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(c,a){var b=this;c=c||b.width;a=a||b.height;b.width=c;b.height=a;if(b.el){if(c!=undefined){b.el.setWidth(c)}if(a!=undefined){b.el.setHeight(a)}}b.callParent(arguments)},applyViewBox:function(){var e=this,g=e.viewBox,h=e.width,a=e.height,d,c,b;e.callParent();if(g&&(h||a)){d=e.items.items;c=d.length;for(b=0;b<c;b++){e.applyTransformations(d[b])}}},onAdd:function(a){this.callParent(arguments);if(this.el){this.renderItem(a)}},onRemove:function(a){if(a.el){a.el.remove();delete a.el}this.callParent(arguments)},render:function(a){var g=this,b=Ext.getDoc().dom,d;if(!g.createNode){try{if(!b.namespaces.rvml){b.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}g.createNode=function(e){return b.createElement("<rvml:"+e+' class="rvml">')}}catch(c){g.createNode=function(e){return b.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}if(!g.el){d=b.createElement("div");g.el=Ext.get(d);g.el.addCls(g.baseVmlCls);g.span=b.createElement("span");Ext.get(g.span).addCls(g.measureSpanCls);d.appendChild(g.span);g.el.setSize(g.width||0,g.height||0);a.appendChild(d);g.el.on({scope:g,mouseup:g.onMouseUp,mousedown:g.onMouseDown,mouseover:g.onMouseOver,mouseout:g.onMouseOut,mousemove:g.onMouseMove,mouseenter:g.onMouseEnter,mouseleave:g.onMouseLeave,click:g.onClick,dblclick:g.onDblClick})}g.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(a){a.dirty=true;this.renderItem(a)},renderItem:function(a){if(!this.el){return}if(!a.el){this.createSpriteElement(a)}if(a.dirty){this.applyAttrs(a);if(a.dirtyTransform){this.applyTransformations(a)}}},rotationCompensation:function(a,b,c){var d=new Ext.draw.Matrix();d.rotate(-a,0.5,0.5);return{x:d.x(b,c),y:d.y(b,c)}},transform:function(A,s){var t=this,a=t.getBBox(A,true),c=a.x+a.width*0.5,d=a.y+a.height*0.5,r=new Ext.draw.Matrix(),C=A.transformations,D=C.length,q=0,e=0,g=1,h=1,p="",n=A.el,l=n.dom,m=l.style,G=t.zoom,z=A.skew,x=t.viewBoxShift,j,k,B,E,b,F,o,u,H,I,v,w;for(;q<D;q++){B=C[q];E=B.type;if(E=="translate"){r.translate(B.x,B.y)}else{if(E=="rotate"){r.rotate(B.degrees,B.x,B.y);e+=B.degrees}else{if(E=="scale"){r.scale(B.x,B.y,B.centerX,B.centerY);g*=B.x;h*=B.y}}}}A.matrix=r.clone();if(s){return}if(x){r.prepend(x.scale,0,0,x.scale,x.dx*x.scale,x.dy*x.scale)}if(A.type!="image"&&z){z.origin="0,0";z.matrix=r.toString();w=r.offset();if(w[0]>32767){w[0]=32767}else{if(w[0]<-32768){w[0]=-32768}}if(w[1]>32767){w[1]=32767}else{if(w[1]<-32768){w[1]=-32768}}z.offset=w}else{m.filter=r.toFilter();m.left=Math.min(r.x(a.x,a.y),r.x(a.x+a.width,a.y),r.x(a.x,a.y+a.height),r.x(a.x+a.width,a.y+a.height))+"px";m.top=Math.min(r.y(a.x,a.y),r.y(a.x+a.width,a.y),r.y(a.x,a.y+a.height),r.y(a.x+a.width,a.y+a.height))+"px"}},createItem:function(a){return Ext.create("Ext.draw.Sprite",a)},getRegion:function(){return this.el.getRegion()},addCls:function(b,a){if(b&&b.el){b.el.addCls(a)}},removeCls:function(b,a){if(b&&b.el){b.el.removeCls(a)}},addGradient:function(b){var c=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),a=[],l=Ext.create("Ext.util.MixedCollection"),k,h,e,j,g,d;l.addAll(b.stops);l.sortByKey("ASC",function(m,n){m=parseInt(m,10);n=parseInt(n,10);return m>n?1:(m<n?-1:0)});k=l.keys;h=l.items;e=k.length;for(d=0;d<e;d++){j=k[d];g=h[d];a.push(j+"% "+g.color)}c.add(b.id,{colors:a.join(","),angle:b.angle})},destroy:function(){var a=this;a.callParent(arguments);if(a.el){a.el.remove()}delete a.el}});Ext.define("Ext.flash.Component",{extend:Ext.Component,alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:false,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent();this.addEvents("success","failure")},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var c=this,a=Ext.apply({},c.flashParams),b=Ext.apply({},c.flashVars);c.callParent();a=Ext.apply({allowScriptAccess:"always",bgcolor:c.backgroundColor,wmode:c.wmode},a);b=Ext.apply({allowedDomain:document.location.hostname},b);new swfobject.embedSWF(c.url,c.getSwfId(),c.swfWidth,c.swfHeight,c.flashVersion,c.expressInstall?c.statics.EXPRESS_INSTALL_URL:undefined,b,a,c.flashAttributes,Ext.bind(c.swfCallback,c))},swfCallback:function(a){var b=this;if(a.success){b.swf=Ext.get(a.ref);b.onSuccess();b.fireEvent("success",b)}else{b.onFailure();b.fireEvent("failure",b)}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=this,b=a.swf;if(b){swfobject.removeSWF(a.getSwfId());Ext.destroy(b);delete a.swf}a.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(a){if(a){Ext.apply(this,a)}var b=a.params;if(Ext.isString(b)){this.params=Ext.Object.fromQueryString(b)}},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return true}return(this.result=this.handleResponse(a))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var b=this,c,a=b.form;return{success:b.onSuccess,failure:b.onFailure,scope:b,timeout:(this.timeout*1000)||(a.timeout*1000),upload:a.fileUpload?b.onSuccess:c}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(b){var c=this.processResponse(b),a=this.form;if(c===true||!c.success||!c.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;a.afterAction(this,false);return}a.clearInvalid();a.setValues(c.data);a.afterAction(this,true)},handleResponse:function(c){var b=this.form.reader,d,a;if(b){d=b.read(c);a=d.records&&d.records[0]?d.records[0].data:null;return{success:d.success,data:a}}return Ext.decode(c.responseText)}});Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var b=this,a=b.form;if(b.clientValidation===false||a.isValid()){b.doSubmit()}else{b.failureType=Ext.form.action.Action.CLIENT_INVALID;a.afterAction(b,false)}},doSubmit:function(){var g=this,a=Ext.apply(g.createCallback(),{url:g.getUrl(),method:g.getMethod(),headers:g.headers}),b=g.form,e=g.jsonSubmit||b.jsonSubmit,h=e?"jsonData":"params",c,d;if(b.hasUpload()){d=g.buildForm();a.form=d.formEl;a.isUpload=true}else{a[h]=g.getParams(e)}Ext.Ajax.request(a);if(d){g.cleanup(d)}},cleanup:function(c){var b=c.formEl,g=c.uploadEls,h=c.uploadFields,e=h.length,d,a;for(d=0;d<e;++d){a=h[d];if(!a.clearOnSubmit){a.restoreInput(g[d])}}if(b){Ext.removeNode(b)}},getParams:function(d){var b=false,a=this.callParent(),c=this.form.getValues(b,b,this.submitEmptyText!==b,d);return Ext.apply({},c,a)},buildForm:function(){var m=this,e=[],h,g,a=m.form,n=m.getParams(),p=[],o=[],d=a.getFields().items,j,l=d.length,c,k,r,q,s,b;for(j=0;j<l;++j){c=d[j];if(c.rendered&&c.isFileUpload()){p.push(c)}}for(k in n){if(n.hasOwnProperty(k)){r=n[k];if(Ext.isArray(r)){s=r.length;for(q=0;q<s;q++){e.push(m.getFieldConfig(k,r[q]))}}else{e.push(m.getFieldConfig(k,r))}}}h={tag:"form",action:m.getUrl(),method:m.getMethod(),target:m.target||"_self",style:"display:none",cn:e};if(p.length){h.encoding=h.enctype="multipart/form-data"}g=Ext.DomHelper.append(Ext.getBody(),h);l=p.length;for(j=0;j<l;++j){b=p[j].extractFileInput();g.appendChild(b);o.push(b)}return{formEl:g,uploadFields:p,uploadEls:o}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(b){var a=this.form,d=true,c=this.processResponse(b);if(c!==true&&!c.success){if(c.errors){a.markInvalid(c.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;d=false}a.afterAction(this,d)},handleResponse:function(k){var d=this.form,b=d.errorReader,m,c,g,h,j,l;if(b){m=b.read(k);j=m.records;c=[];if(j){for(g=0,h=j.length;g<h;g++){c[g]=j[g].data}}if(c.length<1){c=null}l={success:m.success,errors:c}}else{try{l=Ext.decode(k.responseText)}catch(a){l={success:false,errors:[]}}}return l}});Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(b){var c=this,a=c.comp;c.startPosition=a.getXY();if(a.ghost&&!a.liveDrag){c.proxy=a.ghost();c.dragTarget=c.proxy.header.el}if(c.constrain||c.constrainDelegate){c.constrainTo=c.calculateConstrainRegion()}if(a.beginDrag){a.beginDrag()}},calculateConstrainRegion:function(){var j=this,a=j.comp,d=j.initialConstrainTo,c=a.constraintInsets,b,e,h,g=j.proxy?j.proxy.el:a.el,k=(!j.constrainDelegate&&g.shadow&&a.constrainShadow&&!g.shadowDisabled)?g.shadow.getShadowSize():0;if(!(d instanceof Ext.util.Region)){b=Ext.fly(d);d=b.getViewRegion();d.right=d.left+b.dom.clientWidth}else{d=d.copy()}if(c){c=Ext.isObject(c)?c:Ext.Element.parseBox(c);d.adjust(c.top,c.right,c.bottom,c.length)}if(k){d.adjust(k[0],-k[1],-k[2],k[3])}if(!j.constrainDelegate){e=Ext.fly(j.dragTarget).getRegion();h=g.getRegion();d.adjust(e.top-h.top,e.right-h.right,e.bottom-h.bottom,e.left-h.left)}return d},onDrag:function(b){var c=this,a=(c.proxy&&!c.comp.liveDrag)?c.proxy:c.comp,d=c.getOffset(c.constrain||c.constrainDelegate?"dragTarget":null);a.setPagePosition(c.startPosition[0]+d[0],c.startPosition[1]+d[1])},onEnd:function(b){var a=this.comp;if(a.isDestroyed||a.destroying){return}if(this.proxy&&!a.liveDrag){a.unghost()}if(a.endDrag){a.endDrag()}}});Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,initComponent:function(){var a=this;a.frame=false;a.callParent();a.addEvents("resize","maximize","minimize","restore");if(a.plain){a.addClsWithUI("plain")}if(a.modal){a.ariaRole="dialog"}a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var b=this,a;a=b.callParent();a.tabIndex=-1;return a},getState:function(){var c=this,e=c.callParent()||{},b=!!c.maximized,a=c.ghostBox,d;e.maximized=b;if(b){d=c.restorePos}else{if(a){d=[a.x,a.y]}else{d=c.getPosition()}}Ext.apply(e,{size:b?c.restoreSize:c.getSize(),pos:d});return e},applyState:function(b){var a=this;if(b){a.maximized=b.maximized;if(a.maximized){a.hasSavedRestore=true;a.restoreSize=b.size;a.restorePos=b.pos}else{Ext.apply(a,{width:b.size.width,height:b.size.height,x:b.pos[0],y:b.pos[1]})}}},onRender:function(a,c){var b=this;b.callParent(arguments);b.focusEl=b.el;if(b.maximizable){b.header.on({scope:b,dblclick:b.toggleMaximize})}},afterRender:function(){var c=this,a=c.header,b;c.callParent();if(c.maximized){c.maximized=false;c.maximize();if(a){a.removeCls(a.indicateDragCls)}}if(c.closable){b=c.getKeyMap();b.on(27,c.onEsc,c)}else{b=c.keyMap}if(b&&c.hidden){b.disable()}},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}},onEsc:function(b,a){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){a.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this;a.callParent();if(a.minimizable){a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])})}if(a.maximizable){a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var b=this,c,a=b.defaultButton||b.defaultFocus,d;if(a!==undefined){if(Ext.isNumber(a)){c=b.query("button")[a]}else{if(Ext.isString(a)){d=a;if(d.match(b.initialAlphaNum)){c=b.down("#"+d)}if(!c){c=b.down(d)}}else{if(a.focus){c=a}}}}return c||b.el},onFocus:function(){var b=this,a;if((Ext.FocusManager&&Ext.FocusManager.enabled)||((a=b.getDefaultFocus())===b)){b.callParent(arguments)}else{a.focus()}},onShow:function(){var a=this;a.callParent(arguments);if(a.expandOnShow){a.expand(false)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);if(a.closeAction=="destroy"){this.destroy()}}else{a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}a.callParent(arguments)},onWindowResize:function(){var a=this,b;if(a.maximized){a.fitContainer()}else{b=a.getSizeModel();if(b.width.natural||b.height.natural){a.updateLayout()}a.doConstrain()}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var b=this,a=b.header,c=b.tools;if(a&&b.maximizable){a.suspendLayouts();c.maximize.hide();c.restore.hide();this.resumeHeaderLayout(true)}if(b.resizer){b.resizer.disable()}b.callParent(arguments)},afterExpand:function(){var c=this,b=c.header,d=c.tools,a;if(b){b.suspendLayouts();if(c.maximized){d.restore.show();a=true}else{if(c.maximizable){d.maximize.show();a=true}}this.resumeHeaderLayout(a)}if(c.resizer){c.resizer.enable()}c.callParent(arguments)},maximize:function(a){var d=this,c=d.header,e=d.tools,b;if(!d.maximized){d.expand(false);if(!d.hasSavedRestore){d.restoreSize=d.getSize();d.restorePos=d.getPosition(true)}if(c){c.suspendLayouts();if(e.maximize){e.maximize.hide();b=true}if(e.restore){e.restore.show();b=true}if(d.collapseTool){d.collapseTool.hide();b=true}d.resumeHeaderLayout(b)}d.maximized=true;d.el.disableShadow();if(d.dd){d.dd.disable();if(c){c.removeCls(c.indicateDragCls)}}if(d.resizer){d.resizer.disable()}d.el.addCls(Ext.baseCSSPrefix+"window-maximized");d.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");d.syncMonitorWindowResize();d.fitContainer(a=(a||!!d.animateTarget)?{callback:function(){d.fireEvent("maximize",d)}}:null);if(!a){d.fireEvent("maximize",d)}}return d},restore:function(a){var d=this,g=d.tools,c=d.header,e=d.restoreSize,b;if(d.maximized){d.hasSavedRestore=null;d.removeCls(Ext.baseCSSPrefix+"window-maximized");if(c){c.suspendLayouts();if(g.restore){g.restore.hide();b=true}if(g.maximize){g.maximize.show();b=true}if(d.collapseTool){d.collapseTool.show();b=true}d.resumeHeaderLayout(b)}d.maximized=false;e.x=d.restorePos[0];e.y=d.restorePos[1];d.setBox(e,a=(a||!!d.animateTarget)?{callback:function(){d.el.enableShadow(true);d.fireEvent("restore",d)}}:null);d.restorePos=d.restoreSize=null;if(d.dd){d.dd.enable();if(c){c.addCls(c.indicateDragCls)}}if(d.resizer){d.resizer.enable()}d.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");d.syncMonitorWindowResize();if(!a){d.el.enableShadow(true);d.fireEvent("restore",d)}}return d},syncMonitorWindowResize:function(){var b=this,a=b._monitoringResize,d=b.monitorResize||b.constrain||b.constrainHeader||b.maximized,c=b.hidden||b.destroying||b.isDestroyed;if(d&&!c){if(!a){Ext.EventManager.onWindowResize(b.onWindowResize,b,{delay:1});b._monitoringResize=true}}else{if(a){Ext.EventManager.removeResizeListener(b.onWindowResize,b);b._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}});Ext.define("Ext.form.Labelable",{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=="title"){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else{a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls(Ext.plainTableCls);a.addCls(a.formItemCls);a.lastActiveError="";a.addEvents("errorchange");a.enableBubble("errorchange")},trimLabelSeparator:function(){var c=this,d=c.labelSeparator,a=c.fieldLabel||"",b=a.substr(a.length-1);return b===d?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var c=this,d=c.labelSeparator,b=c.labelEl;c.fieldLabel=a;if(c.rendered){if(Ext.isEmpty(a)&&c.hideEmptyLabel){b.parent().setDisplayed("none")}else{if(d){a=c.trimLabelSeparator()+d}b.update(a);b.parent().setDisplayed("")}c.updateLayout()}},getInsertionRenderData:function(a,d){var b=d.length,c,e;while(b--){c=d[b];e=this[c];if(e){if(typeof e!="string"){if(!e.isTemplate){e=Ext.XTemplate.getTpl(this,c)}e=e.apply(a)}}a[c]=e||""}return a},getLabelableRenderData:function(){var b=this,a,c,d=b.labelAlign==="top";if(!Ext.form.Labelable.errorIconWidth){c=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"});Ext.form.Labelable.errorIconWidth=c.getWidth()+c.getMargin("l");c.remove()}a=Ext.copyTo({inFormLayout:b.ownerLayout&&b.ownerLayout.type==="form",inputId:b.getInputId(),labelOnLeft:!d,hideLabel:!b.hasVisibleLabel(),fieldLabel:b.getFieldLabel(),labelCellStyle:b.getLabelCellStyle(),labelCellAttrs:b.getLabelCellAttrs(),labelCls:b.getLabelCls(),labelStyle:b.getLabelStyle(),bodyColspan:b.getBodyColspan(),externalError:!b.autoFitErrors,errorMsgCls:b.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},b,b.labelableRenderProps,true);b.getInsertionRenderData(a,b.labelableInsertions);return a},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults);if(a.ownerLayout){a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")}},onRender:function(){var b=this,a,c,d={};if(b.extraMargins){a=b.el.getMargin();for(c in a){if(a.hasOwnProperty(c)){d["margin-"+c]=(a[c]+b.extraMargins[c])+"px"}}b.el.setStyle(d)}}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;if(!a.hasVisibleLabel()){return 0}return a.labelWidth+a.labelPad},getBodyColspan:function(){var a=this,b;if(a.msgTarget==="side"&&(!a.autoFitErrors||a.hasActiveError())){b=1}else{b=2}if(a.labelAlign!=="top"&&!a.hasVisibleLabel()){b++}return b},getLabelCls:function(){var a=this.labelCls+" "+Ext.dom.Element.unselectableCls,b=this.labelClsExtra;return b?a+" "+b:a},getLabelCellStyle:function(){var b=this,a=b.hideLabel||(!b.getFieldLabel()&&b.hideEmptyLabel);return a?"display:none;":""},getErrorMsgCls:function(){var b=this,a=(b.hideLabel||(!b.fieldLabel&&b.hideEmptyLabel));return b.errorMsgCls+(!a&&b.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var b=this,a=b.labelAlign,c="";if(a!=="top"){c='valign="top" halign="'+a+'" width="'+(b.labelWidth+b.labelPad)+'"'}return c+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var c=this,a=c.labelPad,b="";if(c.labelAlign!=="top"){if(c.labelWidth){b="width:"+c.labelWidth+"px;"}if(a){b+="margin-right:"+a+"px;"}}return b+(c.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var c=this,a=c.getActiveError(),b=!!a;if(a!==c.lastActiveError){c.fireEvent("errorchange",c,a);c.lastActiveError=a}if(c.rendered&&!c.isDestroyed&&!c.preventMark){c.el[b?"addCls":"removeCls"](c.invalidCls);c.getActionEl().dom.setAttribute("aria-invalid",b);if(c.errorEl){c.errorEl.dom.innerHTML=a}}},setFieldDefaults:function(a){var b;for(b in a){if(!this.hasOwnProperty(b)){this[b]=a[b]}}}});Ext.define("Ext.form.field.Field",{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value);a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.value(a,""))===String(Ext.value(b,""))},getSubmitData:function(){var b=this,a=null;if(!b.disabled&&b.submitValue&&!b.isFileUpload()){a={};a[b.getName()]=""+b.getValue()}return a},getModelData:function(){var b=this,a=null;if(!b.disabled&&!b.isFileUpload()){a={};a[b.getName()]=b.getValue()}return a},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var a=this,b=a.getValue(),c=a.lastValue;if(!a.isEqual(b,c)&&!a.isDestroyed){a.lastValue=b;a.fireEvent("change",a,b,c);a.onChange(b,c)}}},onChange:function(a,b){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var a=this;return !a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var b=this,a=b.isDirty();if(a!==b.wasDirty){b.fireEvent("dirtychange",b,a);b.onDirtyChange(a);b.wasDirty=a}},onDirtyChange:Ext.emptyFn,getErrors:function(a){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var b=this,a=b.isValid();if(a!==b.wasValid){b.wasValid=a;b.fireEvent("validitychange",b,a)}return a},batchChanges:function(b){try{this.suspendCheckChange++;b()}catch(a){throw a}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.layout.component.field.Field",{extend:Ext.layout.component.Auto,alias:"layout.field",type:"field",naturalSizingProp:"size",beginLayout:function(c){var a=this,b=a.owner;a.callParent(arguments);c.labelStrategy=a.getLabelStrategy();c.errorStrategy=a.getErrorStrategy();c.labelContext=c.getEl("labelEl");c.bodyCellContext=c.getEl("bodyEl");c.inputContext=c.getEl("inputEl");c.errorContext=c.getEl("errorEl");if(Ext.isIE7m&&Ext.isStrict&&c.inputContext){a.ieInputWidthAdjustment=c.inputContext.getPaddingInfo().width+c.inputContext.getBorderInfo().width}c.labelStrategy.prepare(c,b);c.errorStrategy.prepare(c,b)},beginLayoutCycle:function(c){var a=this,b=a.owner,g=c.widthModel,d=b[a.naturalSizingProp],e;a.callParent(arguments);if(g.shrinkWrap){a.beginLayoutShrinkWrap(c)}else{if(g.natural){if(typeof d=="number"&&!b.inputWidth){a.beginLayoutFixed(c,(e=d*6.5+20),"px")}else{a.beginLayoutShrinkWrap(c)}c.setWidth(e,false)}else{a.beginLayoutFixed(c,"100","%")}}},beginLayoutFixed:function(d,g,e){var c=d.target,a=c.inputEl,b=c.inputWidth;c.el.setStyle("table-layout","fixed");c.bodyEl.setStyle("width",g+e);if(a){if(b){a.setStyle("width",b+"px")}else{a.setStyle("width",c.stretchInputElFixed?"100%":"")}}d.isFixed=true},beginLayoutShrinkWrap:function(d){var c=d.target,a=c.inputEl,b=c.inputWidth;if(a&&a.dom){a.dom.removeAttribute("size");if(b){a.setStyle("width",b+"px")}else{a.setStyle("width","")}}c.el.setStyle("table-layout","auto");c.bodyEl.setStyle("width","")},finishedLayout:function(b){var a=this.owner;this.callParent(arguments);b.labelStrategy.finishedLayout(b,a);b.errorStrategy.finishedLayout(b,a)},calculateOwnerHeightFromContentHeight:function(b,a){return a},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var b=this,c=b.labelStrategies,a=b.owner.labelAlign;return c[a]||c.base},getErrorStrategy:function(){var a=this,c=a.owner,d=a.errorStrategies,b=c.msgTarget;return !c.preventMark&&Ext.isString(b)?(d[b]||d.elementId):d.none},labelStrategies:(function(){var a={prepare:function(e,d){var b=d.labelCls+"-"+d.labelAlign,c=d.labelEl;if(c){c.addCls(b)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(d){var c=d.labelContext,e=c.props,b=e.height;if(b===undefined){e.height=b=c.el.getHeight()}return b}},a),left:a,right:a}}()),errorStrategies:(function(){function g(h){var k=Ext.layout.component.field.Field.tip,j;if(k&&k.isVisible()){j=k.activeTarget;if(j&&j.el===h.getActionEl().dom){k.toFront(true)}}}var a=Ext.applyIf,c=Ext.emptyFn,d=Ext.baseCSSPrefix+"form-invalid-icon",e,b={prepare:function(k,j){var h=j.errorEl;if(h){h.setDisplayed(false)}},getHeight:function(){return 0},onFocus:c,finishedLayout:c};return{none:b,side:a({prepare:function(l,k){var j=k.errorEl,m=k.sideErrorCell,h=k.hasActiveError(),n;if(!e){e=(n=Ext.getBody().createChild({style:"position:absolute",cls:d})).getWidth();n.remove()}j.addCls(d);j.set({"data-errorqtip":k.getActiveError()||""});if(k.autoFitErrors){j.setDisplayed(h)}else{j.setVisible(h)}if(m&&k.autoFitErrors){m.setDisplayed(h)}k.bodyEl.dom.colSpan=k.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:g},b),under:a({prepare:function(l,k){var j=k.errorEl,h=Ext.baseCSSPrefix+"form-invalid-under";j.addCls(h);j.setDisplayed(k.hasActiveError())},getHeight:function(k){var j=0,h,l;if(k.target.hasActiveError()){h=k.errorContext;l=h.props;j=l.height;if(j===undefined){l.height=j=h.el.getHeight()}}return j}},b),qtip:a({prepare:function(j,h){Ext.layout.component.field.Field.initTip();h.getActionEl().dom.setAttribute("data-errorqtip",h.getActiveError()||"")},onFocus:g},b),title:a({prepare:function(j,h){h.getActionEl().dom.setAttribute("title",h.getActiveError()||"")}},b),elementId:a({prepare:function(j,h){var k=Ext.fly(h.msgTarget);if(k){k.dom.innerHTML=h.getActiveError()||"";k.setDisplayed(h.hasActiveError())}}},b)}}()),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}});Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:{labelable:Ext.form.Labelable,field:Ext.form.field.Field},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,stretchInputElFixed:true,initComponent:function(){var a=this;a.callParent();a.subTplData=a.subTplData||{};a.addEvents("specialkey","writeablechange");a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var c=this,d=c.inputType,b=c.getInputId(),a;a=Ext.apply({id:b,cmpId:c.id,name:c.name||b,disabled:c.disabled,readOnly:c.readOnly,value:c.getRawValue(),type:d,fieldCls:c.fieldCls,fieldStyle:c.getFieldStyle(),tabIdx:c.tabIndex,inputCls:c.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(d==="password"?"text":d)},c.subTplData);c.getInsertionRenderData(a,c.subTplInsertions);return a},applyRenderSelectors:function(){var a=this;a.callParent();a.addChildEls("inputEl");a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(c){var b=this,a=b.inputEl;if(a){a.applyStyles(c)}b.fieldStyle=c},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments);this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var b=this,a=null,c;if(!b.disabled&&b.submitValue&&!b.isFileUpload()){c=b.getSubmitValue();if(c!==null){a={};a[b.getName()]=c}}return a},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this,b=(a.inputEl?a.inputEl.getValue():Ext.value(a.rawValue,""));a.rawValue=b;return b},setRawValue:function(b){var a=this;b=Ext.value(a.transformRawValue(b),"");a.rawValue=b;if(a.inputEl){a.inputEl.dom.value=b}return b},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;a.callParent();if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var b=this,a=b.inputEl;b.callParent();if(a){a.dom.disabled=true;if(b.hasActiveError()){b.clearInvalid();b.needsValidateOnEnable=true}}},onEnable:function(){var b=this,a=b.inputEl;b.callParent();if(a){a.dom.disabled=false;if(b.needsValidateOnEnable){delete b.needsValidateOnEnable;b.forceValidation=true;b.isValid();delete b.forceValidation}}},setReadOnly:function(c){var b=this,a=b.inputEl;c=!!c;b[c?"addCls":"removeCls"](b.readOnlyCls);b.readOnly=c;if(a){a.dom.readOnly=c}else{if(b.rendering){b.setReadOnlyOnBoxReady=true}}b.fireEvent("writeablechange",b,c)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))}},initEvents:function(){var h=this,g=h.inputEl,k,j,d=h.checkChangeEvents,a,b=d.length,c;if(g){h.mon(g,Ext.EventManager.getKeyEvent(),h.fireKey,h);k=new Ext.util.DelayedTask(h.checkChange,h);h.onChangeEvent=j=function(){k.delay(h.checkChangeBuffer)};for(a=0;a<b;a++){c=d[a];if(c==="propertychange"){h.usesPropertychange=true}h.mon(g,c,j)}}h.callParent()},doComponentLayout:function(){var c=this,b=c.inputEl,e=c.usesPropertychange,a="propertychange",d=c.onChangeEvent;if(e){c.mun(b,a,d)}c.callParent(arguments);if(e){c.mon(b,a,d)}},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var b=this,a=b.disabled,c=b.forceValidation||!a;return c?b.validateValue(b.processRawValue(b.getRawValue())):a},validateValue:function(d){var c=this,a=c.getErrors(d),b=Ext.isEmpty(a);if(!c.preventMark){if(b){c.clearInvalid()}else{c.markInvalid(a)}}return b},markInvalid:function(b){var c=this,d=c.getActiveError(),a;c.setActiveErrors(Ext.Array.from(b));a=c.getActiveError();if(d!==a){c.setError(a)}},clearInvalid:function(){var b=this,a=b.hasActiveError();delete b.needsValidateOnEnable;b.unsetActiveError();if(a){b.setError("")}},setError:function(a){var b=this,c=b.msgTarget,d;if(b.rendered){if(c=="title"||c=="qtip"){if(b.rendered){d=c=="qtip"?"data-errorqtip":"title"}b.getActionEl().dom.setAttribute(d,a||"")}else{b.updateLayout()}}},renderActiveError:function(){var b=this,a=b.hasActiveError();if(b.inputEl){b.inputEl[a?"addCls":"removeCls"](b.invalidCls+"-field")}b.mixins.labelable.renderActiveError.call(b)},getActionEl:function(){return this.inputEl||this.el}});Ext.define("Ext.form.field.VTypes",(function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(e){return c.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return d.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return a.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return b.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()));Ext.define("Ext.layout.component.field.Text",{extend:Ext.layout.component.field.Field,alias:"layout.textfield",type:"textfield",canGrowWidth:true,beginLayoutCycle:function(a){this.callParent(arguments);if(a.heightModel.shrinkWrap){a.inputContext.el.setStyle("height","")}},measureContentWidth:function(j){var e=this,h=e.owner,l=e.callParent(arguments),b=j.inputContext,c,k,a,d,g;if(h.grow&&e.canGrowWidth&&!j.state.growHandled){c=h.inputEl;k=Ext.util.Format.htmlEncode(c.dom.value||(h.hasFocus?"":h.emptyText)||"");k+=h.growAppend;a=c.getTextWidth(k)+b.getFrameInfo().width;d=h.growMax;g=Math.min(d,l);d=Math.max(h.growMin,d,g);a=Ext.Number.constrain(a,h.growMin,d);b.setWidth(a);j.state.growHandled=true;b.domBlock(e,"width");l=NaN}return l},publishInnerHeight:function(b,a){b.inputContext.setHeight(a-this.measureLabelErrorHeight(b))},beginLayoutFixed:function(c,e,d){var b=this,a=b.ieInputWidthAdjustment;if(a){b.adjustIEInputPadding(c);if(d==="px"){e-=a}}b.callParent(arguments)},adjustIEInputPadding:function(a){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}});Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:false,initComponent:function(){var a=this;if(a.allowOnlyWhitespace===false){a.allowBlank=false}a.callParent();a.addEvents("autosize","keydown","keyup","keypress");a.addStateEvents("change");a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var b=this,a=b.inputEl;b.callParent();if(b.selectOnFocus||b.emptyText){b.mon(a,"mousedown",b.onMouseDown,b)}if(b.maskRe||(b.vtype&&b.disableKeyFilter!==true&&(b.maskRe=Ext.form.field.VTypes[b.vtype+"Mask"]))){b.mon(a,"keypress",b.filterKeys,b)}if(b.enableKeyEvents){b.mon(a,{scope:b,keyup:b.onKeyUp,keydown:b.onKeyDown,keypress:b.onKeyPress})}},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){this.callParent(arguments);this.autoSize()},getSubTplData:function(){var c=this,e=c.getRawValue(),a=c.emptyText&&e.length<1,b=c.maxLength,d;if(c.enforceMaxLength){if(b===Number.MAX_VALUE){b=undefined}}else{b=undefined}if(a){if(Ext.supports.Placeholder){d=c.emptyText}else{e=c.emptyText;c.valueContainsPlaceholder=true}}return Ext.apply(c.callParent(),{maxLength:b,readOnly:c.readOnly,placeholder:d,value:e,fieldCls:c.fieldCls+((a&&(d||e))?" "+c.emptyCls:"")+(c.allowBlank?"":" "+c.requiredCls)})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(a){var b=this;if(!b.hasFocus){b.mon(b.inputEl,"mouseup",Ext.emptyFn,b,{single:true,preventDefault:true})}},processRawValue:function(d){var a=this,c=a.stripCharsRe,b;if(c){b=d.replace(c,"");if(b!==d){a.setRawValue(b);d=b}}return d},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var c=this,a=c.emptyText,b;if(c.rendered&&a){b=c.getRawValue().length<1&&!c.hasFocus;if(Ext.supports.Placeholder){c.inputEl.dom.placeholder=a}else{if(b){c.setRawValue(a);c.valueContainsPlaceholder=true}}if(b){c.inputEl.addCls(c.emptyCls)}c.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable="on"}}},beforeFocus:function(){var d=this,b=d.inputEl,a=d.emptyText,c;d.callParent(arguments);if((a&&!Ext.supports.Placeholder)&&(b.dom.value===d.emptyText&&d.valueContainsPlaceholder)){d.setRawValue("");c=true;b.removeCls(d.emptyCls);d.valueContainsPlaceholder=false}else{if(Ext.supports.Placeholder){d.inputEl.removeCls(d.emptyCls)}}if(d.selectOnFocus||c){if(Ext.isWebKit){if(!d.inputFocusTask){d.inputFocusTask=new Ext.util.DelayedTask(d.focusInput,d)}d.inputFocusTask.delay(1)}else{b.dom.select()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(){var a=this;a.callParent(arguments);if(a.emptyText){a.autoSize()}},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(b){if(b.ctrlKey&&!b.altKey){return}var c=b.getKey(),a=String.fromCharCode(b.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(b.isNavKeyPress()||c===b.BACKSPACE||(c===b.DELETE&&b.button===-1))){return}if((!Ext.isGecko&&!Ext.isOpera)&&b.isSpecialKey()&&!a){return}if(!this.maskRe.test(a)){b.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);if(a.hasOwnProperty("value")){this.setValue(a.value)}},getRawValue:function(){var a=this,b=a.callParent();if(b===a.emptyText&&a.valueContainsPlaceholder){b=""}return b},setValue:function(c){var b=this,a=b.inputEl;if(a&&b.emptyText&&!Ext.isEmpty(c)){a.removeCls(b.emptyCls);b.valueContainsPlaceholder=false}b.callParent(arguments);b.applyEmptyText();return b},getErrors:function(k){var d=this,a=d.callParent(arguments),j=d.validator,l=d.vtype,m=Ext.form.field.VTypes,g=d.regex,b=Ext.String.format,e,h,c;k=k||d.processRawValue(d.getRawValue());if(Ext.isFunction(j)){e=j.call(d,k);if(e!==true){a.push(e)}}h=d.allowOnlyWhitespace?k:Ext.String.trim(k);if(h.length<1||(k===d.emptyText&&d.valueContainsPlaceholder)){if(!d.allowBlank){a.push(d.blankText)}if(!d.validateBlank){return a}c=true}if(!c&&k.length<d.minLength){a.push(b(d.minLengthText,d.minLength))}if(k.length>d.maxLength){a.push(b(d.maxLengthText,d.maxLength))}if(l){if(!m[l](k,d)){a.push(d.vtypeText||m[l+"Text"])}}if(g&&!g.test(k)){a.push(d.regexText||d.invalidText)}return a},selectText:function(g,c){var d=this,j=d.getRawValue(),a=true,b=d.inputEl.dom,h,e;if(j.length>0){g=g===h?0:g;c=c===h?j.length:c;if(b.setSelectionRange){b.setSelectionRange(g,c)}else{if(b.createTextRange){e=b.createTextRange();e.moveStart("character",g);e.moveEnd("character",c-j.length);e.select()}}a=Ext.isGecko||Ext.isOpera}if(a){d.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}},afterComponentLayout:function(){var a=this,b;a.callParent(arguments);if(a.autoSizing){b=a.inputEl.getWidth();if(b!==a.lastInputWidth){a.fireEvent("autosize",a,b);a.lastInputWidth=b;delete a.autoSizing}}},onDestroy:function(){var a=this;a.callParent();if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}}});Ext.define("Ext.layout.component.field.TextArea",{extend:Ext.layout.component.field.Text,alias:"layout.textareafield",type:"textareafield",canGrowWidth:false,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(k){var h=this,j=h.owner,c=h.callParent(arguments),d,e,l,g,b,a;if(j.grow&&!k.state.growHandled){d=k.inputContext;e=j.inputEl;b=e.getWidth(true);l=Ext.util.Format.htmlEncode(e.dom.value)||"&#160;";l+=j.growAppend;l=l.replace(/\n/g,"<br/>");a=Ext.util.TextMetrics.measure(e,l,b).height+d.getBorderInfo().height+d.getPaddingInfo().height;a=Ext.Number.constrain(a,j.growMin,j.growMax);d.setHeight(a);k.state.growHandled=true;d.domBlock(h,"height");c=NaN}return c}});Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var b=this,a=b.getFieldStyle(),c=b.callParent();if(b.grow){if(b.preventScrollbars){c.fieldStyle=(a||"")+";overflow:hidden;height:"+b.growMin+"px"}}Ext.applyIf(c,{cols:b.cols,rows:b.rows});return c},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on("paste",a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){if(a&&typeof a==="string"){a=a.replace(this.returnRe,"")}return a},onPaste:function(a){var b=this;if(!b.pasteTask){b.pasteTask=new Ext.util.DelayedTask(b.pasteCheck,b)}b.pasteTask.delay(1)},pasteCheck:function(){var b=this,c=b.getValue(),a=b.maxLength;if(c.length>a){c=c.substr(0,a);b.setValue(c)}},fireKey:function(a){var c=this,b=a.getKey(),d;if(a.isSpecialKey()&&(c.enterIsSpecial||(b!==a.ENTER||a.hasModifier()))){c.fireEvent("specialkey",c,a)}if(c.needsMaxCheck&&b!==a.BACKSPACE&&b!==a.DELETE&&!a.isNavKeyPress()&&!c.isCutCopyPasteSelectAll(a,b)){d=c.getValue();if(d.length>=c.maxLength){a.stopEvent()}}},isCutCopyPasteSelectAll:function(a,b){if(a.ctrlKey){return b===a.A||b===a.C||b===a.V||b===a.X}return false},autoSize:function(){var b=this,a;if(b.grow&&b.rendered){b.updateLayout();a=b.inputEl.getHeight();if(a!==b.lastInputHeight){b.fireEvent("autosize",b,a);b.lastInputHeight=a}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}this.callParent()}});Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:true,disableFormats:true}],readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isDirty:function(){return false},isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;b=Ext.value(b,"");a.rawValue=b;if(a.rendered){a.inputEl.dom.innerHTML=a.getDisplayValue();a.updateLayout()}return b},getDisplayValue:function(){var b=this,c=this.getRawValue(),a;if(b.renderer){a=b.renderer.call(b.scope||b,c,b)}else{a=b.htmlEncode?Ext.util.Format.htmlEncode(c):c}return a},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,beginLayoutCycle:function(j){var h=this,d=0,a,b,c,e,g,k;h.callParent(arguments);c=j.childItems;g=c.length;for(e=0;e<g;++e){b=c[e];a=b.target.anchorSpec;if(a){if(b.widthModel.calculated&&a.right){d|=1}if(b.heightModel.calculated&&a.bottom){d|=2}if(d==3){break}}}j.anchorDimensions=d},calculateItems:function(p,g){var o=this,d=p.childItems,n=d.length,h=g.gotHeight,j=g.gotWidth,q=g.height,r=g.width,m=(j?1:0)|(h?2:0),a=p.anchorDimensions,b,c,e,k,l,s;if(!a){return true}for(l=0;l<n;l++){c=d[l];e=c.getMarginInfo();b=c.target.anchorSpec;if(j&&c.widthModel.calculated){s=b.right(r)-e.width;s=o.adjustWidthAnchor(s,c);c.setWidth(s)}if(h&&c.heightModel.calculated){k=b.bottom(q)-e.height;k=o.adjustHeightAnchor(k,c);c.setHeight(k)}}return(m&a)===a},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(b,g,c){if(b&&b!="none"){var e=this.anchorFactory,d;if(this.parseAnchorRE.test(b)){return e.standard(c-g)}if(b.indexOf("%")!=-1){return e.ratio(parseFloat(b.replace("%",""))*0.01)}d=parseInt(b,10);if(!isNaN(d)){return e.offset(d)}}return null},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b},configureItem:function(e){var g=this,h=g.owner,a=e.anchor,c,d,b;g.callParent(arguments);if(!e.anchor&&e.items&&!Ext.isNumber(e.width)&&!(Ext.isIE6&&Ext.isStrict)){e.anchor=a=g.defaultAnchor}if(h.anchorSize){if(typeof h.anchorSize=="number"){d=h.anchorSize}else{d=h.anchorSize.width;b=h.anchorSize.height}}else{d=h.initialConfig.width;b=h.initialConfig.height}if(a){c=a.split(" ");e.anchorSpec={right:g.parseAnchor(c[0],e.initialConfig.width,d),bottom:g.parseAnchor(c[1],e.initialConfig.height,b)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(b){var a=b.anchorSpec,c="$",d=this.sizePolicy,e;if(a){e=this.owner.getSizeModel();if(a.right&&!e.width.shrinkWrap){d=d.r}if(a.bottom&&!e.height.shrinkWrap){c="b"}}return d[c]}});Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(b){var a=this.buttonIds[b];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(a){var c=this,d,b;if(c.cfg.prompt||c.cfg.multiline){if(c.cfg.multiline){b=c.textArea}else{b=c.textField}d=b.getValue();b.reset()}c.hide();c.userCallback(a.itemId,d,c.cfg)},hide:function(){var b=this,a=b.cfg.cls;b.dd.endDrag();b.progressBar.reset();if(a){b.removeCls(a)}b.callParent(arguments)},constructor:function(a){var b=this;b.callParent(arguments);b.minWidth=b.defaultMinWidth=(b.minWidth||b.defaultMinWidth);b.maxWidth=b.defaultMaxWidth=(b.maxWidth||b.defaultMaxWidth);b.minHeight=b.defaultMinHeight=(b.minHeight||b.defaultMinHeight);b.maxHeight=b.defaultMaxHeight=(b.maxHeight||b.defaultMaxHeight)},initComponent:function(c){var e=this,a=e.id,d,b;e.title="&#160;";e.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[e.iconComponent=new Ext.Component({width:e.iconWidth,height:e.iconHeight}),e.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[e.msg=new Ext.form.field.Display({id:a+"-displayfield",cls:e.baseCls+"-text"}),e.textField=new Ext.form.field.Text({id:a+"-textfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:e.onPromptKey,scope:e}}),e.textArea=new Ext.form.field.TextArea({id:a+"-textarea",anchor:"100%",height:75})]})]});e.progressBar=new Ext.ProgressBar({id:a+"-progressbar",margins:"0 10 10 10"});e.items=[e.topContainer,e.progressBar];e.msgButtons=[];for(d=0;d<4;d++){b=e.makeButton(d);e.msgButtons[b.itemId]=b;e.msgButtons.push(b)}e.bottomTb=new Ext.toolbar.Toolbar({id:a+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[e.msgButtons[0],e.msgButtons[1],e.msgButtons[2],e.msgButtons[3]]});e.dockedItems=[e.bottomTb];e.on("close",e.onClose,e);e.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(c,a){var b=this;if(a.keyCode===a.RETURN||a.keyCode===10){if(b.msgButtons.ok.isVisible()){b.msgButtons.ok.handler.call(b,b.msgButtons.ok)}else{if(b.msgButtons.yes.isVisible()){b.msgButtons.yes.handler.call(b,b.msgButtons.yes)}}}},reconfigure:function(b){var g=this,a=0,d=true,k=g.buttonText,m=g.resizer,n,q,c,e,o,p,h,l,j;g.updateButtonText();b=b||{};g.cfg=b;if(b.width){q=b.width}if(b.height){c=b.height}g.minWidth=b.minWidth||g.defaultMinWidth;g.maxWidth=b.maxWidth||g.defaultMaxWidth;g.minHeight=b.minHeight||g.defaultMinHeight;g.maxHeight=b.maxHeight||g.defaultMaxHeight;if(m){n=m.resizeTracker;m.minWidth=n.minWidth=g.minWidth;m.maxWidth=n.maxWidth=g.maxWidth;m.minHeight=n.minHeight=g.minHeight;m.maxHeight=n.maxHeight=g.maxHeight}delete g.defaultFocus;if(b.defaultFocus){g.defaultFocus=b.defaultFocus}g.animateTarget=b.animateTarget||undefined;g.modal=b.modal!==false;g.setTitle(b.title||"");g.setIconCls(b.iconCls||"");if(Ext.isObject(b.buttons)){g.buttonText=b.buttons;a=0}else{g.buttonText=b.buttonText||g.buttonText;a=Ext.isNumber(b.buttons)?b.buttons:0}a=a|g.updateButtonText();g.buttonText=k;Ext.suspendLayouts();delete g.width;delete g.height;if(q||c){if(q){g.setWidth(q)}if(c){g.setHeight(c)}}g.hidden=false;if(!g.rendered){g.render(Ext.getBody())}g.closable=b.closable!==false&&!b.wait;g.header.child("[type=close]").setVisible(g.closable);if(!b.title&&!g.closable&&!b.iconCls){g.header.hide()}else{g.header.show()}g.liveDrag=!b.proxyDrag;g.userCallback=Ext.Function.bind(b.callback||b.fn||Ext.emptyFn,b.scope||Ext.global);g.setIcon(b.icon,b.iconWidth,b.iconHeight);h=g.msg;if(b.msg){h.setValue(b.msg);h.show()}else{h.hide()}o=g.textArea;p=g.textField;if(b.prompt||b.multiline){g.multiline=b.multiline;if(b.multiline){o.setValue(b.value);o.setHeight(b.defaultTextHeight||g.defaultTextHeight);o.show();p.hide();g.defaultFocus=o}else{p.setValue(b.value);o.hide();p.show();g.defaultFocus=p}}else{o.hide();p.hide()}l=g.progressBar;if(b.progress||b.wait){l.show();g.updateProgress(0,b.progressText);if(b.wait===true){l.wait(b.waitConfig)}}else{l.hide()}j=g.msgButtons;for(e=0;e<4;e++){if(a&Math.pow(2,e)){if(!g.defaultFocus){g.defaultFocus=j[e]}j[e].show();d=false}else{j[e].hide()}}if(d){g.bottomTb.hide()}else{g.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var e=this,d=e.buttonText,c=0,b,a;for(b in d){if(d.hasOwnProperty(b)){a=e.msgButtons[b];if(a){if(e.cfg&&e.cfg.buttonText){c=c|Math.pow(2,Ext.Array.indexOf(e.buttonIds,b))}if(a.text!=d[b]){a.setText(d[b])}}}}return c},show:function(a){var b=this,c;if(Ext.AbstractComponent.layoutSuspendCount){Ext.on({resumelayouts:function(){b.show(a)},single:true});return b}b.reconfigure(a);if(a.cls){b.addCls(a.cls)}c=b.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");b.preventFocusOnActivate=!c.length;b.hidden=true;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(c,g,b){var e=this,d=e.iconComponent,a=e.messageIconCls;if(a){d.removeCls(a)}if(c){d.show();d.setSize(g||e.iconWidth,b||e.iconHeight);d.addCls(Ext.baseCSSPrefix+"dlg-icon");d.addCls(e.messageIconCls=c)}else{d.removeCls(Ext.baseCSSPrefix+"dlg-icon");d.hide()}return e},updateProgress:function(c,b,a){this.progressBar.updateProgress(c,b);if(a){this.updateText(a)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(a,c,b,d){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,msg:c,buttons:this.YESNO,callback:b,scope:d}}return this.show(a)},prompt:function(a,c,b,e,d,g){if(Ext.isString(a)){a={prompt:true,title:a,minWidth:this.minPromptWidth,msg:c,buttons:this.OKCANCEL,callback:b,scope:e,multiline:d,value:g}}return this.show(a)},wait:function(a,c,b){if(Ext.isString(a)){a={title:c,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:b}}return this.show(a)},alert:function(a,c,b,d){if(Ext.isString(a)){a={title:a,msg:c,buttons:this.OK,fn:b,scope:d,minWidth:this.minWidth}}return this.show(a)},progress:function(a,b,c){if(Ext.isString(a)){a={title:a,msg:b,progress:true,progressText:c}}return this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this()});Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",constructor:function(c,a){var b=this,d;b.owner=c;b.checkValidityTask=new Ext.util.DelayedTask(b.checkValidity,b);b.checkDirtyTask=new Ext.util.DelayedTask(b.checkDirty,b);b.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:b,addHandler:b.onFieldAdd,removeHandler:b.onFieldRemove});b.monitor.bind(c);Ext.apply(b,a);if(Ext.isString(b.paramOrder)){b.paramOrder=b.paramOrder.split(/[\s,|]/)}d=b.reader;if(d&&!d.isReader){if(typeof d==="string"){d={type:d}}b.reader=Ext.createByAlias("reader."+d.type,d)}d=b.errorReader;if(d&&!d.isReader){if(typeof d==="string"){d={type:d}}b.errorReader=Ext.createByAlias("reader."+d.type,d)}b.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");b.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var a=this,b=a.monitor;if(b){b.unbind();a.monitor=null}a.clearListeners();a.checkValidityTask.cancel();a.checkDirtyTask.cancel()},onFieldAdd:function(a){var b=this;b.mon(a,"validitychange",b.checkValidityDelay,b);b.mon(a,"dirtychange",b.checkDirtyDelay,b);if(b.initialized){b.checkValidityDelay()}},onFieldRemove:function(a){var b=this;b.mun(a,"validitychange",b.checkValidityDelay,b);b.mun(a,"dirtychange",b.checkDirtyDelay,b);if(b.initialized){b.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection();a.addAll(this.owner.query("[formBind]"))}return a},hasInvalidField:function(){return !!this.getFields().findBy(function(a){var c=a.preventMark,b;a.preventMark=true;b=a.isValid();a.preventMark=c;return !b})},isValid:function(){var b=this,a;Ext.suspendLayouts();a=b.getFields().filterBy(function(c){return !c.validate()});Ext.resumeLayouts(true);return a.length<1},checkValidity:function(){var a=this,b=!a.hasInvalidField();if(b!==a.wasValid){a.onValidityChange(b);a.fireEvent("validitychange",a,b);a.wasValid=b}},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(g){var a=this.getBoundItems(),e,c,d,b;if(a){e=a.items;d=e.length;for(c=0;c<d;c++){b=e[c];if(b.disabled===g){b.setDisabled(!g)}}}},isDirty:function(){return !!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.wasDirty=a}},hasUpload:function(){return !!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){if(Ext.isString(a)){a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this}))}if(this.fireEvent("beforeaction",this,a)!==false){this.beforeAction(a);Ext.defer(a.run,100,a)}return this},submit:function(c){c=c||{};var b=this,a;if(c.standardSubmit||b.standardSubmit){a="standardsubmit"}else{a=b.api?"directsubmit":"submit"}return b.doAction(a,c)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(g){g=g||this._record;if(!g){return this}var a=g.fields.items,h=this.getFieldValues(),e={},b=0,c=a.length,d;for(;b<c;++b){d=a[b].name;if(h.hasOwnProperty(d)){e[d]=h[d]}}g.beginEdit();g.set(e);g.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(a){var h=this,j=a.waitMsg,g=Ext.baseCSSPrefix+"mask-loading",d=h.getFields().items,b,e=d.length,c,k;for(b=0;b<e;b++){c=d[b];if(c.isFormField&&c.syncValue){c.syncValue()}}if(j){k=h.waitMsgTarget;if(k===true){h.owner.el.mask(j,g)}else{if(k){k=h.waitMsgTarget=Ext.get(k);k.mask(j,g)}else{h.floatingAncestor=h.owner.up("[floating]");if(h.floatingAncestor){h.savePreventFocusOnActivate=h.floatingAncestor.preventFocusOnActivate;h.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(j,a.waitTitle||h.waitTitle)}}}},afterAction:function(a,d){var b=this;if(a.waitMsg){var c=Ext.MessageBox,e=b.waitMsgTarget;if(e===true){b.owner.el.unmask()}else{if(e){e.unmask()}else{c.hide()}}}if(b.floatingAncestor){b.floatingAncestor.preventFocusOnActivate=b.savePreventFocusOnActivate}if(d){if(a.reset){b.reset()}Ext.callback(a.success,a.scope||a,[b,a]);b.fireEvent("actioncomplete",b,a)}else{Ext.callback(a.failure,a.scope||a,[b,a]);b.fireEvent("actionfailed",b,a)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(d){var j=this,a,b,c,k,g;function h(l,m){var e=j.findField(l);if(e){e.markInvalid(m)}}if(Ext.isArray(d)){b=d.length;for(a=0;a<b;a++){c=d[a];h(c.id,c.msg)}}else{if(d instanceof Ext.data.Errors){b=d.items.length;for(a=0;a<b;a++){c=d.items[a];h(c.field,c.message)}}else{for(g in d){if(d.hasOwnProperty(g)){k=d[g];h(g,k,d)}}}}return this},setValues:function(g){var b=this,d,h,e,a;function c(k,l){var j=b.findField(k);if(j){j.setValue(l);if(b.trackResetOnLoad){j.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(g)){h=g.length;for(d=0;d<h;d++){e=g[d];c(e.id,e.value)}}else{Ext.iterate(g,c)}Ext.resumeLayouts(true);return this},getValues:function(a,d,k,n){var p={},h=this.getFields().items,e,j=h.length,l=Ext.isArray,g,c,o,b,m;for(e=0;e<j;e++){g=h[e];if(!d||g.isDirty()){c=g[n?"getModelData":"getSubmitData"](k);if(Ext.isObject(c)){for(m in c){if(c.hasOwnProperty(m)){o=c[m];if(k&&o===""){o=g.emptyText||""}if(p.hasOwnProperty(m)){b=p[m];if(!l(b)){b=p[m]=[b]}if(l(o)){p[m]=b.concat(o)}else{b.push(o)}}else{p[m]=o}}}}}}if(a){p=Ext.Object.toQueryString(p)}return p},getFieldValues:function(a){return this.getValues(false,a,false,true)},clearInvalid:function(){Ext.suspendLayouts();var d=this,b=d.getFields().items,a,c=b.length;for(a=0;a<c;a++){b[a].clearInvalid()}Ext.resumeLayouts(true);return d},reset:function(e){Ext.suspendLayouts();var d=this,b=d.getFields().items,a,c=b.length;for(a=0;a<c;a++){b[a].reset()}Ext.resumeLayouts(true);if(e===true){delete d._record}return d},applyToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.apply(b[a],d)}return this},applyIfToFields:function(d){var b=this.getFields().items,a,c=b.length;for(a=0;a<c;a++){Ext.applyIf(b[a],d)}return this}});Ext.define("Ext.form.FieldAncestor",{xhooks:{initHierarchyState:function(a){if(this.fieldDefaults){if(a.fieldDefaults){a.fieldDefaults=Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults)}else{a.fieldDefaults=this.fieldDefaults}}}},initFieldAncestor:function(){var a=this;a.addEvents("fieldvaliditychange","fielderrorchange");a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(a){var b=this;b.mon(a,"errorchange",b.handleFieldErrorChange,b);b.mon(a,"validitychange",b.handleFieldValidityChange,b)},onChildFieldRemove:function(a){var b=this;b.mun(a,"errorchange",b.handleFieldErrorChange,b);b.mun(a,"validitychange",b.handleFieldValidityChange,b)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(a,b){var c=this;if(a!==c){c.fireEvent("fieldvaliditychange",c,a,b);c.onFieldValidityChange(a,b)}},handleFieldErrorChange:function(b,a){var c=this;if(b!==c){c.fireEvent("fielderrorchange",c,b,a);c.onFieldErrorChange(b,a)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.field.Field,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(b){var a=this.owner;this.callParent(arguments);b.hasRawContent=true;a.bodyEl.setStyle("height","");a.containerEl.setStyle("height","");b.containerElContext=b.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(c,d){var a=c.bodyCellContext,b=a.el.getWidth();a.setWidth(b,false);c.containerElContext.setWidth(b,false)},publishInnerHeight:function(d,c){var a=d.bodyCellContext,b=d.containerElContext;c-=this.measureLabelErrorHeight(d);a.setHeight(c);b.setHeight(c)}});Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();a.callParent();a.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(a){var b=this;if(Ext.isGecko&&b.layout.type==="absolute"&&!b.hideLabel&&b.labelAlign!=="top"){a.x+=(b.labelWidth+b.labelPad)}b.callParent(arguments);if(b.combineLabels){a.oldHideLabel=a.hideLabel;a.hideLabel=true}b.updateLabel()},onRemove:function(b,a){var c=this;c.callParent(arguments);if(!a){if(c.combineLabels){b.hideLabel=b.oldHideLabel}c.updateLabel()}},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){var b=this,a=b.callParent();a.containerElCls=b.containerElCls;return Ext.applyIf(a,b.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";if(!a&&this.combineLabels){a=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)}return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var b=this,c=b.getTpl("fieldSubTpl"),a;if(!c.renderContent){b.setupRenderTpl(c)}a=c.apply(b.getSubTplData());return a},updateLabel:function(){var b=this,a=b.labelEl;if(a){b.setFieldLabel(b.getFieldLabel())}},onFieldErrorChange:function(b,a){if(this.combineErrors){var d=this,g=d.getActiveError(),c=Ext.Array.filter(d.query("[isFormField]"),function(h){return h.hasActiveError()}),e=d.getCombinedErrors(c);if(e){d.setActiveErrors(e)}else{d.unsetActiveError()}if(g!==d.getActiveError()){d.doComponentLayout()}}},getCombinedErrors:function(l){var g=[],h,k=l.length,j,c,b,d,e,m;for(h=0;h<k;h++){j=l[h];c=j.getActiveErrors();d=c.length;for(b=0;b<d;b++){e=c[b];m=j.getFieldLabel();g.push((m?m+": ":"")+e)}}return g},getTargetEl:function(){return this.containerEl},applyTargetCls:function(b){var a=this.containerElCls;this.containerElCls=a?a+" "+b:b}});Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(k){var h=this,b,j,e,m,c,l=0,d=0,a=h.autoFlex,g=h.innerCt.dom.style;h.callParent(arguments);b=h.columnNodes;k.innerCtContext=k.getEl("innerCt",h);if(!k.widthModel.shrinkWrap){j=b.length;if(h.columnsArray){for(e=0;e<j;e++){m=h.owner.columns[e];if(m<1){l+=m;d++}}for(e=0;e<j;e++){m=h.owner.columns[e];if(m<1){c=((m/l)*100)+"%"}else{c=m+"px"}b[e].style.width=c}}else{for(e=0;e<j;e++){c=a?(1/j*100)+"%":"";b[e].style.width=c;d++}}if(!d){g.tableLayout="fixed";g.width=""}else{if(d<j){g.tableLayout="fixed";g.width="100%"}else{g.tableLayout="auto";if(a){g.width="100%"}else{g.width=""}}}}else{g.tableLayout="auto";g.width=""}},cacheElements:function(){var a=this;a.callParent();a.rowEl=a.innerCt.down("tr");a.columnNodes=a.rowEl.dom.childNodes},calculate:function(c){var b=this,g,j,a,d,e,h;if(!c.getDomProp("containerChildrenSizeDone")){b.done=false}else{g=c.innerCtContext;j=c.widthModel.shrinkWrap;a=c.heightModel.shrinkWrap;d=a||j;e=g.el.dom;h=d&&g.getPaddingInfo();if(j){c.setContentWidth(e.offsetWidth+h.width,true)}if(a){c.setContentHeight(e.offsetHeight+h.height,true)}}},doRenderColumn:function(k,m,b){var j=m.$layout,l=j.owner,a=m.columnCount,h=l.items.items,e=h.length,d,g,n,c,o;if(l.vertical){n=Math.ceil(e/a);g=b*n;e=Math.min(e,g+n);c=1}else{g=b;c=a}for(;g<e;g+=c){d=h[g];j.configureItem(d);o=d.getRenderTree();Ext.DomHelper.generateMarkup(o,k)}},getColumnCount:function(){var a=this,b=a.owner,c=b.columns;if(a.columnsArray){return c.length}if(Ext.isNumber(c)){return c}return b.items.length},getItemSizePolicy:function(a){return this.autoSizePolicy},getRenderData:function(){var j=this,e=j.callParent(),k=j.owner,h,c=j.getColumnCount(),m,b,d,a=j.autoFlex,l=0,g=0;if(j.columnsArray){for(h=0;h<c;h++){m=j.owner.columns[h];if(m<1){l+=m;g++}}}e.colCls=k.groupCls;e.columnCount=c;e.columns=[];for(h=0;h<c;h++){b=(e.columns[h]={});if(j.columnsArray){m=j.owner.columns[h];if(m<1){d=((m/l)*100)+"%"}else{d=m+"px"}b.style="width:"+d}else{b.style="width:"+(1/c*100)+"%";g++}}e.tableStyle=!g?"table-layout:fixed;":(g<c)?"table-layout:fixed;width:100%":(a)?"table-layout:auto;width:100%":"table-layout:auto;";return e},initLayout:function(){var a=this,b=a.owner;a.columnsArray=Ext.isArray(b.columns);a.autoColumns=!b.columns||b.columns==="auto";a.vertical=b.vertical;a.callParent()},isValidParent:function(){return true},setupRenderTpl:function(a){this.callParent(arguments);a.renderColumn=this.doRenderColumn},renderChildren:function(){var b=this,a=b.owner.items.generation;if(b.lastOwnerItemsGeneration!==a){b.lastOwnerItemsGeneration=a;b.renderItems(b.getLayoutItems())}},renderItems:function(g){var h=this,e=g.length,c,d,j,a,k,b;if(e){Ext.suspendLayouts();if(h.autoColumns){h.addMissingColumns(e)}a=h.columnNodes.length;j=Math.ceil(e/a);for(c=0;c<e;c++){d=g[c];k=h.getRenderRowIndex(c,j,a);b=h.getRenderColumnIndex(c,j,a);if(!d.rendered){h.renderItem(d,k,b)}else{if(!h.isItemAtPosition(d,k,b)){h.moveItem(d,k,b)}}}if(h.autoColumns){h.removeExceedingColumns(e)}Ext.resumeLayouts(true)}},isItemAtPosition:function(b,c,a){return b.el.dom===this.getNodeAt(c,a)},getRenderColumnIndex:function(b,c,a){if(this.vertical){return Math.floor(b/c)}else{return b%a}},getRenderRowIndex:function(b,d,a){var c=this;if(c.vertical){return b%d}else{return Math.floor(b/a)}},getNodeAt:function(b,a){return this.columnNodes[a].childNodes[b]},addMissingColumns:function(d){var e=this,b=e.columnNodes.length,g,h,a,c;if(b<d){g=d-b;h=e.rowEl;a=e.owner.groupCls;for(c=0;c<g;c++){h.createChild({cls:a,tag:"td",vAlign:"top"})}}},removeExceedingColumns:function(d){var e=this,b=e.columnNodes.length,a,g,c;if(b>d){a=b-d;g=e.rowEl;for(c=0;c<a;c++){g.last().remove()}}},renderItem:function(b,d,a){var c=this;c.configureItem(b);b.render(Ext.get(c.columnNodes[a]),d);c.afterRenderItem(b)},moveItem:function(c,e,b){var d=this,a=d.columnNodes[b],g=a.childNodes[e];a.insertBefore(c.el.dom,g||null)}});Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:true,getByName:function(b,a){return this.filterBy(function(c){return c.name==b&&c.getFormId()==a})}});Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:false,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:true,compiled:true}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var b=this,a=!!b.checked;b.originalValue=b.lastValue=a;b.setValue(a)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign,inputTypeAttr:a.inputTypeAttr})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a)},setBoxLabel:function(a){var b=this;b.boxLabel=a;if(b.rendered){b.boxLabelEl.update(a)}},onBoxClick:function(a){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(b,a){return(b===true||b==="true"||b==="1"||b===1||(((Ext.isString(b)||Ext.isNumber(b))&&a)?b==a:this.onRe.test(b)))},setRawValue:function(d){var c=this,b=c.inputEl,a=c.isChecked(d,c.inputValue);if(b){c[a?"addCls":"removeCls"](c.checkedCls)}c.checked=c.rawValue=a;return a},setValue:function(c){var g=this,b,d,e,a;if(Ext.isArray(c)){b=g.getManager().getByName(g.name,g.getFormId()).items;e=b.length;for(d=0;d<e;++d){a=b[d];a.setValue(Ext.Array.contains(c,a.inputValue))}}else{g.callParent(arguments)}return g},valueToRaw:function(a){return a},onChange:function(c,d){var b=this,a=b.handler;if(a){a.call(b.scope||b,b,c)}b.callParent(arguments)},resetOriginalValue:function(c){var g=this,b,a,e,d;if(!c){b=g.getManager().getByName(g.name,g.getFormId()).items;e=b.length;for(d=0;d<e;++d){a=b[d];if(a!==g){b[d].resetOriginalValue(true)}}}g.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var b=this,a=b.inputEl;b.callParent();if(a){a.dom.disabled=b.readOnly}},setReadOnly:function(c){var b=this,a=b.inputEl;if(a){a.dom.disabled=!!c||b.disabled}b.callParent(arguments)},getFormId:function(){var b=this,a;if(!b.formId){a=b.up("form");if(a){b.formId=a.id}}return b.formId}});Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var a=this;a.callParent();a.initField()},initValue:function(){var a=this,b=a.value;a.originalValue=a.lastValue=b||a.getValue();if(b){a.setValue(b)}},onAdd:function(b){var e=this,c,d,a;if(b.isCheckbox){e.mon(b,"change",e.checkChange,e)}else{if(b.isContainer){c=b.items.items;for(a=0,d=c.length;a<d;a++){e.onAdd(c[a])}}}e.callParent(arguments)},onRemove:function(b){var e=this,c,d,a;if(b.isCheckbox){e.mun(b,"change",e.checkChange,e)}else{if(b.isContainer){c=b.items.items;for(a=0,d=c.length;a<d;a++){e.onRemove(c[a])}}}e.callParent(arguments)},isEqual:function(b,c){var a=Ext.Object.toQueryString;return a(b)===a(c)},getErrors:function(){var a=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){a.push(this.blankText)}return a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(a,b){Ext.Array.forEach(this.getBoxes(),a,b||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var d=this.getBoxes(),a,c=d.length;for(a=0;a<c;a++){if(d[a].isDirty()){return true}}},setReadOnly:function(e){var d=this.getBoxes(),a,c=d.length;for(a=0;a<c;a++){d[a].setReadOnly(e)}this.readOnly=e},reset:function(){var b=this,a=b.hasActiveError(),c=b.preventMark;b.preventMark=true;b.batchChanges(function(){var g=b.getBoxes(),d,e=g.length;for(d=0;d<e;d++){g[d].reset()}});b.preventMark=c;b.unsetActiveError();if(a){b.updateLayout()}},resetOriginalValue:function(){var e=this,d=e.getBoxes(),a,c=d.length;for(a=0;a<c;a++){d[a].resetOriginalValue()}e.originalValue=e.getValue();e.checkDirty()},setValue:function(k){var h=this,e=h.getBoxes(),a,c=e.length,d,j,g;h.batchChanges(function(){for(a=0;a<c;a++){d=e[a];j=d.getName();g=false;if(k&&k.hasOwnProperty(j)){if(Ext.isArray(k[j])){g=Ext.Array.contains(k[j],d.inputValue)}else{g=k[j]}}d.setValue(g)}});return h},getValue:function(){var k={},e=this.getBoxes(),a,c=e.length,d,j,h,g;for(a=0;a<c;a++){d=e[a];j=d.getName();h=d.inputValue;if(d.getValue()){if(k.hasOwnProperty(j)){g=k[j];if(!Ext.isArray(g)){g=k[j]=[g]}g.push(h)}else{k[j]=h}}}return k},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var c=this,a,b,d;if(c.disabled){b=true}else{a=c.getErrors();b=Ext.isEmpty(a);d=c.wasValid;if(b){c.unsetActiveError()}else{c.setActiveError(a)}}if(b!==d){c.wasValid=b;c.fireEvent("validitychange",c,b);c.updateLayout()}return b}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])});Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",collapsed:false,toggleOnTitleClick:true,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var b=this,a=b.legend;if(a){delete a.ownerCt;a.destroy();b.legend=null}b.callParent()},initComponent:function(){var b=this,a=b.baseCls;b.initFieldAncestor();b.callParent();b.layout.managePadding=b.layout.manageOverflow=false;b.addEvents("beforeexpand","beforecollapse","expand","collapse");if(b.collapsed){b.addCls(a+"-collapsed");b.collapse()}if(b.title||b.checkboxToggle||b.collapsible){b.addTitleClasses();b.legend=Ext.widget(b.createLegendCt())}b.initMonitor()},initPadding:function(e){var c=this,a=c.getProtoBody(),d=c.padding,b;if(d!==undefined){if(Ext.isIEQuirks||Ext.isIE8m){d=c.parseBox(d);b=Ext.Element.parseBox(0);b.top=d.top;d.top=0;a.setStyle("padding",c.unitizeBox(b))}e.setStyle("padding",c.unitizeBox(d))}},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return a},initRenderData:function(){var b=this,a=b.callParent();a.bodyTargetCls=b.bodyTargetCls;b.protoBody.writeTo(a);delete b.protoBody;return a},getState:function(){var a=this.callParent();a=this.addPropertyToState(a,"collapsed");return a},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var c=this,a=[],b={xtype:"container",baseCls:c.baseCls+"-header",id:c.id+"-legend",autoEl:"legend",items:a,ownerCt:c,shrinkWrap:true,ownerLayout:c.componentLayout};if(c.checkboxToggle){a.push(c.createCheckboxCmp())}else{if(c.collapsible){a.push(c.createToggleCmp())}}a.push(c.createTitleCmp());return b},createTitleCmp:function(){var b=this,a={xtype:"component",html:b.title,cls:b.baseCls+"-header-text",id:b.id+"-legendTitle"};if(b.collapsible&&b.toggleOnTitleClick){a.listeners={click:{element:"el",scope:b,fn:b.toggle}};a.cls+=" "+b.baseCls+"-header-text-collapsible"}return(b.titleCmp=Ext.widget(a))},createCheckboxCmp:function(){var a=this,b="-checkbox";a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}});return a.checkboxCmp},createToggleCmp:function(){var a=this;a.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a});return a.toggleCmp},doRenderLegend:function(c,d){var b=d.$comp,a=b.legend,e;if(a){a.ownerLayout.configureItem(a);e=a.getRenderTree();Ext.DomHelper.generateMarkup(e,c)}},finishRender:function(){var a=this.legend;this.callParent();if(a){a.finishRender()}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(d){var c=this,b=c.legend,a=c.baseCls;c.title=d;if(c.rendered){if(!b){c.legend=b=Ext.widget(c.createLegendCt());c.addTitleClasses();b.ownerLayout.configureItem(b);b.render(c.el,0)}c.titleCmp.update(d)}else{if(b){c.titleCmp.update(d)}else{c.addTitleClasses();c.legend=Ext.widget(c.createLegendCt())}}return c},addTitleClasses:function(){var b=this,c=b.title,a=b.baseCls;if(c){b.addCls(a+"-with-title")}if(c||b.checkboxToggle||b.collapsible){b.addCls(a+"-with-header")}},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(b){var c=this,a=c.checkboxCmp,d=b?"expand":"collapse";if(!c.rendered||c.fireEvent("before"+d,c)!==false){b=!!b;if(a){a.setValue(b)}if(b){c.removeCls(c.baseCls+"-collapsed")}else{c.addCls(c.baseCls+"-collapsed")}c.collapsed=!b;if(b){delete c.getHierarchyState().collapsed}else{c.getHierarchyState().collapsed=true}if(c.rendered){c.updateLayout({isRoot:false});c.fireEvent(d,c)}}return c},getRefItems:function(a){var c=this.callParent(arguments),b=this.legend;if(b){c.unshift(b);if(a){c.unshift.apply(c,b.getRefItems(true))}}return c},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(b,a){this.setExpanded(a)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}});Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:false,getElConfig:function(){var a=this;a.html=a.text?Ext.util.Format.htmlEncode(a.text):(a.html||"");return Ext.apply(a.callParent(),{htmlFor:a.forId||""})},setText:function(c,a){var b=this;a=a!==false;if(a){b.text=c;delete b.html}else{b.html=c;delete b.text}if(b.rendered){b.el.dom.innerHTML=a!==false?Ext.util.Format.htmlEncode(c):c;b.updateLayout()}return b}});Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;if(a.frame){a.border=false}a.initFieldAncestor();a.callParent();a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(a.pollForChanges){a.startPolling(a.pollInterval||500)}},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){var a={},e=this.basicFormConfigs,c=e.length,b=0,d;for(;b<c;++b){d=e[b];a[d]=this[d]}return new Ext.form.Basic(this,a)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();var b=new Ext.util.TaskRunner(a);b.start({interval:0,run:this.checkChange,scope:this});this.pollTask=b},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var b=this.form.getFields().items,a,c=b.length;for(a=0;a<c;a++){b[a].checkChange()}}});Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:true,getByName:function(b,a){return this.filterBy(function(c){return c.name==b&&c.getFormId()==a})},getWithValue:function(b,c,a){return this.filterBy(function(d){return d.name==b&&d.inputValue==c&&d.getFormId()==a})},getChecked:function(b,a){return this.findBy(function(c){return c.name==b&&c.checked&&c.getFormId()==a})}});Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:true,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(a){var b=this;if(!b.disabled&&!b.readOnly){this.setValue(true)}},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(c){var b=this,a;if(Ext.isBoolean(c)){b.callParent(arguments)}else{a=b.getManager().getWithValue(b.name,c,b.getFormId()).getAt(0);if(a){a.setValue(true)}}return b},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(b,c){var a=this,d,h,e,g;a.callParent(arguments);if(b){g=a.getManager().getByName(a.name,a.getFormId()).items;h=g.length;for(d=0;d<h;d++){e=g[d];if(e!==a){e.setValue(false)}}}},getManager:function(){return Ext.form.RadioManager}});Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var b=this.getValue(),a=Ext.Object.getKeys(b)[0];if(Ext.isArray(b[a])){return}this.callParent(arguments)},setValue:function(j){var a,b,c,h,d,e,g;if(Ext.isObject(j)){for(g in j){if(j.hasOwnProperty(g)){a=j[g];b=this.items.first();c=b?b.getFormId():null;h=Ext.form.RadioManager.getWithValue(g,a,c).items;e=h.length;for(d=0;d<e;++d){h[d].setValue(true)}}}}return this}});Ext.define("Ext.form.action.DirectLoad",{extend:Ext.form.action.Load,alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e=this,d=e.form,a=d.api,c=a.load,g,b;if(typeof c!=="function"){a.load=c=Ext.direct.Manager.parseMethod(c)}g=c.directCfg.method;b=g.getArgs(e.getParams(),d.paramOrder,d.paramsAsHash);b.push(e.onComplete,e);c.apply(window,b)},processResponse:function(a){return(this.result=a)},onComplete:function(a,b){if(a){this.onSuccess(a)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.DirectSubmit",{extend:Ext.form.action.Submit,alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var g=this,d=g.form,a=d.api,c=a.submit,b=Ext.Function.bind(g.onComplete,g),e=g.buildForm(),h;if(typeof c!=="function"){a.submit=c=Ext.direct.Manager.parseMethod(c)}if(g.timeout||d.timeout){h={timeout:g.timeout*1000||d.timeout*1000}}c.call(window,e.formEl,b,g,h);g.cleanup(e)},processResponse:function(a){return(this.result=a)},onComplete:function(a,b){if(a){this.onSuccess(a)}else{this.onFailure(null)}}});Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var a=this.buildForm();a.formEl.submit();this.cleanup(a)}});Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:Ext.layout.component.field.Field,type:"triggerfield",borderWidths:{},beginLayout:function(d){var b=this,c=b.owner,a;d.triggerWrap=d.getEl("triggerWrap");b.callParent(arguments);a=c.getTriggerStateFlags();if(a!=c.lastTriggerStateFlags){c.lastTriggerStateFlags=a;b.updateEditState()}},beginLayoutCycle:function(a){this.callParent(arguments);if(a.widthModel.shrinkWrap&&!this.owner.inputWidth){a.inputContext.el.setStyle("width","")}},beginLayoutFixed:function(e,j,g){var c=this,d=e.target,a=c.ieInputWidthAdjustment||0,b="100%",h=d.triggerWrap;c.callParent(arguments);d.inputCell.setStyle("width","100%");if(a){c.adjustIEInputPadding(e);if(g==="px"){if(d.inputWidth){b=d.inputWidth-c.getExtraWidth(e)}else{b=j-a-c.getExtraWidth(e)}b+="px"}}d.inputEl.setStyle("width",b);b=d.inputWidth;if(b){h.setStyle("width",b+(a)+"px")}else{h.setStyle("width",j+g)}h.setStyle("table-layout","fixed")},adjustIEInputPadding:function(a){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(d){var b=this,c=b.owner,a=b.borderWidths,e=c.ui+c.triggerEl.getCount();if(!(e in a)){a[e]=d.triggerWrap.getBorderInfo().width}return a[e]+c.getTriggerWidth()},beginLayoutShrinkWrap:function(d){var c=d.target,a="",b=c.inputWidth,e=c.triggerWrap;this.callParent(arguments);if(b){e.setStyle("width",b+"px");b=(b-this.getExtraWidth(d))+"px";c.inputEl.setStyle("width",b);c.inputCell.setStyle("width",b)}else{c.inputCell.setStyle("width",a);c.inputEl.setStyle("width",a);e.setStyle("width",a);e.setStyle("table-layout","auto")}},getTextWidth:function(){var b=this,c=b.owner,a=c.inputEl,d;d=(a.dom.value||(c.hasFocus?"":c.emptyText)||"")+c.growAppend;return a.getTextWidth(d)},publishOwnerWidth:function(b,c){var a=this.owner;this.callParent(arguments);if(!a.grow&&!a.inputWidth){c-=this.getExtraWidth(b);if(a.labelAlign!="top"){c-=a.getLabelWidth()}b.inputContext.setWidth(c)}},publishInnerHeight:function(b,a){b.inputContext.setHeight(a-this.measureLabelErrorHeight(b))},measureContentWidth:function(h){var d=this,g=d.owner,j=d.callParent(arguments),b=h.inputContext,a,c,e;if(g.grow&&!h.state.growHandled){a=d.getTextWidth()+h.inputContext.getFrameInfo().width;c=g.growMax;e=Math.min(c,j);c=Math.max(g.growMin,c,e);a=Ext.Number.constrain(a,g.growMin,c);b.setWidth(a);h.state.growHandled=true;b.domBlock(d,"width");j=NaN}else{if(!g.inputWidth){j-=d.getExtraWidth(h)}}return j},updateEditState:function(){var c=this,e=c.owner,b=e.inputEl,d=Ext.baseCSSPrefix+"trigger-noedit",a,g;if(c.owner.readOnly){b.addCls(d);g=true;a=false}else{if(c.owner.editable){b.removeCls(d);g=false}else{b.addCls(d);g=true}a=!c.owner.hideTrigger}e.triggerCell.setDisplayed(a);b.dom.readOnly=g}});Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(d){var c=this,a=d.childElCls,b=c.callParent(arguments);return'<table id="'+c.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+a+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+c.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+a+'">'+b+"</td>"+c.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var c=this,a=c.callParent(),d=c.readOnly===true,b=c.editable!==false;return Ext.apply(a,{editableCls:(d||!b)?" "+c.triggerNoEditCls:"",readOnly:!b||d})},getLabelableRenderData:function(){var a=this,c=a.triggerWrapCls,b=a.callParent(arguments);return Ext.applyIf(b,{triggerWrapCls:c,triggerMarkup:a.getTriggerMarkup()})},getTriggerMarkup:function(){var d=this,c=0,b=(d.readOnly||d.hideTrigger),h,g=d.triggerBaseCls,j=[],k=Ext.dom.Element.unselectableCls,e="width:"+d.triggerWidth+"px;"+(b?"display:none;":""),a=d.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+k;if(!d.trigger1Cls){d.trigger1Cls=d.triggerCls}for(c=0;(h=d["trigger"+(c+1)+"Cls"])||c<1;c++){j.push({tag:"td",valign:"top",cls:a,style:e,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+c,g,h].join(" "),role:"button"}})}j[0].cn.cls+=" "+g+"-first";return Ext.DomHelper.markup(j)},disableCheck:function(){return !this.disabled},beforeRender:function(){var a=this,c=a.triggerBaseCls,b;if(!a.triggerWidth){b=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=b.getWidth();b.remove()}a.callParent();if(c!=Ext.baseCSSPrefix+"form-trigger"){a.addChildEls({name:"triggerEl",select:"."+c})}a.lastTriggerStateFlags=a.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments);a.doc=Ext.getDoc();a.initTrigger()},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerEl.getCount()*a.triggerWidth}return b},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(c){var a=this,b=a.readOnly;a.callParent(arguments);if(c!=b){a.updateLayout()}},initTrigger:function(){var j=this,l=j.triggerWrap,k=j.triggerEl,a=j.disableCheck,g,d,c,b,h;if(j.repeatTriggerClick){j.triggerRepeater=new Ext.util.ClickRepeater(l,{preventDefault:true,handler:j.onTriggerWrapClick,listeners:{mouseup:j.onTriggerWrapMouseup,scope:j},scope:j})}else{j.mon(l,{click:j.onTriggerWrapClick,mouseup:j.onTriggerWrapMouseup,scope:j})}k.setVisibilityMode(Ext.Element.DISPLAY);k.addClsOnOver(j.triggerBaseCls+"-over",a,j);g=k.elements;d=g.length;for(b=0;b<d;b++){c=g[b];h=b+1;c.addClsOnOver(j["trigger"+(h)+"Cls"]+"-over",a,j);c.addClsOnClick(j["trigger"+(h)+"Cls"]+"-click",a,j)}k.addClsOnClick(j.triggerBaseCls+"-click",a,j)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl");delete a.doc;a.callParent()},onFocus:function(){var a=this;a.callParent(arguments);if(!a.mimicing){a.bodyEl.addCls(a.wrapFocusCls);a.mimicing=true;a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on("specialkey",a.checkTab,a)}}},checkTab:function(b,a){if(!this.ignoreMonitorTab&&a.getKey()==a.TAB){this.triggerBlur()}},getTriggerStateFlags:function(){var a=this,b=0;if(a.readOnly){b+=1}if(a.editable){b+=2}if(a.hideTrigger){b+=4}return b},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)&&this.validateBlur(a)){this.triggerBlur(a)}},triggerBlur:function(a){var b=this;b.mimicing=false;b.mun(b.doc,"mousedown",b.mimicBlur,b);if(b.monitorTab&&b.inputEl){b.un("specialkey",b.checkTab,b)}Ext.form.field.Trigger.superclass.onBlur.call(b,a);if(b.bodyEl){b.bodyEl.removeCls(b.wrapFocusCls)}},validateBlur:function(a){return true},onTriggerWrapClick:function(){var c=this,d,b,e,a;a=arguments[c.triggerRepeater?1:0];if(a&&!c.readOnly&&!c.disabled){d=a.getTarget("."+c.triggerBaseCls,null);b=d&&d.className.match(c.triggerIndexRe);if(b){e=c["onTrigger"+(parseInt(b[1],10)+1)+"Click"]||c.onTriggerClick;if(e){e.call(c,a)}}}},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn});Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Trigger,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});if(!a.editable){a.mon(a.inputEl,"click",a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(a){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var c=this,a,d,b;if(c.rendered&&!c.isExpanded&&!c.isDestroyed){c.expanding=true;a=c.bodyEl;d=c.getPicker();b=c.collapseIf;d.show();c.isExpanded=true;c.alignPicker();a.addCls(c.openCls);c.mon(Ext.getDoc(),{mousewheel:b,mousedown:b,scope:c});Ext.EventManager.onWindowResize(c.alignPicker,c);c.fireEvent("expand",c);c.onExpand();delete c.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var a=this,b=a.getPicker();if(a.isExpanded){if(a.matchFieldWidth){b.setWidth(a.bodyEl.getWidth())}if(b.isFloating()){a.doAlign()}}},doAlign:function(){var c=this,d=c.picker,a="-above",b;c.picker.alignTo(c.triggerWrap,c.pickerAlign,c.pickerOffset);b=d.el.getY()<c.inputEl.getY();c.bodyEl[b?"addCls":"removeCls"](c.openCls+a);d[b?"addCls":"removeCls"](d.baseCls+a)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var d=this,e=d.openCls,g=d.picker,c=Ext.getDoc(),b=d.collapseIf,a="-above";g.hide();d.isExpanded=false;d.bodyEl.removeCls([e,e+a]);g.el.removeCls(g.baseCls+a);c.un("mousewheel",b,d);c.un("mousedown",b,d);Ext.EventManager.removeResizeListener(d.alignPicker,d);d.fireEvent("collapse",d);d.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){var b=this;if(!b.isDestroyed&&!a.within(b.bodyEl,false,true)&&!a.within(b.picker.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.expand()}a.inputEl.focus()}},triggerBlur:function(){var a=this.picker;this.callParent(arguments);if(a&&a.isVisible()){a.hide()}},mimicBlur:function(a){var b=this,c=b.picker;if(!c||!a.within(c.el,false,true)&&!b.isEventWithinPickerLoadMask(a)){b.callParent(arguments)}},onDestroy:function(){var a=this,b=a.picker;Ext.EventManager.removeResizeListener(a.alignPicker,a);Ext.destroy(a.keyNav);if(b){delete b.pickerField;b.destroy()}a.callParent()},isEventWithinPickerLoadMask:function(a){var b=this.picker.loadMask;return b?a.within(b.maskEl,false,true)||a.within(b.el,false,true):false}});Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:{bindable:Ext.util.Bindable},allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("selectionchange","focuschange");b.modes={SINGLE:true,SIMPLE:true,MULTI:true};b.setSelectionMode(a.mode||b.mode);b.selected=new Ext.util.MixedCollection(null,b.getSelectionId);b.callParent(arguments)},bindStore:function(c,a){var b=this;b.mixins.bindable.bindStore.apply(b,arguments);if(b.store&&!a){b.refresh()}},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(g){var c=this,d=c.store.getRange(),a=0,b=d.length,e=c.getSelection().length;c.suspendChanges();for(;a<b;a++){c.doSelect(d[a],true,g)}c.resumeChanges();if(!g){c.maybeFireSelectionChange(c.getSelection().length!==e)}},deselectAll:function(k){var c=this,e=c.getSelection(),g={},j=c.store,h=e.length,a,b,d;for(a=0,b=e.length;a<b;a++){d=e[a];g[d.internalId]=j.indexOf(d)}e=Ext.Array.sort(e,function(n,o){var l=g[n.internalId],m=g[o.internalId];return l<m?-1:1});c.suspendChanges();c.doDeselect(e,k);c.resumeChanges();if(!k){c.maybeFireSelectionChange(c.getSelection().length!==h)}},selectWithEvent:function(l,c){var k=this,g=k.isSelected(l),n=c.shiftKey,b=c.ctrlKey,o=k.selectionStart,m=k.getSelection(),j=m.length,a=k.allowDeselect,p,d,h;switch(k.selectionMode){case"MULTI":if(n&&o){k.selectRange(o,l,b)}else{if(b&&g){k.doDeselect(l,false)}else{if(b){k.doSelect(l,true,false)}else{if(g&&!n&&!b&&j>1){p=[];for(d=0;d<j;++d){h=m[d];if(h!==l){p.push(h)}}k.doDeselect(p)}else{if(!g){k.doSelect(l,false)}}}}}break;case"SIMPLE":if(g){k.doDeselect(l)}else{k.doSelect(l,true)}break;case"SINGLE":if(a&&!b){a=k.toggleOnClick}if(a&&g){k.doDeselect(l)}else{k.doSelect(l,false)}break}if(!n){if(k.isSelected(l)){k.selectionStart=l}else{k.selectionStart=null}}},afterKeyNavigate:function(b,m){var k=this,l,d,g=k.isSelected(m),c=(k.selectionStart&&k.isSelected(k.lastFocused))?k.selectionStart:(k.selectionStart=k.lastFocused),j=b.getCharCode(),h=j===b.SPACE,a=j===b.UP||j===b.PAGE_UP?"up":(j===b.DOWN||j===b.DOWN?"down":null);switch(k.selectionMode){case"MULTI":if(h){if(b.shiftKey){k.selectRange(c,m,b.ctrlKey)}else{if(g){k.doDeselect(m,b.ctrlKey);k.setLastFocused(null);k.setLastFocused(m)}else{k.doSelect(m,b.ctrlKey)}}}else{if(b.shiftKey&&c){d=k.store.indexOf(c);l=k.store.indexOf(m);if(a==="up"&&d<=l){k.deselectRange(k.lastFocused,l+1)}else{if(a==="down"&&d>=l){k.deselectRange(k.lastFocused,l-1)}else{if(c!==m){k.selectRange(c,m,b.ctrlKey)}}}k.lastSelected=m;k.setLastFocused(m)}else{if(b.ctrlKey&&g){k.setLastFocused(m)}else{if(b.ctrlKey){k.setLastFocused(m)}else{k.doSelect(m,false)}}}}break;case"SIMPLE":if(g){k.doDeselect(m)}else{k.doSelect(m,true)}break;case"SINGLE":if(h){if(g){k.doDeselect(m);k.setLastFocused(m)}else{k.doSelect(m)}}else{if(b.ctrlKey){k.setLastFocused(m)}else{if(k.allowDeselect&&g){k.doDeselect(m)}else{k.doSelect(m,false)}}}break}if(!b.shiftKey){if(k.isSelected(m)){k.selectionStart=m}}},selectRange:function(l,a,d){var g=this,m=g.store,k=g.selected.items,j,b,e,o,n,c,h;if(g.isLocked()){return}j=g.normalizeRowRange(l,a);l=j[0];a=j[1];o=[];for(b=l;b<=a;b++){if(!g.isSelected(m.getAt(b))){o.push(m.getAt(b))}}if(!d){n=[];g.suspendChanges();for(b=0,e=k.length;b<e;++b){h=k[b];c=m.indexOf(h);if(c<l||c>a){n.push(h)}}for(b=0,e=n.length;b<e;++b){g.doDeselect(n[b])}g.resumeChanges()}g.doMultiSelect(o,true)},deselectRange:function(g,a){var c=this,h=c.store,e,b,j,d;if(c.isLocked()){return}e=c.normalizeRowRange(g,a);g=e[0];a=e[1];j=[];for(b=g;b<=a;b++){d=h.getAt(b);if(c.isSelected(d)){j.push(d)}}c.doDeselect(j)},normalizeRowRange:function(b,a){var c=this.store,d;if(!Ext.isNumber(b)){b=c.indexOf(b)}b=Math.max(0,b);if(!Ext.isNumber(a)){a=c.indexOf(a)}a=Math.min(a,c.getCount()-1);if(b>a){d=a;a=b;b=d}return[b,a]},onModelIdChanged:function(e,a,c,b,d){this.selected.updateKey(d,b)},select:function(b,a,c){if(Ext.isDefined(b)){this.doSelect(b,a,c)}},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(d,a,e){var b=this,c;if(b.locked||!b.store){return}if(typeof d==="number"){c=b.store.getAt(d);if(!c){return}d=[c]}if(b.selectionMode=="SINGLE"&&d){c=d.length?d[0]:d;b.doSingleSelect(c,e)}else{b.doMultiSelect(d,a,e)}},doMultiSelect:function(j,d,m){var g=this,l=g.selected,a=false,k,c,e,h,b;if(g.locked){return}j=!Ext.isArray(j)?[j]:j;e=j.length;if(!d&&l.getCount()>0){k=g.deselectDuringSelect(j,l.getRange(),m);if(k[0]){g.maybeFireSelectionChange(k[1]>0&&!m);return}}b=function(){l.add(h);a=true};for(c=0;c<e;c++){h=j[c];if(g.isSelected(h)){continue}g.lastSelected=h;g.onSelectChange(h,true,m,b)}if(!g.preventFocus){g.setLastFocused(h,m)}g.maybeFireSelectionChange(a&&!m)},deselectDuringSelect:function(k,h,j){var g=this,e=h.length,a=0,b=false,d,c;g.suspendChanges();for(c=0;c<e;++c){d=h[c];if(!Ext.Array.contains(k,d)){if(g.doDeselect(d,j)){++a}else{b=true}}}g.resumeChanges();return[b,a]},doDeselect:function(j,l){var g=this,k=g.selected,d=0,e,h,b=0,a=0,c;if(g.locked||!g.store){return false}if(typeof j==="number"){h=g.store.getAt(j);if(!h){return false}j=[h]}else{if(!Ext.isArray(j)){j=[j]}}c=function(){++a;k.remove(h)};e=j.length;g.suspendChanges();for(;d<e;d++){h=j[d];if(g.isSelected(h)){if(g.lastSelected===h){g.lastSelected=k.last();if(g.lastFocused===h){g.setLastFocused(null)}}++b;g.onSelectChange(h,false,l,c)}}g.resumeChanges();g.maybeFireSelectionChange(a>0&&!l);return a===b},doSingleSelect:function(d,g){var c=this,a=false,e=c.selected,b;if(c.locked){return}if(c.isSelected(d)){return}if(e.getCount()){c.suspendChanges();if(!c.doDeselect(c.lastSelected,g)){c.resumeChanges();return}c.resumeChanges()}b=function(){e.add(d);c.lastSelected=d;a=true};c.onSelectChange(d,true,g,b);if(a){if(!g&&!c.preventFocus){c.setLastFocused(d)}c.maybeFireSelectionChange(!g)}},setLastFocused:function(b,d){var a=this,c=a.lastFocused;if(b!==c){a.lastFocused=b;a.onLastFocusChanged(c,b,d)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;if(a&&!b.suspendChange){b.fireEvent("selectionchange",b,b.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(e,a){var c=this,g=c.store,b,d;d=c.normalizeRowRange(e,a);e=d[0];a=d[1];for(b=e;b<=a;b++){if(!c.isSelected(g.getAt(b))){return false}}return true},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var d=this,e=d.selected,g=[],c=e.length,a,b;if(d.pruneRemoved){for(a=0;a<c;a++){b=e.getAt(a);if(!this.storeHasSelected(b)){g.push(b)}}if(g.length){for(a=0,c=g.length;a<c;a++){e.remove(g[a])}d.maybeFireSelectionChange(true)}}},storeHasSelected:function(d){var g=this.store,e,c,b,a;if(d.hasId()&&g.getById(d)){return true}else{e=g.data.items;c=e.length;b=d.internalId;for(a=0;a<c;++a){if(b===e[a].internalId){return true}}}return false},refresh:function(){var e=this,k=e.store,h,m=[],l=[],g=e.getSelection(),d=g.length,j,a,b=0,c=e.getLastFocused();if(!k){return}for(;b<d;b++){j=g[b];if(k.indexOf(j)!==-1){m.push(j)}else{if(!e.pruneRemoved){h=k.getById(j.getId());if(h){m.push(h)}else{l.push(j)}}}if(e.mode==="SINGLE"&&l.length){break}}if(e.selected.getCount()!=(m.length+l.length)){a=true}e.clearSelections();if(k.indexOf(c)!==-1){e.setLastFocused(c,true)}if(m.length){e.doSelect(m,false,true)}if(l.length){e.selected.addAll(l);if(!e.lastSelected){e.lastSelected=l[l.length-1]}}e.maybeFireSelectionChange(a)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(e,d,a,b){var c=this;if(c.selectionStart&&Ext.Array.contains(d,c.selectionStart)){c.selectionStart=null}if(b||c.locked||!c.pruneRemoved){return}c.deselectDeletedRecords(d)},deselectDeletedRecords:function(e){var c=this,h=c.selected,a,b=e.length,g=0,d;for(a=0;a<b;a++){d=e[a];if(h.remove(d)){if(c.lastSelected==d){c.lastSelected=null}if(c.getLastFocused()==d){c.setLastFocused(null)}++g}}if(g){c.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(e,c,g,a){var d=this,b=c?"select":"deselect";if((g||d.fireEvent("before"+b,d,e))!==false&&a()!==false){if(!g){d.fireEvent(b,d,e)}}},onLastFocusChanged:function(b,a){this.fireEvent("focuschange",this,b,a)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true)},bindComponent:Ext.emptyFn});Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:true,enableKeyNav:true,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(c){var b=this,a={refresh:b.refresh,scope:b};b.view=c;b.bindStore(c.getStore());a[c.triggerEvent]=b.onItemClick;a[c.triggerCtEvent]=b.onContainerClick;c.on(a);if(b.enableKeyNav){b.initKeyNav(c)}},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a)){b.onItemSelect(a)}},onItemClick:function(g,d,c,b,a){this.selectWithEvent(d,a)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on({render:Ext.Function.bind(a.initKeyNav,a,[b]),single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:true,down:Ext.pass(a.onNavKey,[1],a),right:Ext.pass(a.onNavKey,[1],a),left:Ext.pass(a.onNavKey,[-1],a),up:Ext.pass(a.onNavKey,[-1],a),scope:a})},onNavKey:function(e){e=e||1;var b=this,g=b.view,d=b.getSelection()[0],c=b.view.store.getCount(),a;if(d){a=g.indexOf(g.getNode(d))+e}else{a=0}if(a<0){a=c-1}else{if(a>=c){a=0}}b.select(a)},onSelectChange:function(e,c,g,a){var d=this,h=d.view,b=c?"select":"deselect";if((g||d.fireEvent("before"+b,d,e))!==false&&a()!==false){if(h){if(c){h.onItemSelect(e)}else{h.onItemDeselect(e)}}if(!g){d.fireEvent(b,d,e)}}},onLastFocusChanged:function(b,a,c){var d=this.view;if(d&&!c&&a){d.focusNode(a);this.fireEvent("focuschange",this,b,a)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:{bindable:Ext.util.Bindable},inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var c=this,a=Ext.isDefined,b=c.itemTpl,d={};if(b){if(Ext.isArray(b)){b=b.join("")}else{if(Ext.isObject(b)){d=Ext.apply(d,b.initialConfig);b=b.html}}if(!c.itemSelector){c.itemSelector="."+c.itemCls}b=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',c.itemCls,b);c.tpl=new Ext.XTemplate(b,d)}c.callParent();c.tpl=c.getTpl("tpl");if(c.overItemCls){c.trackOver=true}c.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");c.addCmpEvents();c.store=Ext.data.StoreManager.lookup(c.store||"ext-empty-store");if(!c.dataSource){c.dataSource=c.store}c.bindStore(c.dataSource,true,"dataSource");if(!c.all){c.all=new Ext.CompositeElementLite()}c.scrollState={top:0,left:0};c.on({scroll:c.onViewScroll,element:"el",scope:c})},onRender:function(){var d=this,b=d.loadMask,c=d.getMaskStore(),a={target:d,msg:d.loadingText,msgCls:d.loadingCls,useMsg:d.loadingUseMsg,store:c};d.callParent(arguments);if(b&&!c.proxy.isSynchronous){if(Ext.isObject(b)){a=Ext.apply(a,b)}d.loadMask=new Ext.LoadMask(a);d.loadMask.on({scope:d,beforeshow:d.onMaskBeforeShow,hide:d.onMaskHide})}},finishRender:function(){var a=this;a.callParent(arguments);if(!a.up("[collapsed],[hidden]")){a.doFirstRefresh(a.dataSource)}},onBoxReady:function(){var a=this;a.callParent(arguments);if(!a.firstRefreshDone){a.doFirstRefresh(a.dataSource)}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var b=this,a=b.loadingHeight;if(a&&a>b.getHeight()){b.hasLoadingHeight=true;b.oldMinHeight=b.minHeight;b.minHeight=a;b.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";if(a.simpleSelect){b="SIMPLE"}else{if(a.multiSelect){b="MULTI"}}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection){a.selModel.locked=true}return a.selModel},refresh:function(){var b=this,g,h,d,c,a,e;if(!b.rendered||b.isDestroyed){return}if(!b.hasListeners.beforerefresh||b.fireEvent("beforerefresh",b)!==false){g=b.getTargetEl();e=b.getViewRange();a=g.dom;if(!b.preserveScrollOnRefresh){h=a.parentNode;d=a.style.display;a.style.display="none";c=a.nextSibling;h.removeChild(a)}if(b.refreshCounter){b.clearViewEl()}else{b.fixedNodes=g.dom.childNodes.length;b.refreshCounter=1}b.tpl.append(g,b.collectData(e,b.all.startIndex));if(e.length<1){if(!this.store.loading&&(!b.deferEmptyText||b.hasFirstRefresh)){Ext.core.DomHelper.insertHtml("beforeEnd",g.dom,b.emptyText)}b.all.clear()}else{b.collectNodes(g.dom);b.updateIndexes(0)}if(b.hasFirstRefresh){if(b.refreshSelmodelOnRefresh!==false){b.selModel.refresh()}else{b.selModel.pruneIf()}}b.hasFirstRefresh=true;if(!b.preserveScrollOnRefresh){h.insertBefore(a,c);a.style.display=d}this.refreshSize();b.fireEvent("refresh",b);if(!b.viewReady){b.viewReady=true;b.fireEvent("viewready",b)}}},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();if(a.height.shrinkWrap||a.width.shrinkWrap){this.updateLayout()}},clearViewEl:function(){var b=this,a=b.getTargetEl();if(b.fixedNodes){while(a.dom.childNodes[b.fixedNodes]){a.dom.removeChild(a.dom.childNodes[b.fixedNodes])}}else{a.update("")}b.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;b.left=a.scrollLeft;b.top=a.scrollTop}},restoreScrollState:function(){if(this.rendered){var a=this.el.dom,b=this.scrollState;a.scrollLeft=b.left;a.scrollTop=b.top}},prepareData:function(c,e,g){var a,b,d;if(g){a=g.getAssociatedData();for(b in a){if(a.hasOwnProperty(b)){if(!d){c=Ext.Object.chain(c);d=true}c[b]=a[b]}}}return c},collectData:function(e,g){var a=[],b=0,c=e.length,d;for(;b<c;b++){d=e[b];a[b]=this.prepareData(d.data,g+b,d)}return a},bufferRender:function(d,b){var c=this,a=c.renderBuffer||(c.renderBuffer=document.createElement("div"));c.tpl.overwrite(a,c.collectData(d,b));return Ext.DomQuery.select(c.getItemSelector(),a)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(a,e){var c=this,b,d;if(c.viewReady){b=c.dataSource.indexOf(e);if(b>-1){d=c.bufferRender([e],b)[0];if(c.getNode(e)){c.all.replaceElement(b,d,true);c.updateIndexes(b,b);c.selModel.onUpdate(e);if(c.hasListeners.itemupdate){c.fireEvent("itemupdate",e,b,d)}return d}}}},onAdd:function(e,d,a){var b=this,c;if(b.rendered){if(b.all.getCount()===0){b.refresh();c=b.all.slice()}else{c=b.doAdd(d,a);if(b.refreshSelmodelOnRefresh!==false){b.selModel.refresh()}b.updateIndexes(a);b.refreshSize()}if(b.hasListeners.itemadd){b.fireEvent("itemadd",d,a,c)}}},doAdd:function(j,d){var g=this,h=g.bufferRender(j,d,true),a=g.all,b=a.getCount(),c,e;if(b===0){for(c=0,e=h.length;c<e;c++){this.getNodeContainer().appendChild(h[c])}}else{if(d<b){if(d===0){a.item(d).insertSibling(h,"before",true)}else{a.item(d-1).insertSibling(h,"after",true)}}else{a.last().insertSibling(h,"after",true)}}a.insert(d,h);return h},onRemove:function(a,j,e){var g=this,b=g.hasListeners.itemremove,c,h,d;if(g.all.getCount()){if(g.dataSource.getCount()===0){if(b){for(c=e.length-1;c>=0;--c){g.fireEvent("itemremove",j[c],e[c])}}g.refresh()}else{for(c=e.length-1;c>=0;--c){h=j[c];d=e[c];g.doRemove(h,d);if(b){g.fireEvent("itemremove",h,d)}}g.updateIndexes(e[0])}this.refreshSize()}},doRemove:function(b,a){this.all.removeElement(a,true)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(e,a){var c=this.all.elements,d=this.getViewRange(),b;e=e||0;a=a||((a===0)?0:(c.length-1));for(b=e;b<=a;b++){c[b].viewIndex=b;c[b].viewRecordId=d[b].internalId;if(!c[b].boundView){c[b].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(d,a,c){var b=this;b.mixins.bindable.bindStore.apply(b,arguments);if(!a){b.getSelectionModel().bindStore(d)}if(b.componentLayoutCounter){b.doFirstRefresh(d)}},doFirstRefresh:function(b){var a=this;a.firstRefreshDone=true;if(b&&!b.loading){if(a.deferInitialRefresh){a.applyFirstRefresh()}else{a.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}if(a.up("[isCollapsingOrExpanding]")){Ext.Function.defer(a.applyFirstRefresh,100,a)}else{Ext.Function.defer(function(){if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(c,a,b){this.setMaskBind(c);if(!a&&b==="store"){this.bindStore(c,false,"dataSource")}},setMaskBind:function(b){var a=this.loadMask;if(a&&a.bindStore){a.bindStore(b)}},getStoreListeners:function(){var a=this;return{idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var b=this,a=!b.firstRefreshDone&&(!b.rendered||b.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));if(a){b.deferInitialRefresh=false}else{if(b.blockRefresh!==true){b.firstRefreshDone=true;b.refresh()}}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var c=[],d=this.selModel.getSelection(),b=d.length,a=0;for(;a<b;a++){c.push(this.getNode(d[a]))}return c},getRecords:function(d){var e=[],b=0,c=d.length,a=this.dataSource.data;for(;b<c;b++){e[e.length]=a.getByKey(d[b].viewRecordId)}return e},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(a){var b=this.getRecord(a);return this.selModel.isSelected(b)},select:function(b,a,c){this.selModel.select(b,a,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){if((!a&&a!==0)||!this.rendered){return null}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return a},getNodeByRecord:function(d){var c=this.all.elements,b=c.length,a=0;for(;a<b;a++){if(c[a].viewRecordId===d.internalId){return c[a]}}return null},getNodes:function(c,b){var a=this.all;if(b===undefined){b=a.getCount()}else{b++}return a.slice(c||0,b)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.callParent();a.bindStore(null);a.selModel.destroy()},onItemSelect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).addCls(this.selectedItemCls)}},onItemDeselect:function(b){var a=this.getNode(b);if(a){Ext.fly(a).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(b,a,d){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var c=this.getSelectionModel();return c.select.apply(c,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent();if(a.mouseOverOutBuffer){a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a);a.lastMouseOverOutEvent=new Ext.EventObjectImpl()}else{if(a.deferHighlight){a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a)}}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;a.callParent();a.mon(a.getTargetEl(),{scope:a,freezeEvent:true,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(a){var b=this;b.lastMouseOverOutEvent.setEvent(a.browserEvent,true);b.handleMouseOverOrOut(b.lastMouseOverOutEvent)},handleMouseOverOrOut:function(a){var c=this,b=a.type==="mouseout",d=b?a.getRelatedTarget:a.getTarget,g=d.call(a,c.itemSelector)||d.call(a,c.dataRowSelector);if(!c.mouseOverItem||g!==c.mouseOverItem){if(c.mouseOverItem){a.item=c.mouseOverItem;a.newType="mouseleave";c.handleEvent(a)}c.mouseOverItem=g;if(c.mouseOverItem){a.item=c.mouseOverItem;a.newType="mouseenter";c.handleEvent(a)}}},handleEvent:function(a){var c=this,b=a.type=="keydown"&&a.getKey();if(c.processUIEvent(a)!==false){c.processSpecialEvent(a)}if(b===a.SPACE){if(!c.inputTagRe.test(a.getTarget().tagName)){a.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(!Ext.getBody().isAncestor(a.target)){return}var g=this,c=a.getTarget(g.getItemSelector(),g.getTargetEl()),d=this.statics().EventMap,b,j,l=a.type,h=a.type,k;if(a.newType){h=a.newType;c=a.item}if(!c&&l=="keydown"){k=g.getSelectionModel();j=k.lastFocused||k.getLastSelected();if(j){c=g.getNode(j,true)}}if(c){if(!j){j=g.getRecord(c)}b=g.indexInStore?g.indexInStore(j):g.indexOf(c);if(!j||g.processItemEvent(j,c,b,a)===false){return false}if((g["onBeforeItem"+d[h]](j,c,b,a)===false)||(g.fireEvent("beforeitem"+h,g,j,c,b,a)===false)||(g["onItem"+d[h]](j,c,b,a)===false)){return false}g.fireEvent("item"+h,g,j,c,b,a)}else{if((g.processContainerEvent(a)===false)||(g["onBeforeContainer"+d[l]](a)===false)||(g.fireEvent("beforecontainer"+l,g,a)===false)||(g["onContainer"+d[l]](a)===false)){return false}g.fireEvent("container"+l,g,a)}return true},onItemMouseEnter:function(d,c,b,a){if(this.trackOver){this.highlightItem(c)}},onItemMouseLeave:function(d,c,b,a){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(c){var d=this,b=d.highlightedItem,e=d.overItemCls,a=d.beforeOverItemCls,g;if(b!=c){if(b){Ext.fly(b).removeCls(e);g=b.previousSibling;if(a&&g){Ext.fly(g).removeCls(a)}d.fireEvent("unhighlightitem",d,b)}d.highlightedItem=c;if(c){Ext.fly(c).addCls(d.overItemCls);g=c.previousSibling;if(a&&g){Ext.fly(g).addCls(a)}d.fireEvent("highlightitem",d,c)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(g,e){var b=this,d,c,a;if(b.viewReady){d=b.getNode(e);c=b.callParent(arguments);a=b.highlightedItem;if(a&&a===d){delete b.highlightedItem;if(c){b.highlightItem(c)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(j){var e=this,g=e.getNode(j,true),c=e.el,b=0,a=0,d=c.getRegion(),h;d.bottom=d.top+c.dom.clientHeight;d.right=d.left+c.dom.clientWidth;if(g){h=Ext.fly(g).getRegion();if(h.top<d.top){b=h.top-d.top}else{if(h.bottom>d.bottom){b=h.bottom-d.bottom}}if(h.left<d.left){a=h.left-d.left}else{if(h.right>d.right){a=h.right-d.right}}if(a||b){e.scrollBy(a,b,false)}c.focus()}}});Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(c){var a=this,b=a.owner,d=b.pagingToolbar;a.callParent(arguments);if(b.floating){c.savedXY=b.getXY();b.setXY([0,-9999])}if(d){c.toolbarContext=c.context.getCmp(d)}c.listContext=c.getEl("listEl")},beginLayoutCycle:function(b){var a=this.owner;this.callParent(arguments);if(b.heightModel.auto){a.el.setHeight("auto");a.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments);if(b){this.owner.setXY(b)}},measureContentWidth:function(a){return this.owner.listEl.getWidth()},measureContentHeight:function(a){return this.owner.listEl.getHeight()},publishInnerHeight:function(b,a){var c=b.toolbarContext,d=0;if(c){d=c.getProp("height")}if(d===undefined){this.done=false}else{b.listContext.setHeight(a-b.getFrameInfo().height-d)}},calculateOwnerHeightFromContentHeight:function(b){var a=this.callParent(arguments),c=b.toolbarContext;if(c){a+=c.getProp("height")}return a}});Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(b){var a=this;a.text=b;if(a.rendered){a.el.update(b);a.updateLayout()}}});Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Trigger,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var a=this,b;a.callParent(arguments);b=a.triggerEl;a.spinUpEl=b.item(0);a.spinDownEl=b.item(1);a.triggerCell=a.spinUpEl.parent();if(a.keyNavEnabled){a.spinnerKeyNav=new Ext.util.KeyNav(a.inputEl,{scope:a,up:a.spinUp,down:a.spinDown})}if(a.mouseWheelEnabled){a.mon(a.bodyEl,"mousewheel",a.onMouseWheel,a)}},getSubTplMarkup:function(d){var c=this,a=d.childElCls,b=Ext.form.field.Base.prototype.getSubTplMarkup.apply(c,arguments);return'<table id="'+c.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+a+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+c.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+a+'">'+b+"</td>"+c.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var b=this,a=(b.readOnly||b.hideTrigger);return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:a?"display:none":"",spinnerUpCls:!b.spinUpEnabled?b.trigger1Cls+"-disabled":"",spinnerDownCls:!b.spinDownEnabled?b.trigger2Cls+"-disabled":""}},getTriggerWidth:function(){var a=this,b=0;if(a.triggerWrap&&!a.hideTrigger&&!a.readOnly){b=a.triggerWidth}return b},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a;if(c!==a&&b.rendered){b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a;if(c!==a&&b.rendered){b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")}},onMouseWheel:function(b){var c=this,a;if(c.hasFocus){a=b.getWheelDelta();if(a>0){c.spinUp()}else{if(a<0){c.spinDown()}}b.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:".",submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this;a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue)},getErrors:function(e){var c=this,a=c.callParent(arguments),b=Ext.String.format,d;e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue());if(e.length<1){return a}e=String(e).replace(c.decimalSeparator,".");if(isNaN(e)){a.push(b(c.nanText,e))}d=c.parseValue(e);if(c.minValue===0&&d<0){a.push(this.negativeText)}else{if(d<c.minValue){a.push(b(c.minText,c.minValue))}}if(d>c.maxValue){a.push(b(c.maxText,c.maxValue))}return a},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));if(b===null){b=a||null}return b},valueToRaw:function(c){var b=this,a=b.decimalSeparator;c=b.parseValue(c);c=b.fixPrecision(c);c=Ext.isNumber(c)?c:parseFloat(String(c).replace(a,"."));c=isNaN(c)?"":String(c).replace(".",a);return c},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=b.replace(a.decimalSeparator,".")}return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var b=this,c=b.getValue(),d=c===null,a;if(b.spinUpEnabled||b.spinUpDisabledByToggle){a=d||c<b.maxValue;b.setSpinUpEnabled(a,true)}if(b.spinDownEnabled||b.spinDownDisabledByToggle){a=d||c>b.minValue;b.setSpinDownEnabled(a,true)}},setMinValue:function(c){var b=this,a;b.minValue=Ext.Number.from(c,Number.NEGATIVE_INFINITY);b.toggleSpinners();if(b.disableKeyFilter!==true){a=b.baseChars+"";if(b.allowExponential){a+=b.decimalSeparator+"e+-"}else{if(b.allowDecimals){a+=b.decimalSeparator}if(b.minValue<0){a+="-"}}a=Ext.String.escapeRegex(a);b.maskRe=new RegExp("["+a+"]");if(b.autoStripChars){b.stripCharsRe=new RegExp("[^"+a+"]","gi")}}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(d){var a=this,b=isNaN(d),c=a.decimalPrecision;if(b||!d){return b?"":d}else{if(!a.allowDecimals||c<=0){c=0}}return parseFloat(Ext.Number.toFixed(parseFloat(d),c))},beforeBlur:function(){var a=this,b=a.parseValue(a.getRawValue());if(!Ext.isEmpty(b)){a.setValue(b)}},setSpinUpEnabled:function(a,b){this.callParent(arguments);if(!b){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!a}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},setSpinDownEnabled:function(a,b){this.callParent(arguments);if(!b){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!a}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}},setSpinValue:function(c){var b=this,a;if(b.enforceMaxLength){if(b.fixPrecision(c).toString().length>b.maxLength){return}}b.setValue(c)}});Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:{bindable:Ext.util.Bindable},displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var a=this,b=a.getPagingItems(),c=a.items||a.buttons||[];if(a.prependButtons){a.items=c.concat(b)}else{a.items=b.concat(c)}delete a.buttons;if(a.displayInfo){a.items.push("->");a.items.push({xtype:"tbtext",itemId:"displayItem"})}a.callParent();a.addEvents("change","beforechange");a.on("beforerender",a.onLoad,a,{single:true});a.bindStore(a.store||"ext-empty-store",true)},updateInfo:function(){var c=this,b=c.child("#displayItem"),g=c.store,e=c.getPageData(),a,d;if(b){a=g.getCount();if(a===0){d=c.emptyMsg}else{d=Ext.String.format(c.displayMsg,e.fromRecord,e.toRecord,e.total)}b.setText(d)}},onLoad:function(){var g=this,j,c,h,a,b,d,e;b=g.store.getCount();d=b===0;if(!d){j=g.getPageData();c=j.currentPage;h=j.pageCount;a=Ext.String.format(g.afterPageText,isNaN(h)?1:h)}else{c=0;h=0;a=Ext.String.format(g.afterPageText,0)}Ext.suspendLayouts();e=g.child("#afterTextItem");if(e){e.setText(a)}e=g.getInputItem();if(e){e.setDisabled(d).setValue(c)}g.setChildDisabled("#first",c===1||d);g.setChildDisabled("#prev",c===1||d);g.setChildDisabled("#next",c===h||d);g.setChildDisabled("#last",c===h||d);g.setChildDisabled("#refresh",false);g.updateInfo();Ext.resumeLayouts(true);if(g.rendered){g.fireEvent("change",g,j)}},setChildDisabled:function(c,a){var b=this.child(c);if(b){b.setDisabled(a)}},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:((a.currentPage-1)*a.pageSize)+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){if(!this.rendered){return}this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(b){var a=this.getInputItem(),c=false,d;if(a){d=a.getValue();c=parseInt(d,10);if(!d||isNaN(c)){a.setValue(b.currentPage);return false}}return c},onPagingFocus:function(){var a=this.getInputItem();if(a){a.select()}},onPagingBlur:function(b){var c=this.getInputItem(),a;if(c){a=this.getPageData().currentPage;c.setValue(a)}},onPagingKeyDown:function(b,a){var g=this,d=a.getKey(),h=g.getPageData(),c=a.shiftKey?10:1,j;if(d==a.RETURN){a.stopEvent();j=g.readPageFromInput(h);if(j!==false){j=Math.min(Math.max(1,j),h.pageCount);if(g.fireEvent("beforechange",g,j)!==false){g.store.loadPage(j)}}}else{if(d==a.HOME||d==a.END){a.stopEvent();j=d==a.HOME?1:h.pageCount;b.setValue(j)}else{if(d==a.UP||d==a.PAGE_UP||d==a.DOWN||d==a.PAGE_DOWN){a.stopEvent();j=g.readPageFromInput(h);if(j){if(d==a.DOWN||d==a.PAGE_DOWN){c*=-1}j+=c;if(j>=1&&j<=h.pageCount){b.setValue(j)}}}}}},beforeLoad:function(){if(this.rendered){this.setChildDisabled("#refresh",true)}},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1)}},movePrevious:function(){var a=this,b=a.store.currentPage-1;if(b>0){if(a.fireEvent("beforechange",a,b)!==false){a.store.previousPage()}}},moveNext:function(){var a=this,c=a.getPageData().pageCount,b=a.store.currentPage+1;if(b<=c){if(a.fireEvent("beforechange",a,b)!==false){a.store.nextPage()}}},moveLast:function(){var b=this,a=b.getPageData().pageCount;if(b.fireEvent("beforechange",b,a)!==false){b.store.loadPage(a)}},doRefresh:function(){var b=this,a=b.store.currentPage;if(b.fireEvent("beforechange",b,a)!==false){b.store.loadPage(a)}},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind();this.callParent()}});Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:{queryable:Ext.Queryable},pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var c=this,a=c.baseCls,b=c.itemCls;c.selectedItemCls=a+"-selected";if(c.trackOver){c.overItemCls=a+"-item-over"}c.itemSelector="."+b;if(c.floating){c.addCls(a+"-floating")}if(!c.tpl){c.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+b+'">'+c.getInnerTpl(c.displayField)+"</li>","</tpl></ul>")}else{if(!c.tpl.isTemplate){c.tpl=new Ext.XTemplate(c.tpl)}}if(c.pageSize){c.pagingToolbar=c.createPagingToolbar()}c.callParent()},beforeRender:function(){var a=this;a.callParent(arguments);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu")}},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);if(a){a.finishRender()}},refresh:function(){var a=this,d=a.tpl,c=a.pagingToolbar,b=a.rendered;d.field=a.pickerField;d.store=a.store;a.callParent();d.field=d.store=null;if(b&&c&&c.rendered&&!a.preserveScrollOnRefresh){a.el.appendChild(c.el)}if(b&&Ext.isIE6&&Ext.isStrict){a.listEl.repaint()}},bindStore:function(b,a){var c=this.pagingToolbar;this.callParent(arguments);if(c){c.bindStore(b,a)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}});Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(b,a){var c=this;c.boundList=a.boundList;c.callParent([b,Ext.apply({},a,c.defaultHandlers)])},defaultHandlers:{up:function(){var c=this,b=c.boundList,a=b.all,e=b.highlightedItem,g=e?b.indexOf(e):-1,d=g>0?g-1:a.getCount()-1;c.highlightAt(d)},down:function(){var c=this,b=c.boundList,a=b.all,e=b.highlightedItem,g=e?b.indexOf(e):-1,d=g<a.getCount()-1?g+1:0;c.highlightAt(d)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(b){var a=this.boundList,c=a.all.item(b);if(c){c=c.dom;a.highlightItem(c);a.getTargetEl().scrollChildIntoView(c,false)}},selectHighlighted:function(b){var d=this,a=d.boundList,c=a.highlightedItem,g=a.getSelectionModel();if(c){g.selectWithEvent(a.getRecord(c),b)}}});Ext.define("Ext.layout.component.field.ComboBox",{extend:Ext.layout.component.field.Trigger,alias:"layout.combobox",type:"combobox",startingWidth:null,getTextWidth:function(){var e=this,h=e.owner,j=h.store,a=h.displayField,k=j.data.length,l="",b=0,g=0,d,c,m;for(;b<k;b++){c=j.getAt(b).data[a];d=c.length;if(d>g){g=d;l=c}}m=Math.max(e.callParent(arguments),h.inputEl.getTextWidth(l+h.growAppend));if(!e.startingWidth||h.removingRecords){e.startingWidth=m;if(m<h.growMin){h.defaultListConfig.minWidth=h.growMin}h.removingRecords=false}return(m<e.startingWidth)?e.startingWidth:m}});Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:Ext.util.Bindable},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:true,disableFormats:true}],getSubTplData:function(){var a=this;Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls});return a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var c=this,a=Ext.isDefined,d=c.store,e=c.transform,g,b;Ext.applyIf(c.renderSelectors,{hiddenDataEl:"."+c.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(e){g=Ext.getDom(e);if(g){if(!c.store){d=Ext.Array.map(Ext.Array.from(g.options),function(h){return[h.value,h.text]})}if(!c.name){c.name=g.name}if(!("value" in c)){c.value=g.value}}}c.bindStore(d||"ext-empty-store",true);d=c.store;if(d.autoCreated){c.queryMode="local";c.valueField=c.displayField="field1";if(!d.expanded){c.displayField="field2"}}if(!a(c.valueField)){c.valueField=c.displayField}b=c.queryMode==="local";if(!a(c.queryDelay)){c.queryDelay=b?10:500}if(!a(c.minChars)){c.minChars=b?0:4}if(!c.displayTpl){c.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+c.displayField+'"]]}<tpl if="xindex < xcount">'+c.delimiter+"</tpl></tpl>")}else{if(Ext.isString(c.displayTpl)){c.displayTpl=new Ext.XTemplate(c.displayTpl)}}c.callParent();c.doQueryTask=new Ext.util.DelayedTask(c.doRawQuery,c);if(c.store.getCount()>0){c.setValue(c.value)}if(g){c.render(g.parentNode,g);Ext.removeNode(g);delete c.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var b=this,d=b.getRawValue(),c,a;if(b.forceSelection){if(b.multiSelect){if(d!==b.getDisplayValue()){b.setValue(b.lastSelection)}}else{c=b.findRecordByDisplay(d);if(c){a=b.value;if(!b.findRecordByValue(a)){b.select(c,true)}}else{b.setValue(b.lastSelection)}}}b.collapse()},onTypeAhead:function(){var d=this,b=d.displayField,g=d.store.findRecord(b,d.getRawValue()),a=d.getPicker(),e,c,h;if(g){e=g.get(b);c=e.length;h=d.getRawValue().length;a.highlightItem(a.getNode(g));if(h!==0&&h!==c){d.setRawValue(e);d.selectText(h,e.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent();if(this.queryFilter&&!this.queryFilter.disabled){this.queryFilter.disabled=true;this.store.filter()}},onUnbindStore:function(c){var a=this,b=a.picker;if(a.queryFilter){a.store.removeFilter(a.queryFilter)}if(!c&&b){b.bindStore(null)}},onBindStore:function(c,a){var b=this.picker;if(!a){this.resetToDefault()}if(b){b.bindStore(c)}},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(c,b,d){var a=this;if(a.ignoreSelection>0){--a.ignoreSelection}if(d&&!c.lastOptions.rawQuery){if(a.value==null){if(a.store.getCount()){a.doAutoSelect()}else{a.setValue(a.value)}}else{a.setValue(a.value)}}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(d,a,e){var b=this,c=b.beforeQuery({query:d||"",rawQuery:e,forceAll:a,combo:b,cancel:false});if(c===false||c.cancel){return false}if(b.queryCaching&&c.query===b.lastQuery){b.expand()}else{b.lastQuery=c.query;if(b.queryMode==="local"){b.doLocalQuery(c)}else{b.doRemoteQuery(c)}}return true},beforeQuery:function(b){var a=this;if(a.fireEvent("beforequery",b)===false){b.cancel=true}else{if(!b.cancel){if(b.query.length<a.minChars&&!b.forceAll){b.cancel=true}}}return b},doLocalQuery:function(b){var a=this,c=b.query;if(!a.queryFilter){a.queryFilter=new Ext.util.Filter({id:a.id+"-query-filter",anyMatch:a.anyMatch,caseSensitive:a.caseSensitive,root:"data",property:a.displayField});a.store.addFilter(a.queryFilter,false)}if(c||!b.forceAll){a.queryFilter.disabled=false;a.queryFilter.setValue(a.enableRegEx?new RegExp(c):c)}else{a.queryFilter.disabled=true}a.store.filter();if(a.store.getCount()){a.expand()}else{a.collapse()}a.afterQuery(b)},doRemoteQuery:function(c){var b=this,a=function(){b.afterQuery(c)};b.expand();if(b.pageSize){b.loadPage(1,{rawQuery:c.rawQuery,callback:a})}else{b.store.load({params:b.getParams(c.query),rawQuery:c.rawQuery,callback:a})}},afterQuery:function(b){var a=this;if(a.store.getCount()){if(a.typeAhead){a.doTypeAhead()}if(a.getRawValue()!==a.getDisplayValue()){a.ignoreSelection++;a.picker.getSelectionModel().deselectAll();a.ignoreSelection--}if(b.rawQuery){a.syncSelection();if(a.picker&&!a.picker.getSelectionModel().hasSelection()){a.doAutoSelect()}}else{a.doAutoSelect()}}},loadPage:function(b,a){this.store.loadPage(b,Ext.apply({params:this.getParams(this.lastQuery)},a))},onPageChange:function(b,a){this.loadPage(a);return false},getParams:function(c){var b={},a=this.queryParam;if(a){b[a]=c}return b},doAutoSelect:function(){var c=this,d=c.picker,b,a;if(d&&c.autoSelect&&c.store.getCount()>0){b=d.getSelectionModel().lastSelected;a=d.getNode(b||0);if(a){d.highlightItem(a);d.listEl.scrollChildIntoView(a,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.onFocus({});if(a.triggerAction==="all"){a.doQuery(a.allQuery,true)}else{if(a.triggerAction==="last"){a.doQuery(a.lastQuery,true)}else{a.doQuery(a.getRawValue(),false,true)}}}a.inputEl.focus()}},onPaste:function(){var a=this;if(!a.readOnly&&!a.disabled&&a.editable){a.doQueryTask.delay(a.queryDelay)}},onKeyUp:function(a,d){var c=this,b=a.getKey();if(!c.readOnly&&!c.disabled&&c.editable){c.lastKey=b;if(!a.isSpecialKey()||b==a.BACKSPACE||b==a.DELETE){c.doQueryTask.delay(c.queryDelay)}}if(c.enableKeyEvents){c.callParent(arguments)}},initEvents:function(){var a=this;a.callParent();if(!a.enableKeyEvents){a.mon(a.inputEl,"keyup",a.onKeyUp,a)}a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){Ext.destroy(this.listKeyNav);this.bindStore(null);this.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var a=this,b,c=Ext.apply({xtype:"boundlist",pickerField:a,selModel:{mode:a.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,store:a.store,displayField:a.displayField,focusOnToFront:false,pageSize:a.pageSize,tpl:a.tpl},a.listConfig,a.defaultListConfig);b=a.picker=Ext.widget(c);if(a.pageSize){b.pagingToolbar.on("beforechange",a.onPageChange,a)}a.mon(b,{itemclick:a.onItemClick,refresh:a.onListRefresh,scope:a});a.mon(b.getSelectionModel(),{beforeselect:a.onBeforeSelect,beforedeselect:a.onBeforeDeselect,selectionchange:a.onListSelectionChange,scope:a});return b},alignPicker:function(){var c=this,d=c.getPicker(),a=c.getPosition()[1]-Ext.getBody().getScroll().top,b=Ext.Element.getViewHeight()-a-c.getHeight(),e=Math.max(a,b);if(d.height){delete d.height;d.updateLayout()}if(d.getHeight()>e-5){d.setHeight(e-5)}c.callParent()},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onItemClick:function(b,c){var a=this,d=a.picker.getSelectionModel().getSelection(),e=a.valueField;if(!a.multiSelect&&d.length){if(c.get(e)===d[0].get(e)){a.displayTplData=[c.data];a.setRawValue(a.getDisplayValue());a.collapse()}}},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,b.index)},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,b.index)},onListSelectionChange:function(c,e){var d=this,b=d.multiSelect,a=e.length>0;if(!d.ignoreSelection&&d.isExpanded){if(!b){Ext.defer(d.collapse,1,d)}if(b||a){d.setValue(e,false)}if(a){d.fireEvent("select",d,e)}d.inputEl.focus()}},onExpand:function(){var b=this,a=b.listKeyNav,d=b.selectOnTab,c=b.getPicker();if(a){a.enable()}else{a=b.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:c,forceKeyDown:true,tab:function(g){if(d){this.selectHighlighted(g);b.triggerBlur()}return true},enter:function(h){var j=c.getSelectionModel(),g=j.getCount();this.selectHighlighted(h);if(!b.multiSelect&&g===j.getCount()){b.collapse()}}})}if(d){b.ignoreMonitorTab=true}Ext.defer(a.enable,1,a);b.inputEl.focus()},onCollapse:function(){var b=this,a=b.listKeyNav;if(a){a.disable();b.ignoreMonitorTab=false}},select:function(g,a){var d=this,e=d.picker,b=true,c;if(g&&g.isModel&&a===true&&e){c=!e.getSelectionModel().isSelected(g)}d.setValue(g,true);if(c){d.fireEvent("select",d,g)}},findRecord:function(b,d){var a=this.store,c=a.findExact(b,d);return c!==-1?a.getAt(c):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(m,c){var j=this,n=j.valueNotFoundText,e=j.inputEl,d,g,l,a,h=[],b=[],k=[];if(j.store.loading){j.value=m;j.setHiddenValue(j.value);return j}m=Ext.Array.from(m);for(d=0,g=m.length;d<g;d++){l=m[d];if(!l||!l.isModel){l=j.findRecordByValue(l)}if(l){h.push(l);b.push(l.data);k.push(l.get(j.valueField))}else{if(!j.forceSelection){k.push(m[d]);a={};a[j.displayField]=m[d];b.push(a)}else{if(Ext.isDefined(n)){b.push(n)}}}}j.setHiddenValue(k);j.value=j.multiSelect?k:k[0];if(!Ext.isDefined(j.value)){j.value=null}j.displayTplData=b;j.lastSelection=j.valueModels=h;if(e&&j.emptyText&&!Ext.isEmpty(m)){e.removeCls(j.emptyCls)}j.setRawValue(j.getDisplayValue());j.checkChange();if(c!==false){j.syncSelection()}j.applyEmptyText();return j},setHiddenValue:function(k){var g=this,h=g.hiddenName,d,c,a,e,j,b;if(!g.hiddenDataEl||!h){return}k=Ext.Array.from(k);c=g.hiddenDataEl.dom;a=c.childNodes;e=a[0];j=k.length;b=a.length;if(!e&&j>0){g.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:h}));b=1;e=c.firstChild}while(b>j){c.removeChild(a[0]);--b}while(b<j){c.appendChild(e.cloneNode(true));++b}for(d=0;d<j;d++){a[d].value=k[d]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this,b=a.picker,c=a.getRawValue(),d=a.value;if(a.getDisplayValue()!==c){d=c;a.value=a.displayTplData=a.valueModels=null;if(b){a.ignoreSelection++;b.getSelectionModel().deselectAll();a.ignoreSelection--}}return d},getSubmitValue:function(){var a=this.getValue();if(Ext.isEmpty(a)){a=""}return a},isEqual:function(d,e){var a=Ext.Array.from,b,c;d=a(d);e=a(e);c=d.length;if(c!==e.length){return false}for(b=0;b<c;b++){if(e[b]!==d[b]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this,b=a.picker,c,d,h=a.valueModels||[],j=h.length,e,g;if(b){c=[];for(e=0;e<j;e++){g=h[e];if(g&&g.isModel&&a.store.indexOf(g)>=0){c.push(g)}}a.ignoreSelection++;d=b.getSelectionModel();d.deselectAll();if(c.length){d.select(c,undefined,true)}a.ignoreSelection--}},onEditorTab:function(a){var b=this.listKeyNav;if(this.selectOnTab&&b){b.selectHighlighted(a)}}});Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected";a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");if(a.small){a.addCls(a.smallCls)}a.setValue(a.value);a.activeYear=a.getYear(new Date().getFullYear()-4,-4);if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})}this.callParent()},beforeRender:function(){var c=this,a=0,e=[],g=Ext.Date.getShortMonthName,d=c.monthOffset,b=c.monthMargin,h="";c.callParent();for(;a<d;++a){e.push(g(a),g(a+d))}if(Ext.isDefined(b)){h="margin: 0 "+b+"px;"}Ext.apply(c.renderData,{months:e,years:c.getYears(),showButtons:c.showButtons,monthStyle:h})},afterRender:function(){var c=this,a=c.bodyEl,b=c.buttonsEl;c.callParent();c.mon(a,"click",c.onBodyClick,c);c.mon(a,"dblclick",c.onBodyClick,c);c.years=a.select("."+c.baseCls+"-year a");c.months=a.select("."+c.baseCls+"-month a");c.backRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:Ext.Function.bind(c.adjustYear,c,[-c.totalYears])});c.prevEl.addClsOnOver(c.baseCls+"-yearnav-prev-over");c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:Ext.Function.bind(c.adjustYear,c,[c.totalYears])});c.nextEl.addClsOnOver(c.baseCls+"-yearnav-next-over");c.updateBody();if(!Ext.isDefined(c.monthMargin)){Ext.picker.Month.prototype.monthMargin=c.calculateMonthMargin()}},calculateMonthMargin:function(){var c=this,d=c.monthEl,e=c.months,a=e.first(),b=a.getMargin("l");while(b&&c.getLargest()>c.measureMaxHeight){--b;e.setStyle("margin","0 "+b+"px")}return b},getLargest:function(b){var a=0;this.months.each(function(d){var c=d.getHeight();if(c>a){a=c}});return a},setValue:function(e){var c=this,a=c.activeYear,d=c.monthOffset,g,b;if(!e){c.value=[null,null]}else{if(Ext.isDate(e)){c.value=[e.getMonth(),e.getFullYear()]}else{c.value=[e[0],e[1]]}}if(c.rendered){g=c.value[1];if(g!==null){if((g<a||g>a+c.yearOffset)){c.activeYear=g-c.yearOffset+1}}c.updateBody()}return c},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){var c=this,d=c.yearOffset,e=c.activeYear,a=e+d,b=e,g=[];for(;b<a;++b){g.push(b,b+d)}return g},updateBody:function(){var c=this,n=c.years,g=c.months,m=c.getYears(),a=c.selectedCls,h=c.getYear(null),d=c.value[0],e=c.monthOffset,k,l,j,o,b;if(c.rendered){n.removeCls(a);g.removeCls(a);l=n.elements;o=l.length;for(j=0;j<o;j++){b=Ext.fly(l[j]);k=m[j];b.dom.innerHTML=k;if(k==h){b.addCls(a)}}if(d!==null){if(d<e){d=d*2}else{d=(d-e)*2+1}g.item(d).addCls(a)}}},getYear:function(a,b){var c=this.value[1];b=b||0;return c===null?a:c+b},onBodyClick:function(a,d){var c=this,b=a.type=="dblclick";if(a.getTarget("."+c.baseCls+"-month")){a.stopEvent();c.onMonthClick(d,b)}else{if(a.getTarget("."+c.baseCls+"-year")){a.stopEvent();c.onYearClick(d,b)}}},adjustYear:function(a){if(typeof a!="number"){a=this.totalYears}this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(c,a){var b=this;b.value[0]=b.resolveOffset(b.months.indexOf(c),b.monthOffset);b.updateBody();b.fireEvent("month"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},onYearClick:function(c,a){var b=this;b.value[1]=b.activeYear+b.resolveOffset(b.years.indexOf(c),b.yearOffset);b.updateBody();b.fireEvent("year"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},resolveOffset:function(a,b){if(a%2===0){return(a/2)}else{return b+Math.floor(a/2)}},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn");a.callParent()},finishRenderChildren:function(){var a=this;this.callParent(arguments);if(this.showButtons){a.okBtn.finishRender();a.cancelBtn.finishRender()}},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()}});Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(b){b--;var a=b%7===0&&b!==0;return a?'</tr><tr role="row">':""},renderTodayBtn:function(b,a){Ext.DomHelper.generateMarkup(b.$comp.todayBtn.getRenderTree(),a)},renderMonthBtn:function(b,a){Ext.DomHelper.generateMarkup(b.$comp.monthBtn.getRenderTree(),a)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,initHour:12,numDays:42,initComponent:function(){var b=this,a=Ext.Date.clearTime;b.selectedCls=b.baseCls+"-selected";b.disabledCellCls=b.baseCls+"-disabled";b.prevCls=b.baseCls+"-prevday";b.activeCls=b.baseCls+"-active";b.cellCls=b.baseCls+"-cell";b.nextCls=b.baseCls+"-prevday";b.todayCls=b.baseCls+"-today";if(!b.format){b.format=Ext.Date.defaultFormat}if(!b.dayNames){b.dayNames=Ext.Date.dayNames}b.dayNames=b.dayNames.slice(b.startDay).concat(b.dayNames.slice(0,b.startDay));b.callParent();b.value=b.value?a(b.value,true):a(new Date());b.addEvents("select");b.initDisabledDays()},beforeRender:function(){var b=this,a=new Array(b.numDays),c=Ext.Date.format(new Date(),b.format);if(b.up("menu")){b.addCls(Ext.baseCSSPrefix+"menu")}b.monthBtn=new Ext.button.Split({ownerCt:b,ownerLayout:b.getComponentLayout(),text:"",tooltip:b.monthYearText,listeners:{click:b.showMonthPicker,arrowclick:b.showMonthPicker,scope:b}});if(b.showToday){b.todayBtn=new Ext.button.Button({ownerCt:b,ownerLayout:b.getComponentLayout(),text:Ext.String.format(b.todayText,c),tooltip:Ext.String.format(b.todayTip,c),tooltipType:"title",handler:b.selectToday,scope:b})}b.callParent();Ext.applyIf(b,{renderData:{}});Ext.apply(b.renderData,{dayNames:b.dayNames,showToday:b.showToday,prevText:b.prevText,nextText:b.nextText,days:a});b.protoEl.unselectable()},finishRenderChildren:function(){var a=this;a.callParent();a.monthBtn.finishRender();if(a.showToday){a.todayBtn.finishRender()}},onRender:function(a,c){var b=this;b.callParent(arguments);b.cells=b.eventEl.select("tbody td");b.textNodes=b.eventEl.query("tbody td a");b.mon(b.eventEl,{scope:b,mousewheel:b.handleMouseWheel,click:{fn:b.handleDateClick,delegate:"a."+b.baseCls+"-date"}})},initEvents:function(){var c=this,b=Ext.Date,a=b.DAY;c.callParent();c.prevRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:c.showPrevMonth,scope:c,preventDefault:true,stopDefault:true});c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:c.showNextMonth,scope:c,preventDefault:true,stopDefault:true});c.keyNav=new Ext.util.KeyNav(c.eventEl,Ext.apply({scope:c,left:function(d){if(d.ctrlKey){c.showPrevMonth()}else{c.update(b.add(c.activeDate,a,-1))}},right:function(d){if(d.ctrlKey){c.showNextMonth()}else{c.update(b.add(c.activeDate,a,1))}},up:function(d){if(d.ctrlKey){c.showNextYear()}else{c.update(b.add(c.activeDate,a,-7))}},down:function(d){if(d.ctrlKey){c.showPrevYear()}else{c.update(b.add(c.activeDate,a,7))}},pageUp:function(d){if(d.altKey){c.showPrevYear()}else{c.showPrevMonth()}},pageDown:function(d){if(d.altKey){c.showNextYear()}else{c.showNextMonth()}},tab:function(d){c.doCancelFieldFocus=true;c.handleTabClick(d);delete c.doCancelFieldFocus;return true},enter:function(d){d.stopPropagation();return true},home:function(d){c.update(b.getFirstDateOfMonth(c.activeDate))},end:function(d){c.update(b.getLastDateOfMonth(c.activeDate))}},c.keyNavConfig));if(c.showToday){c.todayKeyListener=c.eventEl.addKeyListener(Ext.EventObject.SPACE,c.selectToday,c)}c.update(c.value)},handleTabClick:function(a){var c=this,d=c.getSelectedDate(c.activeDate),b=c.handler;if(!c.disabled&&d.dateValue&&!Ext.fly(d.parentNode).hasCls(c.disabledCellCls)){c.doCancelFocus=c.focusOnSelect===false;c.setValue(new Date(d.dateValue));delete c.doCancelFocus;c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}},getSelectedDate:function(j){var k=this,l=j.getTime(),e=k.cells,h=k.selectedCls,d=e.elements,a,g=d.length,b;e.removeCls(h);for(a=0;a<g;a++){b=Ext.fly(d[a]);if(b.dom.firstChild.dateValue==l){return b.dom.firstChild}}return null},initDisabledDays:function(){var h=this,b=h.disabledDates,j="(?:",g,a,e,c;if(!h.disabledDatesRE&&b){g=b.length-1;e=b.length;for(a=0;a<e;a++){c=b[a];j+=Ext.isDate(c)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(c,h.format))+"$":c;if(a!=g){j+="|"}}h.disabledDatesRE=new RegExp(j+")")}},setDisabledDates:function(a){var b=this;if(Ext.isArray(a)){b.disabledDates=a;b.disabledDatesRE=null}else{b.disabledDatesRE=a}b.initDisabledDays();b.update(b.value,true);return b},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a);b.prevRepeater.setDisabled(a);b.nextRepeater.setDisabled(a);if(b.showToday){b.todayKeyListener.setDisabled(a);b.todayBtn.setDisabled(a)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var c=this.monthPicker,b={duration:200,callback:function(){if(a){c.hide()}else{c.show()}}};if(a){c.el.slideOut("t",b)}else{c.el.slideIn("t",b)}},hideMonthPicker:function(a){var b=this,c=b.monthPicker;if(c){if(b.shouldAnimate(a)){b.runAnimation(true)}else{c.hide()}}return b},showMonthPicker:function(a){var b=this,c;if(b.rendered&&!b.disabled){c=b.createMonthPicker();c.setValue(b.getActive());c.setSize(b.getSize());c.setPosition(-1,-1);if(b.shouldAnimate(a)){b.runAnimation(false)}else{c.show()}}return b},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var a=this,b=a.monthPicker;if(!b){a.monthPicker=b=new Ext.picker.Month({renderTo:a.el,floating:true,shadow:false,small:a.showToday===false,listeners:{scope:a,cancelclick:a.onCancelClick,okclick:a.onOkClick,yeardblclick:a.onOkClick,monthdblclick:a.onOkClick}});if(!a.disableAnim){b.el.setStyle("display","none")}a.on("beforehide",Ext.Function.bind(a.hideMonthPicker,a,[false]))}return b},onOkClick:function(d,e){var b=this,c=e[0],g=e[1],a=new Date(g,c,b.getActive().getDate());if(a.getMonth()!==c){a=Ext.Date.getLastDateOfMonth(new Date(g,c,1))}b.setValue(a);b.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(b){b.stopEvent();if(!this.disabled){var a=b.getWheelDelta();if(a>0){this.showPrevMonth()}else{if(a<0){this.showNextMonth()}}}},handleDateClick:function(a,d){var c=this,b=c.handler;a.stopEvent();if(!c.disabled&&d.dateValue&&!Ext.fly(d.parentNode).hasCls(c.disabledCellCls)){c.doCancelFocus=c.focusOnSelect===false;c.setValue(new Date(d.dateValue));delete c.doCancelFocus;c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var c=this,a=c.todayBtn,b=c.handler;if(a&&!a.disabled){c.setValue(Ext.Date.clearTime(new Date()));c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}return c},selectedUpdate:function(j){var k=this,l=j.getTime(),e=k.cells,h=k.selectedCls,d=e.elements,a,g=d.length,b;e.removeCls(h);for(a=0;a<g;a++){b=Ext.fly(d[a]);if(b.dom.firstChild.dateValue==l){k.fireEvent("highlightitem",k,b);b.addCls(h);if(k.isVisible()&&!k.doCancelFocus){Ext.fly(b.dom.firstChild).focus(50)}break}}},fullUpdate:function(d){var w=this,a=w.cells.elements,E=w.textNodes,l=w.disabledCellCls,n=Ext.Date,t=0,o=0,H=w.isVisible(),y=+n.clearTime(d,true),F=+n.clearTime(new Date()),x=w.minDate?n.clearTime(w.minDate,true):Number.NEGATIVE_INFINITY,v=w.maxDate?n.clearTime(w.maxDate,true):Number.POSITIVE_INFINITY,j=w.disabledDatesRE,k=w.disabledDatesText,g=w.disabledDays?w.disabledDays.join(""):false,h=w.disabledDaysText,q=w.format,e=n.getDaysInMonth(d),p=n.getFirstDateOfMonth(d),C=p.getDay()-w.startDay,z=n.add(d,n.MONTH,-1),u=w.longDayFormat,A,c,m,D,B,s,b,r,G;if(C<0){C+=7}e+=C;A=n.getDaysInMonth(z)-C;c=new Date(z.getFullYear(),z.getMonth(),A,w.initHour);if(w.showToday){D=n.clearTime(new Date());m=(D<x||D>v||(j&&q&&j.test(n.dateFormat(D,q)))||(g&&g.indexOf(D.getDay())!=-1));if(!w.disabled){w.todayBtn.setDisabled(m);w.todayKeyListener.setDisabled(m)}}B=function(I,J){G=+n.clearTime(c,true);I.title=n.format(c,u);I.firstChild.dateValue=G;if(G==F){J+=" "+w.todayCls;I.title=w.todayText;w.todayElSpan=Ext.DomHelper.append(I.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:w.todayText},true)}if(G==y){J+=" "+w.selectedCls;w.fireEvent("highlightitem",w,I);if(H&&w.floating){Ext.fly(I.firstChild).focus(50)}}if(G<x){J+=" "+l;I.title=w.minText}else{if(G>v){J+=" "+l;I.title=w.maxText}else{if(g&&g.indexOf(c.getDay())!==-1){I.title=h;J+=" "+l}else{if(j&&q){r=n.dateFormat(c,q);if(j.test(r)){I.title=k.replace("%0",r);J+=" "+l}}}}}I.className=J+" "+w.cellCls};for(;t<w.numDays;++t){if(t<C){s=(++A);b=w.prevCls}else{if(t>=e){s=(++o);b=w.nextCls}else{s=t-C+1;b=w.activeCls}}E[t].innerHTML=s;c.setDate(c.getDate()+1);B(a[t],b)}w.monthBtn.setText(Ext.Date.format(d,w.monthYearFormat))},update:function(b,c){var d=this,a=d.activeDate;if(d.rendered){d.activeDate=b;if(!c&&a&&d.el&&a.getMonth()==b.getMonth()&&a.getFullYear()==b.getFullYear()){d.selectedUpdate(b,a)}else{d.fullUpdate(b,a)}}return d},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}a.callParent()},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}}});Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var c=this,a=Ext.isString,d,b;d=c.minValue;b=c.maxValue;if(a(d)){c.minValue=c.parseDate(d)}if(a(b)){c.maxValue=c.parseDate(b)}c.disabledDatesRE=null;c.initDisabledDays();c.callParent()},initValue:function(){var a=this,b=a.value;if(Ext.isString(b)){a.value=a.rawToValue(b)}a.callParent()},initDisabledDays:function(){if(this.disabledDates){var c=this.disabledDates,g=c.length-1,h="(?:",a,e=c.length,b;for(a=0;a<e;a++){b=c[a];h+=Ext.isDate(b)?"^"+Ext.String.escapeRegex(b.dateFormat(this.format))+"$":b;if(a!==g){h+="|"}}this.disabledDatesRE=new RegExp(h+")")}},setDisabledDates:function(a){var b=this,c=b.picker;b.disabledDates=a;b.initDisabledDays();if(c){c.setDisabledDates(b.disabledDatesRE)}},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;if(b){b.setDisabledDays(a)}},setMinValue:function(a){var b=this,d=b.picker,c=(Ext.isString(a)?b.parseDate(a):a);b.minValue=c;if(d){d.minText=Ext.String.format(b.minText,b.formatDate(b.minValue));d.setMinDate(c)}},setMaxValue:function(a){var c=this,d=c.picker,b=(Ext.isString(a)?c.parseDate(a):a);c.maxValue=b;if(d){d.maxText=Ext.String.format(c.maxText,c.formatDate(c.maxValue));d.setMaxDate(b)}},getErrors:function(q){var m=this,g=Ext.String.format,a=Ext.Date.clearTime,e=m.callParent(arguments),d=m.disabledDays,c=m.disabledDatesRE,n=m.minValue,l=m.maxValue,k=d?d.length:0,j=0,o,h,b,p;q=m.formatDate(q||m.processRawValue(m.getRawValue()));if(q===null||q.length<1){return e}o=q;q=m.parseDate(q);if(!q){e.push(g(m.invalidText,o,Ext.Date.unescapeFormat(m.format)));return e}p=q.getTime();if(n&&p<a(n).getTime()){e.push(g(m.minText,m.formatDate(n)))}if(l&&p>a(l).getTime()){e.push(g(m.maxText,m.formatDate(l)))}if(d){b=q.getDay();for(;j<k;j++){if(b===d[j]){e.push(m.disabledDaysText);break}}}h=m.formatDate(q);if(c&&c.test(h)){e.push(g(m.disabledDatesText,h))}return e},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(h,a){var b=this,g=Ext.Date,d=null,e=b.useStrict,c;if(g.formatContainsHourInfo(a)){d=g.parse(h,a,e)}else{c=g.parse(h+" "+b.initTime,a+" "+b.initTimeFormat,e);if(c){d=g.clearTime(c)}}return d},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(h){if(!h||Ext.isDate(h)){return h}var e=this,g=e.safeParse(h,e.format),a=e.altFormats,b=e.altFormatsArray,c=0,d;if(!g&&a){b=b||a.split("|");d=b.length;for(;c<d&&!g;++c){g=e.safeParse(h,b[c])}}return g},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var b=this,a=Ext.String.format;return new Ext.picker.Date({pickerField:b,ownerCt:b.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:b.minValue,maxDate:b.maxValue,disabledDatesRE:b.disabledDatesRE,disabledDatesText:b.disabledDatesText,disabledDays:b.disabledDays,disabledDaysText:b.disabledDaysText,format:b.format,showToday:b.showToday,startDay:b.startDay,minText:a(b.minText,b.formatDate(b.minValue)),maxText:a(b.maxText,b.formatDate(b.maxValue)),listeners:{scope:b,select:b.onSelect},keyNavConfig:{esc:function(){b.collapse()}}})},onDownArrow:function(a){this.callParent(arguments);if(this.isExpanded){this.getPicker().focus()}},onSelect:function(b,a){var c=this;c.setValue(a);c.fireEvent("select",c,a);c.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date())},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var b=this,c=b.parseDate(b.getRawValue()),a=b.focusTask;if(a){a.cancel()}if(c){b.setValue(c)}}});Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var a=this.callParent();a.inputCls=this.inputCls;a.inputName=this.inputName;return a},afterRender:function(){var a=this;a.callParent(arguments);a.fileInputEl.on("change",a.fireChange,a)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){var b=this;b.fileInputEl=b.el.createChild({name:b.inputName,id:!a?b.id+"-fileInputEl":undefined,cls:b.inputCls,tag:"input",type:"file",size:1});b.fileInputEl.on("change",b.fireChange,b)},reset:function(a){if(a){this.fileInputEl.remove()}this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.remove();a=Ext.get(a);this.el.appendChild(a);this.fileInputEl=a},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=true},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=false}});Ext.define("Ext.form.field.File",{extend:Ext.form.field.Trigger,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:true,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var c=this,a=c.id,b;c.callParent(arguments);b=c.inputEl;b.dom.name="";c.button=new Ext.form.field.FileButton(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:c,ownerLayout:c.componentLayout,id:a+"-button",ui:c.ui,disabled:c.disabled,text:c.buttonText,style:c.buttonOnly?"":c.getButtonMarginProp()+c.buttonMargin+"px",inputName:c.getName(),listeners:{scope:c,change:c.onFileChange}},c.buttonConfig));c.fileInputEl=c.button.fileInputEl;if(c.buttonOnly){c.inputCell.setDisplayed(false)}c.browseButtonWrap.dom.style.width=(c.browseButtonWrap.dom.lastChild.offsetWidth+c.button.getEl().getMargin("lr"))+"px";if(Ext.isIE){c.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(a,b,c){this.lastValue=null;Ext.form.field.File.superclass.setValue.call(this,c)},setValue:Ext.emptyFn,reset:function(){var b=this,a=b.clearOnSubmit;if(b.rendered){b.button.reset(a);b.fileInputEl=b.button.fileInputEl;if(a){b.inputEl.dom.value=""}}b.callParent()},onShow:function(){this.callParent();this.button.updateLayout()},onDisable:function(){this.callParent();this.button.disable()},onEnable:function(){this.callParent();this.button.enable()},isFileUpload:function(){return true},extractFileInput:function(){var a=this.button.fileInputEl.dom;this.reset();return a},restoreInput:function(b){var a=this.button;a.restoreInput(b);this.fileInputEl=a.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button");delete this.fileInputEl;this.callParent()},getButtonMarginProp:function(){return"margin-left:"}});Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,hidden:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("select");if(a.handler){a.on("select",a.handler,a.scope,true)}},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var b=this,a=b.clickEvent;b.callParent(arguments);b.mon(b.el,a,b.handleClick,b,{delegate:"a"});if(a!="click"){b.mon(b.el,"click",Ext.emptyFn,b,{delegate:"a",stopEvent:true})}},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(b,d){var c=this,a;b.stopEvent();if(!c.disabled){a=d.className.match(c.colorRe)[1];c.select(a.toUpperCase())}},select:function(a,e){var c=this,d=c.selectedCls,g=c.value,b;a=a.replace("#","");if(!c.rendered){c.value=a;return}if(a!=g||c.allowReselect){b=c.el;if(c.value){b.down("a.color-"+g).removeCls(d)}b.down("a.color-"+a).addCls(d);c.value=a;if(e!==true){c.fireEvent("select",c,a)}}},clear:function(){var b=this,c=b.value,a;if(c&&b.rendered){a=b.el.down("a.color-"+c);a.removeCls(b.selectedCls)}b.value=null},getValue:function(){return this.value||null}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(c){var b=this.owner,a;if(Ext.isGecko){a=b.textareaEl.dom;this.lastValue=a.value;a.value=""}this.callParent(arguments);c.toolbarContext=c.context.getCmp(b.toolbar);c.inputCmpContext=c.context.getCmp(b.inputCmp);c.textAreaContext=c.getEl("textareaEl");c.iframeContext=c.getEl("iframeEl")},beginLayoutCycle:function(e){var c=this,h=e.widthModel,a=e.heightModel,d=c.owner,b=d.iframeEl,g=d.textareaEl;c.callParent(arguments);if(h.shrinkWrap){b.setStyle("width","");g.setStyle("width","")}else{if(h.natural){e.bodyCellContext.setWidth(c.naturalWidth)}}if(a.natural||a.shrinkWrap){b.setHeight(c.naturalHeight);g.setHeight(c.naturalHeight)}},finishedLayout:function(){var a=this.owner;this.callParent(arguments);if(Ext.isIE9m&&Ext.isIEQuirks){a.el.repaint()}if(Ext.isGecko){a.textareaEl.dom.value=this.lastValue}},publishOwnerWidth:function(a,b){this.callParent(arguments);b-=a.inputCmpContext.getBorderInfo().width;a.textAreaContext.setWidth(b);a.iframeContext.setWidth(b)},publishInnerWidth:function(d,e){var a=d.inputCmpContext.getBorderInfo().width,b=Ext.isStrict&&Ext.isIE8m,c=d.widthModel.natural;this.callParent(arguments);e=d.bodyCellContext.props.width-a;if(c){if(b){e-=2}d.textAreaContext.setWidth(e);d.iframeContext.setWidth(e)}else{if(b){d.textAreaContext.setWidth(e)}}},publishInnerHeight:function(b,a){var d=b.toolbarContext.getProp("height"),c=this.owner.sourceEditMode;this.callParent(arguments);a=b.bodyCellContext.props.height;if(d!==undefined){a-=d+b.inputCmpContext.getFrameInfo().height;if(Ext.isIE8&&Ext.isStrict){a-=2}else{if(Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)){a-=4}}b.iframeContext.setHeight(a);b.textAreaContext.setHeight(a)}else{this.done=false}}});Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");a.items=[a.createToolbar(),a.createInputCmp()];a.layout={type:"vbox",align:"stretch"};a.callParent(arguments);a.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var c=this,b=c.id+"-inputCmp",a={id:b,name:c.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:c.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};c.getInsertionRenderData(a,c.subTplInsertions);return{flex:1,xtype:"component",tpl:c.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:b,cls:Ext.baseCSSPrefix+"html-editor-input",data:a}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var g=this,e=[],d,h=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),a=Ext.baseCSSPrefix,c,j;function b(l,m,k){return{itemId:l,cls:a+"btn-icon",iconCls:a+"edit-"+l,enableToggle:m!==false,scope:g,handler:k||g.relayBtnCmd,clickEvent:"mousedown",tooltip:h?g.buttonTips[l]||j:j,overflowText:g.buttonTips[l].title||j,tabIndex:-1}}if(g.enableFont&&!Ext.isSafari2){c=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+a+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){g.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var k=this.selectEl;if(k){k.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var k=this.selectEl;if(k){k.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){g.win.focus();g.relayCmd("fontName",g.fontSelect.dom.value);g.deferFocus()},element:"selectEl"}});e.push(c,"-")}if(g.enableFormat){e.push(b("bold"),b("italic"),b("underline"))}if(g.enableFontSize){e.push("-",b("increasefontsize",false,g.adjustFont),b("decreasefontsize",false,g.adjustFont))}if(g.enableColors){e.push("-",{itemId:"forecolor",cls:a+"btn-icon",iconCls:a+"edit-forecolor",overflowText:g.buttonTips.forecolor.title,tooltip:h?g.buttonTips.forecolor||j:j,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(l,k){g.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+k:k);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:a+"btn-icon",iconCls:a+"edit-backcolor",overflowText:g.buttonTips.backcolor.title,tooltip:h?g.buttonTips.backcolor||j:j,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(l,k){if(Ext.isGecko){g.execCmd("useCSS",false);g.execCmd("hilitecolor","#"+k);g.execCmd("useCSS",true);g.deferFocus()}else{g.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+k:k)}this.up("menu").hide()}}]})})}if(g.enableAlignments){e.push("-",b("justifyleft"),b("justifycenter"),b("justifyright"))}if(!Ext.isSafari2){if(g.enableLinks){e.push("-",b("createlink",false,g.createLink))}if(g.enableLists){e.push("-",b("insertorderedlist"),b("insertunorderedlist"))}if(g.enableSourceEdit){e.push("-",b("sourceedit",true,function(k){g.toggleSourceEdit(!g.sourceEditMode)}))}}for(d=0;d<e.length;d++){if(e[d].itemId!=="sourceedit"){e[d].disabled=true}}return{xtype:"toolbar",defaultButtonUI:g.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:e,listeners:{click:function(k){k.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(d){var c=this,e=c.textareaEl,b=c.iframeEl,a;c.readOnly=d;if(e){e.dom.readOnly=d}if(c.initialized){a=c.getEditorBody();if(Ext.isIE){b.setDisplayed(false);a.contentEditable=!d;b.setDisplayed(true)}else{c.setDesignMode(!d)}if(a){a.style.cursor=d?"default":"text"}c.disableItems(d)}},getDocMarkup:function(){var b=this,a=b.iframeEl.getHeight()-b.iframePad*2,c=Ext.isIE8m;return Ext.String.format((c?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(b.rtl?"rtl;":"ltr;")+(c?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",b.iframePad,a,b.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return(!Ext.isIE&&this.iframeEl.dom.contentDocument)||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var g=this,k=0,b,a,j,h,c,d,e;if(!g.defaultFont){a=g.textareaEl.getStyle("font-family");a=Ext.String.capitalize(a.split(",")[0]);b=Ext.Array.clone(g.fontFamilies);Ext.Array.include(b,a);b.sort();g.defaultFont=a;j=g.down("#fontSelect").selectEl.dom;for(c=0,d=b.length;c<d;++c){a=b[c];e=a.toLowerCase();h=new Option(a,e);if(a==g.defaultFont){k=c}h.style.fontFamily=e;if(Ext.isIE){j.add(h)}else{j.options.add(h)}}j.options[k].selected=true}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var b=this,a=b.inputCmp;b.callParent(arguments);b.iframeEl=a.iframeEl;b.textareaEl=a.textareaEl;b.inputEl=b.iframeEl;if(b.enableFont){b.initDefaultFont()}b.monitorTask=Ext.TaskManager.start({run:b.checkDesignMode,scope:b,interval:100});b.relayCmd("fontName",b.defaultFont)},initFrameDoc:function(){var b=this,a,c;Ext.TaskManager.stop(b.monitorTask);a=b.getDoc();b.win=b.getWin();a.open();a.write(b.getDocMarkup());a.close();c={run:function(){var d=b.getDoc();if(d.body||d.readyState==="complete"){Ext.TaskManager.stop(c);b.setDesignMode(true);Ext.defer(b.initEditor,10,b)}},interval:10,duration:10000,scope:b};Ext.TaskManager.start(c)},checkDesignMode:function(){var b=this,a=b.getDoc();if(a&&(!a.editorInitialized||b.getDesignMode()!=="on")){b.initFrameDoc()}},setDesignMode:function(c){var b=this,a=b.getDoc();if(a){if(b.readOnly){c=false}a.designMode=(/on|true/i).test(String(c).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return !a?"":String(a.designMode).toLowerCase()},disableItems:function(a){var e=this.getToolbar().items.items,b,c=e.length,d;for(b=0;b<c;b++){d=e[b];if(d.getItemId()!=="sourceedit"){d.setDisabled(a)}}},toggleSourceEdit:function(e){var d=this,c=d.iframeEl,g=d.textareaEl,b=Ext.baseCSSPrefix+"hidden",a=d.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(e)){e=!d.sourceEditMode}d.sourceEditMode=e;if(a.pressed!==e){a.toggle(e)}if(e){d.disableItems(true);d.syncValue();c.addCls(b);g.removeCls(b);g.dom.removeAttribute("tabIndex");g.focus();d.inputEl=g}else{if(d.initialized){d.disableItems(d.readOnly)}d.pushValue();c.removeCls(b);g.addCls(b);g.dom.setAttribute("tabIndex",-1);d.deferFocus();d.inputEl=c}d.fireEvent("editmodechange",d,e);d.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=="http://"){this.relayCmd("createlink",a)}},clearInvalid:Ext.emptyFn,setValue:function(d){var b=this,c=b.textareaEl,a=b.inputCmp;b.mixins.field.setValue.call(b,d);if(d===null||d===undefined){d=""}if(c){c.dom.value=d}b.pushValue();if(!b.rendered&&b.inputCmp){b.inputCmp.data.value=d}return b},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){a=a.substring(1)}return a},syncValue:function(){var g=this,a,c,d,b,e,h;if(g.initialized){a=g.getEditorBody();d=a.innerHTML;h=g.textareaEl.dom;if(Ext.isWebKit){b=a.getAttribute("style");e=b.match(/text-align:(.*?);/i);if(e&&e[1]){d='<div style="'+e[0]+'">'+d+"</div>"}}d=g.cleanHtml(d);if(g.fireEvent("beforesync",g,d)!==false){if(Ext.isGecko&&h.value===""&&d==="<br>"){d=""}if(h.value!==d){h.value=d;c=true}g.fireEvent("sync",g,d);if(c){g.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var a=this,b;if(a.initialized){b=a.textareaEl.dom.value||"";if(!a.activated&&b.length<1){b=a.defaultValue}if(a.fireEvent("beforepush",a,b)!==false){a.getEditorBody().innerHTML=b;if(Ext.isGecko){a.setDesignMode(false);a.setDesignMode(true)}a.fireEvent("push",a,b)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(d,a){var c=this,e,b;if(a){if(!c.focusTask){c.focusTask=new Ext.util.DelayedTask(c.focus)}c.focusTask.delay(Ext.isNumber(a)?a:10,null,c,[d,false])}else{if(d){if(c.textareaEl&&c.textareaEl.dom){e=c.textareaEl.dom.value}if(e&&e.length){c.execCmd("selectall",true)}}b=c.getFocusEl();if(b&&b.focus){b.focus()}}return c},initEditor:function(){try{var h=this,a=h.getEditorBody(),j=h.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),b,g;j["background-attachment"]="fixed";a.bgProperties="fixed";Ext.DomHelper.applyStyles(a,j);b=h.getDoc();if(b){try{Ext.EventManager.removeAll(b)}catch(c){}}g=Ext.Function.bind(h.onEditorEvent,h);Ext.EventManager.on(b,{mousedown:g,dblclick:g,click:g,keyup:g,buffer:100});g=h.onRelayedEvent;Ext.EventManager.on(b,{mousedown:g,mousemove:g,mouseup:g,click:g,dblclick:g,scope:h});if(Ext.isGecko){Ext.EventManager.on(b,"keypress",h.applyCommand,h)}if(h.fixKeys){Ext.EventManager.on(b,"keydown",h.fixKeys,h)}if(h.fixKeysAfter){Ext.EventManager.on(b,"keyup",h.fixKeysAfter,h)}if(Ext.isIE9&&Ext.isStrict){Ext.EventManager.on(b.documentElement,"focus",h.focus,h)}if(Ext.isIE8m||(Ext.isIE9&&!Ext.isStrict)){Ext.EventManager.on(b,"focusout",function(){h.savedSelection=b.selection.type!=="None"?b.selection.createRange():null},h);Ext.EventManager.on(b,"focusin",function(){if(h.savedSelection){h.savedSelection.select()}},h)}Ext.EventManager.onWindowUnload(h.beforeDestroy,h);b.editorInitialized=true;h.initialized=true;h.pushValue();h.setReadOnly(h.readOnly);h.fireEvent("initialize",h)}catch(d){}},beforeDestroy:function(){var c=this,d=c.monitorTask,a,g;if(d){Ext.TaskManager.stop(d)}if(c.rendered){Ext.EventManager.removeUnloadListener(c.beforeDestroy,c);try{a=c.getDoc();if(a){Ext.EventManager.removeAll(Ext.fly(a));for(g in a){if(a.hasOwnProperty&&a.hasOwnProperty(g)){delete a[g]}}}}catch(b){}delete c.iframeEl;delete c.textareaEl;delete c.toolbar;delete c.inputCmp}c.callParent()},onRelayedEvent:function(a){var c=this.iframeEl,d=Ext.Element.getTrueXY(c),e=a.getXY(),b=Ext.EventManager.getPageXY(a.browserEvent);a.xy=[d[0]+b[0],d[1]+b[1]];a.injectEvent(c);a.xy=e},onFirstFocus:function(){var b=this,d,c;b.activated=true;b.disableItems(b.readOnly);if(Ext.isGecko){b.win.focus();d=b.win.getSelection();if(!d.focusNode||d.focusNode.nodeType!==3){c=d.getRangeAt(0);c.selectNodeContents(b.getEditorBody());c.collapse(true);b.deferFocus()}try{b.execCmd("useCSS",true);b.execCmd("styleWithCSS",false)}catch(a){}}b.fireEvent("activate",b)},adjustFont:function(b){var a=b.getItemId()==="increasefontsize"?1:-1,e=this.getDoc().queryCommandValue("FontSize")||"2",c=Ext.isString(e)&&e.indexOf("px")!==-1,d;e=parseInt(e,10);if(c){if(e<=10){e=1+a}else{if(e<=13){e=2+a}else{if(e<=16){e=3+a}else{if(e<=18){e=4+a}else{if(e<=24){e=5+a}else{e=6+a}}}}}e=Ext.Number.constrain(e,1,6)}else{d=Ext.isSafari;if(d){a*=2}e=Math.max(1,e+a)+(d?"px":0)}this.relayCmd("FontSize",e)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){var g=this,d,e,a,b,h,j,c,k;if(g.readOnly){return}if(!g.activated){g.onFirstFocus();return}a=g.getToolbar().items.map;b=g.getDoc();if(g.enableFont&&!Ext.isSafari2){j=b.queryCommandValue("fontName");h=(j?j.split(",")[0].replace(/^'/,"").replace(/'$/,""):g.defaultFont).toLowerCase();c=g.fontSelect.dom;if(h!==c.value||h!=j){c.value=h}}function m(){var n;for(d=0,e=arguments.length,h;d<e;d++){h=arguments[d];try{n=b.queryCommandState(h)}catch(l){n=false}a[h].toggle(n)}}if(g.enableFormat){m("bold","italic","underline")}if(g.enableAlignments){m("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&g.enableLists){m("insertorderedlist","insertunorderedlist")}k=g.toolbar.query("menu");for(d=0;d<k.length;d++){k[d].hide()}g.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){var c=this;if(!this.isDestroyed){c.win.focus();c.execCmd(a,b);c.updateToolbar()}},10,this)},execCmd:function(a,d){var c=this,b=c.getDoc();b.execCommand(a,false,(d==undefined?null:d));c.syncValue()},applyCommand:function(d){if(d.ctrlKey){var g=this,a=d.getCharCode(),b;if(a>0){a=String.fromCharCode(a);switch(a){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline";break}if(b){g.win.focus();g.execCmd(b);g.deferFocus();d.preventDefault()}}}},insertAtCursor:function(c){var a=this,b;if(a.activated){a.win.focus();if(Ext.isIE){b=a.getDoc().selection.createRange();if(b){b.pasteHTML(c);a.syncValue();a.deferFocus()}}else{a.execCmd("InsertHTML",c);a.deferFocus()}}},fixKeys:(function(){if(Ext.isIE){return function(b){var d=this,c=b.getKey(),a=d.getDoc(),h=d.readOnly,g,j;if(c===b.TAB){b.stopEvent();if(!h){g=a.selection.createRange();if(g){if(g.collapse){g.collapse(true);g.pasteHTML("&#160;&#160;&#160;&#160;")}d.deferFocus()}}}else{if(c===b.ENTER){if(!h){g=a.selection.createRange();if(g){j=g.parentElement();if(!j||j.tagName.toLowerCase()!=="li"){b.stopEvent();g.pasteHTML("<br />");g.collapse(false);g.select()}}}}}}}if(Ext.isOpera){return function(a){var c=this,b=a.getKey(),d=c.readOnly;if(b===a.TAB){a.stopEvent();if(!d){c.win.focus();c.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");c.deferFocus()}}}}return null}()),fixKeysAfter:(function(){if(Ext.isIE){return function(b){var g=this,d=b.getKey(),a=g.getDoc(),h=g.readOnly,c;if(!h&&(d===b.BACKSPACE||d===b.DELETE)){c=a.body.innerHTML;if(c==="<p>&nbsp;</p>"||c==="<P>&nbsp;</P>"){a.body.innerHTML=""}}}}return null}()),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}});Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var d=this,b=Ext.Date,a=b.clearTime,c=d.initDate;d.absMin=a(new Date(c[0],c[1],c[2]));d.absMax=b.add(a(new Date(c[0],c[1],c[2])),"mi",(24*60)-1);d.store=d.createStore();d.store.addFilter(d.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),false);d.updateList();d.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(a){var b=this.initDate;a.setFullYear(b[0],b[1],b[2]);return a},updateList:function(){var b=this,c=b.normalizeDate(b.minValue||b.absMin),a=b.normalizeDate(b.maxValue||b.absMax);b.rangeFilter.setFilterFn(function(e){var d=e.get("date");return d>=c&&d<=a});b.store.filter()},createStore:function(){var b=this,e=Ext.Date,d=[],c=b.absMin,a=b.absMax;while(c<=a){d.push({disp:e.dateFormat(c,b.format),date:c});c=e.add(c,"mi",b.increment)}return new Ext.data.Store({fields:["disp","date"],data:d})},focusNode:function(a){return false}});Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var b=this,c=b.minValue,a=b.maxValue;if(c){b.setMinValue(c)}if(a){b.setMaxValue(a)}b.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+b.displayField+'"])]}<tpl if="xindex < xcount">'+b.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(b.formatDate,b)});this.callParent()},transformOriginalValue:function(a){if(Ext.isString(a)){return this.rawToValue(a)}return a},isEqual:function(a,b){return Ext.Date.isEqual(a,b)},setMinValue:function(c){var a=this,b=a.picker;a.setLimit(c,true);if(b){b.setMinValue(a.minValue)}},setMaxValue:function(c){var a=this,b=a.picker;a.setLimit(c,false);if(b){b.setMaxValue(a.maxValue)}},setLimit:function(g,b){var c=this,a,e;if(Ext.isString(g)){a=c.parseDate(g)}else{if(Ext.isDate(g)){a=g}}if(a){e=Ext.Date.clearTime(new Date(c.initDate));e.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}else{e=null}c[b?"minValue":"maxValue"]=e},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(h){var e=this,c=Ext.String.format,b=e.callParent(arguments),g=e.minValue,d=e.maxValue,a;h=e.formatDate(h||e.processRawValue(e.getRawValue()));if(h===null||h.length<1){return b}a=e.parseDate(h);if(!a){b.push(c(e.invalidText,h,Ext.Date.unescapeFormat(e.format)));return b}if(g&&a<g){b.push(c(e.minText,e.formatDate(g)))}if(d&&a>d){b.push(c(e.maxText,e.formatDate(d)))}return b},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(h){var e=this,g=h,a=e.altFormats,b=e.altFormatsArray,c=0,d;if(h&&!Ext.isDate(h)){g=e.safeParse(h,e.format);if(!g&&a){b=b||a.split("|");d=b.length;for(;c<d&&!g;++c){g=e.safeParse(h,b[c])}}}if(g&&e.snapToIncrement){g=new Date(Ext.Number.snap(g.getTime(),e.increment*60*1000))}return g},safeParse:function(g,a){var b=this,e=Ext.Date,c,d=null;if(e.formatContainsDateInfo(a)){d=e.parse(g,a)}else{c=e.parse(b.initDate+" "+g,b.initDateFormat+" "+a);if(c){d=c}}return d},getSubmitValue:function(){var b=this,a=b.submitFormat||b.format,c=b.getValue();return c?Ext.Date.format(c,a):null},createPicker:function(){var a=this,b;a.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:undefined,minValue:a.minValue,maxValue:a.maxValue,increment:a.increment,format:a.format,maxHeight:a.pickerMaxHeight},a.listConfig);b=a.callParent();a.bindStore(b.store);return b},onItemClick:function(b,c){var a=this,d=b.getSelectionModel().getSelection();if(d.length>0){d=d[0];if(d&&Ext.Date.isEqual(c.get("date"),d.get("date"))){a.collapse()}}},onListSelectionChange:function(a,c){if(c.length){var b=this,d=c[0].get("date");if(!b.ignoreSelection){b.skipSync=true;b.setValue(d);b.skipSync=false;b.fireEvent("select",b,d);b.picker.clearHighlight();b.collapse();b.inputEl.focus()}}},syncSelection:function(){var e=this,g=e.picker,k,j,l,b,a,c,h;if(g&&!e.skipSync){g.clearHighlight();l=e.getValue();j=g.getSelectionModel();e.ignoreSelection++;if(l===null){j.deselectAll()}else{if(Ext.isDate(l)){b=g.store.data.items;c=b.length;for(a=0;a<c;a++){h=b[a];if(Ext.Date.isEqual(h.get("date"),l)){k=h;break}}j.select(k)}}e.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments);if(a.wasValid&&b){a.setRawValue(a.formatDate(b))}},setValue:function(){this.getPicker();return this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}});Ext.define("Ext.grid.CellContext",{isCellContext:true,constructor:function(a){this.view=a},setPosition:function(c,a){var b=this;if(arguments.length===1){if(c.view){b.view=c.view}a=c.column;c=c.row}b.setRow(c);b.setColumn(a);return b},setRow:function(b){var a=this;if(b!==undefined){if(typeof b==="number"){a.row=Math.max(Math.min(b,a.view.dataSource.getCount()-1),0);a.record=a.view.dataSource.getAt(b)}else{if(b.isModel){a.record=b;a.row=a.view.indexOf(b)}else{if(b.tagName){a.record=a.view.getRecord(b);a.row=a.view.indexOf(a.record)}}}}},setColumn:function(a){var c=this,b=c.view.ownerCt.columnManager;if(a!==undefined){if(typeof a==="number"){c.column=a;c.columnHeader=b.getHeaderAtIndex(a)}else{if(a.isHeader){c.columnHeader=a;c.column=b.getHeaderIndex(a)}}}}});Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,constructor:function(a){a=Ext.apply({},a);if(a.field){a.field.monitorTab=false}this.callParent([a])},onShow:function(){var b=this,a=b.boundEl.first();if(a){if(b.isForTree){a=a.child(b.treeNodeSelector)}a.hide()}b.callParent(arguments)},onHide:function(){var b=this,a=b.boundEl.first();if(a){if(b.isForTree){a=a.child(b.treeNodeSelector)}a.show()}b.callParent(arguments)},afterRender:function(){var b=this,a=b.field;b.callParent(arguments);if(a.isCheckbox){a.mon(a.inputEl,{mousedown:b.onCheckBoxMouseDown,click:b.onCheckBoxClick,scope:b})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(a){var e=this,b=e.boundEl,d=b.first(),h=b.getWidth(),g=Ext.Array.clone(e.offsets),c=e.grid,j;if(e.isForTree){j=e.getTreeNodeOffset(d);h-=Math.abs(j);g[0]+=j}if(c.columnLines){h-=b.getBorderWidth("rl")}if(a===true){e.field.setWidth(h)}e.alignTo(d,e.alignment,g)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;if(b.onEditorTab){b.onEditorTab(a)}},alignment:"l-l",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:false,shadow:false});Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:true,beginLayout:function(b){var a=this;a.callParent(arguments);b.titleContext=b.getEl("titleEl");b.triggerContext=b.getEl("triggerEl")},beginLayoutCycle:function(d){var b=this,c=b.owner;b.callParent(arguments);if(d.widthModel.shrinkWrap){c.el.setWidth("")}var a=c.isLast&&c.isSubHeader?"0":"";if(a!==b.lastBorderRightWidth){c.el.dom.style.borderRightWidth=b.lasBorderRightWidth=a}c.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(g,d){if(!d){return}var c=this,e=c.owner,b=d-g.getBorderInfo().height,a=b,k,l,j,h;if(!e.noWrap&&!g.hasDomProp("width")){c.done=false;return}if(g.hasRawContent){l=a;k=e.textEl.getHeight();if(k){a-=k;if(a>0){j=Math.floor(a/2);h=a-j;g.titleContext.setProp("padding-top",j);g.titleContext.setProp("padding-bottom",h)}}}else{l=e.titleEl.getHeight();g.setProp("innerHeight",b-l,false)}if((Ext.isIE6||Ext.isIEQuirks)&&g.triggerContext){g.triggerContext.setHeight(l)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(b,a){this.callParent(arguments);if((Ext.isIE6||Ext.isIEQuirks)&&b.triggerContext){b.triggerContext.setHeight(a)}},publishInnerWidth:function(b,a){if(!b.hasRawContent){b.setProp("innerWidth",a-b.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(b,a){var c=this.callParent(arguments);if(!b.hasRawContent){if(this.owner.noWrap||b.hasDomProp("width")){return a+this.owner.titleEl.getHeight()+b.getBorderInfo().height}return null}return c},calculateOwnerWidthFromContentWidth:function(d,a){var c=this.owner,b=Math.max(a,c.textEl.getWidth()+d.titleContext.getPaddingInfo().width),e=d.getPaddingInfo().width,g=this.getTriggerOffset(c,d);return b+e+g},getTriggerOffset:function(a,b){var c=0;if(b.widthModel.shrinkWrap&&!a.menuDisabled){if(a.query(">:not([hidden])").length===0){c=a.self.triggerElWidth}}return c}});Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){if(!this.scrollbarWidth){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(l){var j=this,k=j.owner,b=j.grid,m=b.view,e=j.getVisibleItems(),h=e.length,a=j.firstHeaderCls,g=j.lastHeaderCls,c,d;if(b.lockable){if(k.up("tablepanel")===m.normalGrid){m=m.normalGrid.getView()}else{m=null}}for(c=0;c<h;c++){d=e[c];d.isLast=false;d.removeCls([a,g]);if(c===0){d.addCls(a)}if(c===h-1){d.addCls(g);d.isLast=true}}j.callParent(arguments);if(!k.isColumn&&Ext.getScrollbarSize().width&&!b.collapsed&&m&&m.rendered&&(l.viewTable=m.body.dom)){l.viewContext=l.context.getCmp(m)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments);if(a.state.parallelDone&&(!this.owner.forceFit||a.flexedItems.length)){a.setProp("columnWidthsDone",true)}if(a.viewContext){a.state.tableHeight=a.viewTable.offsetHeight}},completeLayout:function(c){var a=this,b=a.owner,d=c.state;a.callParent(arguments);if(!c.flexedItems.length&&!d.flexesCalculated&&b.forceFit&&a.convertWidthsToFlexes(c)){a.cacheFlexes(c);c.invalidate({state:{flexesCalculated:true}})}else{c.setProp("columnWidthsDone",true)}},convertWidthsToFlexes:function(j){var h=this,k=0,a=h.sizeModels.calculated,c,g,d,b,e;c=j.childItems;g=c.length;for(d=0;d<g;d++){b=c[d];e=b.target;k+=b.props.width;if(!(e.fixed||e.resizable===false)){e.flex=j.childItems[d].flex=b.props.width;e.width=null;b.widthModel=a}}return k!==j.props.width},getContainerSize:function(b){var a=this,c,d=b.viewContext,e;if(a.owner.isColumn){c=a.getColumnContainerSize(b)}else{c=a.callParent(arguments);if(d&&!d.heightModel.shrinkWrap&&d.target.componentLayout.ownerContext){e=d.getProp("height");if(isNaN(e)){a.done=false}else{if(b.state.tableHeight>e){c.width-=Ext.getScrollbarSize().width;b.state.parallelDone=false;d.invalidate()}}}}return c},getColumnContainerSize:function(g){var h=g.paddingContext.getPaddingInfo(),a=0,e=0,c,b,j,d;if(!g.widthModel.shrinkWrap){++e;j=g.getProp("innerWidth");c=(typeof j=="number");if(c){++a;j-=h.width;if(j<0){j=0}}}if(!g.heightModel.shrinkWrap){++e;d=g.getProp("innerHeight");b=(typeof d=="number");if(b){++a;d-=h.height;if(d<0){d=0}}}return{width:j,height:d,needed:e,got:a,gotAll:a==e,gotWidth:c,gotHeight:b}},publishInnerCtSize:function(c){var b=this,d=c.state.boxPlan.targetSize,a=c.peek("contentWidth"),e;b.owner.tooNarrow=c.state.boxPlan.tooNarrow;if((a!=null)&&!b.owner.isColumn){d.width=a;e=b.owner.ownerCt.view;if(e.scrollFlags.y){d.width+=Ext.getScrollbarSize().width}}return b.callParent(arguments)}});Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b){this.headerCt=a;if(b){this.secondHeaderCt=b}},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},getHeaderIndex:function(a){if(a.isGroupHeader){a=a.down(":not([isGroupHeader])")}return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(b){var a=this.getColumns();return a.length?a[b]:null},getHeaderById:function(d){var a=this.getColumns(),e=a.length,c,b;for(c=0;c<e;++c){b=a[c];if(b.getItemId()===d){return b}}return null},getVisibleHeaderClosestToIndex:function(a){var b=this.getHeaderAtIndex(a);if(b&&b.hidden){b=b.next(":not([hidden])")||b.prev(":not([hidden])")}return b},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns();if(this.secondHeaderCt){Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())}},invalidate:function(){this.columns=null;if(this.rootColumns){this.rootColumns.invalidate()}}},function(){this.createAlias("indexOf","getHeaderIndex")});Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,c){var d=c||this.owner.getSizeModel(),b=(d.width.shrinkWrap?0:1)|(d.height.shrinkWrap?0:2);return this.sizePolicies[b]},beginLayoutCycle:function(p,d){var m=this,q=m.lastHeightModel&&m.lastHeightModel.calculated,s=m.lastWidthModel&&m.lastWidthModel.calculated,r=s||q,k=0,l=0,a,b,e,g,h,j,n,o,t,u;m.callParent(arguments);if(r&&p.targetContext.el.dom.tagName.toUpperCase()!="TD"){r=s=q=false}b=p.childItems;h=b.length;for(e=0;e<h;++e){g=b[e];if(d){a=g.target;n=a.minHeight;o=a.minWidth;if(o||n){j=g.marginInfo||g.getMarginInfo();n+=j.height;o+=j.height;if(k<n){k=n}if(l<o){l=o}}}if(r){t=g.el.dom.style;if(q){t.height=""}if(s){t.width=""}}}if(d){p.maxChildMinHeight=k;p.maxChildMinWidth=l}a=p.target;p.overflowX=(!p.widthModel.shrinkWrap&&p.maxChildMinWidth&&a.scrollFlags.x)||u;p.overflowY=(!p.heightModel.shrinkWrap&&p.maxChildMinHeight&&a.scrollFlags.y)||u},calculate:function(m){var j=this,a=m.childItems,h=a.length,b=j.getContainerSize(m),g={length:h,ownerContext:m,targetSize:b},r=m.widthModel.shrinkWrap,q=m.heightModel.shrinkWrap,k=m.overflowX,l=m.overflowY,o,p,n,e,d,c;if(k||l){o=j.getScrollbarsNeeded(k&&b.width,l&&b.height,m.maxChildMinWidth,m.maxChildMinHeight);if(o){p=Ext.getScrollbarSize();if(o&1){b.height-=p.height}if(o&2){b.width-=p.width}}}for(e=0;e<h;++e){g.index=e;j.fitItem(a[e],g)}if(q||r){n=m.targetContext.getPaddingInfo();if(r){if(l&&!b.gotHeight){j.done=false}else{d=g.contentWidth+n.width;if(o&2){d+=p.width}if(!m.setContentWidth(d)){j.done=false}}}if(q){if(k&&!b.gotWidth){j.done=false}else{c=g.contentHeight+n.height;if(o&1){c+=p.height}if(!m.setContentHeight(c)){j.done=false}}}}},fitItem:function(b,a){var c=this;if(b.invalid){c.done=false;return}a.margins=b.getMarginInfo();a.needed=a.got=0;c.fitItemWidth(b,a);c.fitItemHeight(b,a);if(a.got!=a.needed){c.done=false}},fitItemWidth:function(c,b){var a,d;if(b.ownerContext.widthModel.shrinkWrap){d=c.getProp("width")+b.margins.width;a=b.contentWidth;if(a===undefined){b.contentWidth=d}else{b.contentWidth=Math.max(a,d)}}else{if(c.widthModel.calculated){++b.needed;if(b.targetSize.gotWidth){++b.got;this.setItemWidth(c,b)}}}this.positionItemX(c,b)},fitItemHeight:function(d,c){var a,b;if(c.ownerContext.heightModel.shrinkWrap){b=d.getProp("height")+c.margins.height;a=c.contentHeight;if(a===undefined){c.contentHeight=b}else{c.contentHeight=Math.max(a,b)}}else{if(d.heightModel.calculated){++c.needed;if(c.targetSize.gotHeight){++c.got;this.setItemHeight(d,c)}}}this.positionItemY(d,c)},positionItemX:function(b,a){var c=a.margins;if(a.index||c.left){b.setProp("x",c.left)}if(c.width){b.setProp("margin-right",c.width)}},positionItemY:function(b,a){var c=a.margins;if(a.index||c.top){b.setProp("y",c.top)}if(c.height){b.setProp("margin-bottom",c.height)}},setItemHeight:function(b,a){b.setHeight(a.targetSize.height-a.margins.height)},setItemWidth:function(b,a){b.setWidth(a.targetSize.width-a.margins.width)}});Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var e=this,b=e.columns||e.colModel,h,c,d,g=e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),a;if(e.columnLines){e.addCls(e.colLinesCls)}e.addCls(e.rowLines?e.rowLinesCls:e.noRowLinesCls);if(b instanceof Ext.grid.header.Container){b.isRootHeader=true;e.headerCt=b}else{if(e.enableLocking||e.hasLockedColumns(b)){e.self.mixin("lockable",Ext.grid.locking.Lockable);e.injectLockable()}else{if(Ext.isArray(b)){b={items:b}}Ext.apply(b,{grid:e,forceFit:e.forceFit,sortable:e.sortableColumns,enableColumnMove:e.enableColumnMove,enableColumnResize:e.enableColumnResize,sealed:e.sealedColumns,isRootHeader:true});if(Ext.isDefined(e.enableColumnHide)){b.enableColumnHide=e.enableColumnHide}if(!e.headerCt){e.headerCt=new Ext.grid.header.Container(b)}}}e.columns=e.headerCt.getGridColumns();e.scrollTask=new Ext.util.DelayedTask(e.syncHorizontalScroll,e);e.addEvents("reconfigure","viewready");e.bodyCls=e.bodyCls||"";e.bodyCls+=(" "+e.extraBodyCls);e.cls=e.cls||"";e.cls+=(" "+e.extraBaseCls);delete e.autoScroll;if(!e.hasView){a=e.headerCt.getGridColumns();if(g.buffered&&!g.remoteSort){for(c=0,d=a.length;c<d;c++){a[c].sortable=false}}if(e.hideHeaders){e.headerCt.height=0;e.headerCt.hiddenHeaders=true;e.headerCt.addCls(e.hiddenHeaderCtCls);e.addCls(e.hiddenHeaderCls);if(Ext.isIEQuirks){e.headerCt.style={display:"none"}}}e.relayHeaderCtEvents(e.headerCt);e.features=e.features||[];if(!Ext.isArray(e.features)){e.features=[e.features]}e.dockedItems=[].concat(e.dockedItems||[]);e.dockedItems.unshift(e.headerCt);e.viewConfig=e.viewConfig||{};h=e.getView();e.items=[h];e.hasView=true;if(!e.hideHeaders){h.on({scroll:{fn:e.onHorizontalScroll,element:"el",scope:e}})}e.bindStore(g,true);e.mon(h,{viewready:e.onViewReady,refresh:e.onRestoreHorzScroll,scope:e})}e.relayEvents(e.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);e.callParent(arguments);e.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]);if(!e.lockable&&e.headerCt){e.headerCt.on("afterlayout",e.onRestoreHorzScroll,e)}},hasLockedColumns:function(b){var c,d,a;if(Ext.isObject(b)){b=b.items}for(c=0,d=b.length;c<d;c++){a=b[c];if(!a.processed&&a.locked){return true}}},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var a=this,b=a.callParent(),c=a.store.getState();b=a.addPropertyToState(b,"columns",a.headerCt.getColumnsState());if(c){b.storeState=c}return b},applyState:function(d){var b=this,c=d.sort,g=d.storeState,e=b.store,a=d.columns;delete d.columns;b.callParent(arguments);if(a){b.headerCt.applyColumnsState(a)}if(c){if(e.remoteSort){e.sort({property:c.property,direction:c.direction,root:c.root},null,false)}else{e.sort(c.property,c.direction)}}else{if(g){e.applyState(g)}}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();Ext.widget(Ext.apply({grid:a,deferInitialRefresh:a.deferRowRender!==false,trackOver:a.trackMouseOver!==false,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,columnLines:a.columnLines,rowLines:a.rowLines,selModel:b,features:a.features,panel:a,emptyText:a.emptyText||""},a.viewConfig));if(a.view.emptyText){a.view.emptyText='<div class="'+a.emptyCls+'">'+a.view.emptyText+"</div>"}a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(l,m,a,j,b,c,h,k){var g=this,d;if(b!==-1){d=g.columnManager.getColumns()[b];return d.processEvent.apply(d,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(b,a){this.getView().scrollBy(0,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,0,a)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(d,c,a,b,g){var e=this;if(e.optimizedColumnMove===false){e.view.refresh()}else{e.view.moveColumn(b,g,a)}e.delayScroll()},onHeaderHide:function(b,a){this.view.refresh();this.delayScroll()},onHeaderShow:function(b,a){this.view.refresh();this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;if(a){this.syncHorizontalScroll(a,true)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up("[scrollerOwner]")}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getSelectionModel:function(){var b=this,d=b.selModel,a,c,e;if(!d){d={};a=true}if(!d.events){e=d.selType||b.selType;a=!d.mode;d=b.selModel=Ext.create("selection."+e,d)}if(b.simpleSelect){c="SIMPLE"}else{if(b.multiSelect){c="MULTI"}}Ext.applyIf(d,{allowDeselect:b.allowDeselect});if(c&&a){d.setSelectionMode(c)}if(!d.hasRelaySetup){b.relayEvents(d,["selectionchange","beforeselect","beforedeselect","select","deselect"]);d.hasRelaySetup=true}if(b.disableSelection){d.locked=true}return d},getScrollTarget:function(){var b=this.getScrollerOwner(),a=b.query("tableview");return a[1]||a[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(a,d){var b=this,c;d=d===true;if(b.rendered&&(d||a!==b.scrollLeftPos)){if(d){c=b.getScrollTarget();c.el.dom.scrollLeft=a}b.headerCt.el.dom.scrollLeft=a;b.scrollLeftPos=a}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,c){var d=this,g=d.getView(),b=e&&e.buffered,a;d.store=e;a=d.findPlugin("bufferedrenderer");if(a){d.verticalScroller=a;if(a.store){a.bindStore(e)}}else{if(b){d.verticalScroller=a=d.addPlugin(Ext.apply({ptype:"bufferedrenderer"},d.initialConfig.verticalScroller))}}if(g.store!==e){if(c){g.bindStore(e,false,"dataSource")}else{g.bindStore(e,false)}}d.mon(e,{load:d.onStoreLoad,scope:d});d.storeRelayers=d.relayEvents(e,["filterchange"]);if(a){d.invalidateScrollerOnRefresh=false}if(d.invalidateScrollerOnRefresh!==undefined){g.preserveScrollOnRefresh=!d.invalidateScrollerOnRefresh}},unbindStore:function(){var a=this,b=a.store;if(b){a.store=null;a.mun(b,{load:a.onStoreLoad,scope:a});Ext.destroy(a.storeRelayers)}},reconfigure:function(h,a){var c=this,j=c.getView(),g,e=c.store,b=c.headerCt,d=b?b.items.getRange():c.columns;if(a){a=Ext.Array.slice(a)}c.fireEvent("beforereconfigure",c,h,a,e,d);if(c.lockable){c.reconfigureLockable(h,a)}else{Ext.suspendLayouts();if(a){delete c.scrollLeftPos;b.removeAll();b.add(a)}if(h&&(h=Ext.StoreManager.lookup(h))!==e){if(c.store){c.unbindStore()}g=j.deferInitialRefresh;j.deferInitialRefresh=false;c.bindStore(h);j.deferInitialRefresh=g}else{c.getView().refresh()}b.setSortState();Ext.resumeLayouts(true)}c.fireEvent("reconfigure",c,h,a,e,d)},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}this.callParent()},onDestroy:function(){if(this.lockable){this.destroyLockable()}this.callParent()}});Ext.define("Ext.util.CSS",function(){var c,e=null,d=document,b=/(-[a-z])/gi,a=function(h,g){return g.charAt(1).toUpperCase()};return{singleton:true,rules:e,initialized:false,constructor:function(){c=this},createStyleSheet:function(g,k){var l,j=d.getElementsByTagName("head")[0],m=d.createElement("style");m.setAttribute("type","text/css");if(k){m.setAttribute("id",k)}if(Ext.isIE){j.appendChild(m);l=m.styleSheet;l.cssText=g}else{try{m.appendChild(d.createTextNode(g))}catch(h){m.cssText=g}j.appendChild(m);l=m.styleSheet?m.styleSheet:(m.sheet||d.styleSheets[d.styleSheets.length-1])}c.cacheStyleSheet(l);return l},removeStyleSheet:function(h){var g=d.getElementById(h);if(g){g.parentNode.removeChild(g)}},swapStyleSheet:function(g,j){var h;c.removeStyleSheet(g);h=d.createElement("link");h.setAttribute("rel","stylesheet");h.setAttribute("type","text/css");h.setAttribute("id",g);h.setAttribute("href",j);d.getElementsByTagName("head")[0].appendChild(h)},refreshCache:function(){return c.getRules(true)},cacheStyleSheet:function(o){if(!e){e=c.rules={}}try{var p=o.cssRules||o.rules,h=p.length-1,k=o.imports,m=k?k.length:0,n,l;for(l=0;l<m;++l){c.cacheStyleSheet(k[l])}for(;h>=0;--h){n=p[h];if(n.styleSheet){c.cacheStyleSheet(n.styleSheet)}c.cacheRule(n,o)}}catch(g){}},cacheRule:function(g,m){if(g.styleSheet){return c.cacheStyleSheet(g.styleSheet)}var l=g.selectorText,k,h;if(l){l=l.split(",");k=l.length;for(h=0;h<k;h++){e[Ext.String.trim(l[h]).toLowerCase()]={parentStyleSheet:m,cssRule:g}}}},getRules:function(g){var h={},j;if(e===null||g){c.refreshCache()}for(j in e){h[j]=e[j].cssRule}return h},refreshCache:function(){var g=d.styleSheets,j=0,k=g.length;e=c.rules={};for(;j<k;j++){try{if(!g[j].disabled){c.cacheStyleSheet(g[j])}}catch(h){}}},getRule:function(l,j,h){var g,k;if(!e||j){c.refreshCache()}if(!Ext.isArray(l)){k=e[l.toLowerCase()];if(k&&!h){k=k.cssRule}return k||null}for(g=0;g<l.length;g++){if(e[l[g]]){return h?e[l[g].toLowerCase()]:e[l[g].toLowerCase()].cssRule}}return null},createRule:function(m,l,g){var j,k=m.cssRules||m.rules,h=k.length;if(m.insertRule){m.insertRule(l+"{"+g+"}",h)}else{m.addRule(l,g||" ")}c.cacheRule(j=k[h],m);return j},updateRule:function(k,h,m){var j,g,l;if(!Ext.isArray(k)){j=c.getRule(k);if(j){if(arguments.length==2){l=Ext.Element.parseStyles(h);for(h in l){j.style[h.replace(b,a)]=l[h]}}else{j.style[h.replace(b,a)]=m}return true}}else{for(g=0;g<k.length;g++){if(c.updateRule(k[g],h,m)){return true}}}return false},deleteRule:function(j){var h=c.getRule(j,false,true),k,g;if(h){k=h.parentStyleSheet;g=Ext.Array.indexOf(k.cssRules||k.rules,h.cssRule);if(k.deleteRule){k.deleteRule(g)}else{k.removeRule(g)}delete e[j]}}}});Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(d){var a=this,b=a.owner.lockingPartner,c=a.owner;a.callParent(arguments);if(b){a.lockedGrid=a.owner.up("[lockable]");a.lockedGrid.needsRowHeightSync=true;if(!d.lockingPartner){d.lockingPartner=d.context.getItem(b,b.el);if(d.lockingPartner&&!d.lockingPartner.lockingPartner){d.lockingPartner.lockingPartner=d}}}d.headerContext=d.context.getCmp(a.headerCt);if(a.owner.body.dom){d.bodyContext=d.getEl(a.owner.body)}if(Ext.isWebKit){c.el.select(c.getBodySelector()).setStyle("table-layout","auto")}},calculate:function(g){var d=this,c=d.lockingPartner,e=d.owner,a=0,b;if(g.headerContext.hasProp("columnWidthsDone")){if(!d.setColumnWidths(g)){d.done=false;return}g.state.columnWidthsSynced=true;if(g.bodyContext){b=d.owner.el.down("."+e.ownerCt.emptyCls,true);if(!b){a=g.bodyContext.el.dom.offsetHeight;g.bodyContext.setHeight(a,false)}else{a=b.offsetHeight}g.setProp("contentHeight",a)}if(c&&!c.state.columnWidthsSynced){d.done=false}else{d.callParent(arguments)}}else{d.done=false}},measureContentHeight:function(b){var a=b.lockingPartner;if(!b.bodyContext||(b.state.columnWidthsSynced&&(!a||a.state.columnWidthsSynced))){return this.callParent(arguments)}},setColumnWidths:function(n){var l=this,m=l.owner,g=n.context,d=l.headerCt.getVisibleGridColumns(),b,h=0,k=d.length,o=0,c=0,a,e,j=!Ext.isBorderBox;if(g){g.currentLayout=l}for(h=0;h<k;h++){b=d[h];a=g.getCmp(b);e=a.props.width;if(isNaN(e)){a.getProp("width");return false}o+=e;if(j&&m.columnLines){if(!c){c=g.getCmp(b).borderInfo.width||1}e-=c}m.body.select(m.getColumnSizerSelector(b)).setWidth(e)}m.el.select(m.getBodySelector()).setWidth(o);return true},finishedLayout:function(){var a=this,b=a.owner;a.callParent(arguments);if(Ext.isWebKit){b.el.select(b.getBodySelector()).setStyle("table-layout","")}if(b.refreshCounter&&a.lockedGrid&&a.lockedGrid.syncRowHeight&&a.lockedGrid.needsRowHeightSync){a.lockedGrid.syncRowHeights();a.lockedGrid.needsRowHeightSync=false}}});Ext.define("Ext.view.NodeCache",{constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.AbstractElement.Fly()},clear:function(e){var d=this,b=this.elements,c,a;if(e){for(c in b){a=b[c];a.parentNode.removeChild(a)}}d.elements={};d.count=d.startIndex=0;d.endIndex=-1},fill:function(e,g){var d=this,a=d.elements={},b,c=e.length;if(!g){g=0}for(b=0;b<c;b++){a[g+b]=e[b]}d.startIndex=g;d.endIndex=g+c-1;d.count=c;return this},insert:function(c,g){var d=this,a=d.elements,b,e=g.length;if(d.count){if(c<d.count){for(b=d.endIndex+e;b>=c+e;b--){a[b]=a[b-e];a[b].setAttribute("data-recordIndex",b)}}d.endIndex=d.endIndex+e}else{d.startIndex=c;d.endIndex=c+e-1}for(b=0;b<e;b++,c++){a[c]=g[b];a[c].setAttribute("data-recordIndex",c)}d.count+=e},item:function(c,a){var b=this.elements[c],d=null;if(b){d=a?this.elements[c]:this.el.attach(this.elements[c])}return d},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(e,b){var a=this.elements,d=[],c;if(arguments.length<2){b=this.endIndex}else{b=Math.min(this.endIndex,b-1)}for(c=e||this.startIndex;c<=b;c++){d.push(a[c])}return d},replaceElement:function(b,e,a){var c=this.elements,d=(typeof b==="number")?b:this.indexOf(b);if(d>-1){e=Ext.getDom(e);if(a){b=c[d];b.parentNode.insertBefore(e,b);Ext.removeNode(b);e.setAttribute("data-recordIndex",d)}this.elements[d]=e}return this},indexOf:function(a){var b=this.elements,c;a=Ext.getDom(a);for(c=this.startIndex;c<=this.endIndex;c++){if(b[c]===a){return c}}return -1},removeRange:function(k,c,j){var g=this,b=g.elements,a,e,h,d;if(c===undefined){c=g.count}else{c=Math.min(g.endIndex+1,c+1)}if(!k){k=0}h=c-k;for(e=k,d=c;e<g.endIndex;e++,d++){if(j&&e<c){Ext.removeNode(b[e])}if(d<=g.endIndex){a=b[e]=b[d];a.setAttribute("data-recordIndex",e)}else{delete b[e]}}g.count-=h;g.endIndex-=h},removeElement:function(k,m){var l=this,g,h,c=l.elements,b,a,j=0,e,d;if(Ext.isArray(k)){g=k;k=[];a=g.length;for(j=0;j<a;j++){h=g[j];if(typeof h!=="number"){h=l.indexOf(h)}if(h>=l.startIndex&&h<=l.endIndex){k[k.length]=h}}Ext.Array.sort(k);a=k.length}else{if(k<l.startIndex||k>l.endIndex){return}a=1;k=[k]}for(e=d=k[0],j=0;e<=l.endIndex;e++,d++){if(j<a&&e===k[j]){d++;j++;if(m){Ext.removeNode(c[e])}}if(d<=l.endIndex&&d>=l.startIndex){b=c[e]=c[d];b.setAttribute("data-recordIndex",e)}else{delete c[e]}}l.endIndex-=a;l.count-=a},scroll:function(j,a,m){var g=this,c=g.elements,l=j.length,e,b,n,h,k=g.view.getNodeContainer(),d=document.createDocumentFragment();if(a==-1){for(e=(g.endIndex-m)+1;e<=g.endIndex;e++){b=c[e];delete c[e];b.parentNode.removeChild(b)}g.endIndex-=m;h=g.view.bufferRender(j,g.startIndex-=l);for(e=0;e<l;e++){c[g.startIndex+e]=h[e];d.appendChild(h[e])}k.insertBefore(d,k.firstChild)}else{n=g.startIndex+m;for(e=g.startIndex;e<n;e++){b=c[e];delete c[e];b.parentNode.removeChild(b)}g.startIndex=e;h=g.view.bufferRender(j,g.endIndex+1);for(e=0;e<l;e++){c[g.endIndex+=1]=h[e];d.appendChild(h[e])}k.appendChild(d)}g.count=g.endIndex-g.startIndex+1}});Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:true,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:false,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){if(a.grid.isTree){a.baseCls=Ext.baseCSSPrefix+"tree-view"}this.callParent([a])},initComponent:function(){var a=this,b=a.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown");a.body=new Ext.dom.Element.Fly();a.body.id=a.id+"gridBody";a.autoScroll=undefined;if(!a.trackOver){a.overItemCls=null;a.beforeOverItemCls=null}if(b===true||b==="both"){a.autoScroll=true}else{if(b==="horizontal"){a.overflowX="auto"}else{if(b==="vertical"){a.overflowY="auto"}}}a.selModel.view=a;a.headerCt.view=a;a.grid.view=a;a.initFeatures(a.grid);delete a.grid;a.tpl=a.getTpl("tpl");a.itemSelector=a.getItemSelector();a.all=new Ext.view.NodeCache(a);a.callParent()},moveColumn:function(h,r,c){var o=this,g=(c>1)?document.createDocumentFragment():undefined,d=r,b=o.getGridColumns().length,m=b-1,e=(o.firstCls||o.lastCls)&&(r===0||r==b||h===0||h==m),k,l,p,n,s,a,q;if(o.rendered&&r!==h){p=o.el.query(o.getDataRowSelector());if(r>h&&g){d-=c}for(k=0,n=p.length;k<n;k++){s=p[k];a=s.childNodes;if(e){if(a.length===1){Ext.fly(a[0]).addCls(o.firstCls);Ext.fly(a[0]).addCls(o.lastCls);continue}if(h===0){Ext.fly(a[0]).removeCls(o.firstCls);Ext.fly(a[1]).addCls(o.firstCls)}else{if(h===m){Ext.fly(a[m]).removeCls(o.lastCls);Ext.fly(a[m-1]).addCls(o.lastCls)}}if(r===0){Ext.fly(a[0]).removeCls(o.firstCls);Ext.fly(a[h]).addCls(o.firstCls)}else{if(r===b){Ext.fly(a[m]).removeCls(o.lastCls);Ext.fly(a[h]).addCls(o.lastCls)}}}if(g){for(l=0;l<c;l++){g.appendChild(a[h])}s.insertBefore(g,a[d]||null)}else{s.insertBefore(a[h],a[d]||null)}}q=o.el.query(o.getBodySelector());for(k=0,n=q.length;k<n;k++){s=q[k];if(g){for(l=0;l<c;l++){g.appendChild(s.childNodes[h])}s.insertBefore(g,s.childNodes[d]||null)}else{s.insertBefore(s.childNodes[h],s.childNodes[d]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(a,b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(b,a){var c=this.getNode(b,true);return Ext.fly(c).down(a.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a){return a.get(b)}},findFeature:function(a){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===a){return true}})}},initFeatures:function(c){var g=this,d,b,a,e;g.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");g.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");g.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");g.featuresMC=new Ext.util.MixedCollection();b=g.features=g.constructFeatures();e=b?b.length:0;for(d=0;d<e;d++){a=b[d];a.view=g;a.grid=c;g.featuresMC.add(a);a.init(c)}},renderTHead:function(e,d){var a=e.view.headerFns,c,b;if(a){for(b=0,c=a.length;b<c;++b){a[b].call(this,e,d)}}},addHeaderFn:function(){var a=this.headerFns;if(!a){a=this.headerFns=[]}a.push(fn)},renderTFoot:function(e,d){var a=e.view.footerFns,c,b;if(a){for(b=0,c=a.length;b<c;++b){a[b].call(this,e,d)}}},addFooterFn:function(a){var b=this.footerFns;if(!b){b=this.footerFns=[]}b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(e,b){var a=this,d,c;b=Ext.Object.chain(b);if(!b.isTemplate){b.applyOut=a.tplApplyOut}for(d=a[e];b.priority<d.priority;d=d.nextTpl){c=d}if(c){c.nextTpl=b}else{a[e]=b}b.nextTpl=d;return b},tplApplyOut:function(b,a){if(this.before){if(this.before(b,a)===false){return}}this.nextTpl.applyOut(b,a);if(this.after){this.after(b,a)}},constructFeatures:function(){var e=this,b=e.features,a,g,c=0,d;if(b){g=[];d=b.length;for(;c<d;c++){a=b[c];if(!a.isFeature){a=Ext.create("feature."+a.ftype,a)}g[c]=a}}return g},beforeRender:function(){var a=this;a.callParent();if(!a.enableTextSelection){a.protoEl.unselectable()}},onViewScroll:function(a,b){this.callParent(arguments);this.fireEvent("bodyscroll",a,b)},createRowElement:function(d,b){var c=this,a=c.renderBuffer;c.tpl.overwrite(a,c.collectData([d],b));return Ext.fly(a).down(c.getNodeContainerSelector(),true).firstChild},bufferRender:function(d,b){var c=this,a=c.renderBuffer;c.tpl.overwrite(a,c.collectData(d,b));return Ext.Array.toArray(Ext.fly(a).down(c.getNodeContainerSelector(),true).childNodes)},collectData:function(a,b){this.rowValues.view=this;return{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?("position:absolute;top:"+this.bufferedRenderer.bodyTop):""}},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var c=this,b,a=c.getBodySelector();if(a){c.body.attach(c.el.child(a,true))}if(!c.hasLoadingHeight){b=c.up("tablepanel");Ext.suspendLayouts();c.callParent();b.updateLayout();Ext.resumeLayouts(true)}},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){a=this.getNode(a);if(a){var b=a.getAttribute("data-recordIndex");if(b){b=parseInt(b,10);if(b>-1){return this.store.data.getAt(b)}}return this.dataSource.data.get(a.getAttribute("data-recordId"))}},indexOf:function(a){a=this.getNode(a,false);if(!a&&a!==0){return -1}return this.all.indexOf(a)},indexInStore:function(a){a=this.getNode(a,true);if(!a&&a!==0){return -1}var b=a.getAttribute("data-recordIndex");if(b){return parseInt(b,10)}return this.dataSource.indexOf(this.getRecord(a))},renderRows:function(d,g,b){var e=this.rowValues,c=d.length,a;e.view=this;e.columns=this.ownerCt.columnManager.getColumns();for(a=0;a<c;a++,g++){e.itemClasses.length=e.rowClasses.length=0;this.renderRow(d[a],g,b)}e.view=e.columns=e.record=null},renderColumnSizer:function(e){var b=this.getGridColumns(),d=b.length,c,a,g;for(c=0;c<d;c++){a=b[c];g=a.hidden?0:(a.lastBox?a.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth);e.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",b[c].getItemId(),'" style="width:'+g+'px"></colgroup>')}},renderRow:function(g,j,e){var d=this,b=j===-1,m=d.selModel,l=d.rowValues,c=l.itemClasses,h=l.rowClasses,a,k=d.rowTpl;l.record=g;l.recordId=g.internalId;l.recordIndex=j;l.rowId=d.getRowId(g);l.itemCls=l.rowCls="";if(!l.columns){l.columns=d.ownerCt.columnManager.getColumns()}c.length=h.length=0;if(!b){c[0]=Ext.baseCSSPrefix+"grid-row";if(m&&m.isRowSelected){if(m.isRowSelected(j+1)){c.push(d.beforeSelectedItemCls)}if(m.isRowSelected(g)){c.push(d.selectedItemCls)}}if(d.stripeRows&&j%2!==0){h.push(d.altRowCls)}if(d.getRowClass){a=d.getRowClass(g,j,null,d.dataSource);if(a){h.push(a)}}}if(e){k.applyOut(l,e)}else{return k.apply(l)}},renderCell:function(e,l,m,g,k){var j=this,n=j.selModel,b=j.cellValues,c=b.classes,h=l.data[e.dataIndex],a=j.cellTpl,o,d;b.record=l;b.column=e;b.recordIndex=m;b.columnIndex=g;b.cellIndex=g;b.align=e.align;b.tdCls=e.tdCls;b.innerCls=e.innerCls;b.style=b.tdAttr="";b.unselectableAttr=j.enableTextSelection?"":'unselectable="on"';if(e.renderer&&e.renderer.call){o=e.renderer.call(e.scope||j.ownerCt,h,b,l,m,g,j.dataSource,j);if(b.css){l.cssWarning=true;b.tdCls+=" "+b.css;delete b.css}}else{o=h}b.value=(o==null||o==="")?"&#160;":o;c[1]=Ext.baseCSSPrefix+"grid-cell-"+e.getItemId();d=2;if(e.tdCls){c[d++]=e.tdCls}if(j.markDirty&&l.isModified(e.dataIndex)){c[d++]=j.dirtyCls}if(e.isFirstVisible){c[d++]=j.firstCls}if(e.isLastVisible){c[d++]=j.lastCls}if(!j.enableTextSelection){c[d++]=Ext.baseCSSPrefix+"unselectable"}c[d++]=b.tdCls;if(n&&n.isCellSelected&&n.isCellSelected(j,m,g)){c[d++]=(j.selectedCellCls)}c.length=d;b.tdCls=c.join(" ");a.applyOut(b,k);b.column=null},getNode:function(c,a){var b,d=this.callParent(arguments);if(d&&d.tagName){if(a){if(!(b=Ext.fly(d)).is(this.dataRowSelector)){return b.down(this.dataRowSelector,true)}}else{if(a===false){if(!(b=Ext.fly(d)).is(this.itemSelector)){return b.up(this.itemSelector,null,true)}}}}return d},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(b,a){b=this.constructRowId(b);return this.retrieveNode(b,a)},getNodeByRecord:function(c,a){var b=this.getRowId(c);return this.retrieveNode(b,a)},retrieveNode:function(c,a){var e=this.el.getById(c,true),d=this.itemSelector,b;if(a===false&&e){if(!(b=Ext.fly(e)).is(d)){return b.up(d,null,true)}}return e},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,true)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(a){var b=this.cellSelector;if(a){b+="-"+a.getItemId()}return b},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(c,a){var b=this.getNode(c,false);if(b){Ext.fly(b).addCls(a)}},removeRowCls:function(c,a){var b=this.getNode(c,false);if(b){Ext.fly(b).removeCls(a)}},setHighlightedItem:function(b){var c=this,a=c.highlightedItem;if(a&&c.el.isAncestor(a)&&c.isRowStyleFirst(a)){c.getRowStyleTableEl(a).removeCls(c.tableOverFirstCls)}if(b&&c.isRowStyleFirst(b)){c.getRowStyleTableEl(b).addCls(c.tableOverFirstCls)}c.callParent(arguments)},onRowSelect:function(b){var a=this;a.addRowCls(b,a.selectedItemCls);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).addCls(a.tableSelectedFirstCls)}else{a.addRowCls(b-1,a.beforeSelectedItemCls)}},onRowDeselect:function(b){var a=this;a.removeRowCls(b,[a.selectedItemCls,a.focusedItemCls]);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).removeCls([a.tableFocusedFirstCls,a.tableSelectedFirstCls])}else{a.removeRowCls(b-1,[a.beforeFocusedItemCls,a.beforeSelectedItemCls])}},onCellSelect:function(b){var a=this.getCellByPosition(b);if(a){a.addCls(this.selectedCellCls);this.scrollCellIntoView(a)}},onCellDeselect:function(b){var a=this.getCellByPosition(b,true);if(a){Ext.fly(a).removeCls(this.selectedCellCls)}},getCellByPosition:function(b,c){if(b){var d=this.getNode(b.row,true),a=this.ownerCt.columnManager.getHeaderAtIndex(b.column);if(a&&d){return Ext.fly(d).down(this.getCellSelector(a),c)}}return false},getFocusEl:function(){var a=this,b;if(a.refreshCounter){b=a.focusedRow;if(!(b&&a.el.contains(b))){if(a.all.getCount()&&(b=a.getNode(a.all.item(0).dom,true))){a.focusRow(b)}else{b=a.body}}}else{return a.el}return Ext.get(b)},onRowFocus:function(c,a,d){var b=this;if(a){b.addRowCls(c,b.focusedItemCls);if(b.isRowStyleFirst(c)){b.getRowStyleTableEl(c).addCls(b.tableFocusedFirstCls)}else{b.addRowCls(c-1,b.beforeFocusedItemCls)}if(!d){b.focusRow(c)}}else{b.removeRowCls(c,b.focusedItemCls);if(b.isRowStyleFirst(c)){b.getRowStyleTableEl(c).removeCls(b.tableFocusedFirstCls)}else{b.removeRowCls(c-1,b.beforeFocusedItemCls)}}if((Ext.isIE6||Ext.isIE7)&&!b.ownerCt.rowLines){b.repaintRow(c)}},focus:function(e,a){var b=this,c=Ext.isIE&&!a,d;if(c){d=b.el.dom.scrollLeft}this.callParent(arguments);if(c){b.el.dom.scrollLeft=d}},focusRow:function(e,a){var c=this,g,b=c.ownerCt&&c.ownerCt.collapsed,d;if(c.isVisible(true)&&!b&&(e=c.getNode(e,true))){c.scrollRowIntoView(e);d=c.getRecord(e);g=c.indexInStore(e);c.selModel.setLastFocused(d);c.focusedRow=e;c.focus(false,a,function(){c.fireEvent("rowfocus",d,e,g)})}},scrollRowIntoView:function(a){a=this.getNode(a,true);if(a){Ext.fly(a).scrollIntoView(this.el,false)}},focusCell:function(c){var b=this,a=b.getCellByPosition(c),d=b.getRecord(c.row);b.focusRow(d);if(a){b.scrollCellIntoView(a);b.fireEvent("cellfocus",d,a,c)}},scrollCellIntoView:function(a){if(a.row!=null&&a.column!=null){a=this.getCellByPosition(a)}if(a){Ext.fly(a).scrollIntoView(this.el,true)}},scrollByDelta:function(a,b){b=b||"scrollTop";var c=this.el.dom;c[b]=(c[b]+=a)},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(a,e){a=Ext.get(a);e=Ext.get(e);a.dom.style.height=e.dom.style.height="";var c=this,d=c.rowTpl,b=a.dom.offsetHeight,g=e.dom.offsetHeight;if(b!==g){while(d){if(d.syncRowHeights){if(d.syncRowHeights(a,e)===false){break}}d=d.nextTpl}b=a.dom.offsetHeight;g=e.dom.offsetHeight;if(b!==g){a=a.down("[data-recordId]")||a;e=e.down("[data-recordId]")||e;if(a&&e){a.dom.style.height=e.dom.style.height="";b=a.dom.offsetHeight;g=e.dom.offsetHeight;if(b>g){a.setHeight(b);e.setHeight(b)}else{if(g>b){a.setHeight(g);e.setHeight(g)}}}}}},onIdChanged:function(h,e,c,b,d){var a=this,g;if(a.viewReady){g=a.getNodeById(d);if(g){g.setAttribute("data-recordId",e.internalId);g.id=a.getRowId(e)}}},onUpdate:function(w,t,r,h){var m=this,u=m.rowTpl,l,p,q,o,n,a,b,c,s,e,k,d,v,g,j;if(m.viewReady){q=m.getNodeByRecord(t,false);if(q){s=m.overItemCls;e=m.overItemCls;k=m.focusedItemCls;d=m.beforeFocusedItemCls;v=m.selectedItemCls;g=m.beforeSelectedItemCls;l=m.indexInStore(t);p=Ext.fly(q,"_internal");o=m.createRowElement(t,l);if(p.hasCls(s)){Ext.fly(o).addCls(s)}if(p.hasCls(e)){Ext.fly(o).addCls(e)}if(p.hasCls(k)){Ext.fly(o).addCls(k)}if(p.hasCls(d)){Ext.fly(o).addCls(d)}if(p.hasCls(v)){Ext.fly(o).addCls(v)}if(p.hasCls(g)){Ext.fly(o).addCls(g)}j=m.ownerCt.columnManager.getColumns();if(Ext.isIE9m&&q.mergeAttributes){q.mergeAttributes(o,true)}else{n=o.attributes;a=n.length;for(c=0;c<a;c++){b=n[c].name;if(b!=="id"){q.setAttribute(b,n[c].value)}}}if(j.length){m.updateColumns(t,m.getNode(q,true),m.getNode(o,true),j,h)}while(u){if(u.syncContent){if(u.syncContent(q,o)===false){break}}u=u.nextTpl}m.fireEvent("itemupdate",t,l,q);m.refreshSize()}}},updateColumns:function(t,s,q,k,e){var n=this,o,a,b,c,g=k.length,h,j,r,p,u,l=n.editingPlugin||(n.lockingPartner&&n.ownerCt.ownerLockable.view.editingPlugin),m=l&&l.editing,d=n.getCellSelector();if(s.mergeAttributes){s.mergeAttributes(q,true)}else{o=q.attributes;a=o.length;for(c=0;c<a;c++){b=o[c].name;if(b!=="id"){s.setAttribute(b,o[c].value)}}}for(h=0;h<g;h++){j=k[h];if(n.shouldUpdateCell(t,j,e)){d=n.getCellSelector(j);r=Ext.DomQuery.selectNode(d,s);p=Ext.DomQuery.selectNode(d,q);if(m){Ext.fly(r).syncContent(p)}else{u=r.parentNode;u.insertBefore(p,r);u.removeChild(r)}}}},shouldUpdateCell:function(g,b,a){if(b.hasCustomRenderer||!a){return true}if(a){var e=a.length,d,c;for(d=0;d<e;++d){c=a[d];if(c===b.dataIndex||c===g.idProperty){return true}}}return false},refresh:function(){var b=this,a=b.el&&b.el.isAncestor(Ext.Element.getActiveElement());b.callParent(arguments);b.headerCt.setSortState();if(b.el&&!b.all.getCount()&&b.headerCt&&b.headerCt.tooNarrow){b.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(b.headerCt.getFullWidth()-1)+"px"})}if(a){b.selModel.onLastFocusChanged(null,b.selModel.lastFocused)}},processItemEvent:function(n,p,q,c){if(this.indexInStore(p)!==-1){var m=this,a=c.getTarget(m.getCellSelector(),p),b,l=m.statics().EventMap,r=m.getSelectionModel(),s=c.type,g=m.features,k=g.length,j,o,d,h;if(s=="keydown"&&!a&&r.getCurrentPosition){a=m.getCellByPosition(r.getCurrentPosition(),true)}if(a){if(!a.parentNode){return false}h=m.getHeaderByCell(a);b=Ext.Array.indexOf(m.getGridColumns(),h)}else{b=-1}o=m.fireEvent("uievent",s,m,a,q,b,c,n,p);if(o===false||m.callParent(arguments)===false){m.selModel.onVetoUIEvent(s,m,a,q,b,c,n,p);return false}for(j=0;j<k;++j){d=g[j];if(d.wrapsItem){if(d.vetoEvent(n,p,q,c)===false){m.processSpecialEvent(c);return false}}}if(s=="mouseover"||s=="mouseout"){return true}if(!a){return true}return !((m["onBeforeCell"+l[s]](a,b,n,p,q,c)===false)||(m.fireEvent("beforecell"+s,m,a,b,n,p,q,c)===false)||(m["onCell"+l[s]](a,b,n,p,q,c)===false)||(m.fireEvent("cell"+s,m,a,b,n,p,q,c)===false))}else{this.processSpecialEvent(c);return false}},processSpecialEvent:function(c){var l=this,g=l.features,k=g.length,o=c.type,j,d,n,h,b,a,m=l.ownerCt;l.callParent(arguments);if(o=="mouseover"||o=="mouseout"){return}for(j=0;j<k;j++){d=g[j];if(d.hasFeatureEvent){h=c.getTarget(d.eventSelector,l.getTargetEl());if(h){n=d.eventPrefix;b=d.getFireEventArgs("before"+n+o,l,h,c);a=d.getFireEventArgs(n+o,l,h,c);if((l.fireEvent.apply(l,b)===false)||(m.fireEvent.apply(m,b)===false)||(l.fireEvent.apply(l,a)===false)||(m.fireEvent.apply(m,a)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)){a=this.getGridColumns[a]}if(a){if(a.isGroupHeader){a.autoSize();return}delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(d){var k=this,a=k.el.query(d.getCellInnerSelector()),l=d.getWidth(),e=0,g=a.length,c=Ext.supports.ScrollWidthInlinePaddingBug,b=k.body.select(k.getColumnSizerSelector(d)),h=Math.max,m,j;if(c&&g>0){m=k.getCellPaddingAfter(a[0])}b.setWidth(1);j=d.textEl.dom.offsetWidth+d.titleEl.getPadding("lr");for(;e<g;e++){j=h(j,a[e].scrollWidth)}if(c){j+=m}j=h(j,40);b.setWidth(l);return j},getPositionByEvent:function(b){var d=this,a=b.getTarget(d.cellSelector),h=b.getTarget(d.itemSelector),g=d.getRecord(h),c=d.getHeaderByCell(a);return d.getPosition(g,c)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1]){return this.ownerCt.columnManager.getHeaderById(b[1])}}return false},walkCells:function(l,c,d,m,q,p){if(!l){return false}var h=this,n=l.row,b=l.column,o=h.dataSource.getCount(),g=h.ownerCt.columnManager.getColumns().length-1,k=n,j=b,a=h.ownerCt.columnManager.getHeaderAtIndex(b);if(!a||a.hidden||!o){return false}d=d||{};c=c.toLowerCase();switch(c){case"right":if(b===g){if(m||n===o-1){return false}if(!d.ctrlKey){k=h.walkRows(n,1);if(k!==n){j=0}}}else{if(!d.ctrlKey){j=b+1}else{j=g}}break;case"left":if(b===0){if(m||n===0){return false}if(!d.ctrlKey){k=h.walkRows(n,-1);if(k!==n){j=g}}}else{if(!d.ctrlKey){j=b-1}else{j=0}}break;case"up":if(n===0){return false}else{if(!d.ctrlKey){k=h.walkRows(n,-1)}else{k=h.walkRows(-1,1)}}break;case"down":if(n===o-1){return false}else{if(!d.ctrlKey){k=h.walkRows(n,1)}else{k=h.walkRows(o,-1)}}break}if(q&&q.call(p||h,{row:k,column:j})!==true){return false}else{return new Ext.grid.CellContext(h).setPosition(k,j)}},walkRows:function(l,a){var g=this,h=0,d=l,j,c=(g.dataSource.buffered?g.dataSource.getTotalCount():g.dataSource.getCount())-1,e=(a<0)?0:c,b=e?1:-1,k=l;do{if(e?k>=e:k<=0){return d||e}k+=b;if((j=Ext.fly(g.getNode(k,true)))&&j.isVisible(true)){h+=b;d=k}}while(h!==a);return k},walkRecs:function(l,a){var g=this,h=0,d=l,j,c=(g.store.buffered?g.store.getTotalCount():g.store.getCount())-1,e=(a<0)?0:c,b=e?1:-1,m=g.store.indexOf(l),k;do{if(e?m>=e:m<=0){return d}m+=b;k=g.store.getAt(m);if((j=Ext.fly(g.getNodeByRecord(k,true)))&&j.isVisible(true)){h+=b;d=k}}while(h!==a);return d},getFirstVisibleRowIndex:function(){var b=this,a=(b.dataSource.buffered?b.dataSource.getTotalCount():b.dataSource.getCount()),c=b.indexOf(b.all.first())-1;do{c+=1;if(c===a){return}}while(!Ext.fly(b.getNode(c,true)).isVisible(true));return c},getLastVisibleRowIndex:function(){var a=this,b=a.indexOf(a.all.last());do{b-=1;if(b===-1){return}}while(!Ext.fly(a.getNode(b,true)).isVisible(true));return b},getHeaderCt:function(){return this.headerCt},getPosition:function(b,a){return new Ext.grid.CellContext(this).setPosition(b,a)},beforeDestroy:function(){var a=this;if(a.rendered){a.el.removeAllListeners()}a.callParent(arguments)},onDestroy:function(){var d=this,a=d.featuresMC,c,b;if(a){for(b=0,c=a.getCount();b<c;++b){a.getAt(b).destroy()}}d.featuresMC=null;this.callParent(arguments)},onAdd:function(a,c,b){this.callParent(arguments);this.doStripeRows(b)},onRemove:function(a,c,b){this.callParent(arguments);this.doStripeRows(b[0])},doStripeRows:function(h,a){var c=this,e,g,b,d;if(c.rendered&&c.stripeRows){e=c.getNodes(h,a);for(b=0,g=e.length;b<g;b++){d=e[b];d.className=d.className.replace(c.rowClsRe," ");h++;if(h%2===0){d.className+=(" "+c.altRowCls)}}}},repaintRow:function(c){var b=this.getNode(c),d=b.childNodes,a=d.length;while(a--){d[a].className=d[a].className}},getRowStyleTableEl:function(a){var b=this;if(!a.tagName){a=this.getNode(a)}return(b.isGrouping?Ext.fly(a):this.el).down("table.x-grid-table")},isRowStyleFirst:function(b){var c=this,a;if(b===-1){return false}if(!b.tagName){a=b;b=this.getNode(b)}else{a=c.indexOf(b)}return(!a||c.isGrouping&&Ext.fly(b).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}});Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",stripeRows:true,autoScroll:true});Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,rowLines:true});Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(g,d,b){var c=this,a=c.bufferedRenderer,e=c.all;if(c.rendered&&a&&(e.getCount()+d.length)>a.viewSize){if(b<e.startIndex+a.viewSize&&(b+d.length)>e.startIndex){c.refreshView()}else{a.stretchView(c,a.getScrollHeight())}}else{c.callParent([g,d,b])}},onRemove:function(e,d,b){var c=this,a=c.bufferedRenderer;c.callParent([e,d,b]);if(c.rendered&&a){if(c.dataSource.getCount()>a.viewSize){c.refreshView()}else{a.stretchView(c,a.getScrollHeight())}}},onDataRefresh:function(){var a=this;if(a.bufferedRenderer){a.all.clear();a.bufferedRenderer.onStoreClear()}a.callParent()}});Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:true,shrinkWrap:true,position:"bottom",constructor:function(a){var c=this,e=a.rowEditor,b=Ext.baseCSSPrefix,d=e.editingPlugin;a=Ext.apply({baseCls:b+"grid-row-editor-buttons",defaults:{xtype:"button",ui:e.buttonUI,scope:d,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:b+"row-editor-update-button",itemId:"update",handler:d.completeEdit,text:e.saveBtnText,disabled:e.updateButtonDisabled},{cls:b+"row-editor-cancel-button",handler:d.cancelEdit,text:e.cancelBtnText}]},a);c.callParent([a]);c.addClsWithUI(c.position)},setButtonPosition:function(b){var a=this;a.removeClsWithUI(a.position);a.position=b;a.addClsWithUI(b)},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=this.callParent();a.top=true;return a}});Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,buttonUI:"default",hideMode:"offsets",initComponent:function(){var c=this,b=c.editingPlugin.grid,a=Ext.container.Container;c.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor";c.layout={type:"hbox",align:"middle"};c.lockable=b.lockable;if(c.lockable){c.items=[c.lockedColumnContainer=new a({id:b.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),c.normalColumnContainer=new a({flex:1,id:b.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]}else{c.lockedColumnContainer=c.normalColumnContainer=c}c.callParent(arguments);if(c.fields){c.addFieldsForColumn(c.fields,true);c.insertColumnEditor(c.fields);delete c.fields}c.mon(c.hierarchyEventSource,{scope:c,show:c.repositionIfVisible});c.getForm().trackResetOnLoad=true},onGridResize:function(){var e=this,b=e.getClientWidth(),c=e.editingPlugin.grid,d=c.body,a=e.getFloatingButtons();e.setLocalX(d.getOffsetsTo(c)[0]+d.getBorderWidth("l")-c.el.getBorderWidth("l"));e.setWidth(b);a.setLocalX((b-a.getWidth())/2)},onFieldRender:function(b){var c=this,a=b.column;if(a.isVisible()){c.syncFieldWidth(a)}else{if(!a.rendered){c.view.headerCt.on({afterlayout:Ext.Function.bind(c.syncFieldWidth,c,[a]),single:true})}}},syncFieldWidth:function(a){var b=a.getEditor(),c;b._marginWidth=(b._marginWidth||b.el.getMargin("lr"));c=a.getWidth()-b._marginWidth;b.setWidth(c);if(b.xtype==="displayfield"){b.inputWidth=c}},onFieldChange:function(){var b=this,a=b.getForm(),c=a.isValid();if(b.errorSummary&&b.isVisible()){b[c?"hideToolTip":"showToolTip"]()}b.updateButton(c);b.isValid=c},updateButton:function(b){var a=this.floatingButtons;if(a){a.child("#update").setDisabled(!b)}else{this.updateButtonDisabled=!b}},afterRender:function(){var c=this,d=c.editingPlugin,b=d.grid,e=b.lockable?b.normalGrid.view:b.view,a;c.callParent(arguments);c.scrollingView=e;c.scrollingViewEl=e.el;e.mon(c.scrollingViewEl,"scroll",c.onViewScroll,c);c.mon(c.el,{click:Ext.emptyFn,stopPropagation:true});c.mon(b,{resize:c.onGridResize,scope:c});c.el.swallowEvent(["keypress","keydown"]);c.fieldScroller=c.normalColumnContainer.layout.innerCt;c.fieldScroller.dom.style.overflow="hidden";c.fieldScroller.on({scroll:c.onFieldContainerScroll,scope:c});c.keyNav=new Ext.util.KeyNav(c.el,{enter:d.completeEdit,esc:d.onEscKey,scope:d});c.mon(d.view,{beforerefresh:c.onBeforeViewRefresh,refresh:c.onViewRefresh,itemremove:c.onViewItemRemove,scope:c});c.preventReposition=true;Ext.Array.each(c.query("[isFormField]"),function(g){if(g.column.isVisible()){c.onColumnShow(g.column)}},c);delete c.preventReposition},onBeforeViewRefresh:function(b){var a=this,c=b.el.dom;if(a.el.dom.parentNode===c){c.removeChild(a.el.dom)}},onViewRefresh:function(d){var b=this,a=b.context,c;if(a&&(c=d.getNode(a.record,true))){a.row=c;b.reposition();if(b.tooltip&&b.tooltip.isVisible()){b.tooltip.setTarget(a.row)}}else{b.editingPlugin.cancelEdit()}},onViewItemRemove:function(c,b){var a=this.context;if(a&&c===a.record){this.editingPlugin.cancelEdit()}},onViewScroll:function(){var a=this,j=a.editingPlugin.view.el,c=a.scrollingViewEl,g=c.dom.scrollTop,d=c.getScrollLeft(),e=d!==a.lastScrollLeft,h=g!==a.lastScrollTop,b;a.lastScrollTop=g;a.lastScrollLeft=d;if(a.isVisible()){b=Ext.getDom(a.context.row.id);if(b&&j.contains(b)){if(h){a.context.row=b;a.reposition(null,true);if((a.tooltip&&a.tooltip.isVisible())||a.hiddenTip){a.repositionTip()}a.syncEditorClip()}}else{a.setLocalY(-400)}}if(a.rendered&&e){a.syncFieldsHorizontalScroll()}},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingViewEl.setScrollLeft(this.fieldScroller.getScrollLeft())},onColumnResize:function(a,c){var b=this;if(b.rendered){b.onGridResize();b.onViewScroll();if(!a.isGroupHeader){b.syncFieldWidth(a);b.repositionIfVisible()}}},onColumnHide:function(a){if(!a.isGroupHeader){a.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(a){var b=this;if(b.rendered&&!a.isGroupHeader){a.getEditor().show();b.syncFieldWidth(a);if(!b.preventReposition){this.repositionIfVisible()}}},onColumnMove:function(a,e,l){var k=this,g,h=1,j,b,d,c=a.isLocked()?k.lockedColumnContainer:k.normalColumnContainer;if(a.isGroupHeader){Ext.suspendLayouts();a=a.getGridColumns();if(l>e){l--;h=0}this.addFieldsForColumn(a);for(g=0,j=a.length;g<j;g++,e+=h,l+=h){b=a[g].getEditor();d=c.items.indexOf(b);if(d===-1){c.insert(l,b)}else{if(d!=l){c.move(e,l)}}}Ext.resumeLayouts(true)}else{if(l>e){l--}this.addFieldsForColumn(a);b=a.getEditor();d=c.items.indexOf(b);if(d===-1){c.insert(l,b)}else{if(d!=l){c.move(e,l)}}}},onColumnAdd:function(a){if(a.isGroupHeader){a=a.getGridColumns()}this.addFieldsForColumn(a);this.insertColumnEditor(a);this.preventReposition=false},insertColumnEditor:function(a){var e=this,b,d,c;if(Ext.isArray(a)){for(c=0,d=a.length;c<d;c++){e.insertColumnEditor(a[c])}return}if(!a.getEditor){return}b=a.isLocked()?e.lockedColumnContainer:e.normalColumnContainer;b.insert(a.getVisibleIndex(),a.getEditor())},onColumnRemove:function(b,a){a=a.isGroupHeader?a.getGridColumns():a;this.removeColumnEditor(a)},removeColumnEditor:function(a){var e=this,b,d,c;if(Ext.isArray(a)){for(c=0,d=a.length;c<d;c++){e.removeColumnEditor(a[c])}return}if(a.hasEditor()){b=a.getEditor();if(b&&b.ownerCt){b.ownerCt.remove(b,false)}}},onColumnReplace:function(c,b,a,d){this.onColumnRemove(d.ownerCt,d)},getFloatingButtons:function(){var b=this,a=b.floatingButtons;if(!a){b.floatingButtons=a=new Ext.grid.RowEditorButtons({rowEditor:b})}return a},repositionIfVisible:function(a){var b=this,d=b.view;if(a&&(a==b||!a.el.isAncestor(d.el))){return}if(b.isVisible()&&d.isVisible(true)){b.reposition()}},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(){var a=this,b;if(a.lockable){b=a.lockedColumnContainer.getRefItems();b.push.apply(b,a.normalColumnContainer.getRefItems())}else{b=a.callParent()}b.push.apply(b,a.getFloatingButtons().getRefItems());return b},reposition:function(b,e){var h=this,c=h.context,j=c&&Ext.get(c.row),l=0,k,g,d,a;if(j&&Ext.isElement(j.dom)){d=h.syncButtonPosition(h.getScrollDelta());if(!h.editingPlugin.grid.rowLines){l=-parseInt(j.first().getStyle("border-bottom-width"))}k=h.calculateLocalRowTop(j);g=h.calculateEditorTop(k)+l;if(!e){a=function(){if(d){h.scrollingViewEl.scrollBy(0,d,true)}h.focusContextCell()}}h.syncEditorClip();if(b){h.animate(Ext.applyIf({to:{top:g},duration:b.duration||125,callback:a},b))}else{h.setLocalY(g);if(a){a()}}}},getScrollDelta:function(){var d=this,e=d.scrollingViewEl.dom,b=d.context,a=d.body,c=0;if(b){c=Ext.fly(b.row).getOffsetsTo(e)[1]-a.getBorderPadding().beforeY;if(c>0){c=Math.max(c+d.getHeight()+d.floatingButtons.getHeight()-e.clientHeight-a.getBorderWidth("b"),0)}}return c},calculateLocalRowTop:function(b){var a=this.editingPlugin.grid;return Ext.fly(b).getOffsetsTo(a)[1]-a.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var b=this,a=b.editingPlugin.grid,c;if(b.lockable){c=a.lockedGrid.getWidth()+a.normalGrid.view.el.dom.clientWidth-1}else{c=a.view.el.dom.clientWidth}return c},getEditor:function(a){var b=this;if(Ext.isNumber(a)){return b.query("[isFormField]")[a]}else{if(a.isHeader&&!a.isGroupHeader){return a.getEditor()}}},addFieldsForColumn:function(a,d){var g=this,c,e,b;if(Ext.isArray(a)){for(c=0,e=a.length;c<e;c++){g.addFieldsForColumn(a[c],d)}return}if(a.getEditor){b=a.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}});if(a.align==="right"){b.fieldStyle="text-align:right"}if(a.xtype==="actioncolumn"){b.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"}if(g.isVisible()&&g.context){if(b.is("displayfield")){g.renderColumnData(b,g.context.record,a)}else{b.suspendEvents();b.setValue(g.context.record.get(a.dataIndex));b.resumeEvents()}}if(a.hidden){g.onColumnHide(a)}else{if(a.rendered&&!d){g.onColumnShow(a)}}}},loadRecord:function(k){var j=this,c=j.getForm(),b=c.getFields(),g=b.items,h=g.length,d,a,e;for(d=0;d<h;d++){g[d].suspendEvents()}c.loadRecord(k);for(d=0;d<h;d++){g[d].resumeEvents()}e=c.isValid();if(j.errorSummary){if(e){j.hideToolTip()}else{j.showToolTip()}}j.updateButton(e);a=j.query(">displayfield");h=a.length;for(d=0;d<h;d++){j.renderColumnData(a[d],k)}},renderColumnData:function(d,k,a){var h=this,e=h.editingPlugin.grid,g=e.headerCt,p=h.scrollingView,n=p.dataSource,c=a||d.column,o=k.get(c.dataIndex),l=c.editRenderer||c.renderer,j,m,b;if(l){j={tdCls:"",style:""};m=n.indexOf(k);b=g.getHeaderIndex(c);o=l.call(c.scope||g.ownerCt,o,j,k,m,b,n,p)}d.setRawValue(o);d.resetOriginalValue()},beforeEdit:function(){var a=this,b;if(a.isVisible()&&a.errorSummary&&!a.autoCancel&&a.isDirty()){b=a.getScrollDelta();if(b){a.scrollingViewEl.scrollBy(0,b,true)}a.showToolTip();return false}},startEdit:function(g,a){var e=this,c=e.editingPlugin,d=c.grid,b=e.context=c.context;if(!e.rendered){e.width=e.getClientWidth();e.render(d.el,d.el.dom.firstChild);e.getFloatingButtons().render(e.el);e.onViewScroll()}else{e.syncFieldsHorizontalScroll()}if(e.isVisible()){e.reposition(true)}else{e.show()}e.onGridResize();b.grid.getSelectionModel().select(g);e.loadRecord(g)},syncButtonPosition:function(d){var b=this,a=b.getFloatingButtons(),e=b.scrollingViewEl.dom,c=this.getScrollDelta()-(e.scrollHeight-e.scrollTop-e.clientHeight);if(c>0){if(!b._buttonsOnTop){a.setButtonPosition("top");b._buttonsOnTop=true}d=0}else{if(b._buttonsOnTop){a.setButtonPosition("bottom");b._buttonsOnTop=false}}return d},syncEditorClip:function(){var b=this,c=b.getScrollDelta(),a;if(c){b.isOverflowing=true;a=b.floatingButtons.getHeight();if(c>0){b.clipBottom(Math.max(b.getHeight()-c+a,-a))}else{if(c<0){c=Math.abs(c);b.clipTop(Math.max(c,0))}}}else{if(b.isOverflowing){b.clearClip();b.isOverflowing=false}}},focusContextCell:function(){var a=this.getEditor(this.context.column);if(a&&a.focus){a.focus()}},cancelEdit:function(){var g=this,b=g.getForm(),a=b.getFields(),d=a.items,e=d.length,c;g.hide();b.clearInvalid();for(c=0;c<e;c++){d[c].suspendEvents()}b.reset();for(c=0;c<e;c++){d[c].resumeEvents()}},completeEdit:function(){var b=this,a=b.getForm();if(!a.isValid()){return false}a.updateRecord(b.context.record);b.hide();return true},onShow:function(){var a=this;a.callParent(arguments);a.reposition()},onHide:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.hideToolTip()}if(a.context){a.context.view.focusRow(a.context.record);a.context=null}},isDirty:function(){var b=this,a=b.getForm();return a.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:false}))},hideToolTip:function(){var a=this,b=a.getToolTip();if(b.rendered){b.disable()}a.hiddenTip=false},showToolTip:function(){var a=this,b=a.getToolTip();b.showAt([0,0]);b.update(a.getErrors());a.repositionTip();b.enable()},repositionTip:function(){var b=this,h=b.getToolTip(),a=b.context,c=Ext.get(a.row),k=b.scrollingViewEl,l=k.dom.clientHeight,m=b.lastScrollTop,j=m+l,e=c.getHeight(),g=c.getOffsetsTo(b.context.view.body)[1],d=g+e;if(d>m&&g<j){h.showAt(h.getAlignToXY(k,"tl-tr",[15,c.getOffsetsTo(k)[1]]));b.hiddenTip=false}else{h.hide();b.hiddenTip=true}},getErrors:function(){var e=this,a=[],b=e.query(">[isFormField]"),d=b.length,c;for(c=0;c<d;c++){a=a.concat(Ext.Array.map(b[c].getErrors(),e.createErrorListItem))}if(!a.length&&!e.autoCancel&&e.isDirty()){a[0]=e.createErrorListItem(e.dirtyText)}return'<ul class="'+Ext.plainListCls+'">'+a.join("")+"</ul>"},createErrorListItem:function(a){return'<li class="'+Ext.baseCSSPrefix+'grid-row-editor-errors-item">'+a+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip","rect("+a+"px auto 1000px auto)")},clearClip:function(a){this.el.setStyle("clip",Ext.isIE8m||Ext.isIEQuirks?"rect(-1000px auto 1000px auto)":"auto")}});Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(a){var b=this;Ext.apply(b,a);if(!b.ddGroup){b.ddGroup="view-dd-zone-"+b.view.id}b.callParent([b.view.el])},fireViewEvent:function(){var a=this,b;a.lock();b=a.view.fireEvent.apply(a.view,arguments);a.unlock();return b},getTargetFromEvent:function(b){var h=b.getTarget(this.view.getItemSelector()),g,j,k,c,d,a;if(!h){g=b.getPageY();for(c=0,j=this.view.getNodes(),d=j.length;c<d;c++){k=j[c];a=Ext.fly(k).getBox();if(g<=a.bottom){return k}}}return h},getIndicator:function(){var a=this;if(!a.indicator){a.indicator=new Ext.Component({html:a.indicatorHtml,cls:a.indicatorCls,ownerCt:a.view,floating:true,shadow:false})}return a.indicator},getPosition:function(a,b){var g=a.getXY()[1],d=Ext.fly(b).getRegion(),c;if((d.bottom-g)>=(d.bottom-d.top)/2){c="before"}else{c="after"}return c},containsRecordAtOffset:function(g,c,b){if(!c){return false}var h=this.view,e=h.indexOf(c),a=h.getNode(e+b,true),d=a?h.getRecord(a):null;return d&&Ext.Array.contains(g,d)},positionIndicator:function(h,a,c){var g=this,l=g.view,k=g.getPosition(c,h),j=l.getRecord(h),b=a.records,d;if(!Ext.Array.contains(b,j)&&(k=="before"&&!g.containsRecordAtOffset(b,j,-1)||k=="after"&&!g.containsRecordAtOffset(b,j,1))){g.valid=true;if(g.overRecord!=j||g.currentPosition!=k){d=Ext.fly(h).getY()-l.el.getY()-1;if(k=="after"){d+=Ext.fly(h).getHeight()}g.getIndicator().setWidth(Ext.fly(l.el).getWidth()).showAt(0,d);g.overRecord=j;g.currentPosition=k}}else{g.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(g,b,c,a){var d=this;if(!Ext.Array.contains(a.records,d.view.getRecord(g))){d.positionIndicator(g,a,c)}return d.valid?d.dropAllowed:d.dropNotAllowed},notifyOut:function(g,b,c,a){var d=this;d.callParent(arguments);d.overRecord=d.currentPosition=null;d.valid=false;if(d.indicator){d.indicator.hide()}},onContainerOver:function(c,d,b){var g=this,h=g.view,a=h.dataSource.getCount();if(a){g.positionIndicator(h.all.last(),b,d)}else{g.overRecord=g.currentPosition=null;g.getIndicator().setWidth(Ext.fly(h.el).getWidth()).showAt(0,0);g.valid=true}return g.dropAllowed},onContainerDrop:function(b,c,a){return this.onNodeDrop(b,null,c,a)},onNodeDrop:function(k,b,g,a){var h=this,c=false,d={wait:false,processDrop:function(){h.invalidateDrop();h.handleNodeDrop(a,h.overRecord,h.currentPosition);c=true;h.fireViewEvent("drop",k,a,h.overRecord,h.currentPosition)},cancelDrop:function(){h.invalidateDrop();c=true}},j=false;if(h.valid){j=h.fireViewEvent("beforedrop",k,a,h.overRecord,h.currentPosition,d);if(d.wait){return}if(j!==false){if(!c){d.processDrop()}}}return j},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,g,e){var k=this.view,j=k.getStore(),c,h,b,d;if(a.copy){h=a.records;a.records=[];for(b=0,d=h.length;b<d;b++){a.records.push(h[b].copy())}}else{a.view.store.remove(a.records,a.view===k)}if(g&&e){c=j.indexOf(g);if(e!=="before"){c++}j.insert(c,a.records)}else{j.add(a.records)}k.getSelectionModel().select(a.records)}});Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderresizer",disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1000,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var b=this.headerCt,a=b.el;b.mon(a,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:a})},onHeaderCtMouseMove:function(a,l){var c=this,h,b,d,j,k,g;if(c.headerCt.dragging){if(c.activeHd){c.activeHd.el.dom.style.cursor="";delete c.activeHd}}else{b=a.getTarget("."+c.colHeaderCls,3,true);if(b){d=Ext.getCmp(b.id);if(d.isOnLeftEdge(a)){j=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(j){g=c.headerCt.up("tablepanel");k=j.up("tablepanel");if(!((k===g)||((g.ownerCt.isXType("tablepanel"))&&g.ownerCt.view.lockedGrid===k))){j=null}}}else{if(d.isOnRightEdge(a)){j=d}else{j=null}}if(j){if(j.isGroupHeader){h=j.getGridColumns();j=h[h.length-1]}if(j&&!(j.fixed||(j.resizable===false)||c.disabled)){c.activeHd=j;d.el.dom.style.cursor=c.eResizeCursor;if(d.triggerEl){d.triggerEl.dom.style.cursor=c.eResizeCursor}}}else{d.el.dom.style.cursor="";if(d.triggerEl){d.triggerEl.dom.style.cursor=""}c.activeHd=null}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;if(!!this.dragHd&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var c=this,a=c.dragHd.el,e=0,d,b;if(c.headerCt.forceFit){d=c.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(d){if(!c.headerInSameGrid(d)){d=null}e=d.getWidth()-c.minColWidth}}else{if((b=c.dragHd.up("tablepanel")).isLocked){e=c.dragHd.up("[scrollerOwner]").getWidth()-b.getWidth()-30}else{e=c.maxColWidth-a.getWidth()}}return c.adjustConstrainRegion(a.getRegion(),0,e,0,c.minColWidth)},onStart:function(b){var k=this,a=k.dragHd,m=a.el.getWidth(),d=a.getOwnerHeaderCt(),n,o,c,j,g,l,h;k.headerCt.dragging=true;k.origWidth=m;if(!k.dynamic){c=j=d.up("tablepanel");if(c.ownerLockable){j=c.ownerLockable}n=k.getLeftMarkerX(j);g=j.getLhsMarker();l=j.getRhsMarker();h=c.body.getHeight()+d.getHeight();o=d.getOffsetsTo(j)[1];g.setLocalY(o);l.setLocalY(o);g.setHeight(h);l.setHeight(h);k.setMarkerX(g,n);k.setMarkerX(l,n+m)}},onDrag:function(a){var c=this,b;if(c.dynamic){c.doResize()}else{b=this.headerCt.up("tablepanel");if(b.ownerLockable){b=b.ownerLockable}this.setMarkerX(this.getMovingMarker(b),this.calculateDragX(b))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(a){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var b=this.headerCt.up("tablepanel");if(b.ownerLockable){b=b.ownerLockable}this.setMarkerX(b.getLhsMarker(),-9999);this.setMarkerX(b.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var b=this,a=b.dragHd,c,d;if(a){d=b.tracker.getOffset("point");if(a.flex){delete a.flex}Ext.suspendLayouts();b.adjustColumnWidth(d[0]);if(b.headerCt.forceFit){c=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(c&&!b.headerInSameGrid(c)){c=null}if(c){delete c.flex;c.setWidth(c.getWidth()-d[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(b){var a=this.dragHd.up("tablepanel");return !!b.up(a)},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(e,g,d,a,c){return e.adjust(g,d,a,c)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}});Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(b){if(b.getTarget(this.colInnerSelector)){var c=b.getTarget(this.colHeaderSelector),d,a;if(c){d=Ext.getCmp(c.id);if(!this.headerCt.dragging&&d.draggable&&!(d.isOnLeftEdge(b)||d.isOnRightEdge(b))){a=document.createElement("div");a.innerHTML=Ext.getCmp(c.id).text;return{ddel:a,header:d}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}});Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true);this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(a,d){var g=a.getXY()[0],c=Ext.fly(d).getRegion(),b;if((c.right-g)<=(c.right-c.left)/2){b="after"}else{b="before"}return{pos:b,header:Ext.getCmp(d.id),node:d}},positionIndicator:function(g,t,l){var q=this,h=g.header,j=q.getLocation(l,t),w=j.header,u=j.pos,s,v,y,c,x,b,z,d,m,r,p,a,o,n,k;if(w===q.lastTargetHeader&&u===q.lastDropPos){return}s=h.nextSibling("gridcolumn:not([hidden])");v=h.previousSibling("gridcolumn:not([hidden])");q.lastTargetHeader=w;q.lastDropPos=u;if(!w.draggable&&u==="before"&&w.getIndex()===0){return false}g.dropLocation=j;if((h!==w)&&((u==="before"&&s!==w)||(u==="after"&&v!==w))&&!w.isDescendantOf(h)){a=Ext.dd.DragDropManager.getRelated(q);o=a.length;n=0;for(;n<o;n++){k=a[n];if(k!==q&&k.invalidateDrop){k.invalidateDrop()}}q.valid=true;y=q.getTopIndicator();c=q.getBottomIndicator();if(u==="before"){x="bc-tl";b="tc-bl"}else{x="bc-tr";b="tc-br"}z=y.getAlignToXY(w.el,x);d=c.getAlignToXY(w.el,b);m=q.headerCt.el;r=m.getX()-q.indicatorXOffset;p=m.getX()+m.getWidth();z[0]=Ext.Number.constrain(z[0],r,p);d[0]=Ext.Number.constrain(d[0],r,p);y.setXY(z);c.setXY(d);y.show();c.show()}else{q.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(k,c,d,a){var j=this,g=a.header,b,l,h,m;if(a.header.el.dom===k){b=false}else{a.isLock=a.isUnlock=false;l=j.getLocation(d,k).header;b=(g.ownerCt===l.ownerCt);if(!b&&(!g.ownerCt.sealed&&!l.ownerCt.sealed)){b=true;h=g.up("tablepanel");m=l.up("tablepanel");a.isLock=m.isLocked&&!h.isLocked;a.isUnlock=!m.isLocked&&h.isLocked;if((a.isUnlock&&g.lockable===false)||(a.isLock&&!g.isLockable())){b=false}}}if(b){j.positionIndicator(a,k,d)}else{j.valid=false}return j.valid?j.dropAllowed:j.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(p,g,j,c){if(this.valid){var d=c.header,h=c.dropLocation,t=h.header,k=d.ownerCt,n=k.items.indexOf(d),u=t.ownerCt,o=u.items.indexOf(t),m=this.headerCt,b=m.columnManager,l=b.getHeaderIndex(d),v=b.getHeaderIndex(t),a=d.isGroupHeader?d.query(":not([isGroupHeader])").length:1,q=k===u,s,r;if(h.pos==="after"){o++;v+=t.isGroupHeader?t.query(":not([isGroupHeader])").length:1}if(c.isLock){s=k.up("[scrollerOwner]");s.lock(d,o);c.isLock=false;this.onNodeDrop(p,g,j,c)}else{if(c.isUnlock){s=k.up("[scrollerOwner]");s.unlock(d,o);c.isUnlock=false;this.onNodeDrop(p,g,j,c)}else{this.invalidateDrop();r=d.getWidth();if(q){if(o===n){m.onHeaderMoved(d,a,l,v);return}if(o>n){o-=1}}Ext.suspendLayouts();if(q){u.move(n,o)}else{k.remove(d,false);u.insert(o,d)}if(u.isGroupHeader){if(!q){d.savedFlex=d.flex;delete d.flex;d.width=r}}else{if(d.savedFlex){d.flex=d.savedFlex;delete d.width}}m.purgeCache();Ext.resumeLayouts(true);m.onHeaderMoved(d,a,l,v)}}}}});Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.AbstractPlugin,alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}});Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,border:true,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:false,ddLock:false,dragging:false,sortable:true,enableColumnHide:true,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isColumn){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer();a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer();a.plugins.push(a.reorderer)}}if(a.isColumn&&(!a.items||a.items.length===0)){a.isContainer=false;a.layout={type:"container",calculate:Ext.emptyFn}}else{a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout);if(a.isRootHeader){a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a)}}a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);a.callParent();a.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return this.callParent()},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},onDestroy:function(){var a=this;if(a.menu){a.menu.un("hide",a.onMenuHide,a)}a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);a.callParent()},applyColumnsState:function(d){if(!d||!d.length){return}var m=this,k=m.items.items,g=k.length,h=0,l=d.length,a,b,e,j;for(a=0;a<l;a++){e=d[a];for(j=g;j--;){b=k[j];if(b.getStateId&&b.getStateId()==e.id){if(h!==j){m.moveHeader(j,h)}if(b.applyColumnState){b.applyColumnState(e)}++h;break}}}},getColumnsState:function(){var b=this,a=[],c;b.items.each(function(d){c=d.getColumnState&&d.getColumnState();if(c){a.push(c)}});return a},onAdd:function(a){var b=this;if(!a.headerId){a.headerId=a.initialConfig.id||Ext.id(null,"header-")}if(!a.getStateId()){a.stateId=a.initialConfig.id||("h"+(++b.headerCounter))}b.callParent(arguments);b.onColumnsChanged()},onMove:function(){this.callParent(arguments);this.onColumnsChanged()},onShow:function(){this.callParent(arguments);this.onColumnsChanged()},onColumnsChanged:function(){var a=this;while(a){a.purgeCache();if(a.isRootHeader){break}a=a.ownerCt}if(a&&a.rendered){a.fireEvent("columnschanged",a)}},onRemove:function(a){var b=this,d=b.ownerCt;b.callParent(arguments);if(!b.destroying){b.onColumnsChanged();if(b.isGroupHeader&&!b.items.getCount()&&d){b.detachComponent(a);Ext.suspendLayouts();d.remove(b);Ext.resumeLayouts(true)}}},applyDefaults:function(a){var b;if(a&&!a.isComponent&&a.xtype=="rownumberer"){b=a}else{b=this.callParent(arguments);if(!a.isGroupHeader&&!("width" in b)&&!b.flex){b.width=this.defaultWidth}}return b},setSortState:function(){var c=this.up("[store]").store,a=c.getFirstSorter(),b;if(a){b=this.down("gridcolumn[dataIndex="+a.property+"]");if(b){b.setSortState(a.direction,false,true)}}else{this.clearOtherSortStates(null)}},getHeaderMenu:function(){var b=this.getMenu(),a;if(b){a=b.child("#columnItem");if(a){return a.menu}}return null},onHeaderVisibilityChange:function(a,e){var c=this,d=c.getHeaderMenu(),b;c.purgeCache();if(d){b=c.getMenuItemForHeader(d,a);if(b){b.setChecked(e,true)}if(d.isVisible()){c.menuTask.delay(50)}}},updateMenuDisabledState:function(h){var g=this,b=g.query(":not([hidden])"),c,e=b.length,d,a,j;if(!h){h=g.getMenu()}for(c=0;c<e;++c){d=b[c];a=g.getMenuItemForHeader(h,d);if(a){j=d.isHideable()?"enable":"disable";if(a.menu){j+="CheckChange"}a[j]()}}},getMenuItemForHeader:function(b,a){return a?b.down("menucheckitem[headerId="+a.id+"]"):null},onHeaderShow:function(b){var c=this,a=c.ownerCt;if(c.forceFit){delete c.flex}c.onHeaderVisibilityChange(b,true);if(!b.isGroupHeader){if(a){a.onHeaderShow(c,b)}}c.fireEvent("columnshow",c,b);c.fireEvent("columnschanged",this)},onHeaderHide:function(b){var c=this,a=c.ownerCt;c.onHeaderVisibilityChange(b,false);if(!b.isGroupHeader){if(a){a.onHeaderHide(c,b)}}c.fireEvent("columnhide",c,b);c.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(b,g,d){var c=this,e=c.view,a=c.ownerCt;if(e&&e.body.dom){c.tempLock();if(a){a.onHeaderResize(c,b,g)}}c.fireEvent("columnresize",this,b,g)},onHeaderClick:function(b,a,c){b.fireEvent("headerclick",this,b,a,c);this.fireEvent("headerclick",this,b,a,c)},onHeaderContextMenu:function(b,a,c){b.fireEvent("headercontextmenu",this,b,a,c);this.fireEvent("headercontextmenu",this,b,a,c)},onHeaderTriggerClick:function(b,a,d){var c=this;if(b.fireEvent("headertriggerclick",c,b,a,d)!==false&&c.fireEvent("headertriggerclick",c,b,a,d)!==false){c.showMenuBy(d,b)}},showMenuBy:function(g,c){var d=this.getMenu(),a=d.down("#ascItem"),b=d.down("#descItem"),e;d.activeHeader=d.ownerButton=c;c.setMenuActive(true);e=c.sortable?"enable":"disable";if(a){a[e]()}if(b){b[e]()}d.showBy(g)},onMenuHide:function(a){a.activeHeader.setMenuActive(false)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null;if(a.columnManager){a.columnManager.invalidate()}if(b&&b.hidden){b.hide();b.destroy();a.menu=null}},onHeaderMoved:function(d,a,b,g){var e=this,c=e.ownerCt;if(c&&c.onHeaderMove){c.onHeaderMove(e,d,a,b,g)}e.fireEvent("columnmove",e,d,b,g)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:false,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}});a.fireEvent("menucreate",a,a.menu)}a.updateMenuDisabledState(a.menu);return a.menu},getMenuItems:function(){var b=this,c=[],a=b.enableColumnHide?b.getColumnMenu(b):null;if(b.sortable){c=[{itemId:"ascItem",text:b.sortAscText,cls:b.menuSortAscCls,handler:b.onSortAscClick,scope:b},{itemId:"descItem",text:b.sortDescText,cls:b.menuSortDescCls,handler:b.onSortDescClick,scope:b}]}if(a&&a.length){if(b.sortable){c.push("-")}c.push({itemId:"columnItem",text:b.columnsText,cls:b.menuColsIcon,menu:a,hideOnClick:false})}return c},onSortAscClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("ASC")},onSortDescClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("DESC")},getColumnMenu:function(a){var h=[],b=0,c,d=a.query(">gridcolumn[hideable]"),e=d.length,g;for(;b<e;b++){c=d[b];g=new Ext.menu.CheckItem({text:c.menuText||c.text,checked:!c.hidden,hideOnClick:false,headerId:c.id,menu:c.isGroupHeader?this.getColumnMenu(c):undefined,checkHandler:this.onColumnCheckChange,scope:this});h.push(g);c.on({destroy:Ext.Function.bind(g.destroy,g)})}return h},onColumnCheckChange:function(b,a){var c=Ext.getCmp(b.headerId);c[a?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){var a=0,c=this.getVisibleGridColumns(),d=c.length,e=0,b;for(;e<d;e++){b=c[e];if(b.getDesiredWidth){a+=b.getDesiredWidth()||0}else{a+=b.getWidth()}}return a},clearOtherSortStates:function(a){var b=this.getGridColumns(),c=b.length,d=0;for(;d<c;d++){if(b[d]!==a){b[d].setSortState(null,true)}}},getVisibleGridColumns:function(){var a=this.getGridColumns(),d=[],c=a.length,b;for(b=0;b<c;b++){if(!a[b].hidden){d[d.length]=a[b]}}return d},getGridColumns:function(c,a){if(!c&&this.gridDataColumns){return this.gridDataColumns}var j=this,k=c||[],e,b,h,d,g;a=a||j.hidden;if(j.items){e=j.items.items;for(b=0,h=e.length;b<h;b++){d=e[b];if(d.isGroupHeader){d.getGridColumns(k,a)}else{d.hiddenAncestor=a;k.push(d)}}}if(!c){j.gridDataColumns=k}if(!c&&h){for(b=0,h=k.length;b<h;b++){d=k[b];d.isFirstVisible=d.isLastVisible=false;if(!(d.hidden||d.hiddenAncestor)){if(!g){d.isFirstVisible=true}g=d}}if(g){g.isLastVisible=true}}return k},getHideableColumns:function(){var a=this,b=a.hideableColumns;if(!b){b=a.hideableColumns=a.query("[hideable]")}return b},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(a){var b=this.view;if(b){b.autoSizeColumn(a)}}});Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,alias:"widget.gridcolumn",alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:true,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,editRenderer:false,align:"center",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:true,isColumn:true,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,initComponent:function(){var b=this,c,a;if(b.header!=null){b.text=b.header;b.header=null}if(!b.triStateSort){b.possibleSortStates.length=2}if(b.columns!=null){b.isGroupHeader=true;b.items=b.columns;b.columns=b.flex=b.width=null;b.cls=(b.cls||"")+" "+b.groupHeaderCls;b.sortable=b.resizable=false;b.align="center"}else{if(b.flex){b.minWidth=b.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}b.addCls(Ext.baseCSSPrefix+"column-header-align-"+b.align);c=b.renderer;if(c){if(typeof c=="string"){b.renderer=Ext.util.Format[c]}b.hasCustomRenderer=true}else{if(b.defaultRenderer){b.scope=b;b.renderer=b.defaultRenderer}}b.callParent(arguments);a={element:b.clickTargetName,click:b.onTitleElClick,contextmenu:b.onTitleElContextMenu,mouseenter:b.onTitleMouseOver,mouseleave:b.onTitleMouseOut,scope:b};if(b.resizable){a.dblclick=b.onTitleElDblClick}b.on(a)},onAdd:function(a){if(a.isColumn){a.isSubHeader=true;a.addCls(this.groupSubHeaderCls)}if(this.hidden){a.hide()}this.callParent(arguments)},onRemove:function(a){if(a.isSubHeader){a.isSubHeader=false;a.removeCls(this.groupSubHeaderCls)}this.callParent(arguments)},initRenderData:function(){var b=this,d="",c=b.tooltip,a=b.tooltipType=="qtip"?"data-qtip":"title";if(!Ext.isEmpty(c)){d=a+'="'+c+'" '}return Ext.applyIf(b.callParent(arguments),{text:b.text,menuDisabled:b.menuDisabled,tipMarkup:d})},applyColumnState:function(b){var a=this;a.applyColumnsState(b.columns);if(b.hidden!=null){a.hidden=b.hidden}if(b.locked!=null){a.locked=b.locked}if(b.sortable!=null){a.sortable=b.sortable}if(b.width!=null){a.flex=null;a.width=b.width}else{if(b.flex!=null){a.width=null;a.flex=b.flex}}},getColumnState:function(){var e=this,d=e.items.items,c=d?d.length:0,b,a=[],g={id:e.getStateId()};e.savePropsToState(["hidden","sortable","locked","flex","width"],g);if(e.isGroupHeader){for(b=0;b<c;b++){a.push(d[b].getColumnState())}if(a.length){g.columns=a}}else{if(e.isSubHeader&&e.ownerCt.hidden){delete e.hidden}}if("width" in g){delete g.flex}return g},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.update(a)}},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var b=this,a=b.up("tablepanel");b.callParent();if(a&&(!b.sortable||a.sortableColumns===false)&&!b.groupable&&!b.lockable&&(a.enableColumnHide===false||!b.getOwnerHeaderCt().getHideableColumns().length)){b.menuDisabled=true}b.protoEl.unselectable()},afterRender:function(){var a=this,b=a.triggerEl,c;a.callParent(arguments);if(!Ext.isIE8||!Ext.isStrict){a.mon(a.getFocusEl(),{focus:a.onTitleMouseOver,blur:a.onTitleMouseOut,scope:a})}if(b&&a.self.triggerElWidth===undefined){b.setStyle("display","block");a.self.triggerElWidth=b.getWidth();b.setStyle("display","")}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,down:a.onDownKey,scope:a})},afterComponentLayout:function(g,a,d,c){var b=this,e=b.getOwnerHeaderCt();b.callParent(arguments);if(e&&(d!=null||b.flex)&&g!==d){e.onHeaderResize(b,g,true)}},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field);a.keyNav=null;a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a,g){var c=this,d,b;if(c.isOnLeftEdge(a)){d=c.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(d&&d.getOwnerHeaderCt()===c.getOwnerHeaderCt()){d.autoSize()}}else{if(c.isOnRightEdge(a)){if(c.isGroupHeader&&a.getPoint().isContainedBy(c.layout.innerCt)){b=c.query("gridcolumn:not([hidden]):not([isGroupHeader])");this.getOwnerHeaderCt().autoSizeColumn(b[b.length-1]);return}c.autoSize()}}},autoSize:function(){var d=this,c,e,b,a;if(d.isGroupHeader){c=d.query("gridcolumn:not([hidden]):not([isGroupHeader])");e=c.length;a=this.getOwnerHeaderCt();Ext.suspendLayouts();for(b=0;b<e;b++){a.autoSizeColumn(c[b])}Ext.resumeLayouts(true);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,d){var b=this,c=b.getOwnerHeaderCt();if(c&&!c.ddLock){if(b.triggerEl&&(a.target===b.triggerEl.dom||d===b.triggerEl.dom||a.within(b.triggerEl))){c.onHeaderTriggerClick(b,a,d)}else{if(a.getKey()||(!b.isOnLeftEdge(a)&&!b.isOnRightEdge(a))){b.toggleSortState();c.onHeaderClick(b,a,d)}}}},onTitleElContextMenu:function(a,d){var b=this,c=b.getOwnerHeaderCt();if(c&&!c.ddLock){c.onHeaderContextMenu(b,a,d)}},processEvent:function(g,h,a,d,b,c){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var b=this,a,c;if(b.sortable){a=Ext.Array.indexOf(b.possibleSortStates,b.sortState);c=(a+1)%b.possibleSortStates.length;b.setSortState(b.possibleSortStates[c])}},doSort:function(a){var c=this.up("tablepanel"),b=c.store;if(c.ownerLockable&&b.isNodeStore){b=c.ownerLockable.lockedGrid.store}b.sort({property:this.getSortParam(),direction:a})},getSortParam:function(){return this.dataIndex},setSortState:function(j,h,c){var d=this,a=d.ascSortCls,b=d.descSortCls,g=d.getOwnerHeaderCt(),e=d.sortState;j=j||null;if(!d.sorting&&e!==j&&(d.getSortParam()!=null)){if(j&&!c){d.sorting=true;d.doSort(j);d.sorting=false}switch(j){case"DESC":d.addCls(b);d.removeCls(a);break;case"ASC":d.addCls(a);d.removeCls(b);break;default:d.removeCls([a,b])}if(g&&!d.triStateSort&&!h){g.clearOtherSortStates(d)}d.sortState=j;if(d.triStateSort||j!=null){g.fireEvent("sortchange",g,d,j)}}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};if(a.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a])}return a.result},hasOtherMenuEnabledChildren:function(b){var c,a;if(!this.isXType("headercontainer")){b.result=false;return false}c=this.query(">:not([hidden]):not([menuDisabled])");a=c.length;if(Ext.Array.contains(c,b.hideCandidate)){a--}if(a){return false}b.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==false};if(a.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a])}return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer")){a.result=false;return false}if(this.query(">:not([hidden])").length>1){return false}},hide:function(a){var g=this,j=g.getOwnerHeaderCt(),h=g.ownerCt,k,c,d,e,b;if(!g.isVisible()){return g}if(!j){g.callParent();return g}if(j.forceFit){g.visibleSiblingCount=j.getVisibleGridColumns().length-1;if(g.flex){g.savedWidth=g.getWidth();g.flex=null}}k=h.isGroupHeader;if(k&&!a){d=h.query(">:not([hidden])");if(d.length===1&&d[0]==g){g.ownerCt.hide();return}}Ext.suspendLayouts();if(g.isGroupHeader){d=g.items.items;for(b=0,e=d.length;b<e;b++){c=d[b];if(!c.hidden){c.hide(true)}}}g.callParent();j.onHeaderHide(g);Ext.resumeLayouts(true);return g},show:function(d,c){var k=this,o=k.getOwnerHeaderCt(),n=k.ownerCt,h,j,e,g,l,a,p,m,b=Ext.grid.header.Container.prototype.defaultWidth;if(k.isVisible()){return k}if(!k.rendered){k.hidden=false;return}a=o.el.getViewSize().width-(o.view.el.dom.scrollHeight>o.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0);if(o.forceFit){h=Ext.ComponentQuery.query(":not([flex])",o.getVisibleGridColumns());if(h.length){k.width=k.savedWidth||k.width||b}else{h=o.getVisibleGridColumns();j=h.length;m=k.visibleSiblingCount;l=(k.savedWidth||k.width||b);l=Math.min(l*(m/j),b,Math.max(a-(j*b),b));k.width=null;k.flex=l;a-=l;p=0;for(e=0;e<j;e++){g=h[e];g.flex=(g.width||g.getWidth());p+=g.flex;g.width=null}for(e=0;e<j;e++){g=h[e];g.flex=g.flex/p*a}}}Ext.suspendLayouts();if(k.isSubHeader&&n.hidden){n.show(false,true)}k.callParent(arguments);if(k.isGroupHeader&&c!==true&&!k.query(":not([hidden])").length){h=k.items.items;for(e=0,j=h.length;e<j;e++){g=h[e];if(g.hidden){g.show(true)}}}Ext.resumeLayouts(true);n=k.getOwnerHeaderCt();if(n){n.onHeaderShow(k)}},getDesiredWidth:function(){var a=this;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){return a.componentLayout.lastComponentSize.width}else{if(a.flex){return a.width}else{return a.width}}},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return(a.getXY()[0]-this.getX()<=this.handleWidth)},isOnRightEdge:function(a){return(this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth)},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}});Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(b){var h=this,a=Ext.apply({},b),e=a.items||h.items||[h],c,d,g;h.origRenderer=a.renderer||h.renderer;h.origScope=a.scope||h.scope;h.renderer=h.scope=a.renderer=a.scope=null;a.items=null;h.callParent([a]);h.items=e;for(d=0,g=e.length;d<g;++d){if(e[d].getClass){c=true;break}}if(h.origRenderer||c){h.hasCustomRenderer=true}},defaultRenderer:function(r,j,l,n,a,p,s){var h=this,k=Ext.baseCSSPrefix,o=h.origScope||h,e=h.items,g=e.length,c=0,d,m,b,q;m=Ext.isFunction(h.origRenderer)?h.origRenderer.apply(o,arguments)||"":"";j.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;c<g;c++){d=e[c];b=d.disabled||(d.isDisabled?d.isDisabled.call(d.scope||o,s,n,a,d,l):false);q=b?null:(d.tooltip||(d.getTip?d.getTip.apply(d.scope||o,arguments):null));if(!d.hasActionConfiguration){d.stopSelection=h.stopSelection;d.disable=Ext.Function.bind(h.disableAction,h,[c],0);d.enable=Ext.Function.bind(h.enableAction,h,[c],0);d.hasActionConfiguration=true}m+='<img role="button" alt="'+(d.altText||h.altText)+'" src="'+(d.icon||Ext.BLANK_IMAGE_URL)+'" class="'+k+"action-col-icon "+k+"action-col-"+String(c)+" "+(b?k+"item-disabled":" ")+" "+(Ext.isFunction(d.getClass)?d.getClass.apply(d.scope||o,arguments):(d.iconCls||h.iconCls||""))+'"'+(q?' data-qtip="'+q+'"':"")+" />"}return m},enableAction:function(a,c){var b=this;if(!a){a=0}else{if(!Ext.isNumber(a)){a=Ext.Array.indexOf(b.items,a)}}b.items[a].disabled=false;b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(b.disabledCls);if(!c){b.fireEvent("enable",b)}},disableAction:function(a,c){var b=this;if(!a){a=0}else{if(!Ext.isNumber(a)){a=Ext.Array.indexOf(b.items,a)}}b.items[a].disabled=true;b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(b.disabledCls);if(!c){b.fireEvent("disable",b)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(q,r,a,n,b,d,m,o){var l=this,p=d.getTarget(),k,h,g,j=q=="keydown"&&d.getKey(),c;if(j&&!Ext.fly(p).findParent(r.getCellSelector())){p=Ext.fly(a).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(p&&(k=p.className.match(l.actionIdRe))){h=l.items[parseInt(k[1],10)];c=h.disabled||(h.isDisabled?h.isDisabled.call(h.scope||l.origScope||l,r,n,b,h,m):false);if(h&&!c){if(q=="click"||(j==d.ENTER||j==d.SPACE)){g=h.handler||l.handler;if(g){g.call(h.scope||l.origScope||l,r,n,b,h,d,m,o)}}else{if(q=="mousedown"&&h.stopSelection!==false){return false}}}}return l.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}});Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(a){if(a===undefined){return this.undefinedText}if(!a||a==="false"){return this.falseText}return this.trueText}});Ext.define("Ext.grid.column.CheckColumn",{extend:Ext.grid.column.Column,alternateClassName:"Ext.ux.CheckColumn",alias:"widget.checkcolumn",align:"center",stopSelection:true,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange");this.scope=this;this.callParent(arguments)},processEvent:function(o,p,a,m,b,g,l,n){var j=this,h=o==="keydown"&&g.getKey(),k=o=="mousedown";if(!j.disabled&&(k||(h==g.ENTER||h==g.SPACE))){var d=j.dataIndex,c=!l.get(d);if(j.fireEvent("beforecheckchange",j,m,c)!==false){l.set(d,c);j.fireEvent("checkchange",j,m,c);if(k){g.stopEvent()}if(!j.stopSelection){p.selModel.selectByPosition({row:m,column:b})}return false}else{return !j.stopSelection}}else{return j.callParent(arguments)}},onEnable:function(b){var a=this;a.callParent(arguments);a.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+a.id).removeCls(a.disabledCls);if(!b){a.fireEvent("enable",a)}},onDisable:function(b){var a=this;a.callParent(arguments);a.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+a.id).addCls(a.disabledCls);if(!b){a.fireEvent("disable",a)}},renderer:function(d,c){var b=Ext.baseCSSPrefix,a=[b+"grid-checkcolumn"];if(this.disabled){c.tdCls+=" "+this.disabledCls}if(d){a.push(b+"grid-checkcolumn-checked")}return'<img class="'+a.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}});Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)}});Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)}});Ext.define("Ext.grid.column.RowNumberer",{extend:Ext.grid.column.Column,alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"&#160",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",constructor:function(a){var b=this;b.width=b.width;b.callParent(arguments);b.scope=b},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:undefined,renderer:function(k,b,d,g,a,j){var h=this.rowspan,c=j.currentPage,e=d.index;if(h){b.tdAttr='rowspan="'+h+'"'}if(e==null){e=g;if(c>1){e+=(c-1)*j.pageSize}}return e+1}});Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var a=this;a.tpl=(!Ext.isPrimitive(a.tpl)&&a.tpl.compile)?a.tpl:new Ext.XTemplate(a.tpl);a.hasCustomRenderer=true;a.callParent(arguments)},defaultRenderer:function(d,b,c){var a=Ext.apply({},c.data,c.getAssociatedData());return this.tpl.apply(a)}});Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:false,isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a;this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(b,d,c,a){return[b,d,c,a]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryTableCls:Ext.plainTableCls+" "+Ext.baseCSSPrefix+"grid-table",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",summaryRowTpl:{before:function(b,a){if(b.record.isSummary){this.summaryFeature.outputSummaryRecord(b.record,b,a);return false}},priority:1000},showSummaryRow:true,init:function(){var a=this;a.view.summaryFeature=a;a.rowTpl=a.view.self.prototype.rowTpl;a.view.addRowTpl(a.summaryRowTpl).summaryFeature=a},toggleSummaryRow:function(a){this.showSummaryRow=!!a},outputSummaryRecord:function(j,d,g){var l=d.view,h=l.rowValues,c=d.columns||l.headerCt.getVisibleGridColumns(),a=c.length,e,b,k={view:l,record:j,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:l.getRowId(j),columns:c};for(e=0;e<a;e++){b=c[e];b.savedRenderer=b.renderer;if(b.summaryRenderer){b.renderer=b.summaryRenderer}else{if(!b.summaryType){b.renderer=Ext.emptyFn}}if(!b.dataIndex){b.dataIndex=b.id}}l.rowValues=k;l.self.prototype.rowTpl.applyOut(k,g);l.rowValues=h;for(e=0;e<a;e++){b=c[e];b.renderer=b.savedRenderer;b.savedRenderer=null}},getSummary:function(d,e,a,b){var c=b.records;if(e){if(Ext.isFunction(e)){return d.getAggregate(e,null,c,[a])}switch(e){case"count":return c.length;case"min":return d.getMin(c,a);case"max":return d.getMax(c,a);case"sum":return d.getSum(c,a);case"average":return d.getAverage(c,a);default:return""}}},generateSummaryData:function(){var l=this,q=l.view.store,e=q.groups.items,m=q.proxy.reader,j=e.length,d=l.getGroupField(),b={},k=l.lockingPartner,h,c,n,p,r,g,a,o;if(l.remoteRoot&&m.rawData){g=true;o={};p=m.root;m.root=l.remoteRoot;m.buildExtractors(true);r=m.getRoot(m.rawData)||[];j=r.length;if(!m.convertRecordData){m.buildExtractors()}for(h=0;h<j;++h){a={};m.convertRecordData(a,r[h]);o[a[d]]=a}m.root=p;m.buildExtractors(true)}for(h=0;h<j;++h){c=e[h];if(g||c.isDirty()||!c.hasAggregate()){if(g){n=l.populateRemoteRecord(c,o)}else{n=l.populateRecord(c)}if(!k||(l.view.ownerCt===l.view.ownerCt.ownerLockable.normalGrid)){c.commit()}}else{n=c.getAggregateRecord()}b[c.key]=n}return b},populateRemoteRecord:function(c,a){var e=c.getAggregateRecord(true),d=a[c.key],b;e.beginEdit();for(b in d){if(d.hasOwnProperty(b)){if(b!==e.idProperty){e.set(b,d[b])}}}e.endEdit(true);e.commit(true);return e},populateRecord:function(d){var h=this,l=h.grid.ownerLockable?h.grid.ownerLockable.view:h.view,k=h.view.store,j=d.getAggregateRecord(),b=l.headerCt.getGridColumns(),g=b.length,e,a,c;j.beginEdit();for(e=0;e<g;++e){a=b[e];c=a.dataIndex||a.id;j.set(c,h.getSummary(k,a.summaryType,c,d))}j.endEdit(true);j.commit();return j}});Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:true,constructor:function(a,c){var b=this;b.superclass.constructor.apply(b,arguments);b.groupingFeature=a;b.bindStore(c);b.processStore(c);b.view.dataSource=b},bindStore:function(b){var a=this;if(a.store){Ext.destroy(a.storeListeners);a.store=null}if(b){a.storeListeners=b.on({bulkremove:a.onBulkRemove,add:a.onAdd,update:a.onUpdate,refresh:a.onRefresh,clear:a.onClear,scope:a,destroyable:true});a.store=b}},processStore:function(m){var k=this,h=m.getGroups(),e=h.length,j,c,g,b=k.data,l=k.groupingFeature.groupCache,d=k.groupingFeature.clearGroupCache(),a=k.groupingFeature.startCollapsed;if(b){b.clear()}else{b=k.data=new Ext.util.MixedCollection(false,Ext.data.Store.recordIdFn)}if(m.getCount()){k.groupingFeature.startCollapsed=false;for(j=0;j<e;j++){c=h[j];d[c.name]=c;c.isCollapsed=a||(l[c.name]&&l[c.name].isCollapsed);if(c.isCollapsed){c.placeholder=g=new m.model(null,"group-"+c.name+"-placeholder");g.set(k.getGroupField(),c.name);g.rows=g.children=c.children;g.isCollapsedPlaceholder=true;b.add(g)}else{b.insert(k.data.length,c.children)}}}},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(b){var a;if(this.store.isGrouped()&&(a=this.groupingFeature.groupCache[b.get(this.getGroupField())])){return a.isCollapsed||false}return false},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(b,a){return a<this.getCount()},getRange:function(d,a,b){var c=this.data.getRange(d,a);if(b&&b.callback){b.callback.call(b.scope||this,c,d,a,b)}return c},getAt:function(a){return this.getRange(a,a)[0]},getById:function(a){return this.store.getById(a)},expandGroup:function(a){var b=this,c;if(typeof a==="string"){a=b.groupingFeature.groupCache[a]}if(a&&a.children.length&&(c=b.indexOf(a.children[0],true,true))!==-1){a.isCollapsed=false;b.isExpandingOrCollapsing=1;b.data.removeAt(c);b.fireEvent("bulkremove",b,[b.getGroupPlaceholder(a)],[c]);b.data.insert(c,a.children);b.fireEvent("add",b,a.children,c);b.fireEvent("groupexpand",b,a);b.isExpandingOrCollapsing=0}},collapseGroup:function(a){var e=this,k,g,b,c,d,h;if(typeof a==="string"){a=e.groupingFeature.groupCache[a]}if(a&&(d=a.children.length)&&(k=e.indexOf(a.children[0],true))!==-1){a.isCollapsed=true;e.isExpandingOrCollapsing=2;e.data.removeRange(k,d);h=new Array(d);for(b=0,c=k;b<d;b++,c++){h[b]=c}e.fireEvent("bulkremove",e,a.children,h);e.data.insert(k,g=e.getGroupPlaceholder(a));e.fireEvent("add",e,[g],k);e.fireEvent("groupcollapse",e,a);e.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(a){if(!a.placeholder){var b=a.placeholder=new this.store.model(null,"group-"+a.name+"-placeholder");b.set(this.getGroupField(),a.name);b.rows=b.children=a.children;b.isCollapsedPlaceholder=true}return a.placeholder},indexOf:function(j,l,g){var h=this,d,b,e,a,c,k=0;if(j&&(g||!h.isInCollapsedGroup(j))){d=h.store.getGroups();b=d.length;for(e=0;e<b;e++){a=d[e];if(a.name===this.store.getGroupString(j)){c=Ext.Array.indexOf(a.children,j);return k+c}k+=(l&&h.isCollapsed(a.name))?1:a.children.length}}return -1},indexOfTotal:function(b){var a=b.index;if(a||a===0){return a}return this.istore.ndexOf(b)},onRefresh:function(a){this.processStore(this.store);this.fireEvent("refresh",this)},onBulkRemove:function(c,b,a){this.processStore(this.store);this.fireEvent("refresh",this)},onClear:function(c,a,b){this.processStore(this.store);this.fireEvent("clear",this)},onAdd:function(c,a,b){this.processStore(this.store);this.fireEvent("refresh",this)},onUpdate:function(j,h,g,e){var d=this,b=d.groupingFeature.getRecordGroup(h),a,c;if(j.isGrouped()){if(e&&Ext.Array.contains(e,d.groupingFeature.getGroupField())){return d.onRefresh(d.store)}if(b.isCollapsed){d.fireEvent("update",d,b.placeholder)}else{Ext.suspendLayouts();d.fireEvent("update",d,h,g,e);a=b.children[0];c=b.children[b.children.length-1];if(a!==h){d.fireEvent("update",d,a,"edit")}if(c!==h&&c!==a){d.fireEvent("update",d,c,"edit")}Ext.resumeLayouts(true)}}else{d.fireEvent("update",d,h,g,e)}}});Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",groupCls:Ext.baseCSSPrefix+"grid-group-hd",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:true,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,collapsible:true,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:false,tableTpl:{before:function(a){if(this.groupingFeature.disabled||a.rows.length===1&&a.rows[0].isSummary){return}this.groupingFeature.setup(a.rows,a.view.rowValues)},after:function(a){if(this.groupingFeature.disabled||a.rows.length===1&&a.rows[0].isSummary){return}this.groupingFeature.cleanup(a.rows,a.view.rowValues)},priority:200},groupTpl:["{%","var me = this.groupingFeature;","if (me.disabled) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.recordIndex, values);","values.needsWrap = !me.disabled && (values.isFirstRow || values.summaryRecord);","}","%}",'<tpl if="needsWrap">','<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}"','class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row<tpl if="!summaryRecord"> '+Ext.baseCSSPrefix+'grid-group-row</tpl>">','<td class="'+Ext.baseCSSPrefix+'group-hd-container" colspan="{columns.length}">','<tpl if="isFirstRow">',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div id="{groupId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {collapsibleCls}" tabIndex="0">','<div class="'+Ext.baseCSSPrefix+'grid-group-title" style="{[groupTitleStyle]}">','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "&#160;"]}',"</div>","</div>","</tpl>",'<tpl if="summaryRecord || !isCollapsedGroup">','<table class="',Ext.baseCSSPrefix,"{view.id}-table ",Ext.baseCSSPrefix,"grid-table",'<tpl if="summaryRecord"> ',Ext.baseCSSPrefix,'grid-table-summary</tpl>"','border="0" cellspacing="0" cellpadding="0" style="width:100%">',"{[values.view.renderColumnSizer(out)]}",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out);%}","</tpl>","</table>","</tpl>","</td>","</tr>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,syncRowHeights:function(c,j){c=Ext.fly(c,"syncDest");j=Ext.fly(j,"sycSrc");var e=this.owner,a=c.down(e.eventSelector,true),g,d=c.down(e.summaryRowSelector,true),k,b,h;if(a&&(g=j.down(e.eventSelector,true))){a.style.height=g.style.height="";if((b=a.offsetHeight)>(h=g.offsetHeight)){Ext.fly(g).setHeight(b)}else{if(h>b){Ext.fly(a).setHeight(h)}}}if(d&&(k=j.down(e.summaryRowSelector,true))){d.style.height=k.style.height="";if((b=d.offsetHeight)>(h=k.offsetHeight)){Ext.fly(k).setHeight(b)}else{if(h>b){Ext.fly(d).setHeight(h)}}}},syncContent:function(b,g){b=Ext.fly(b,"syncDest");g=Ext.fly(g,"sycSrc");var d=this.owner,a=b.down(d.eventSelector,true),e=g.down(d.eventSelector,true),c=b.down(d.summaryRowSelector,true),h=g.down(d.summaryRowSelector,true);if(a&&e){Ext.fly(a).syncContent(e)}if(c&&h){Ext.fly(c).syncContent(h)}}}],constructor:function(){this.groupCache={};this.callParent(arguments)},init:function(a){var b=this,c=b.view;c.isGrouping=true;if(b.lockingPartner&&b.lockingPartner.groupCache){b.groupCache=b.lockingPartner.groupCache}b.mixins.summary.init.call(b);b.callParent(arguments);c.headerCt.on({columnhide:b.onColumnHideShow,columnshow:b.onColumnHideShow,columnmove:b.onColumnMove,scope:b});c.addTableTpl(b.tableTpl).groupingFeature=b;c.addRowTpl(Ext.XTemplate.getTpl(b,"groupTpl")).groupingFeature=b;c.preserveScrollOnRefresh=true;if(c.store.buffered){b.collapsible=false}else{if(this.lockingPartner&&this.lockingPartner.dataSource){b.dataSource=c.dataSource=this.lockingPartner.dataSource}else{b.dataSource=c.dataSource=new Ext.grid.feature.GroupStore(b,c.store)}}b.grid.on({reconfigure:b.onReconfigure});c.on({afterrender:b.afterViewRender,scope:b,single:true})},clearGroupCache:function(){var b=this,a=b.groupCache={};if(b.lockingPartner){b.lockingPartner.groupCache=a}return a},vetoEvent:function(b,c,d,a){if(a.type!=="mouseover"&&a.type!=="mouseout"&&a.type!=="mouseenter"&&a.type!=="mouseleave"&&a.getTarget(this.eventSelector)){return false}},enable:function(){var b=this,d=b.view,c=d.store,a;b.lastGroupField=b.getGroupField();d.isGrouping=true;if(b.lastGroupIndex){b.block();c.group(b.lastGroupIndex);b.unblock()}b.callParent();a=b.view.headerCt.getMenu().down("#groupToggleMenuItem");if(a){a.setChecked(true,true)}b.refreshIf()},disable:function(){var c=this,e=c.view,d=e.store,a,b;e.isGrouping=false;b=d.groupers.first();if(b){c.lastGroupIndex=b.property;c.block();d.clearGrouping();c.unblock()}c.callParent();a=c.view.headerCt.getMenu().down("#groupToggleMenuItem");if(a){a.setChecked(false,true)}c.refreshIf()},refreshIf:function(){var a=this.grid.ownerCt,b=this.view;if(!b.store.remoteGroup&&!this.blockRefresh){if(a&&a.lockable){a.view.refresh()}else{b.refresh()}}},afterViewRender:function(){var a=this,b=a.view;b.on({scope:a,groupclick:a.onGroupClick});if(a.enableGroupingMenu){a.injectGroupingMenu()}a.pruneGroupedHeader();a.lastGroupField=a.getGroupField();a.block();a.onGroupChange();a.unblock()},injectGroupingMenu:function(){var b=this,a=b.view.headerCt;a.showMenuBy=b.showMenuBy;a.getMenuItems=b.getMenuItems()},onColumnHideShow:function(e,c){var l=this.view,d=l.headerCt,k=d.getMenu(),b=k.down("#groupMenuItem"),a=d.getGridColumns().length,h,j,g;if(b){if(d.getVisibleGridColumns().length>1){b.enable()}else{b.disable()}}if(l.rendered){h=l.el.query("."+this.ctCls);for(g=0,j=h.length;g<j;++g){h[g].colSpan=a}}},onColumnMove:function(){var h=this,j=h.view.store,c,d,g,b,a,e;if(j.isGrouped()){c=j.getGroups();g=c.length;for(d=0;d<g;d++){b=c[d];a=b.children[0];e=b.children[b.children.length-1];j.fireEvent("update",j,a,"edit",null);if(e!==a){j.fireEvent("update",j,e,"edit",null)}}}},showMenuBy:function(h,d){var g=this.getMenu(),a=g.down("#groupMenuItem"),b=d.groupable===false||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",c=g.down("#groupToggleMenuItem"),e=this.view.store.isGrouped();a[b]();if(c){c.setChecked(e,true);c[e?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,d=e.groupByText,a=e.disabled||!e.getGroupField(),g=e.showGroupsText,b=e.enableNoGroups,c=e.view.headerCt.getMenuItems;return function(){var h=c.call(this);h.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:d,handler:e.onGroupMenuItemClick,scope:e});if(b){h.push({itemId:"groupToggleMenuItem",text:g,checked:!a,checkHandler:e.onGroupToggleMenuItemClick,scope:e})}return h}},onGroupMenuItemClick:function(g,a){var c=this,d=g.parentMenu,b=d.activeHeader,j=c.view,h=j.store;c.lastGroupIndex=null;c.block();c.enable();h.group(b.dataIndex);c.pruneGroupedHeader();c.unblock();c.refreshIf()},block:function(a){this.blockRefresh=this.view.blockRefresh=true;if(this.lockingPartner&&!a){this.lockingPartner.block(true)}},unblock:function(a){this.blockRefresh=this.view.blockRefresh=false;if(this.lockingPartner&&!a){this.lockingPartner.unblock(true)}},onGroupToggleMenuItemClick:function(b,a){this[a?"enable":"disable"]()},pruneGroupedHeader:function(){var b=this,a=b.getGroupedHeader();if(b.hideGroupedHeader&&a){Ext.suspendLayouts();if(b.prunedHeader&&b.prunedHeader!==a){b.prunedHeader.show()}b.prunedHeader=a;a.hide();Ext.resumeLayouts(true)}},getHeaderNode:function(a){return Ext.get(this.createGroupId(a))},getGroup:function(c){var a=this.groupCache,b=a[c];if(!b){b=a[c]={isCollapsed:false}}return b},isExpanded:function(a){return !this.getGroup(a).isCollapsed},expand:function(b,a){this.doCollapseExpand(false,b,a)},expandAll:function(){var d=this,g=d.view,a=d.groupCache,b,c=d.lockingPartner,e;for(b in a){if(a.hasOwnProperty(b)){a[b].isCollapsed=false}}Ext.suspendLayouts();g.suspendEvent("beforerefresh","refresh");if(c){e=c.view;e.suspendEvent("beforerefresh","refresh")}d.dataSource.onRefresh();g.resumeEvent("beforerefresh","refresh");if(c){e.resumeEvent("beforerefresh","refresh")}Ext.resumeLayouts(true);for(b in a){if(a.hasOwnProperty(b)){d.afterCollapseExpand(false,b);if(c){c.afterCollapseExpand(false,b)}}}},collapse:function(b,a){this.doCollapseExpand(true,b,a)},isAllCollapsed:function(){var c=this,a=c.groupCache,b;for(b in a){if(a.hasOwnProperty(b)){if(!a[b].isCollapsed){return false}}}return true},isAllExpanded:function(){var c=this,a=c.groupCache,b;for(b in a){if(a.hasOwnProperty(b)){if(a[b].isCollapsed){return false}}}return true},collapseAll:function(){var d=this,g=d.view,a=d.groupCache,b,c=d.lockingPartner,e;for(b in a){if(a.hasOwnProperty(b)){a[b].isCollapsed=true}}Ext.suspendLayouts();g.suspendEvent("beforerefresh","refresh");if(c){e=c.view;e.suspendEvent("beforerefresh","refresh")}d.dataSource.onRefresh();g.resumeEvent("beforerefresh","refresh");if(c){e.resumeEvent("beforerefresh","refresh")}if(c&&!c.isAllCollapsed()){c.collapseAll()}Ext.resumeLayouts(true);for(b in a){if(a.hasOwnProperty(b)){d.afterCollapseExpand(true,b);if(c){c.afterCollapseExpand(true,b)}}}},doCollapseExpand:function(a,d,b){var g=this,e=g.lockingPartner,c=g.groupCache[d];if(c.isCollapsed!=a){Ext.suspendLayouts();if(a){g.dataSource.collapseGroup(c)}else{g.dataSource.expandGroup(c)}Ext.resumeLayouts(true);g.afterCollapseExpand(a,d,b);if(e){e.afterCollapseExpand(a,d,false)}}},afterCollapseExpand:function(a,c,b){var e=this,g=e.view,d;d=Ext.get(this.getHeaderNode(c));g.fireEvent(a?"groupcollapse":"groupexpand",g,d,c);if(b){d.up(g.getItemSelector()).scrollIntoView(g.el,null,true)}},onGroupChange:function(){var c=this,a=c.getGroupField(),d,e,b;if(c.hideGroupedHeader){if(c.lastGroupField){d=c.getMenuItem(c.lastGroupField);if(d){d.setChecked(true)}}if(a){e=c.view.headerCt.getVisibleGridColumns();b=((e.length===1)&&(e[0].dataIndex==a));d=c.getMenuItem(a);if(d&&!b){d.setChecked(false)}}}c.refreshIf();c.lastGroupField=a},getMenuItem:function(a){var d=this.view,b=d.headerCt.down("gridcolumn[dataIndex="+a+"]"),c=d.headerCt.getMenu();return b?c.down("menuitem[headerId="+b.id+"]"):null},onGroupKey:function(c,a){var d=this,b=d.getGroupName(a.target);if(b){d.onGroupClick(d.view,a.target,b,a)}},onGroupClick:function(l,k,h,a){var j=this,c=j.groupCache,d=!j.isExpanded(h),b;if(j.collapsible){if(a.ctrlKey){Ext.suspendLayouts();for(b in c){if(b===h){if(d){j.expand(h)}}else{j.doCollapseExpand(true,b,false)}}Ext.resumeLayouts(true);return}if(d){j.expand(h)}else{j.collapse(h)}}},setupRowData:function(m,h,n){var j=this,a=j.refreshData,d=j.groupInfo,g=a.header,c=a.groupField,o=j.view.dataSource,b,e,l,k;n.isCollapsedGroup=false;n.summaryRecord=null;if(a.doGrouping){b=j.view.store.groupers.first();if(m.children){e=b.getGroupString(m.children[0]);n.isFirstRow=n.isLastRow=true;n.itemClasses.push(j.hdCollapsedCls);n.isCollapsedGroup=true;n.groupInfo=d;d.groupField=c;d.name=e;d.groupValue=m.children[0].get(c);d.columnName=g?g.text:c;n.collapsibleCls=j.collapsible?j.collapsibleCls:j.hdNotCollapsibleCls;n.groupId=j.createGroupId(e);d.rows=d.children=m.children;if(j.showSummaryRow){n.summaryRecord=a.summaryData[e]}return}e=b.getGroupString(m);n.isFirstRow=h===0;if(!n.isFirstRow){l=o.getAt(h-1);if(l){n.isFirstRow=!l.isEqual(b.getGroupString(l),e)}}n.isLastRow=h==o.getTotalCount()-1;if(!n.isLastRow){k=o.getAt(h+1);if(k){n.isLastRow=!k.isEqual(b.getGroupString(k),e)}}if(n.isFirstRow){d.groupField=c;d.name=e;d.groupValue=m.get(c);d.columnName=g?g.text:c;n.collapsibleCls=j.collapsible?j.collapsibleCls:j.hdNotCollapsibleCls;n.groupId=j.createGroupId(e);if(!j.isExpanded(e)){n.itemClasses.push(j.hdCollapsedCls);n.isCollapsedGroup=true}if(o.buffered){d.rows=d.children=[]}else{d.rows=d.children=j.getRecordGroup(m).children}n.groupInfo=d}if(n.isLastRow){if(j.showSummaryRow){n.summaryRecord=a.summaryData[e]}}}},setup:function(d,e){var c=this,a=c.refreshData,b=!c.disabled&&c.view.store.isGrouped();c.skippedRows=0;if(e.view.bufferedRenderer){e.view.bufferedRenderer.variableRowHeight=true}a.groupField=c.getGroupField();a.header=c.getGroupedHeader(a.groupField);a.doGrouping=b;e.groupHeaderTpl=Ext.XTemplate.getTpl(c,"groupHeaderTpl");if(b&&c.showSummaryRow){a.summaryData=c.generateSummaryData()}},cleanup:function(b,c){var a=this.refreshData;c.groupInfo=c.groupHeaderTpl=c.isFirstRow=null;a.groupField=a.header=null},getGroupName:function(a){var c=this,h=c.view,b=c.eventSelector,d,g,e;g=Ext.fly(a).findParent(b);if(!g){e=Ext.fly(a).findParent(h.itemSelector);if(e){g=e.down(b,true)}}if(g){d=g.id.split(h.id+"-hd-");if(d.length===2){return Ext.htmlDecode(d[1])}}},getRecordGroup:function(b){var a=this.view.store.groupers.first();if(a){return this.groupCache[a.getGroupString(b)]}},createGroupId:function(a){return this.view.id+"-hd-"+Ext.htmlEncode(a)},createGroupCls:function(a){return this.view.id+"-"+Ext.htmlEncode(a)+"-item"},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var d=this,c=d.view.headerCt,e=d.lockingPartner,g,b;a=a||this.getGroupField();if(a){g="[dataIndex="+a+"]";b=c.down(g);if(!b&&e){b=e.view.headerCt.down(g)}}return b||null},getFireEventArgs:function(c,d,b,a){return[c,d,b,this.getGroupName(b),a]},destroy:function(){var b=this,a=b.dataSource;b.view=b.prunedHeader=b.grid=b.groupCache=b.dataSource=null;b.callParent();if(a){a.bindStore(null)}},onReconfigure:function(b,g,a,e,d){var c=b;if(g&&g!==e){if(g.buffered!==e.buffered){Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores")}if(g.buffered){c.bindStore(g);c.dataSource.processStore(g)}}}});Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:true,vetoEvent:function(b,d,g,a){var c=this.callParent(arguments);if(c!==false){if(a.getTarget(this.summaryRowSelector)){c=false}}return c}});Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",tableTpl:{before:function(c,a){var d=c.view,b=d.rowValues;this.rowBody.setup(c.rows,b)},after:function(c,a){var d=c.view,b=d.rowValues;this.rowBody.cleanup(c.rows,b)},priority:100},extraRowTpl:["{%","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","this.nextTpl.applyOut(values, out, parent);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}">','<td class="'+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}">','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}">{rowBody}</div>',"</td>","</tr>",{priority:100,syncRowHeights:function(b,g){var d=this.owner,c=Ext.fly(b).down(d.eventSelector,true),h,a,e;if(c&&(h=Ext.fly(g).down(d.eventSelector,true))){if((a=c.offsetHeight)>(e=h.offsetHeight)){Ext.fly(h).setHeight(a)}else{if(e>a){Ext.fly(c).setHeight(e)}}}},syncContent:function(a,d){var c=this.owner,b=Ext.fly(a).down(c.eventSelector,true),e;if(b&&(e=Ext.fly(d).down(c.eventSelector,true))){Ext.fly(b).syncContent(e)}}}],init:function(a){var b=this,c=b.view;c.rowBodyFeature=b;if(!c.findFeature("rowwrap")){a.mon(c,{element:"el",mousedown:b.onMouseDown,scope:b});b.mon(a.getStore(),"remove",b.onStoreRemove,b)}c.headerCt.on({columnschanged:b.onColumnsChanged,scope:b});c.addTableTpl(b.tableTpl).rowBody=b;c.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl"));b.callParent(arguments)},onStoreRemove:function(d,b,a){var e=this.view,c;if(e.rendered){c=e.getNode(a);if(c){c=Ext.fly(c).next(this.eventSelector);if(c){c.remove()}}}},onMouseDown:function(a){var b=this,c=a.getTarget(b.eventSelector);if(c&&Ext.fly(c=c.previousSibling).is(b.view.getItemSelector())){a.target=c;b.view.handleEvent(a)}},getSelectedRow:function(c,a){var b=c.getNode(a,false);if(b){return Ext.fly(b).down(this.eventSelector)}return null},onColumnsChanged:function(b){var d=this.view.el.query(this.rowBodyTdSelector),a=b.getVisibleGridColumns().length,e=d.length,c;for(c=0;c<e;++c){d[c].colSpan=a}},setupRowData:function(a,b,c){if(this.getAdditionalData){Ext.apply(c,this.getAdditionalData(a.data,b,a,c))}},setup:function(a,b){b.rowBodyCls=this.rowBodyCls;b.rowBodyColspan=b.view.getGridColumns().length},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}});Ext.define("Ext.grid.feature.RowWrap",{extend:Ext.grid.feature.Feature,alias:"feature.rowwrap",rowWrapTd:"td."+Ext.baseCSSPrefix+"grid-rowwrap",hasFeatureEvent:false,tableTpl:{before:function(b,a){if(b.view.bufferedRenderer){b.view.bufferedRenderer.variableRowHeight=true}},priority:200},wrapTpl:['<tr data-boundView="{view.id}" data-recordId="{record.internalId}" data-recordIndex="{recordIndex}" class="{[values.itemClasses.join(" ")]} '+Ext.baseCSSPrefix+'grid-wrap-row">','<td class="'+Ext.baseCSSPrefix+"grid-rowwrap "+Ext.baseCSSPrefix+'grid-td" colSpan="{columns.length}">','<table class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" border="0" cellspacing="0" cellpadding="0">',"{[values.view.renderColumnSizer(out)]}","{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent)","%}","</table>","</td>","</tr>",{priority:200}],init:function(a){var b=this;b.view.addTableTpl(b.tableTpl);b.view.addRowTpl(Ext.XTemplate.getTpl(b,"wrapTpl"));b.view.headerCt.on({columnhide:b.onColumnHideShow,columnshow:b.onColumnHideShow,scope:b})},onColumnHideShow:function(){var e=this.view,c=e.el.query(this.rowWrapTd),a=e.headerCt.getVisibleGridColumns().length,d=c.length,b;for(b=0;b<d;++b){c[b].colSpan=a}}});Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:undefined,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",init:function(a){var b=this,c=b.view;b.callParent(arguments);if(b.dock){a.headerCt.on({afterlayout:b.onStoreUpdate,scope:b});a.on({beforerender:function(){var d=[b.summaryTableCls];if(c.columnLines){d[d.length]=c.ownerCt.colLinesCls}b.summaryBar=a.addDocked({childEls:["innerCt"],renderTpl:['<div id="{id}-innerCt">','<table cellPadding="0" cellSpacing="0" class="'+d.join(" ")+'">','<tr class="'+b.summaryRowCls+'"></tr>',"</table>","</div>"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],xtype:"component",dock:b.dock,weight:10000000})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock);c.mon(c.el,{scroll:b.onViewScroll,scope:b});b.onStoreUpdate()},single:true});a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){b.summaryBar.innerCt.setWidth(this.getFullWidth()+Ext.getScrollbarSize().width)})}else{b.view.addFooterFn(b.renderTFoot)}a.on({columnmove:b.onStoreUpdate,scope:b});c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderTFoot:function(c,b){var d=c.view,a=d.findFeature("summary");if(a.showSummaryRow){b.push("<tfoot>");a.outputSummaryRecord(a.createSummaryRecord(d),c,b);b.push("</tfoot>")}},vetoEvent:function(b,c,d,a){return !a.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.el.dom.scrollLeft=this.view.el.dom.scrollLeft},createSummaryRecord:function(h){var c=h.headerCt.getVisibleGridColumns(),e={records:h.store.getRange()},a=c.length,d,b,g=this.summaryRecord||(this.summaryRecord=new h.store.model(null,h.id+"-summary-record"));g.beginEdit();for(d=0;d<a;d++){b=c[d];if(!b.dataIndex){b.dataIndex=b.id}g.set(b.dataIndex,this.getSummary(h.store,b.summaryType,b.dataIndex,e))}g.endEdit(true);g.commit(true);g.isSummary=true;return g},onStoreUpdate:function(){var a=this,h=a.view,g=a.createSummaryRecord(h),b=h.createRowElement(g,-1),c,e,d;if(!h.rendered){return}if(a.dock){c=a.summaryBar.el.down("."+a.summaryRowCls,true)}else{c=a.view.getNode(g)}if(c){d=c.parentNode;d.insertBefore(b,c);d.removeChild(c);e=a.lockingPartner;if(e&&e.grid.rendered&&!a.calledFromLockingPartner){e.calledFromLockingPartner=true;e.onStoreUpdate();e.calledFromLockingPartner=false}}if(a.dock){a.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var h=this.view,b=h.headerCt.getVisibleGridColumns(),a,e=b.length,d,g=this.summaryBar.el,c;for(d=0;d<e;d++){a=b[d];c=g.down(h.getCellSelector(a));if(c){if(a.hidden){c.setDisplayed(false)}else{c.setDisplayed(true);c.setWidth(a.width||(a.lastBox?a.lastBox.width:100))}}}}});Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,constructor:function(d){var g=this,c,a,b=[],e=d.lockedGrid,h=d.normalGrid;g.lockable=d;g.callParent();e.columnManager.rootColumns=h.columnManager.rootColumns=d.columnManager=g.columnManager=new Ext.grid.ColumnManager(e.headerCt,h.headerCt);c=e.headerCt.events;for(a in c){if(c.hasOwnProperty(a)){b.push(a)}}g.relayEvents(e.headerCt,b);g.relayEvents(h.headerCt,b)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var b=this,a=b.lockable.lockedGrid.headerCt.getColumnsState(),c=b.lockable.normalGrid.headerCt.getColumnsState();return a.concat(c)},applyColumnsState:function(b){var n=this,k=n.lockable.lockedGrid,l=k.headerCt,q=n.lockable.normalGrid.headerCt,h=Ext.Array.toValueMap(l.items.items,"headerId"),p=Ext.Array.toValueMap(q.items.items,"headerId"),g=[],o=[],m=1,e=b.length,d,c,j,a;for(d=0;d<e;d++){a=b[d];j=h[a.id];c=j||p[a.id];if(c){if(c.applyColumnState){c.applyColumnState(a)}if(c.locked===undefined){c.locked=!!j}if(c.locked){g.push(c);if(!c.hidden&&typeof c.width=="number"){m+=c.width}}else{o.push(c)}}}if(g.length+o.length==l.items.getCount()+q.items.getCount()){l.removeAll(false);q.removeAll(false);l.add(g);q.add(o);k.setWidth(m)}}});Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:{observable:Ext.util.Observable},isLockingView:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var h=this,c=[],d=h.eventRelayRe,g=a.locked.getView(),j=a.normal.getView(),e,b;Ext.apply(h,{lockedView:g,normalView:j,lockedGrid:a.locked,normalGrid:a.normal,panel:a.panel});h.mixins.observable.constructor.call(h,a);e=g.events;for(b in e){if(e.hasOwnProperty(b)&&d.test(b)){c.push(b)}}h.relayEvents(g,c);h.relayEvents(j,c);j.on({scope:h,itemmouseleave:h.onItemMouseLeave,itemmouseenter:h.onItemMouseEnter});g.on({scope:h,itemmouseleave:h.onItemMouseLeave,itemmouseenter:h.onItemMouseEnter});h.panel.on({render:h.onPanelRender,scope:h})},onPanelRender:function(){var c=this,b=c.loadMask,a={target:c.panel,msg:c.loadingText,msgCls:c.loadingCls,useMsg:c.loadingUseMsg,store:c.panel.store};c.el=c.panel.body;c.fireEvent("render",c);if(b){if(Ext.isObject(b)){a=Ext.apply(a,b)}c.loadMask=new Ext.LoadMask(a)}},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(a){var c=this.lockedView,b;c.headerCt.cascade(function(d){if(d===a){b=true;return false}});return b?c:this.normalView},onItemMouseEnter:function(g,e){var c=this,b=c.lockedView,d=c.normalView,a;if(g.trackOver){if(g!==b){d=b}a=d.getNode(e,false);d.highlightItem(a)}},onItemMouseLeave:function(e,d){var b=this,a=b.lockedView,c=b.normalView;if(e.trackOver){if(e!==a){c=a}c.clearHighlight()}},relayFn:function(b,a){a=a||[];var c=this.lockedView;c[b].apply(c,a);c=this.normalView;c[b].apply(c,a)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(b,a){return this.normalView.getNode(b,a)},getCell:function(b,a){var d=this.getViewForColumn(a),c=d.getNode(b,true);return Ext.fly(c).down(a.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);if(!b){b=this.normalView.indexOf(a)}return b},focus:function(){var a=this.getSelectionModel().getCurrentPosition(),b=a?a.view:this.normalView;b.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(a){var b=this.lockedView.getRecord(a);if(!b){b=this.normalView.getRecord(a)}return b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,b,c){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var b=this,a=b.loadMask;b.clearListeners();if(a&&a.bindStore){a.bindStore(null)}}});Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b=this,d,g,h,e,c;if(b.subGridXType){d=b.subGridXType}else{if(!a){return"gridpanel"}g=this.getXTypes().split("/");h=g.length;e=g[h-1];c=g[h-2];if(c!=="tablepanel"){d=c}else{d=e}}return d},injectLockable:function(){this.lockable=true;this.hasView=true;var l=this,p=Ext.getScrollbarSize().height,r=l.store=Ext.StoreManager.lookup(l.store),q=l.getSelectionModel(),a,b,h,m,e,d,j,n,k,o,g,c=l.findPlugin("bufferedrenderer");a=l.constructLockableFeatures();if(l.features){l.features=null}b=l.constructLockablePlugins();l.plugins=b.topPlugins;h=Ext.apply({id:l.id+"-locked",isLocked:true,ownerLockable:l,xtype:l.determineXTypeToCreate(true),store:r,scrollerOwner:false,animate:false,scroll:p?false:"vertical",selModel:q,border:false,cls:l.lockedGridCls,isLayoutRoot:function(){return false},features:a.lockedFeatures,plugins:b.lockedPlugins},l.lockedGridConfig);m=Ext.apply({id:l.id+"-normal",isLocked:false,ownerLockable:l,xtype:l.determineXTypeToCreate(),store:r,scrollerOwner:false,selModel:q,border:false,isLayoutRoot:function(){return false},features:a.normalFeatures,plugins:b.normalPlugins},l.normalGridConfig);l.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(m,l,l.bothCfgCopy,true);Ext.copyTo(h,l,l.bothCfgCopy,true);Ext.copyTo(m,l,l.normalCfgCopy,true);Ext.copyTo(h,l,l.lockedCfgCopy,true);for(e=0;e<l.normalCfgCopy.length;e++){delete l[l.normalCfgCopy[e]]}for(e=0;e<l.lockedCfgCopy.length;e++){delete l[l.lockedCfgCopy[e]]}l.addEvents("processcolumns","lockcolumn","unlockcolumn");l.addStateEvents(["lockcolumn","unlockcolumn"]);d=l.processColumns(l.columns);h.width=d.lockedWidth+Ext.num(q.headerWidth,0)+(d.locked.items.length?1:0);h.columns=d.locked;m.columns=d.normal;m.flex=1;h.viewConfig=l.lockedViewConfig||{};h.viewConfig.loadingUseMsg=false;h.viewConfig.loadMask=false;if(p){h.viewConfig.style="border-bottom:"+p+"px solid #f6f6f6;"+(h.viewConfig.style||"")}m.viewConfig=l.normalViewConfig||{};m.viewConfig.loadMask=false;Ext.applyIf(h.viewConfig,l.viewConfig);Ext.applyIf(m.viewConfig,l.viewConfig);l.lockedGrid=Ext.ComponentManager.create(h);if(l.isTree){l.lockedGrid.getView().animate=false;m.store=l.lockedGrid.view.store;m.deferRowRender=false;m.viewConfig.stripeRows=l.lockedGrid.view.stripeRows;m.rowLines=l.lockedGrid.rowLines}k=l.lockedGrid.getView();m.viewConfig.lockingPartner=k;l.normalGrid=Ext.ComponentManager.create(m);k.lockingPartner=o=l.normalGrid.getView();l.view=new Ext.grid.locking.View({loadingText:o.loadingText,loadingCls:o.loadingCls,loadingUseMsg:o.loadingUseMsg,loadMask:l.loadMask!==false,locked:l.lockedGrid,normal:l.normalGrid,panel:l});g=c?{}:{scroll:{fn:l.onLockedViewScroll,element:"el",scope:l}};if(p){l.lockedGrid.on({afterlayout:l.afterLockedViewLayout,scope:l});k.getOverflowStyle();if(k.scrollFlags.y){l.lockedGrid.headerCt.forceFit=true}else{g.mousewheel={fn:l.onLockedViewMouseWheel,element:"el",scope:l}}}k.on(g);g=c?{}:{scroll:{fn:l.onNormalViewScroll,element:"el",scope:l},scope:l};o.on(g);j=l.lockedGrid.headerCt;n=l.normalGrid.headerCt;l.headerCt=l.view.headerCt=new Ext.grid.locking.HeaderContainer(l);j.lockedCt=true;j.lockableInjected=true;n.lockableInjected=true;j.on({add:{buffer:1,scope:l,fn:l.onLockedHeaderAdd},columnshow:l.onLockedHeaderShow,columnhide:l.onLockedHeaderHide,sortchange:l.onLockedHeaderSortChange,columnresize:l.onLockedHeaderResize,scope:l});n.on({sortchange:l.onNormalHeaderSortChange,scope:l});l.modifyHeaderCt();l.items=[l.lockedGrid,l.normalGrid];l.relayHeaderCtEvents(j);l.relayHeaderCtEvents(n);l.storeRelayers=l.relayEvents(r,["filterchange"]);l.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(b){var d,e,a,c=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container()),h=[],k=[],g={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:h},j={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:k},l={lockedWidth:0,locked:g,normal:j};if(Ext.isObject(b)){Ext.applyIf(g,b);Ext.applyIf(j,b);Ext.apply(c,b);b=b.items}for(d=0,e=b.length;d<e;++d){a=b[d];if(!a.isComponent){a=c.lookupComponent(c.applyDefaults(a))}a.processed=true;if(a.locked||a.autoLock){if(!a.hidden){l.lockedWidth+=this.getColumnWidth(a)||c.defaultWidth}h.push(a)}else{k.push(a)}if(!a.headerId){a.headerId=(a.initialConfig||a).id||("h"+(++this.headerCounter))}}this.fireEvent("processcolumns",this,h,k);return l},getColumnWidth:function(a){var d=a.width||0,e,c,b;if(!d&&a.isGroupHeader){e=a.items.items;c=e.length;for(b=0;b<c;b++){d+=this.getColumnWidth(e[b])}}return d},afterLockedViewLayout:function(){var c=this,a=c.lockedGrid.getView(),b=a.el.dom,d=(c.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0);if(a.scrollFlags.x&&b.scrollWidth>b.clientWidth){d=0}a.el.dom.style.borderBottomWidth=d+"px";if(!Ext.isBorderBox){a.el.setHeight(a.lastBox.height)}},onLockedViewMouseWheel:function(b){var c=this,d=-c.scrollDelta,a=d*b.getWheelDeltas().y,j=c.lockedGrid.getView().el.dom,g,h;if(!c.ignoreMousewheel){if(j){g=j.scrollTop!==j.scrollHeight-j.clientHeight;h=j.scrollTop!==0}if((a<0&&h)||(a>0&&g)){b.stopEvent();j.scrollTop+=a;c.normalGrid.getView().el.dom.scrollTop=j.scrollTop;c.onNormalViewScroll()}}},onLockedViewScroll:function(){var d=this,c=d.lockedGrid.getView(),h=d.normalGrid.getView(),e=h.el.dom,a=c.el.dom,g,b;if(e.scrollTop!==a.scrollTop){e.scrollTop=a.scrollTop;if(d.store.buffered){b=c.el.child("table",true);g=h.el.child("table",true);g.style.position="absolute";g.style.top=b.style.top}}},onNormalViewScroll:function(){var d=this,c=d.lockedGrid.getView(),h=d.normalGrid.getView(),e=h.el.dom,a=c.el.dom,g,b;if(e.scrollTop!==a.scrollTop){a.scrollTop=e.scrollTop;if(d.store.buffered){b=c.el.child("table",true);g=h.el.child("table",true);b.style.position="absolute";b.style.top=g.style.top}}},syncRowHeights:function(){var e=this,a,d=e.lockedGrid.getView(),h=e.normalGrid.getView(),c=d.all.slice(),g=h.all.slice(),b=c.length,j;if(g.length===b){for(a=0;a<b;a++){h.syncRowHeights(c[a],g[a])}j=h.el.dom.scrollTop;h.el.dom.scrollTop=j;d.el.dom.scrollTop=j}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,true);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,false);a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy);a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,a){var c=this.getMenu(),g=c.down("#unlockItem"),b=c.down("#lockItem"),d=g.prev();if(a.lockable===false){d.hide();g.hide();b.hide()}else{d.show();g.show();b.show();if(!g.initialConfig.disabled){g.setDisabled(a.lockable===false)}if(!b.initialConfig.disabled){b.setDisabled(!a.isLockable())}}},getMenuItems:function(a,c){var g=this,k=g.unlockText,e=g.lockText,h=Ext.baseCSSPrefix+"hmenu-unlock",b=Ext.baseCSSPrefix+"hmenu-lock",j=Ext.Function.bind(g.onUnlockMenuClick,g),d=Ext.Function.bind(g.onLockMenuClick,g);return function(){var l=a.call(this);l.push("-",{itemId:"unlockItem",cls:h,text:k,handler:j,disabled:!c});l.push({itemId:"lockItem",cls:b,text:e,handler:d,disabled:c});return l}},syncLockedWidth:function(){var e=this,a=e.lockedGrid,c=a.view,d=c.el.dom,g=e.normalGrid,b=a.headerCt.getVisibleGridColumns().length,h=g.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(h){g.show();if(b){if(!a.headerCt.forceFit){delete a.flex;a.setWidth(a.headerCt.getFullWidth())}a.addCls(e.lockedGridCls);a.show()}else{a.getView().refresh();a.hide()}c.el.setStyle(c.getOverflowStyle());e.ignoreMousewheel=c.scrollFlags.y}else{g.hide();d.style.borderBottomWidth="0";a.flex=1;delete a.width;a.removeCls(e.lockedGridCls);a.show();c.el.setStyle(g.view.getOverflowStyle());e.ignoreMousewheel=true}Ext.resumeLayouts(true);return[b,h]},onLockedHeaderAdd:function(){if(!this.ignoreAddLockedColumn){this.syncLockedWidth()}},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(b,a,c){if(c){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(b,a,c){if(c){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},lock:function(a,k){var d=this,e=d.normalGrid,b=d.lockedGrid,g=e.headerCt,c=b.headerCt,j,h;a=a||g.getMenu().activeHeader;h=a.ownerCt;if(!a.isLockable()){return}if(a.flex){a.width=a.getWidth();a.flex=null}Ext.suspendLayouts();h.remove(a,false);a.locked=true;d.ignoreAddLockedColumn=true;if(Ext.isDefined(k)){c.insert(k,a)}else{c.add(a)}d.ignoreAddLockedColumn=false;j=d.syncLockedWidth();if(j[0]){b.getView().refresh()}if(j[1]){e.getView().refresh()}Ext.resumeLayouts(true);d.fireEvent("lockcolumn",d,a)},unlock:function(a,j){var d=this,e=d.normalGrid,b=d.lockedGrid,g=e.headerCt,c=b.headerCt,h;if(!Ext.isDefined(j)){j=0}a=a||c.getMenu().activeHeader;Ext.suspendLayouts();a.ownerCt.remove(a,false);a.locked=false;g.insert(j,a);h=d.syncLockedWidth();if(h[0]){b.getView().refresh()}if(h[1]){e.getView().refresh()}Ext.resumeLayouts(true);d.fireEvent("unlockcolumn",d,a)},reconfigureLockable:function(g,a){var c=this,e=c.store,b=c.lockedGrid,d=c.normalGrid;Ext.suspendLayouts();if(a){b.headerCt.removeAll();d.headerCt.removeAll();a=c.processColumns(a);c.ignoreAddLockedColumn=true;b.headerCt.add(a.locked.items);c.ignoreAddLockedColumn=false;d.headerCt.add(a.normal.items);c.syncLockedWidth()}if(g&&g!==e){g=Ext.data.StoreManager.lookup(g);c.store=g;b.bindStore(g);d.bindStore(g)}else{b.getView().refresh();d.getView().refresh()}Ext.resumeLayouts(true)},constructLockableFeatures:function(){var c=this.features,a,b,g,h,d=0,e;if(c){g=[];h=[];e=c.length;for(;d<e;d++){a=c[d];if(!a.isFeature){a=Ext.create("feature."+a.ftype,a)}switch(a.lockableScope){case"locked":g.push(a);break;case"normal":h.push(a);break;default:a.lockableScope="both";g.push(a);h.push(b=a.clone());b.lockingPartner=a;a.lockingPartner=b}}}return{normalFeatures:h,lockedFeatures:g}},constructLockablePlugins:function(){var j=this.plugins,h,e,c,k,d,g,a=0,b;if(j){k=[];d=[];g=[];b=j.length;for(;a<b;a++){h=j[a];switch(h.lockableScope){case"both":d.push(c=h.clonePlugin());g.push(e=h.clonePlugin());c.lockingPartner=e;e.lockingPartner=c;Ext.destroy(h);break;case"locked":d.push(h);break;case"normal":g.push(h);break;default:k.push(h)}}}return{topPlugins:k,normalPlugins:g,lockedPlugins:d}},destroyLockable:function(){Ext.destroy(this.view)}},function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])});Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:true,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:true,loadMask:false,rootVisible:true,deferInitialRefresh:false,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);",'delete values.rowAttr["data-qtip"];','delete values.rowAttr["data-qtitle"];',"%}",{priority:10,processRowValues:function(d){var c=d.record,e=d.view,a=c.get("qtip"),b=c.get("qttle");d.rowAttr={};if(a){d.rowAttr["data-qtip"]=a}if(b){d.rowAttr["data-qtitle"]=b}if(c.isExpanded()){d.rowClasses.push(e.expandedCls)}if(c.isLeaf()){d.rowClasses.push(e.leafCls)}if(c.isLoading()){d.rowClasses.push(e.loadingCls)}}}],initComponent:function(){var a=this,c=a.panel.getStore(),b=a.store;if(a.initialConfig.animate===undefined){a.animate=Ext.enableFx}if(!b||b===c){a.store=b=new Ext.data.NodeStore({treeStore:c,recursive:true,rootVisible:a.rootVisible})}if(a.node){a.setRootNode(a.node)}a.animQueue={};a.animWraps={};a.addEvents("afteritemexpand","afteritemcollapse","nodedragover");a.callParent(arguments);a.addRowTpl(Ext.XTemplate.getTpl(a,"treeRowTpl"))},onBeforeFill:function(b,a){this.store.suspendEvents()},onFillComplete:function(g,a,c){var b=this,e=b.store,d=e.indexOf(c[0]);e.resumeEvents();a.triggerUIUpdate();if(!c.length||d===-1){return}b.onAdd(b.store,c,d);b.refreshPartner()},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){if(a.isStore){this.store.resumeEvents();this.refresh();this.refreshPartner()}},refreshPartner:function(){var a=this.lockingPartner;if(a){a.refresh()}},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){var a=this;a.callParent(arguments);a.el.on({scope:a,delegate:a.expanderSelector,mouseover:a.onExpanderMouseOver,mouseout:a.onExpanderMouseOut,click:{delegate:a.checkboxSelector,fn:a.onCheckboxChange,scope:a}})},afterComponentLayout:function(){this.callParent(arguments);var a=this.stretcher;if(a){a.setWidth((this.getWidth()-Ext.getScrollbarSize().width))}},processUIEvent:function(a){if(a.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(b){var a=this;a.store.setNode(b);a.node=b},onCheckboxChange:function(a,d){var c=this,b=a.getTarget(c.getItemSelector(),c.getTargetEl());if(b){c.onCheckChange(c.getRecord(b))}},onCheckChange:function(b){var a=b.get("checked");if(Ext.isBoolean(a)){a=!a;b.set("checked",a);this.fireEvent("checkchange",b,a)}},getChecked:function(){var a=[];this.node.cascadeBy(function(b){if(b.get("checked")){a.push(b)}});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(g,b){var c=this,d=c.getNode(g),h,e,a=[];c.renderColumnSizer(a);e=Ext.get(d);h=e.insertSibling({tag:"tr",html:['<td colspan="'+c.panel.headerCt.getColumnCount()+'">','<div class="'+c.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+c.id+"-table "+Ext.baseCSSPrefix+'grid-table" style="border:0" cellspacing="0" cellpadding="0">',a.join(""),"<tbody></tbody></table>","</div>","</td>"].join("")},"after");return{record:g,node:d,el:h,expanding:false,collapsing:false,animating:false,animateEl:h.down("div"),targetEl:h.down("tbody")}},getAnimWrap:function(b,a){if(!this.animate){return null}var d=this.animWraps,c=d[b.internalId];if(a!==false){while(!c&&b){b=b.parentNode;if(b){c=d[b.internalId]}}}return c},doAdd:function(l,d){var g=this,h=g.bufferRender(l,d,true),k=l[0],j=k.parentNode,a=g.all,m,b=g.getAnimWrap(j),n,c,e;if(!b||!b.expanding){return g.callParent(arguments)}j=b.record;n=b.targetEl;c=n.dom.childNodes;e=c.length;m=d-g.indexInStore(j)-1;if(!e||m>=e){n.appendChild(h)}else{Ext.fly(c[m]).insertSibling(h,"before",true)}a.insert(d,h);if(b.isAnimating){g.onExpand(j)}},onRemove:function(a,g,d){var e=this,b,c;if(e.viewReady){b=e.store.getCount()===0;if(b){e.refresh()}else{for(c=d.length-1;c>=0;--c){e.doRemove(g[c],d[c])}}if(e.hasListeners.itemremove){for(c=d.length-1;c>=0;--c){e.fireEvent("itemremove",g[c],d[c])}}}},doRemove:function(h,c){var e=this,a=e.all,b=e.getAnimWrap(h),d=a.item(c),g=d?d.dom:null;if(!g||!b||!b.collapsing){return e.callParent(arguments)}b.targetEl.dom.insertBefore(g,b.targetEl.dom.firstChild);a.removeElement(c)},onBeforeExpand:function(d,e,b){var c=this,a;if(c.rendered&&c.all.getCount()&&c.animate){if(c.getNode(d)){a=c.getAnimWrap(d,false);if(!a){a=c.animWraps[d.internalId]=c.createAnimWrap(d);a.animateEl.setHeight(0)}else{if(a.collapsing){a.targetEl.select(c.itemSelector).remove()}}a.expanding=true;a.collapsing=false}}},onExpand:function(j){var g=this,k=g.animQueue,d=j.getId(),h=g.getNode(j),e=h?g.indexOf(h):-1,b,a,l,c=Ext.isIEQuirks?1:0;if(g.singleExpand){g.ensureSingleExpand(j)}if(e===-1){return}b=g.getAnimWrap(j,false);if(!b){j.isExpandingOrCollapsing=false;g.fireEvent("afteritemexpand",j,e,h);g.refreshSize();return}a=b.animateEl;l=b.targetEl;a.stopAnimation();k[d]=true;a.dom.style.height=c+"px";a.animate({from:{height:c},to:{height:l.getHeight()},duration:g.expandDuration,listeners:{afteranimate:function(){var m=l.query(g.itemSelector);if(m.length){b.el.insertSibling(m,"before",true)}b.el.remove();g.refreshSize();delete g.animWraps[b.record.internalId];delete k[d]}},callback:function(){j.isExpandingOrCollapsing=false;g.fireEvent("afteritemexpand",j,e,h)}});b.isAnimating=true},onBeforeCollapse:function(e,g,c,b,h){var d=this,a;if(d.rendered&&d.all.getCount()){if(d.animate){if(Ext.Array.contains(e.stores,d.store)){a=d.getAnimWrap(e);if(!a){a=d.animWraps[e.internalId]=d.createAnimWrap(e,c)}else{if(a.expanding){a.targetEl.select(this.itemSelector).remove()}}a.expanding=false;a.collapsing=true;a.callback=b;a.scope=h}}else{d.onCollapseCallback=b;d.onCollapseScope=h}}},onCollapse:function(h){var e=this,j=e.animQueue,c=h.getId(),g=e.getNode(h),d=g?e.indexOf(g):-1,b=e.getAnimWrap(h),a;if(!e.all.getCount()||!Ext.Array.contains(h.stores,e.store)){return}if(!b){h.isExpandingOrCollapsing=false;e.fireEvent("afteritemcollapse",h,d,g);e.refreshSize();Ext.callback(e.onCollapseCallback,e.onCollapseScope);e.onCollapseCallback=e.onCollapseScope=null;return}a=b.animateEl;j[c]=true;a.stopAnimation();a.animate({to:{height:Ext.isIEQuirks?1:0},duration:e.collapseDuration,listeners:{afteranimate:function(){b.el.remove();e.refreshSize();delete e.animWraps[b.record.internalId];delete j[c]}},callback:function(){h.isExpandingOrCollapsing=false;e.fireEvent("afteritemcollapse",h,d,g);Ext.callback(b.callback,b.scope);b.callback=b.scope=null}});b.isAnimating=true},isAnimating:function(a){return !!this.animQueue[a.getId()]},expand:function(e,b,a,h){var d=this,c=!!d.animate,g;if(!c||!e.isExpandingOrCollapsing){if(!e.isLeaf()){e.isExpandingOrCollapsing=c}Ext.suspendLayouts();g=e.expand(b,a,h);Ext.resumeLayouts(true);return g}},collapse:function(e,b,a,g){var d=this,c=!!d.animate;if(!c||!e.isExpandingOrCollapsing){if(!e.isLeaf()){e.isExpandingOrCollapsing=c}return e.collapse(b,a,g)}},toggle:function(c,b,a,d){if(c.isExpanded()){this.collapse(c,b,a,d)}else{this.expand(c,b,a,d)}},onItemDblClick:function(e,c,b){var d=this,a=d.editingPlugin;d.callParent(arguments);if(d.toggleOnDblClick&&e.isExpandable()&&!(a&&a.clicksToEdit===2)){d.toggle(e)}},onBeforeItemMouseDown:function(d,c,b,a){if(a.getTarget(this.expanderSelector,c)){return false}return this.callParent(arguments)},onItemClick:function(d,c,b,a){if(a.getTarget(this.expanderSelector,c)&&d.isExpandable()){this.toggle(d,a.ctrlKey);return false}return this.callParent(arguments)},onExpanderMouseOver:function(a,b){a.getTarget(this.cellSelector,10,true).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a,b){a.getTarget(this.cellSelector,10,true).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var b=this,a=b.callParent(arguments);return Ext.apply(a,{beforeexpand:b.onBeforeExpand,expand:b.onExpand,beforecollapse:b.onBeforeCollapse,collapse:b.onCollapse,write:b.onStoreWrite,datachanged:b.onStoreDataChanged})},onBindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments);a.mon(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mon(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},onUnbindStore:function(){var a=this,b=a.getTreeStore();a.callParent(arguments);a.mun(b,{scope:a,beforefill:a.onBeforeFill,fillcomplete:a.onFillComplete});if(!b.remoteSort){a.mun(b,{scope:a,beforesort:a.onBeforeSort,sort:a.onSort})}},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(a){var b=a.parentNode;if(b){b.eachChild(function(c){if(c!==a&&c.isExpanded()){c.collapse()}})}},shouldUpdateCell:function(e,b,a){if(a){var c=0,d=a.length;for(;c<d;++c){if(Ext.Array.contains(this.uiFields,a[c])){return true}}}return this.callParent(arguments)},onStoreWrite:function(b,a){var c=this.panel.store;c.fireEvent("write",c,a)},onStoreDataChanged:function(b,a){var c=this.panel.store;c.fireEvent("datachanged",c)}});Ext.define("Ext.grid.plugin.BufferedRendererTreeView",{override:"Ext.tree.View",onRemove:function(d,c,a){var b=this;if(b.rendered&&b.bufferedRenderer){b.refreshView()}else{b.callParent([d,c,a])}}});Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",lockableScope:"both",percentageFromEdge:0.35,variableRowHeight:false,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(a){var b=this,c=a.view,d={scroll:{fn:b.onViewScroll,element:"el",scope:b},boxready:b.onViewResize,resize:b.onViewResize,refresh:b.onViewRefresh,scope:b,destroyable:true};if(!b.variableRowHeight&&a.ownerLockable){a.ownerLockable.syncRowHeight=false}if(a.isTree||a.ownerLockable&&a.ownerLockable.isTree){c.blockRefresh=false;c.loadMask=true}if(c.positionBody){d.refresh=b.onViewRefresh}b.grid=a;b.view=c;c.bufferedRenderer=b;c.preserveScrollOnRefresh=true;b.bindStore(c.dataSource);c.getViewRange=function(){return b.getViewRange()};b.position=0;b.gridListeners=a.on("reconfigure",b.onReconfigure,b);b.viewListeners=c.on(d)},bindStore:function(b){var a=this;if(a.store){a.unbindStore()}a.storeListeners=b.on({scope:a,clear:a.onStoreClear,destroyable:true});a.store=b;if(a.view.componentLayout.layoutCount){a.onViewResize(a.view,0,a.view.getHeight())}},onReconfigure:function(a,b){if(b&&b!==this.store){this.bindStore(b)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this;if(a.view.rendered&&!a.store.isDestroyed){if(a.scrollTop!==0){a.ignoreNextScrollEvent=true;a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0}a.position=a.scrollHeight=0;a.lastScrollDirection=a.scrollOffset=null;delete a.rowHeight}},onViewRefresh:function(){var a=this,d=a.view,b=a.scrollHeight,c;if(d.all.getCount()){delete a.rowHeight}c=a.getScrollHeight();if(!b||c!=b){a.stretchView(d,c)}if(a.scrollTop!==d.el.dom.scrollTop){a.onViewScroll()}else{a.setBodyTop(a.bodyTop);if(d.all.getCount()){a.viewSize=0;a.onViewResize(d,null,d.getHeight())}}},onViewResize:function(g,h,a,e,d){if(!d||a!==d){var b=this,c;c=Math.ceil(a/b.rowHeight)+b.trailingBufferZone+b.leadingBufferZone;b.viewSize=b.setViewSize(c)}},stretchView:function(e,d){var b=this,c=(b.store.buffered?b.store.getTotalCount():b.store.getCount());if(b.stretcher){b.stretcher.dom.style.marginTop=(d-1)+"px"}else{var a=e.el;if(e.refreshCounter){e.fixedNodes++}if(c&&(b.view.all.endIndex===c-1)){d=b.bodyTop+e.body.dom.offsetHeight}this.stretcher=a.createChild({style:{width:"1px",height:"1px",marginTop:(d-1)+"px",left:0,position:"absolute"}},a.dom.firstChild)}},setViewSize:function(h){if(h!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var d=this,g=d.store,a=d.view.all.getCount(),e,b,c=d.lockingPartner;d.viewSize=g.viewSize=h;if(a){e=d.view.all.startIndex;b=Math.min(e+h-1,(g.buffered?g.getTotalCount():g.getCount())-1);if(c){c.disable()}d.renderRange(e,b);if(c){c.enable()}}}return h},getViewRange:function(){var a=this,b=a.view.all,c=a.store;if(c.data.getCount()){return c.getRange(b.startIndex,b.startIndex+(a.viewSize||a.store.defaultViewSize)-1)}else{return[]}},scrollTo:function(e,b,a,g){var d=this,o=d.view,p=o.el.dom,j=d.store,n=j.buffered?j.getTotalCount():j.getCount(),h,c,l,m,k;e=Math.min(Math.max(e,0),n-1);h=Math.max(Math.min(e-((d.leadingBufferZone+d.trailingBufferZone)/2),n-d.viewSize+1),0);k=h*d.rowHeight;c=Math.min(h+d.viewSize-1,n-1);j.getRange(h,c,{callback:function(r,s,q){d.renderRange(s,q,true);l=j.data.getRange(e,e)[0];m=o.getNode(l,false);o.body.dom.style.top=k+"px";d.position=d.scrollTop=p.scrollTop=k=Math.min(Math.max(0,k-o.body.getOffsetsTo(m)[1]),p.scrollHeight-p.clientHeight);if(Ext.isIE){p.scrollTop=k}if(b){o.selModel.select(l)}if(a){a.call(g||d,e,l)}}})},onViewScroll:function(a,j){var b=this,h=b.store,k=(h.buffered?h.getTotalCount():h.getCount()),l,c,g=b.scrollTop=b.view.el.dom.scrollTop,d=false;if(b.ignoreNextScrollEvent){b.ignoreNextScrollEvent=false;return}if(!(b.disabled||k<b.viewSize)){l=g-b.position;c=l>0?1:-1;if(Math.abs(l)>=20||(c!==b.lastScrollDirection)){b.lastScrollDirection=c;b.handleViewScroll(b.lastScrollDirection);d=true}}if(!d){if(b.lockingPartner&&b.lockingPartner.scrollTop!==g){b.lockingPartner.view.el.dom.scrollTop=g}}},handleViewScroll:function(a){var b=this,e=b.view.all,g=b.store,j=b.viewSize,h=(g.buffered?g.getTotalCount():g.getCount()),d,c;if(a==-1){if(e.startIndex){if((b.getFirstVisibleRowIndex()-e.startIndex)<b.numFromEdge){d=Math.max(0,b.getLastVisibleRowIndex()+b.trailingBufferZone-j)}}}else{if(e.endIndex<h-1){if((e.endIndex-b.getLastVisibleRowIndex())<b.numFromEdge){d=Math.max(0,b.getFirstVisibleRowIndex()-b.trailingBufferZone)}}}if(d!=null){c=Math.min(d+j-1,h-1);if(d!==e.startIndex||c!==e.endIndex){b.renderRange(d,c);return}}if(b.lockingPartner&&b.lockingPartner.view.el&&b.lockingPartner.scrollTop!==b.scrollTop){b.lockingPartner.view.el.dom.scrollTop=b.scrollTop}},renderRange:function(d,a,b){var c=this,e=c.store;if(e.rangeCached(d,a)){c.cancelLoad();if(c.synchronousRender||b){c.onRangeFetched(null,d,a)}else{if(!c.renderTask){c.renderTask=new Ext.util.DelayedTask(c.onRangeFetched,c,null,false)}c.renderTask.delay(1,null,null,[null,d,a])}}else{c.attemptLoad(d,a)}},onRangeFetched:function(j,m,b,c){var g=this,o=g.view,h,l=o.all,k,d=0,a=m*g.rowHeight,n,e=g.lockingPartner;if(o.isDestroyed){return}if(!j){j=g.store.getRange(m,b);if(!j){return}}if(m>l.endIndex||b<l.startIndex){l.clear(true);n=a}if(!l.getCount()){o.doAdd(j,m)}else{if(b>l.endIndex){k=Math.max(m-l.startIndex,0);if(g.variableRowHeight){d=l.item(l.startIndex+k,true).offsetTop}l.scroll(Ext.Array.slice(j,l.endIndex+1-m),1,k,m,b);if(g.variableRowHeight){n=g.bodyTop+d}else{n=a}}else{k=Math.max(l.endIndex-b,0);h=l.startIndex;l.scroll(Ext.Array.slice(j,0,l.startIndex-m),-1,k,m,b);if(g.variableRowHeight){n=g.bodyTop-l.item(h,true).offsetTop}else{n=a}}}g.position=g.scrollTop;if(o.positionBody){g.setBodyTop(n,a)}if(e&&!e.disabled&&!c){e.onRangeFetched(j,m,b,true);if(e.scrollTop!==g.scrollTop){e.view.el.dom.scrollTop=g.scrollTop}}},setBodyTop:function(b,c){var e=this,h=e.view,g=e.store,a=h.body.dom,d;b=Math.floor(b);if(c!==undefined){d=b-c;b=c}a.style.position="absolute";a.style.top=(e.bodyTop=b)+"px";if(d){e.scrollTop=e.position=h.el.dom.scrollTop-=d}if(h.all.endIndex===(g.buffered?g.getTotalCount():g.getCount())-1){e.stretchView(h,e.bodyTop+a.offsetHeight)}},getFirstVisibleRowIndex:function(g,c,m,l){var d=this,k=d.view,e=k.all,b=e.elements,a=k.el.dom.clientHeight,h,j;if(e.getCount()&&d.variableRowHeight){if(!arguments.length){g=e.startIndex;c=e.endIndex;m=d.scrollTop;l=m+a;if(d.bodyTop>l||d.bodyTop+k.body.getHeight()<m){return Math.floor(d.scrollTop/d.rowHeight)}h=g+Math.min(d.numFromEdge+((d.lastScrollDirection==-1)?d.leadingBufferZone:d.trailingBufferZone),Math.floor((c-g)/2))}else{h=g+Math.floor((c-g)/2)}j=d.bodyTop+b[h].offsetTop;if(j+b[h].offsetHeight<m){return d.getFirstVisibleRowIndex(h+1,c,m,l)}if(j<=m){return h}else{if(h!==g){return d.getFirstVisibleRowIndex(g,h-1,m,l)}}}return Math.floor(d.scrollTop/d.rowHeight)},getLastVisibleRowIndex:function(g,c,n,m){var d=this,l=d.view,e=l.all,b=e.elements,a=l.el.dom.clientHeight,h,k,j;if(e.getCount()&&d.variableRowHeight){if(!arguments.length){g=e.startIndex;c=e.endIndex;n=d.scrollTop;m=n+a;if(d.bodyTop>m||d.bodyTop+l.body.getHeight()<n){return Math.floor(d.scrollTop/d.rowHeight)+Math.ceil(a/d.rowHeight)}h=c-Math.min(d.numFromEdge+((d.lastScrollDirection==1)?d.leadingBufferZone:d.trailingBufferZone),Math.floor((c-g)/2))}else{h=g+Math.floor((c-g)/2)}k=d.bodyTop+b[h].offsetTop;if(k>m){return d.getLastVisibleRowIndex(g,h-1,n,m)}j=k+b[h].offsetHeight;if(j>=m){return h}else{if(h!==c){return d.getLastVisibleRowIndex(h+1,c,n,m)}}}return d.getFirstVisibleRowIndex()+Math.ceil(a/d.rowHeight)},getScrollHeight:function(){var b=this,e=b.view,c=b.store,a=!b.hasOwnProperty("rowHeight"),d=b.store.getCount();if(!d){return 0}if(a){if(e.all.getCount()){b.rowHeight=Math.floor(e.body.getHeight()/e.all.getCount())}}return this.scrollHeight=Math.floor((c.buffered?c.getTotalCount():c.getCount())*b.rowHeight)},attemptLoad:function(c,a){var b=this;if(b.scrollToLoadBuffer){if(!b.loadTask){b.loadTask=new Ext.util.DelayedTask(b.doAttemptLoad,b,[])}b.loadTask.delay(b.scrollToLoadBuffer,b.doAttemptLoad,b,[c,a])}else{b.store.getRange(c,a,{callback:b.onRangeFetched,scope:b,fireEvent:false})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(b,a){this.store.getRange(b,a,{callback:this.onRangeFetched,scope:this,fireEvent:false})},destroy:function(){var a=this,b=a.view;if(b&&b.el){b.el.un("scroll",a.onViewScroll,a)}Ext.destroy(a.viewListeners,a.storeListeners,a.gridListeners)}});Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:Ext.AbstractPlugin,mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;b.addEvents("beforeedit","edit","validateedit","canceledit");b.callParent(arguments);b.mixins.observable.constructor.call(b);b.on("edit",function(d,c){b.fireEvent("afteredit",d,c)})},init:function(a){var b=this;b.grid=a;b.view=a.view;b.initEvents();b.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onReconfigure,single:true,scope:b}});a.relayEvents(b,b.relayedEvents);if(b.grid.ownerLockable){b.grid.ownerLockable.relayEvents(b,b.relayedEvents)}a.isEditable=true;a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){var a=this.grid;a=a.ownerLockable?a.ownerLockable:a;this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var b=this,a=b.grid;Ext.destroy(b.keyNav);b.clearListeners();if(a){b.removeFieldAccessors(a.columnManager.getColumns());a.editingPlugin=a.view.editingPlugin=b.grid=b.view=b.editor=b.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){if(e.isGroupHeader){e=e.getGridColumns()}else{if(!Ext.isArray(e)){e=[e]}}var g=this,a,b=e.length,d;for(a=0;a<b;a++){d=e[a];if(!d.getEditor){d.getEditor=function(h,c){return g.getColumnField(this,c)}}if(!d.hasEditor){d.hasEditor=function(){return g.hasColumnField(this)}}if(!d.setEditor){d.setEditor=function(c){g.setColumnField(this,c)}}}},removeFieldAccessors:function(e){if(e.isGroupHeader){e=e.getGridColumns()}else{if(!Ext.isArray(e)){e=[e]}}var a,b=e.length,d;for(a=0;a<b;a++){d=e[a];d.getEditor=d.hasEditor=d.setEditor=null}},getColumnField:function(a,b){var c=a.field;if(!(c&&c.isFormField)){c=a.field=this.createColumnField(a,b)}return c},hasColumnField:function(a){return !!a.field},setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field;if(!c&&a.editor){c=a.editor;a.editor=null}if(!c&&b){c=b}if(c){if(c.isFormField){c.column=a}else{if(Ext.isString(c)){c={name:a.dataIndex,xtype:c,column:a}}else{c=Ext.apply({name:a.dataIndex,column:a},c)}c=Ext.ComponentManager.create(c,this.defaultFieldXType)}a.field=c}return c},initEvents:function(){var a=this;a.initEditTriggers();a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var a=this,b=a.view;if(a.triggerEvent=="cellfocus"){a.mon(b,"cellfocus",a.onCellFocus,a)}else{if(a.triggerEvent=="rowfocus"){a.mon(b,"rowfocus",a.onRowFocus,a)}else{if(b.getSelectionModel().isCellModel){b.onCellFocus=Ext.Function.bind(a.beforeViewCellFocus,a)}a.mon(b,a.triggerEvent||("cell"+(a.clicksToEdit===1?"click":"dblclick")),a.onCellClick,a)}}a.initAddRemoveHeaderEvents();b.on("render",a.initKeyNavHeaderEvents,a,{single:true})},beforeViewCellFocus:function(a){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(a,b,c){this.startEdit(b,0)},onCellFocus:function(c,a,b){this.startEdit(b.row,b.column)},onCellClick:function(j,a,b,d,g,h,c){if(!j.expanderSelector||!c.getTarget(j.expanderSelector)){this.startEdit(d,j.ownerCt.columnManager.getHeaderAtIndex(b))}},initAddRemoveHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove,columnmove:a.onColumnMove})},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(b,a){this.initFieldAccessors(a)},onColumnRemove:function(b,a){this.removeFieldAccessors(a)},onColumnMove:function(c,a,b,d){this.initFieldAccessors(a)},onEnterKey:function(b){var d=this,c=d.grid,j=c.getSelectionModel(),h,g,a;if(j.getCurrentPosition&&(g=j.getCurrentPosition())){h=g.record;a=g.columnHeader}else{h=j.getLastSelected();a=c.columnManager.getHeaderAtIndex(0)}if(h&&a){d.startEdit(h,a)}},onEscKey:function(a){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,a){var d=this,b,c=d.grid.lockable?d.grid:d.view;if(!c.componentLayoutCounter){c.on({boxready:Ext.Function.bind(d.startEdit,d,[e,a]),single:true});return false}if(d.grid.collapsed||!d.grid.view.isVisible(true)){return false}b=d.getEditingContext(e,a);if(b==null){return false}if(!d.preventBeforeCheck){if(d.beforeEdit(b)===false||d.fireEvent("beforeedit",d,b)===false||b.cancel){return false}}d.editing=true;return b},getEditingContext:function(g,b){var e=this,c=e.grid,j=e.view,d=j.getNode(g,true),h,a;if(!d){return}b=c.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(b)?b:b.getVisibleIndex());if(!b){return}a=b.getVisibleIndex();if(Ext.isNumber(g)){h=g;g=j.getRecord(d)}else{h=j.indexOf(d)}if(!g){return}return{grid:c,view:j,store:j.dataSource,record:g,field:b.dataIndex,value:g.get(b.dataIndex),row:d,column:b,rowIdx:h,colIdx:a}},cancelEdit:function(){var a=this;a.editing=false;a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.fireEvent("edit",a,a.context)}a.context=null;a.editing=false},validateEdit:function(){var b=this,a=b.context;return b.fireEvent("validateedit",b,a)!==false&&!a.cancel}});Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(a){var c=this,b=c.lockingPartner;c.callParent(arguments);if(b){if(b.editors){c.editors=b.editors}else{c.editors=b.editors=new Ext.util.MixedCollection(false,function(d){return d.editorId})}}else{c.editors=new Ext.util.MixedCollection(false,function(d){return d.editorId})}},onReconfigure:function(b,c,a){if(a){this.editors.clear()}this.callParent()},destroy:function(){var a=this;if(a.editors){a.editors.each(Ext.destroy,Ext);a.editors.clear()}a.callParent(arguments)},onBodyScroll:function(){var b=this,a=b.getActiveEditor(),c=b.view.el.getScroll();if(a&&a.editing&&a.editingPlugin===b){if(c.top!==b.scroll.top){if(a.field){if(a.field.triggerBlur){a.field.triggerBlur()}else{a.field.blur()}}}else{a.realign()}}b.scroll=c},initCancelTriggers:function(){var b=this,a=b.grid,c=a.view;b.mon(c,"bodyscroll",b.onBodyScroll,b);b.mon(a,{columnresize:b.cancelEdit,columnmove:b.cancelEdit,scope:b})},isCellEditable:function(d,a){var c=this,b=c.getEditingContext(d,a);if(c.grid.view.isVisible(true)&&b){a=b.column;d=b.record;if(a&&c.getEditor(d,a)){return true}}},startEdit:function(e,a,b){var d=this,c;if(!b){d.preventBeforeCheck=true;b=d.callParent(arguments);delete d.preventBeforeCheck;if(b===false){return false}}if(b&&d.grid.view.isVisible(true)){e=b.record;a=b.column;d.completeEdit();if(a&&!a.getEditor(e)){return false}d.context=b;b.originalValue=b.value=e.get(a.dataIndex);if(d.beforeEdit(b)===false||d.fireEvent("beforeedit",d,b)===false||b.cancel){return false}c=d.getEditor(e,a);d.grid.view.cancelFocus();d.view.scrollCellIntoView(d.getCell(e,a));if(c){d.showEditor(c,b,b.value);return true}return false}},showEditor:function(c,b,k){var d=this,g=b.record,a=b.column,j=d.grid.getSelectionModel(),h=j.getCurrentPosition(),e=h&&h.view;if(e&&e!==d.view){return d.lockingPartner.showEditor(c,d.lockingPartner.getEditingContext(h.record,h.columnHeader),k)}d.setEditingContext(b);d.setActiveEditor(c);d.setActiveRecord(g);d.setActiveColumn(a);if(j.selectByPosition&&(!h||h.column!==b.colIdx||h.row!==b.rowIdx)){j.selectByPosition({row:b.rowIdx,column:b.colIdx,view:d.view})}c.startEdit(d.getCell(g,a),k,b);d.editing=true;d.scroll=d.view.el.getScroll()},completeEdit:function(){var a=this.getActiveEditor();if(a){a.completeEdit();this.editing=false}},setEditingContext:function(a){this.context=a;if(this.lockingPartner){this.lockingPartner.context=a}},setActiveEditor:function(a){this.activeEditor=a;if(this.lockingPartner){this.lockingPartner.activeEditor=a}},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;if(this.lockingPartner){this.lockingPartner.activeColumn=a}},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;if(this.lockingPartner){this.lockingPartner.activeRecord=a}},getActiveRecord:function(){return this.activeRecord},getEditor:function(h,a){var g=this,e=g.editors,c=a.getItemId(),b=e.getByKey(c),d=g.grid.ownerLockable||g.grid;if(!b){b=a.getEditor(h);if(!b){return false}if(b instanceof Ext.grid.CellEditor){b.floating=true}else{b=new Ext.grid.CellEditor({floating:true,editorId:c,field:b})}d.add(b);b.on({scope:g,specialkey:g.onSpecialKey,complete:g.onEditComplete,canceledit:g.cancelEdit});a.on("removed",g.cancelActiveEdit,g);e.add(b)}if(a.isTreeColumn){b.isForTree=a.isTreeColumn;b.addCls(Ext.baseCSSPrefix+"tree-cell-editor")}b.grid=g.grid;b.editingPlugin=g;return b},cancelActiveEdit:function(a){var b=this.context;if(b&&b.column===a){this.cancelEdit()}},setColumnField:function(a,c){var b=this.editors.getByKey(a.getItemId());Ext.destroy(b,a.field);this.editors.removeAtKey(a.getItemId());this.callParent(arguments)},getCell:function(b,a){return this.grid.getView().getCell(b,a)},onSpecialKey:function(b,c,a){var d;if(a.getKey()===a.TAB){a.stopEvent();if(b){b.onEditorTab(a)}d=b.up("tablepanel").getSelectionModel();if(d.onEditorTab){return d.onEditorTab(b.editingPlugin,a)}}},onEditComplete:function(c,h,g){var d=this,a=d.getActiveColumn(),b=d.context,e;if(a){e=b.record;d.setActiveEditor(null);d.setActiveColumn(null);d.setActiveRecord(null);b.value=h;if(!d.validateEdit()){return}if(!e.isEqual(h,g)){e.set(a.dataIndex,h)}b.view.focus(false,true);d.fireEvent("edit",d,b);d.editing=false}},cancelEdit:function(){var b=this,a=b.getActiveEditor();b.setActiveEditor(null);b.setActiveColumn(null);b.setActiveRecord(null);if(a){a.cancelEdit();b.context.view.focus();b.callParent(arguments);return}return true},startEditByPosition:function(a){if(!a.isCellContext){a=new Ext.grid.CellContext(this.view).setPosition(a)}a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex());return this.startEdit(a.record,a.columnHeader)}});Ext.define("Ext.grid.plugin.DivRenderer",{alias:"plugin.divrenderer",extend:Ext.AbstractPlugin,tableTpl:['<div id="{view.id}-table" class="'+Ext.baseCSSPrefix+"{view.id}-table "+Ext.baseCSSPrefix+'grid-table" style="{tableStyle}">',"{%","values.view.renderRows(values.rows, values.viewStartIndex, out);","%}","</div>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<dl {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','style="position:relative" ',"{rowAttr:attributes}>",'<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</dl>",{priority:0}],cellTpl:['<dt class="{tdCls}" {tdAttr} data-cellIndex="{cellIndex}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</dt>",{priority:0}],selectors:{bodySelector:"div",nodeContainerSelector:"div",itemSelector:"dl."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"dl."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"dt."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainerSelector:function(){return this.getBodySelector()},getNodeContainer:function(){return this.el.getById(this.id+"-table",true)}},init:function(a){var b=a.getView();b.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");b.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");b.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");Ext.apply(b,this.selectors)}});Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var a=this;if(a.dragZone){a.dragZone.unlock()}if(a.dropZone){a.dropZone.unlock()}a.callParent()},disable:function(){var a=this;if(a.dragZone){a.dragZone.lock()}if(a.dropZone){a.dropZone.lock()}a.callParent()},onViewRender:function(c){var a=this,b;if(a.enableDrag){if(a.containerScroll){b=c.getEl()}a.dragZone=new Ext.view.DragZone({view:c,ddGroup:a.dragGroup||a.ddGroup,dragText:a.dragText,containerScroll:a.containerScroll,scrollEl:b})}if(a.enableDrop){a.dropZone=new Ext.grid.ViewDropZone({view:c,ddGroup:a.dropGroup||a.ddGroup})}}});Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var a=this;a.callParent(arguments);if(!a.clicksToMoveEditor){a.clicksToMoveEditor=a.clicksToEdit}a.autoCancel=!!a.autoCancel},destroy:function(){Ext.destroy(this.editor);this.callParent(arguments)},startEdit:function(e,a){var d=this,c=d.getEditor(),b;if(c.beforeEdit()!==false){b=d.callParent(arguments);if(b){d.context=b;if(d.lockingPartner){d.lockingPartner.cancelEdit()}c.startEdit(b.record,b.column,b);return true}}return false},cancelEdit:function(){var a=this;if(a.editing){a.getEditor().cancelEdit();a.callParent(arguments);return}return true},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.editing=false;a.fireEvent("edit",a,a.context)}},validateEdit:function(){var j=this,c=j.editor,a=j.context,n=a.record,l={},m={},d=c.query(">[isFormField]"),b,g=d.length,k,h;for(b=0;b<g;b++){h=d[b];k=h.name;l[k]=h.getValue();m[k]=n.get(k)}Ext.apply(a,{newValues:l,originalValues:m});return j.callParent(arguments)&&j.getEditor().completeEdit()},getEditor:function(){var a=this;if(!a.editor){a.editor=a.initEditor()}return a.editor},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var k=this,g=k.grid,l=k.view,h=g.headerCt,d=["saveBtnText","cancelBtnText","errorsText","dirtyText"],a,c=d.length,e={autoCancel:k.autoCancel,errorSummary:k.errorSummary,fields:h.getGridColumns(),hidden:true,view:l,editingPlugin:k},j;for(a=0;a<c;a++){j=d[a];if(Ext.isDefined(k[j])){e[j]=k[j]}}return e},initEditTriggers:function(){var a=this,c=a.view,b=a.clicksToMoveEditor===1?"click":"dblclick";a.callParent(arguments);if(a.clicksToMoveEditor!==a.clicksToEdit){a.mon(c,"cell"+b,a.moveEditorByClick,a)}c.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:true})},startEditByClick:function(){var a=this;if(!a.editing||a.clicksToMoveEditor===a.clicksToEdit){a.callParent(arguments)}},moveEditorByClick:function(){var a=this;if(a.editing){a.superclass.onCellClick.apply(a,arguments)}},onColumnAdd:function(b,a){if(a.isHeader){var d=this,c;d.initFieldAccessors(a);c=d.editor;if(c&&c.onColumnAdd){c.onColumnAdd(a)}}},onColumnRemove:function(b,a){if(a.isHeader){var d=this,c=d.getEditor();if(c&&c.onColumnRemove){c.onColumnRemove(b,a)}d.removeFieldAccessors(a)}},onColumnResize:function(b,a,e){if(a.isHeader){var d=this,c=d.getEditor();if(c&&c.onColumnResize){c.onColumnResize(a,e)}}},onColumnHide:function(b,a){var d=this,c=d.getEditor();if(c&&c.onColumnHide){c.onColumnHide(a)}},onColumnShow:function(b,a){var d=this,c=d.getEditor();if(c&&c.onColumnShow){c.onColumnShow(a)}},onColumnMove:function(b,a,d,g){var e=this,c=e.getEditor();e.initFieldAccessors(a);if(c&&c.onColumnMove){c.onColumnMove(a,d,g)}},setColumnField:function(a,c){var d=this,b=d.getEditor();b.removeField(a);d.callParent(arguments);d.getEditor().setField(a)}});Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.AbstractPlugin,lockableScope:"normal",alias:"plugin.rowexpander",rowBodyTpl:null,expandOnEnter:true,expandOnDblClick:true,selectRowOnExpand:false,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{before:function(c,b){var a=this.rowExpander;if(!a.recordsExpanded[c.record.internalId]){c.itemClasses.push(a.rowCollapsedCls)}},priority:500},setCmp:function(b){var c=this,d,a;c.callParent(arguments);c.recordsExpanded={};c.rowBodyTpl=Ext.XTemplate.getTpl(c,"rowBodyTpl");d=this.rowBodyTpl;a=[{ftype:"rowbody",lockableScope:"normal",recordsExpanded:c.recordsExpanded,rowBodyHiddenCls:c.rowBodyHiddenCls,rowCollapsedCls:c.rowCollapsedCls,setupRowData:c.getRowBodyFeatureData,setup:c.setup,getRowBodyContents:function(e){return d.applyTemplate(e.getData())}},{ftype:"rowwrap",lockableScope:"normal"}];if(b.features){b.features=Ext.Array.push(a,b.features)}else{b.features=a}},init:function(a){var c=this,d=a,e,b;c.callParent(arguments);c.grid=a;e=c.view=a.getView();c.addExpander();c.bindView(e);e.addRowTpl(c.addCollapsedCls).rowExpander=c;if(a.ownerLockable){d=a.ownerLockable;d.syncRowHeight=false;b=d.lockedGrid.getView();c.bindView(b);b.addRowTpl(c.addCollapsedCls).rowExpander=c;d.mon(d,"columnschanged",c.refreshRowHeights,c);d.mon(d.store,"datachanged",c.refreshRowHeights,c)}d.on("beforereconfigure",c.beforeReconfigure,c);if(a.ownerLockable&&!a.rowLines){e.on("rowfocus",c.refreshRowHeights,c)}},beforeReconfigure:function(c,g,a,e,d){var b=this.getHeaderConfig();b.locked=true;a.unshift(b)},addExpander:function(){var c=this,a=c.grid,b=c.getHeaderConfig();if(a.ownerLockable){a=a.ownerLockable.lockedGrid;a.width+=b.width}a.headerCt.insert(0,b)},getRowBodyFeatureData:function(c,a,d){var b=this;b.self.prototype.setupRowData.apply(b,arguments);d.rowBody=b.getRowBodyContents(c);d.rowBodyCls=b.recordsExpanded[c.internalId]?"":b.rowBodyHiddenCls},setup:function(b,c){var a=this;a.self.prototype.setup.apply(a,arguments);if(!a.grid.ownerLockable){c.rowBodyColspan-=1}},bindView:function(a){if(this.expandOnEnter){a.on("itemkeydown",this.onKeyDown,this)}if(this.expandOnDblClick){a.on("itemdblclick",this.onDblClick,this)}},onKeyDown:function(l,g,h,j,b){if(b.getKey()==b.ENTER){var a=l.store,k=l.getSelectionModel().getSelection(),d=k.length,c=0;for(;c<d;c++){j=a.indexOf(k[c]);this.toggleRow(j,k[c])}}},onDblClick:function(g,b,c,d,a){this.toggleRow(d,b)},toggleRow:function(l,h){var d=this,n=d.view,m=n.getNode(l),j=Ext.fly(m,"_rowExpander"),e=j.down(d.rowBodyTrSelector,true),c=j.hasCls(d.rowCollapsedCls),a=c?"removeCls":"addCls",g,k,b;Ext.suspendLayouts();j[a](d.rowCollapsedCls);Ext.fly(e)[a](d.rowBodyHiddenCls);d.recordsExpanded[h.internalId]=c;n.refreshSize();if(d.grid.ownerLockable){g=d.grid.ownerLockable;b=g.getView();n=g.lockedGrid.view;k=j.getHeight();j=Ext.fly(n.getNode(l),"_rowExpander");j.setHeight(k);j[a](d.rowCollapsedCls);n.refreshSize()}else{b=n}b.fireEvent(c?"expandbody":"collapsebody",j.dom,h,e);Ext.resumeLayouts(true)},refreshRowHeights:function(){Ext.globalEvents.on({idle:this.doRefreshRowHeights,scope:this,single:true})},doRefreshRowHeights:function(){var e=this,l=e.recordsExpanded,a,k,d=e.grid.ownerLockable.lockedGrid.view,j=e.grid.ownerLockable.normalGrid.view,h,c,b,g;for(a in l){if(l.hasOwnProperty(a)){k=this.view.store.data.get(a);c=d.getNode(k,false);h=j.getNode(k,false);c.style.height=h.style.height="";b=c.offsetHeight;g=h.offsetHeight;if(g>b){c.style.height=g+"px"}else{if(b>g){h.style.height=b+"px"}}}}},getHeaderConfig:function(){var a=this;return{width:24,lockable:false,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(c,b){if(!a.grid.ownerLockable){b.tdAttr+=' rowspan="2"'}return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander"></div>'},processEvent:function(j,k,b,h,c,d,g){if(j=="mousedown"&&d.getTarget(".x-grid-row-expander")){a.toggleRow(h,g);return a.selectRowOnExpand}}}}});Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:true,enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{};a.addCls(a.gridCls);a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(c,b){return this.self.prototype.startEdit.call(this,c,a.headerCt.child("#"+a.valueField))}}));a.selModel={selType:"cellmodel",onCellSelect:function(b){if(b.column!=1){b.column=1}return this.self.prototype.onCellSelect.call(this,b)}};a.sourceConfig=Ext.apply({},a.sourceConfig);if(!a.store){a.propStore=a.store=new Ext.grid.property.Store(a,a.source)}a.configure(a.sourceConfig);if(a.sortableColumns){a.store.sort("name","ASC")}a.columns=new Ext.grid.property.HeaderContainer(a,a.store);a.addEvents("beforepropertychange","propertychange");a.callParent();a.getView().walkCells=this.walkCells;a.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,a.headerCt.trueText],[false,a.headerCt.falseText]]})})};a.store.on("update",a.onUpdate,a)},configure:function(a){var d=this,j=d.store,b=0,c=d.store.getCount(),g=d.nameField,m=d.valueField,e,l,h,k;d.configureLegacy(a);if(d.inferTypes){for(;b<c;++b){h=j.getAt(b);e=h.get(g);if(!d.getConfig(e,"type")){l=h.get(m);if(Ext.isDate(l)){k="date"}else{if(Ext.isNumber(l)){k="number"}else{if(Ext.isBoolean(l)){k="boolean"}else{k="string"}}}d.setConfig(e,"type",k)}}}},getConfig:function(c,d,b){var a=this.sourceConfig[c],e;if(a){e=a[d]}return e||b},setConfig:function(a,b,e){var d=this.sourceConfig,c=d[a];if(!c){c=d[a]={__copied:true}}else{if(!c.__copied){c=Ext.apply({__copied:true},c);d[a]=c}}c[b]=e;return e},configureLegacy:function(a){var c=this,d,b,e;c.copyLegacyObject(a,c.customRenderers,"renderer");c.copyLegacyObject(a,c.customEditors,"editor");c.copyLegacyObject(a,c.propertyNames,"displayName")},copyLegacyObject:function(a,d,c){var b,e;for(b in d){if(d.hasOwnProperty(b)){if(!a[b]){a[b]={}}a[b][c]=d[b]}}},onUpdate:function(e,d,c){var a=this,g,b;if(a.rendered&&c==Ext.data.Model.EDIT){g=d.get(a.valueField);b=d.modified.value;if(a.fireEvent("beforepropertychange",a.source,d.getId(),g,b)!==false){if(a.source){a.source[d.getId()]=g}d.commit();a.fireEvent("propertychange",a.source,d.getId(),g,b)}else{d.reject()}}},walkCells:function(c,a,b,d,h,g){if(a=="left"){a="up"}else{if(a=="right"){a="down"}}c=Ext.view.Table.prototype.walkCells.call(this,c,a,b,d,h,g);if(c&&!c.column){c.column=1}return c},getCellEditor:function(g,a){var d=this,e=g.get(d.nameField),j=g.get(d.valueField),b=d.getConfig(e,"editor"),h=d.getConfig(e,"type"),c=d.editors;if(b){if(!(b instanceof Ext.grid.CellEditor)){if(!(b instanceof Ext.form.field.Base)){b=Ext.ComponentManager.create(b,"textfield")}b=d.setConfig(e,"editor",new Ext.grid.CellEditor({field:b}))}}else{if(h){switch(h){case"date":b=c.date;break;case"number":b=c.number;break;case"boolean":b=d.editors["boolean"];break;default:b=c.string}}else{if(Ext.isDate(j)){b=c.date}else{if(Ext.isNumber(j)){b=c.number}else{if(Ext.isBoolean(j)){b=c["boolean"]}else{b=c.string}}}}}b.editorId=e;return b},beforeDestroy:function(){var a=this;a.callParent();a.destroyEditors(a.editors);a.destroyEditors(a.customEditors);delete a.source},destroyEditors:function(b){for(var a in b){if(b.hasOwnProperty(a)){Ext.destroy(b[a])}}},setSource:function(b,c){var a=this;a.source=b;if(c!==undefined){a.sourceConfig=Ext.apply({},c);a.configure(a.sourceConfig)}a.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},setProperty:function(b,c,a){this.propStore.setValue(b,c,a)},removeProperty:function(a){this.propStore.remove(a)}});Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,c){var b=this;b.grid=a;b.store=c;b.callParent([{isRootHeader:true,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:b.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:b.enableColumnMove,items:[{header:b.nameText,width:a.nameColumnWidth||b.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:Ext.Function.bind(b.renderProp,b),itemId:a.nameField,menuDisabled:true,tdCls:b.nameColumnCls,innerCls:b.nameColumnInnerCls},{header:b.valueText,renderer:Ext.Function.bind(b.renderCell,b),getEditor:Ext.Function.bind(b.getCellEditor,b),sortable:a.sortableColumns,flex:1,fixed:true,dataIndex:a.valueField,itemId:a.valueField,menuDisabled:true}]}])},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(h,c,d){var b=this,a=b.grid,e=a.getConfig(d.get(a.nameField),"renderer"),g=h;if(e){return e.apply(b,arguments)}if(Ext.isDate(h)){g=b.renderDate(h)}else{if(Ext.isBoolean(h)){g=b.renderBool(h)}}return Ext.util.Format.htmlEncode(g)},renderDate:Ext.util.Format.date,renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}});Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:false,constructor:function(a,c){var b=this;b.grid=a;b.source=c;b.callParent([{data:c,model:Ext.grid.property.Property,proxy:b.getProxy()}])},getProxy:function(){if(!this.proxy){Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return this.proxy},getReader:function(){if(!this.reader){Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(a){return this.readRecords(a)},readRecords:function(a){var d,b,c={records:[],success:true};for(b in a){if(a.hasOwnProperty(b)){d=a[b];if(this.isEditableValue(d)){c.records.push(new Ext.grid.property.Property({name:b,value:d},b))}}}c.total=c.count=c.records.length;return new Ext.data.ResultSet(c)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||a===null}})}return this.reader},setSource:function(a){var b=this;b.source=a;b.suspendEvents();b.removeAll();b.proxy.data=a;b.load();b.resumeEvents();b.fireEvent("datachanged",b);b.fireEvent("refresh",b)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(c,e,a){var b=this,d=b.getRec(c);if(d){d.set("value",e);b.source[c]=e}else{if(a){b.source[c]=e;d=new Ext.grid.property.Property({name:c,value:e},c);b.add(d)}}},remove:function(a){var b=this.getRec(a);if(b){this.callParent([b]);delete this.source[a]}},getRec:function(a){return this.getById(a)},getSource:function(){return this.source}});Ext.define("Ext.layout.ClassList",(function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(c){var d=this;if(!d.map[c]){d.map[c]=true;d.classes.push(c);if(!d.dirty){d.dirty=true;d.owner.markDirty()}}},addMany:function(c){Ext.each(a(c),this.add,this)},contains:function(c){return this.map[c]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(c){var d=this;if(d.map[c]){delete d.map[c];d.classes=Ext.Array.filter(d.classes,function(e){return e!=c});if(!d.dirty){d.dirty=true;d.owner.markDirty()}}},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(g){if(!e[g]){return true}delete d.map[g];if(!d.dirty){d.dirty=true;d.owner.markDirty()}return false})}}}()));Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(c){var b=this,a=b.getKey(c);if(!b.map[a]){++b.length;b.items.push(c);b.map[a]=c}return c},clear:function(){var b=this,a=b.items;b.items=[];b.map={};b.length=0;return a},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(e){var d=this,c=d.getKey(e),b=d.items,a;if(d.map[c]){a=Ext.Array.indexOf(b,e);Ext.Array.erase(b,a,1);delete d.map[c];--d.length}return e}});Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(a){var j=this,s=Ext.layout.SizeModel.sizeModels,b=s.configured,q=s.shrinkWrap,c,e,l,m,n,r,t,h,g,p,o,u,d,k;Ext.apply(j,a);c=j.el;j.id=c.id;j.flushedProps={};j.props=n={};j.styles={};t=j.target;if(!t.isComponent){e=c.lastBox}else{j.wrapsComponent=true;j.framing=t.frameSize||null;j.isComponentChild=t.ownerLayout&&t.ownerLayout.isComponentLayout;e=t.lastBox;l=t.ownerCt;if(l&&(m=l.el&&j.context.items[l.el.id])){j.ownerCtContext=m}j.sizeModel=r=t.getSizeModel(m&&m.widthModel.pairsByHeightOrdinal[m.heightModel.ordinal]);j.widthModel=u=r.width;j.heightModel=d=r.height;if(e&&e.invalid===false){p=(t.width===(h=e.width));o=(t.height===(g=e.height));if(u===q&&d===q){k=true}else{if(u===b&&p){k=d===q||(d===b&&o)}}if(k){j.optOut=true;n.width=h;n.height=g}}}j.lastBox=e},init:function(c,p){var e=this,m=e.props,k=e.dirty,r=e.ownerCtContext,s=e.target.ownerLayout,b=!e.state,u=c||b,a,d,g,q,v,w,l=e.heightModel,o=e.widthModel,h,j,t=0;e.dirty=e.invalid=false;e.props={};e.remainingChildDimensions=0;if(e.boxChildren){e.boxChildren.length=0}if(!b){e.clearAllBlocks("blocks");e.clearAllBlocks("domBlocks")}if(!e.wrapsComponent){return u}w=e.target;e.state={};if(b){if(w.beforeLayout&&w.beforeLayout!==Ext.emptyFn){w.beforeLayout()}if(!r&&(q=w.ownerCt)){r=e.context.items[q.el.id]}if(r){e.ownerCtContext=r;e.isBoxParent=w.ownerLayout.isItemBoxParent(e)}else{e.isTopLevel=true}e.frameBodyContext=e.getEl("frameBody")}else{r=e.ownerCtContext;e.isTopLevel=!r;a=e.children;for(d=0,g=a.length;d<g;++d){a[d].init(true)}}e.hasRawContent=!(w.isContainer&&w.items.items.length>0);if(c){e.widthModel=e.heightModel=null;v=w.getSizeModel(r&&r.widthModel.pairsByHeightOrdinal[r.heightModel.ordinal]);if(b){e.sizeModel=v}e.widthModel=v.width;e.heightModel=v.height;if(r&&!e.isComponentChild){r.remainingChildDimensions+=2}}else{if(m){e.recoverProp("x",m,k);e.recoverProp("y",m,k);if(e.widthModel.calculated){e.recoverProp("width",m,k)}else{if("width" in m){++t}}if(e.heightModel.calculated){e.recoverProp("height",m,k)}else{if("height" in m){++t}}if(r&&!e.isComponentChild){r.remainingChildDimensions+=t}}}if(m&&s&&s.manageMargins){e.recoverProp("margin-top",m,k);e.recoverProp("margin-right",m,k);e.recoverProp("margin-bottom",m,k);e.recoverProp("margin-left",m,k)}if(p){h=p.heightModel;j=p.widthModel;if(j&&h&&o&&l){if(o.shrinkWrap&&l.shrinkWrap){if(j.constrainedMax&&h.constrainedMin){h=null}}}if(j){e.widthModel=j}if(h){e.heightModel=h}if(p.state){Ext.apply(e.state,p.state)}}return u},initContinue:function(c){var e=this,g=e.ownerCtContext,b=e.target,h=e.widthModel,d=b.getHierarchyState(),a;if(h.fixed){d.inShrinkWrapTable=false}else{delete d.inShrinkWrapTable}if(c){if(g&&h.shrinkWrap){a=g.isBoxParent?g:g.boxParent;if(a){a.addBoxChild(e)}}else{if(h.natural){e.boxParent=g}}}return c},initDone:function(a){var b=this,c=b.props,d=b.state;if(b.remainingChildDimensions===0){c.containerChildrenSizeDone=true}if(a){c.containerLayoutDone=true}if(b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap){b.el.setWidth(10000);d.blocks=(d.blocks||0)+1}},initAnimation:function(){var a=this,c=a.target,b=a.ownerCtContext;if(b&&b.isTopLevel){a.animatePolicy=c.ownerLayout.getAnimatePolicy(a)}else{if(!b&&c.isCollapsingOrExpanding&&c.animCollapse){a.animatePolicy=c.componentLayout.getAnimatePolicy(a)}}if(a.animatePolicy){a.context.queueAnimation(a)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(e,c,g){var d=this,b=d[e]||(d[e]={}),a=b[g]||(b[g]={});if(!a[c.id]){a[c.id]=c;++c.blockCount;++d.context.blockCount}},addBoxChild:function(a){var c=this,b,d=a.widthModel;a.boxParent=this;a.measuresBox=d.shrinkWrap?a.hasRawContent:d.natural;if(a.measuresBox){b=c.boxChildren;if(b){b.push(a)}else{c.boxChildren=[a]}}},addPositionStyles:function(c,b){var d=b.x,e=b.y,a=0;if(d!==undefined){c.left=d+"px";++a}if(e!==undefined){c.top=e+"px";++a}return a},addTrigger:function(h,c){var e=this,g=c?"domTriggers":"triggers",a=e[g]||(e[g]={}),b=e.context,d=b.currentLayout,j=a[h]||(a[h]={});if(!j[d.id]){j[d.id]=d;++d.triggerCount;j=b.triggers[c?"dom":"data"];(j[d.id]||(j[d.id]=[])).push({item:this,prop:h});if(e.props[h]!==undefined){if(!c||!(e.dirty&&(h in e.dirty))){++d.firedTriggers}}}},boxChildMeasured:function(){var b=this,c=b.state,a=(c.boxesMeasured=(c.boxesMeasured||0)+1);if(a==b.boxChildren.length){c.clearBoxWidth=1;++b.context.progressCount;b.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(b){var a=b.getStyles(b.borderNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(b){var a=b.getStyles(b.marginNames,b.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(c){var b=c.frameBodyContext||c,a=b.getStyles(c.paddingNames,c.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(b){var a=this[b],c;if(a){for(c in a){this.clearBlocks(b,c)}}},clearBlocks:function(g,h){var b=this[g],a=b&&b[h],c,d,e;if(a){delete b[h];c=this.context;for(e in a){d=a[e];--c.blockCount;if(!--d.blockCount&&!d.pending&&!d.done){c.queueLayout(d)}}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(e,g){var a=this[e],h=a&&a[g],b=this.context,c,d;if(h){for(d in h){c=h[d];++c.firedTriggers;if(!c.done&&!c.blockCount&&!c.pending){b.queueLayout(c)}}}},flush:function(){var b=this,a=b.dirty,c=b.state,d=b.el;b.dirtyCount=0;if(b.classList&&b.classList.dirty){b.classList.flush()}if("attributes" in b){d.set(b.attributes);delete b.attributes}if("innerHTML" in b){d.innerHTML=b.innerHTML;delete b.innerHTML}if(c&&c.clearBoxWidth){c.clearBoxWidth=0;b.el.setStyle("width",null);if(!--c.blocks){b.context.queueItemLayouts(b)}}if(a){delete b.dirty;b.writeProps(a,true)}},flushAnimations:function(){var h=this,b=h.previousSize,o,p,e,c,a,d,g,n,m,l,k;if(b){o=h.target;p=o.layout&&o.layout.animate;if(p){e=Ext.isNumber(p)?p:p.duration}c=Ext.Object.getKeys(h.animatePolicy);a=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},p);for(d=0,g=0,n=c.length;g<n;g++){m=c[g];l=b[m];k=h.peek(m);if(l!=k){m=h.translateProps[m]||m;a.from[m]=l;a.to[m]=k;++d}}if(d){if(h.isCollapsingOrExpanding===1){o.componentLayout.undoLayout(h)}else{h.writeProps(a.from)}h.el.animate(a);Ext.fx.Manager.getFxQueue(h.el.id)[0].on({afteranimate:function(){if(h.isCollapsingOrExpanding===1){o.componentLayout.redoLayout(h);o.afterCollapse(true)}else{if(h.isCollapsingOrExpanding===2){o.afterExpand(true)}}}})}}},getBorderInfo:function(){var b=this,a=b.borderInfo;if(!a){b.borderInfo=a=b.checkCache("borderInfo")}return a},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(d,e){var c=this,g,a,b;if(d){if(d.dom){a=d}else{g=c.target;if(e){g=e}a=g[d];if(typeof a=="function"){a=a.call(g);if(a===c.el){return this}}}if(a){b=c.context.getEl(c,a)}}return b||null},getFrameInfo:function(){var d=this,c=d.frameInfo,b,a;if(!c){b=d.framing;a=d.getBorderInfo();d.frameInfo=c=b?{top:b.top+a.top,right:b.right+a.right,bottom:b.bottom+a.bottom,left:b.left+a.left,width:b.width+a.width,height:b.height+a.height}:a}return c},getMarginInfo:function(){var e=this,b=e.marginInfo,a,c,d,g,h;if(!b){if(!e.wrapsComponent){b=e.checkCache("marginInfo")}else{a=e.target;g=a.ownerLayout;h=g?g.id:null;c=g&&g.manageMargins;b=a.margin$;if(b&&b.ownerId!==h){b=null}if(!b){b=e.parseMargins(a,a.margin)||e.checkCache("marginInfo");if(c){d=e.parseMargins(a,a.margins,g.defaultMargins);if(d){b={top:b.top+d.top,right:b.right+d.right,bottom:b.bottom+d.bottom,left:b.left+d.left}}e.setProp("margin-top",0);e.setProp("margin-right",0);e.setProp("margin-bottom",0);e.setProp("margin-left",0)}b.ownerId=h;a.margin$=b}b.width=b.left+b.right;b.height=b.top+b.bottom}e.marginInfo=b}return b},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var b=this,a=b.paddingInfo;if(!a){b.paddingInfo=a=b.checkCache("paddingInfo")}return a},getProp:function(b){var a=this,c=a.props[b];a.addTrigger(b);return c},getDomProp:function(b){var a=this,c=(a.dirty&&(b in a.dirty))?undefined:a.props[b];a.addTrigger(b,true);return c},getStyle:function(c){var b=this,d=b.styles,a,e;if(c in d){e=d[c]}else{a=b.styleInfo[c];e=b.el.getStyle(c);if(a&&a.parseInt){e=parseInt(e,10)||0}d[c]=e}return e},getStyles:function(o,a){var e=this,l=e.styles,r={},b=0,j=o.length,c,g,h,k,d,m,p,q;a=a||o;for(c=0;c<j;++c){k=o[c];if(k in l){r[a[c]]=l[k];++b;if(c&&b==1){g=o.slice(0,c);h=a.slice(0,c)}}else{if(b){(g||(g=[])).push(k);(h||(h=[])).push(a[c])}}}if(b<j){g=g||o;h=h||a;m=e.styleInfo;p=e.el.getStyle(g);for(c=g.length;c--;){k=g[c];d=m[k];q=p[k];if(d&&d.parseInt){q=parseInt(q,10)||0}r[h[c]]=q;l[k]=q}}return r},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,c,b){if(c===true){c=5}var e=typeof c,d;if(e=="string"||e=="number"){d=a.parseBox(c)}else{if(c||b){d={top:0,right:0,bottom:0,left:0};if(b){Ext.apply(d,this.parseMargins(a,b))}if(c){c=Ext.apply(d,a.parseBox(c))}}}return d},peek:function(a){return this.props[a]},recoverProp:function(e,d,c){var b=this,g=b.props,a;if(e in d){g[e]=d[e];if(c&&e in c){a=b.dirty||(b.dirty={});a[e]=c[e]}}},redo:function(a){var e=this,c,d,b;e.revertProps(e.props);if(a&&e.wrapsComponent){if(e.childItems){for(b=0,c=e.childItems,d=c.length;b<d;b++){c[b].redo(a)}}for(b=0,c=e.children,d=c.length;b<d;b++){c[b].redo()}}},removeEl:function(c,d){var b=this,e,a;if(c){if(c.dom){a=c}else{e=b.target;if(d){e=d}a=e[c];if(typeof a=="function"){a=a.call(e);if(a===b.el){return this}}}if(a){b.context.removeEl(b,a)}}},revertProps:function(c){var b,a=this.flushedProps,d={};for(b in c){if(a.hasOwnProperty(b)){d[b]=c[b]}}this.writeProps(d)},setAttribute:function(b,c){var a=this;if(!a.attributes){a.attributes={}}a.attributes[b]=c;a.markDirty()},setBox:function(a){var b=this;if("left" in a){b.setProp("x",a.left)}if("top" in a){b.setProp("y",a.top)}b.setSize(a.width,a.height)},setContentHeight:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentHeight",a)},setContentWidth:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp("contentWidth",b)},setContentSize:function(c,a,b){return this.setContentWidth(c,b)+this.setContentHeight(a,b)==2},setProp:function(e,g,b){var d=this,h=typeof g,a,c;if(h=="undefined"||(h==="number"&&isNaN(g))){return 0}if(d.props[e]===g){return 1}d.props[e]=g;++d.context.progressCount;if(b===false){d.fireTriggers("domTriggers",e);d.clearBlocks("domBlocks",e)}else{c=d.styleInfo[e];if(c){if(!d.dirty){d.dirty={}}if(e=="width"||e=="height"){a=d.isBorderBoxValue;if(a===null){d.isBorderBoxValue=a=!!d.el.isBorderBox()}if(!a){d.borderInfo||d.getBorderInfo();d.paddingInfo||d.getPaddingInfo()}}d.dirty[e]=g;d.markDirty()}}d.fireTriggers("triggers",e);d.clearBlocks("blocks",e);return 1},setHeight:function(e,b){var g=this,a=g.target,k=g.ownerCtContext,c,d,h,j,l;if(e<0){e=0}if(!g.wrapsComponent){if(!g.setProp("height",e,b)){return NaN}}else{h=g.collapsedVert?0:(a.minHeight||0);e=Ext.Number.constrain(e,h,a.maxHeight);j=g.props.height;if(!g.setProp("height",e,b)){return NaN}if(k&&!g.isComponentChild&&isNaN(j)){l=--k.remainingChildDimensions;if(!l){k.setProp("containerChildrenSizeDone",true)}}c=g.frameBodyContext;if(c){d=g.getFrameInfo();c.setHeight(e-d.height,b)}}return e},setWidth:function(l,b){var e=this,a=e.target,j=e.ownerCtContext,c,d,g,h,k;if(l<0){l=0}if(!e.wrapsComponent){if(!e.setProp("width",l,b)){return NaN}}else{g=e.collapsedHorz?0:(a.minWidth||0);l=Ext.Number.constrain(l,g,a.maxWidth);h=e.props.width;if(!e.setProp("width",l,b)){return NaN}if(j&&!e.isComponentChild&&isNaN(h)){k=--j.remainingChildDimensions;if(!k){j.setProp("containerChildrenSizeDone",true)}}c=e.frameBodyContext;if(c){d=e.getFrameInfo();c.setWidth(l-d.width,b)}}return l},setSize:function(c,b,a){this.setWidth(c,a);this.setHeight(b,a)},translateProps:{x:"left",y:"top"},undo:function(a){var e=this,c,d,b;e.revertProps(e.lastBox);if(a&&e.wrapsComponent){if(e.childItems){for(b=0,c=e.childItems,d=c.length;b<d;b++){c[b].undo(a)}}for(b=0,c=e.children,d=c.length;b<d;b++){c[b].undo()}}},unsetProp:function(b){var a=this.dirty;delete this.props[b];if(a){delete a[b]}},writeProps:function(a,c){if(!(a&&typeof a=="object")){return}var m=this,b=m.el,v={},t=0,u=m.styleInfo,h,q,n,y=a.width,g=a.height,k=m.isBorderBoxValue,w=m.target,l=Math.max,p=0,o=0,e,d,j,r,s,x;if("displayed" in a){b.setDisplayed(a.displayed)}for(q in a){if(c){m.fireTriggers("domTriggers",q);m.clearBlocks("domBlocks",q);m.flushedProps[q]=1}h=u[q];if(h&&h.dom){if(h.suffix&&(n=parseInt(a[q],10))){v[q]=n+h.suffix}else{v[q]=a[q]}++t}}if("x" in a||"y" in a){if(w.isComponent){w.setPosition(a.x,a.y)}else{t+=m.addPositionStyles(v,a)}}if(!k&&(y>0||g>0)){if(!m.frameBodyContext){p=m.paddingInfo.width;o=m.paddingInfo.height}if(y){y=l(parseInt(y,10)-(m.borderInfo.width+p),0);v.width=y+"px";++t}if(g){g=l(parseInt(g,10)-(m.borderInfo.height+o),0);v.height=g+"px";++t}}if(m.wrapsComponent&&Ext.isIE9&&Ext.isStrict){if((e=y!==undefined&&m.hasOverflowY)||(d=g!==undefined&&m.hasOverflowX)){j=m.isAbsolute;if(j===undefined){j=false;x=m.target.getTargetEl();s=x.getStyle("position");if(s=="absolute"){s=x.getStyle("box-sizing");j=(s=="border-box")}m.isAbsolute=j}if(j){r=Ext.getScrollbarSize();if(e){y=parseInt(y,10)+r.width;v.width=y+"px";++t}if(d){g=parseInt(g,10)+r.height;v.height=g+"px";++t}}}}if(t){b.setStyle(v)}}},function(){var c={dom:true,parseInt:true,suffix:"px"},b={dom:true},a={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:a,containerLayoutDone:a,displayed:a,done:a,x:a,y:a,columnWidthsDone:a,left:c,top:c,right:c,bottom:c,width:c,height:c,"border-top-width":c,"border-right-width":c,"border-bottom-width":c,"border-left-width":c,"margin-top":c,"margin-right":c,"margin-bottom":c,"margin-left":c,"padding-top":c,"padding-right":c,"padding-bottom":c,"padding-left":c,"line-height":b,display:b}});Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a);b.items={};b.layouts={};b.blockCount=0;b.cycleCount=0;b.flushCount=0;b.calcCount=0;b.animateQueue=b.newQueue();b.completionQueue=b.newQueue();b.finalizeQueue=b.newQueue();b.finishQueue=b.newQueue();b.flushQueue=b.newQueue();b.invalidateData={};b.layoutQueue=b.newQueue();b.invalidQueue=[];b.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,g,h){var p=this,b=a,e=!a.isComponent,o=e?b.length:1,d,l,m,j,n,q,r,c,t,s;for(d=0;d<o;++d){if(e){a=b[d]}if(h&&a.ownerCt){s=this.items[a.ownerCt.el.id];if(s){Ext.Array.remove(s.childItems,p.getCmp(a))}}if(!g){r=p.invalidQueue;m=r.length;if(m){p.invalidQueue=q=[];for(l=0;l<m;++l){c=r[l];t=c.item.target;if(t!=a&&!t.isDescendant(a)){q.push(c)}}}}n=a.componentLayout;p.cancelLayout(n);if(n.getLayoutItems){j=n.getLayoutItems();if(j.length){p.cancelComponent(j,true)}}if(a.isContainer&&!a.collapsed){n=a.layout;p.cancelLayout(n);j=n.getVisibleItems();if(j.length){p.cancelComponent(j,true)}}}},cancelLayout:function(a){var b=this;b.completionQueue.remove(a);b.finalizeQueue.remove(a);b.finishQueue.remove(a);b.layoutQueue.remove(a);if(a.running){b.layoutDone(a)}a.ownerContext=null},clearTriggers:function(g,d){var c=g.id,a=this.triggers[d?"dom":"data"],k=a&&a[c],h=(k&&k.length)||0,b,e,j;for(b=0;b<h;++b){j=k[b];e=j.item;a=d?e.domTriggers:e.triggers;delete a[j.prop][c]}},flush:function(){var d=this,b=d.flushQueue.clear(),c=b.length,a;if(c){++d.flushCount;for(a=0;a<c;++a){b[a].flush()}}},flushAnimations:function(){var d=this,b=d.animateQueue.clear(),c=b.length,a;if(c){for(a=0;a<c;a++){if(b[a].target.animate!==false){b[a].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var g=this,h=g.invalidQueue,e=h&&h.length,a,b,c,d;g.invalidQueue=[];if(e){b=[];for(d=0;d<e;++d){a=(c=h[d]).item.target;if(!a.container.isDetachedBody){b.push(a);if(c.options){g.invalidateData[a.id]=c.options}}}g.invalidate(b,null)}},flushLayouts:function(j,h,a){var g=this,d=a?g[j].items:g[j].clear(),e=d.length,b,c;if(e){for(b=0;b<e;++b){c=d[b];if(!c.running){g.callLayout(c,h)}}g.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(c,a){var b=this.getItem(a,a);if(!b.parent){b.parent=c;if(c.children.length){c.children.push(b)}else{c.children=[b]}}return b},getItem:function(e,a){var b=a.id,d=this.items,c=d[b]||(d[b]=new Ext.layout.ContextItem({context:this,target:e,el:a}));return c},handleFailure:function(){var c=this.layouts,b,a;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(a in c){b=c[a];if(c.hasOwnProperty(a)){b.running=false;b.ownerContext=null}}},invalidate:function(c,g){var p=this,k=!c.isComponent,d,e,h,a,l,m,o,b,n,j,q;for(h=0,o=k?c.length:1;h<o;++h){a=k?c[h]:c;if(a.rendered&&!a.hidden){l=p.getCmp(a);b=a.componentLayout;e=!b.ownerContext;n=(a.isContainer&&!a.collapsed)?a.layout:null;j=p.invalidateData[l.id];delete p.invalidateData[l.id];q=l.init(g,j);if(j){p.processInvalidate(j,l,"before")}if(b.beforeLayoutCycle){b.beforeLayoutCycle(l)}if(n&&n.beforeLayoutCycle){n.beforeLayoutCycle(l)}q=l.initContinue(q);d=true;if(b.getLayoutItems){b.renderChildren();m=b.getLayoutItems();if(m.length){p.invalidate(m,true)}}if(n){d=false;n.renderChildren();m=n.getVisibleItems();if(m.length){p.invalidate(m,true)}}l.initDone(d);p.resetLayout(b,l,e);if(n){p.resetLayout(n,l,e)}l.initAnimation();if(j){p.processInvalidate(j,l,"after")}}}p.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=false;if(a.isComponentLayout){if(b.measuresBox){b.onBoxMeasured()}b.setProp("done",true)}else{b.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(e,b,d){if(e[d]){var c=this,a=c.currentLayout;c.currentLayout=e.layout||null;e[d](b,e);c.currentLayout=a}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(j,e,a){var b=this,h=j.layout,d=e.layout,g=j[a],c=e[a];return function(k){var l=b.currentLayout;if(g){b.currentLayout=h;g.call(j.scope||j,k,j)}b.currentLayout=d;c.call(e.scope||e,k,e);b.currentLayout=l}},queueInvalidate:function(c,m){var d=this,e=[],k=d.invalidQueue,b=k.length,a,g,h,j,l;if(c.isComponent){c=d.getCmp(a=c)}else{a=c.target}c.invalid=true;while(b--){g=k[b];h=g.item.target;if(a.isDescendant(h)){return}if(h==a){if(!(j=g.options)){g.options=m}else{if(m){if(m.widthModel){j.widthModel=m.widthModel}if(m.heightModel){j.heightModel=m.heightModel}if(!(l=j.state)){j.state=m.state}else{if(m.state){Ext.apply(l,m.state)}}if(m.before){j.before=d.chainFns(j,m,"before")}if(m.after){j.after=d.chainFns(j,m,"after")}}}return}if(!h.isDescendant(a)){e.push(g)}}e.push({item:c,options:m});d.invalidQueue=e},queueItemLayouts:function(b){var a=b.isComponent?b:b.target,c=a.componentLayout;if(!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}c=a.layout;if(c&&!c.pending&&!c.invalid&&!c.done){this.queueLayout(c)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},removeEl:function(e,b){var c=b.id,a=e.children,d=this.items;if(a){Ext.Array.remove(a,d[c])}delete d[c]},resetLayout:function(b,d,a){var c=this;c.currentLayout=b;b.done=false;b.pending=true;b.firedTriggers=0;c.layoutQueue.add(b);if(a){c.layouts[b.id]=b;b.running=true;if(b.finishedLayout){c.finishQueue.add(b)}++c.remainingLayouts;++b.layoutCount;b.ownerContext=d;b.beginCount=0;b.blockCount=0;b.calcCount=0;b.triggerCount=0;if(!b.initialized){b.initLayout()}b.beginLayout(d)}else{++b.beginCount;if(!b.running){++c.remainingLayouts;b.running=true;if(b.isComponentLayout){d.unsetProp("done")}c.completionQueue.remove(b);c.finalizeQueue.remove(b)}}b.beginLayoutCycle(d,a)},run:function(){var b=this,a=false,c=100;b.flushInvalidates();b.state=1;b.totalCount=b.layoutQueue.getCount();b.flush();while((b.remainingLayouts||b.invalidQueue.length)&&c--){if(b.invalidQueue.length){b.flushInvalidates()}if(b.runCycle()){a=false}else{if(!a){b.flush();a=true;b.flushLayouts("completionQueue","completeLayout")}else{if(!b.invalidQueue.length){b.state=2;break}}}if(!(b.remainingLayouts||b.invalidQueue.length)){b.flush();b.flushLayouts("completionQueue","completeLayout");b.flushLayouts("finalizeQueue","finalizeLayout")}}return b.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var d=this,b=d.layoutQueue.clear(),c=b.length,a;++d.cycleCount;d.progressCount=0;for(a=0;a<c;++a){d.runLayout(d.currentLayout=b[a])}d.currentLayout=null;return d.progressCount>0},runLayout:function(a){var b=this,c=b.getCmp(a.owner);a.pending=false;if(c.state.blocks){return}a.done=true;++a.calcCount;++b.calcCount;a.calculate(c);if(a.done){b.layoutDone(a);if(a.completeLayout){b.queueCompletion(a)}if(a.finalizeLayout){b.queueFinalize(a)}}else{if(!a.pending&&!a.invalid&&!(a.blockCount+a.triggerCount-a.firedTriggers)){b.queueLayout(a)}}},setItemSize:function(d,h,b){var e=d,g=1,a,c;if(d.isComposite){e=d.elements;g=e.length;d=e[0]}else{if(!d.dom&&!d.el){g=e.length;d=e[0]}}for(c=0;c<g;){a=this.get(d);a.setSize(h,b);d=e[++c]}}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},beginLayoutCycle:function(g,b){var e=this,d=e.lastWidthModel,c=e.lastHeightModel,a=e.owner.body;e.callParent(arguments);if(d&&d.fixed&&g.widthModel.shrinkWrap){a.setWidth(null)}if(c&&c.fixed&&g.heightModel.shrinkWrap){a.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(c,a){var b=this.callParent(arguments);if(c.targetContext!=c){b+=c.getPaddingInfo().height}return b},calculateOwnerWidthFromContentWidth:function(b,a){var c=this.callParent(arguments);if(b.targetContext!=b){c+=b.getPaddingInfo().width}return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(c,a){var b=a-c.getFrameInfo().height,d=c.targetContext;if(d!=c){b-=c.getPaddingInfo().height}return c.bodyContext.setHeight(b,!c.heightModel.natural)},publishInnerWidth:function(b,d){var a=d-b.getFrameInfo().width,c=b.targetContext;if(c!=b){a-=b.getPaddingInfo().width}b.bodyContext.setWidth(a,!b.widthModel.natural)}});Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){if(a.target.collapsed){a.heightModel=this.sizeModels.shrinkWrap}},beginLayoutCycle:function(b){var c=b.target,a;this.callParent(arguments);if(c.collapsed){b.setContentHeight(0);b.restoreMinHeight=c.minHeight;delete c.minHeight;if(b.widthModel.shrinkWrap){a=c.lastComponentSize;b.setContentWidth((a&&a.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(b){var a=this.owner,c=b.restoreMinHeight;this.callParent(arguments);if(c){a.minHeight=c}},calculateOwnerHeightFromContentHeight:function(d,b){var a=d.getBorderInfo(),c=d.target.legend;return d.getProp("contentHeight")+d.getPaddingInfo().height+((Ext.isIEQuirks||Ext.isIE8m)?d.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():a.top)+a.bottom},publishInnerHeight:function(c,a){var b=c.target.legend;if(b){a-=b.getHeight()}this.callParent([c,a])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}});Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:Ext.layout.component.field.Field,type:"sliderfield",beginLayout:function(a){this.callParent(arguments);a.endElContext=a.getEl("endEl");a.innerElContext=a.getEl("innerEl");a.bodyElContext=a.getEl("bodyEl")},publishInnerHeight:function(e,b){var c=b-this.measureLabelErrorHeight(e),a,d;if(this.owner.vertical){a=e.endElContext.getPaddingInfo();d=e.inputContext.getPaddingInfo();e.innerElContext.setHeight(c-d.height-a.height)}else{e.bodyElContext.setHeight(c)}},publishInnerWidth:function(c,d){if(!this.owner.vertical){var a=c.endElContext.getPaddingInfo(),b=c.inputContext.getPaddingInfo();c.innerElContext.setWidth(d-b.left-a.right-c.labelContext.getProp("width"))}},beginLayoutFixed:function(c,e,d){var b=this,a=b.ieInputWidthAdjustment;if(a){b.owner.bodyEl.setStyle("padding-right",a+"px")}b.callParent(arguments)}});Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:true,type:"absolute",adjustWidthAnchor:function(c,a){var b=this.targetPadding,d=a.getStyle("left");return c-d+b.left},adjustHeightAnchor:function(c,a){var b=this.targetPadding,d=a.getStyle("top");return c-d+b.top},isItemLayoutRoot:function(a){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(a){return true},beginLayout:function(b){var a=this,c=a.getTarget();a.callParent(arguments);if(c.dom!==document.body){c.position()}a.targetPadding=b.targetContext.getPaddingInfo()},isItemBoxParent:function(a){return true},onContentChange:function(){if(this.ignoreOnContentChange){return false}return this.callParent(arguments)},calculateContentSize:function(r,k){var p=this,g=(k||0)|((r.widthModel.shrinkWrap?1:0)|(r.heightModel.shrinkWrap?2:0)),b=(g&1)||undefined,a=(g&2)||undefined,e=r.childItems,n=e.length,h=0,j=0,q=0,s=r.props,t,c,d,l,m,o,u;if(b){if(isNaN(s.contentWidth)){++q}else{b=undefined}}if(a){if(isNaN(s.contentHeight)){++q}else{a=undefined}}if(q){for(m=0;m<n;++m){d=e[m];c=d.target;l=a&&d.getProp("height");u=b&&d.getProp("width");o=d.getMarginInfo();l+=o.bottom;u+=o.right;h=Math.max(h,(c.y||0)+l);j=Math.max(j,(c.x||0)+u);if(isNaN(h)&&isNaN(j)){p.done=false;return}}if(b||a){t=r.targetContext.getPaddingInfo()}if(b&&!r.setContentWidth(j+t.width)){p.done=false}if(a&&!r.setContentHeight(h+t.height)){p.done=false}}}});Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:undefined,animate:true,activeOnTop:false,multi:false,defaultAnimatePolicy:{y:true,height:true},constructor:function(){var a=this;a.callParent(arguments);if(!a.multi&&a.animate){a.animatePolicy=Ext.apply({},a.defaultAnimatePolicy)}else{a.animatePolicy=null}},beforeRenderItems:function(g){var j=this,h=g.length,e=0,l=j.owner,a=j.collapseFirst,d=Ext.isDefined(a),c=j.getExpanded(true)[0],k=j.multi,b;for(;e<h;e++){b=g[e];if(!b.rendered){if(!k||b.collapsible!==false){b.collapsible=true}if(b.collapsible){if(d){b.collapseFirst=a}if(j.hideCollapseTool){b.hideCollapseTool=j.hideCollapseTool;b.titleCollapse=true}else{if(j.titleCollapse&&b.titleCollapse===undefined){b.titleCollapse=j.titleCollapse}}}delete b.hideHeader;delete b.width;b.title=b.title||"&#160;";b.addBodyCls(Ext.baseCSSPrefix+"accordion-body");if(!k){if(c){b.collapsed=c!==b}else{if(b.hasOwnProperty("collapsed")&&b.collapsed===false){c=b}else{b.collapsed=true}}l.mon(b,{show:j.onComponentShow,beforeexpand:j.onComponentExpand,beforecollapse:j.onComponentCollapse,scope:j})}l.mon(b,"beforecollapse",j.onComponentCollapse,j);b.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over"}}if(!k){if(!c){if(h){g[0].collapsed=false}}else{if(j.activeOnTop){c.collapsed=false;j.configureItem(c);if(l.items.indexOf(c)>0){l.insert(0,c)}}}}},getItemsRenderTree:function(a){this.beforeRenderItems(a);return this.callParent(arguments)},renderItems:function(a,b){this.beforeRenderItems(a);this.callParent(arguments)},configureItem:function(a){this.callParent(arguments);a.animCollapse=a.border=false;if(this.fill){a.flex=1}},beginLayout:function(a){this.callParent(arguments);this.updatePanelClasses(a)},updatePanelClasses:function(g){var b=g.visibleItems,e=b.length,h=true,d,a,c;for(d=0;d<e;d++){a=b[d];c=a.header;c.addCls(Ext.baseCSSPrefix+"accordion-hd");if(h){c.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}else{c.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded")}if(d+1==e&&a.collapsed){c.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}else{c.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed")}h=a.collapsed}},onComponentExpand:function(l){var e=this,j=e.owner,h=e.multi,a=e.animate,g=!h&&!e.animate&&e.activeOnTop,b,c,d,k;if(!e.processing){e.processing=true;k=j.deferLayouts;j.deferLayouts=true;b=h?[]:e.getExpanded();c=b.length;for(d=0;d<c;d++){b[d].collapse()}if(g){Ext.suspendLayouts();j.insert(0,l);Ext.resumeLayouts()}j.deferLayouts=k;e.processing=false}},onComponentCollapse:function(a){var c=this,d=c.owner,g,b,e;if(c.owner.items.getCount()===1){return false}if(!c.processing){c.processing=true;e=d.deferLayouts;d.deferLayouts=true;g=a.next()||a.prev();if(c.multi){b=c.getExpanded();if(b.length===1){g.expand()}}else{if(g){g.expand()}}d.deferLayouts=e;c.processing=false}},onComponentShow:function(a){this.onComponentExpand(a)},getExpanded:function(b){var e=this.owner.items.items,g=e.length,c=0,h=[],a,d;for(;c<g;++c){d=e[c];if(b){a=d.hasOwnProperty("collapsed")&&d.collapsed===false}else{a=!d.collapsed}if(a){h.push(d)}}return h}});Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();a.callParent();if(b.collapsed){a.addCls(a.collapsedClsInternal)}if(!a.canResize){a.addCls(a.baseCls+"-noresize")}Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible});a.protoEl.unselectable()},onRender:function(){var b=this,a;b.callParent(arguments);if(b.performCollapse!==false){if(b.renderData.collapsible){b.mon(b.collapseEl,"click",b.toggleTargetCmp,b)}if(b.collapseOnDblClick){b.mon(b.el,"dblclick",b.toggleTargetCmp,b)}}b.mon(b.getCollapseTarget(),{collapse:b.onTargetCollapse,expand:b.onTargetExpand,beforeexpand:b.onBeforeTargetExpand,beforecollapse:b.onBeforeTargetCollapse,scope:b});if(b.canResize){b.tracker=Ext.create(b.getTrackerConfig());b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])}a=b.collapseEl;if(a){a.lastCollapseDirCls=b.collapseDirProps[b.collapseDirection].cls}},getCollapseDirection:function(){var e=this,b=e.collapseDirection,a,c,d,g;if(!b){a=e.collapseTarget;if(a.isComponent){b=a.collapseDirection}if(!b){g=e.ownerCt.layout.type;if(a.isComponent){d=e.ownerCt.items;c=Number(d.indexOf(a)===d.indexOf(e)-1)<<1|Number(g==="hbox")}else{c=Number(e.collapseTarget==="prev")<<1|Number(g==="hbox")}b=["bottom","right","top","left"][c]}e.collapseDirection=b}e.setOrientation((b==="top"||b==="bottom")?"horizontal":"vertical");return b},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==="prev"?a.previousSibling():a.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;if(b){b.setDisplayed(a)}},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var d=this,c=d.collapseEl,b=d.collapseDirProps[d.collapseDirection],a;if(c){a=c.lastCollapseDirCls;if(a){c.removeCls(a)}c.addCls(c.lastCollapseDirCls=b.cls)}},applyOrientation:function(){var d=this,e=d.orientation,g=d.orientationProps[e],b=d.size,c=g.fixedAxis,h=g.stretchedAxis,a=d.baseCls+"-";d[e]=true;d[g.opposite]=false;if(!d.hasOwnProperty(c)||d[c]==="100%"){d[c]=b}if(!d.hasOwnProperty(h)||d[h]===b){d[h]="100%"}d.removeCls(a+g.opposite);d.addCls(a+e)},setOrientation:function(b){var a=this;if(a.orientation!==b){a.orientation=b;a.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(b,d){var a=this.getCollapseTarget(),c=a.placeholder,g;if(Ext.isFunction(a.expand)&&Ext.isFunction(a.collapse)){if(c&&!c.hidden){g=true}else{g=!a.hidden}if(g){if(a.collapsed){a.expand()}else{if(a.collapseDirection){a.collapse()}else{a.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var a=this;a.callParent(arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(n,r,m){var l=this,p=l.axisProps[m],h=!p.horizontal,t=p.sizeProp,v=0,d=n.childItems,j=d.length,a,g,c,b,e,q,k,s,w,u,o;for(g=0;g<j;++g){c=d[g];e=c.target;c.layoutPos={};if(e.region){c.region=q=e.region;c.isCenter=e.isCenter;c.isHorz=e.isHorz;c.isVert=e.isVert;c.weight=e.weight||l.regionWeights[q]||0;r[e.id]=c;if(e.isCenter){a=c;b=e.flex;n.centerRegion=a;continue}if(h!==c.isVert){continue}c.reverseWeighting=(q==p.borderEnd);s=e[t];w=typeof s;if(!e.collapsed){if(w=="string"&&(k=l.percentageRe.exec(s))){c.percentage=parseInt(k[1],10)}else{if(e.flex){v+=c.flex=e.flex}}}}}if(a){u=a.target;if((o=u.placeholderFor)){if(!b&&h===o.collapsedVertical()){b=0;a.collapseAxis=m}}else{if(u.collapsed&&(h===u.collapsedVertical())){b=0;a.collapseAxis=m}}}if(b==null){b=1}v+=b;return Ext.apply({before:h?"top":"left",totalFlex:v},p)},beginLayout:function(l){var k=this,h=k.getLayoutItems(),m=k.padding,q=typeof m,n=false,a,g,j,e,p,b,c,d,o;if(m){if(q=="string"||q=="number"){m=Ext.util.Format.parseBox(m)}}else{m=l.getEl("getTargetEl").getPaddingInfo();n=true}l.outerPad=m;l.padOnContainer=n;for(e=0,j=h.length;e<j;++e){g=h[e];b=k.getSplitterTarget(g);if(b){c=undefined;d=!!g.hidden;if(!b.split){if(b.isCollapsingOrExpanding){c=!!b.collapsed}}else{if(d!==b.hidden){c=!b.hidden}}if(c){g.show()}else{if(c===false){g.hide()}}}}k.callParent(arguments);h=l.childItems;j=h.length;p={};l.borderAxisHorz=k.beginAxis(l,p,"horz");l.borderAxisVert=k.beginAxis(l,p,"vert");for(e=0;e<j;++e){a=h[e];b=k.getSplitterTarget(a.target);if(b){o=p[b.id];if(!o){o=l.getEl(b.el,k);o.region=b.region}a.collapseTarget=b=o;a.weight=b.weight;a.reverseWeighting=b.reverseWeighting;b.splitter=a;a.isHorz=b.isHorz;a.isVert=b.isVert}}k.sortWeightedItems(h,"reverseWeighting");k.setupSplitterNeighbors(h)},calculate:function(l){var k=this,d=k.getContainerSize(l),b=l.childItems,j=b.length,e=l.borderAxisHorz,p=l.borderAxisVert,m=l.outerPad,n=l.padOnContainer,h,a,c,o,g,q;e.begin=m[k.padOnContainerProp];p.begin=m.top;g=e.end=e.flexSpace=d.width+(n?m[k.padOnContainerProp]:-m[k.padNotOnContainerProp]);q=p.end=p.flexSpace=d.height+(n?m.top:-m.bottom);for(h=0;h<j;++h){a=b[h];c=a.getMarginInfo();if(a.isHorz||a.isCenter){e.addUnflexed(c.width);g-=c.width}if(a.isVert||a.isCenter){p.addUnflexed(c.height);q-=c.height}if(!a.flex&&!a.percentage){if(a.isHorz||(a.isCenter&&a.collapseAxis==="horz")){o=a.getProp("width");e.addUnflexed(o);if(a.collapseTarget){g-=o}}else{if(a.isVert||(a.isCenter&&a.collapseAxis==="vert")){o=a.getProp("height");p.addUnflexed(o);if(a.collapseTarget){q-=o}}}}}for(h=0;h<j;++h){a=b[h];c=a.getMarginInfo();if(a.percentage){if(a.isHorz){o=Math.ceil(g*a.percentage/100);o=a.setWidth(o);e.addUnflexed(o)}else{if(a.isVert){o=Math.ceil(q*a.percentage/100);o=a.setHeight(o);p.addUnflexed(o)}}}}for(h=0;h<j;++h){a=b[h];if(!a.isCenter){k.calculateChildAxis(a,e);k.calculateChildAxis(a,p)}}if(k.finishAxis(l,p)+k.finishAxis(l,e)<2){k.done=false}else{k.finishPositions(b)}},calculateChildAxis:function(b,a){var d=b.collapseTarget,k="set"+a.sizePropCap,m=a.sizeProp,c=b.getMarginInfo()[m],j,g,e,h,l;if(d){j=d.region}else{j=b.region;e=b.flex}g=j==a.borderBegin;if(!g&&j!=a.borderEnd){b[k](a.end-a.begin-c);h=a.begin}else{if(e){l=Math.ceil(a.flexSpace*(e/a.totalFlex));l=b[k](l)}else{if(b.percentage){l=b.peek(m)}else{l=b.getProp(m)}}l+=c;if(g){h=a.begin;a.begin+=l}else{a.end=h=a.end-l}}b.layoutPos[a.posProp]=h},finishAxis:function(c,a){var d=a.end-a.begin,b=c.centerRegion;if(b){b["set"+a.sizePropCap](d-b.getMarginInfo()[a.sizeProp]);b.layoutPos[a.posProp]=a.begin}return Ext.isNumber(d)?1:0},finishPositions:function(b){var d=b.length,c,a,e=this.horzMarginProp;for(c=0;c<d;++c){a=b[c];a.setProp("x",a.layoutPos.x+a.marginInfo[e]);a.setProp("y",a.layoutPos.y+a.marginInfo.top)}},getLayoutItems:function(){var d=this.owner,g=(d&&d.items&&d.items.items)||[],c=g.length,b=[],a=0,e,h;for(;a<c;a++){e=g[a];h=e.placeholderFor;if(e.hidden||((!e.floated||e.isCollapsingOrExpanding===2)&&!(h&&h.isCollapsingOrExpanding===2))){b.push(e)}}return b},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(b){var a=b.collapseTarget;if(a&&a.collapsed){return a.placeholder||a}return a},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},insertSplitter:function(d,c,b,h){var e=d.region,g=Ext.apply({xtype:"bordersplitter",collapseTarget:d,id:d.id+"-splitter",hidden:b,canResize:d.splitterResize!==false,splitterFor:d},h),a=c+((e==="south"||e==="east")?0:1);if(d.collapseMode==="mini"){g.collapsedCls=d.collapsedCls}d.splitter=this.owner.add(a,g)},onAdd:function(d,c){var e=this,g=d.placeholderFor,h=d.region,j,b,a;e.callParent(arguments);if(h){Ext.apply(d,e.regionFlags[h]);if(d.initBorderRegion){d.initBorderRegion()}if(h==="center"){e.centerRegion=d}else{j=d.split;b=!!d.hidden;if(typeof j==="object"){a=j;j=true}if((d.isHorz||d.isVert)&&(j||d.collapseMode=="mini")){e.insertSplitter(d,c,b||!j,a)}}if(!d.hasOwnProperty("collapseMode")){d.collapseMode=e.panelCollapseMode}if(!d.hasOwnProperty("animCollapse")){if(d.collapseMode!=="placeholder"){d.animCollapse=false}else{d.animCollapse=e.panelCollapseAnimate}}}else{if(g){Ext.apply(d,e.regionFlags[g.region]);d.region=g.region;d.weight=g.weight}}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(a){var b=this,c=a.region,d=a.splitter;if(c){if(a.isCenter){b.centerRegion=null}delete a.isCenter;delete a.isHorz;delete a.isVert;if(d){b.owner.doRemove(d,true);delete a.splitter}}b.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(h){var e={},l=h.length,p=this.touchedRegions,g,k,a,c,d,b,m,n,o;for(g=0;g<l;++g){b=h[g].target;m=b.region;if(b.isCenter){a=b}else{if(m){o=p[m];for(k=0,c=o.length;k<c;++k){d=e[o[k]];if(d){d.neighbors.push(b)}}if(b.placeholderFor){n=b.placeholderFor.splitter}else{n=b.splitter}if(n){n.neighbors=[]}e[m]=n}}}if(a){o=p.center;for(k=0,c=o.length;k<c;++k){d=e[o[k]];if(d){d.neighbors.push(a)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(b){var c=this,e=this.sizePolicies,a,h,g,d;if(b.isCenter){d=b.placeholderFor;if(d){if(d.collapsedVertical()){return e.vert}return e.horz}if(b.collapsed){if(b.collapsedVertical()){return e.vert}return e.horz}return e.flexAll}a=b.collapseTarget;if(a){return a.isVert?e.vert:e.horz}if(b.region){if(b.isVert){h=b.height;g=e.vert}else{h=b.width;g=e.horz}if(b.flex||(typeof h=="string"&&c.percentageRe.test(h))){return e.flexAll}return g}return c.autoSizePolicy}},function(){var a={addUnflexed:function(c){this.flexSpace=Math.max(this.flexSpace-c,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var b=this,a=b.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&a.fireEvent("beforeactivate",a)===false){a=b.activeItem=b.owner.activeItem=null}else{if(a.hasListeners.activate){a.on({boxready:function(){a.fireEvent("activate",a)},single:true})}}if(b.deferredRender){if(a){return b.getItemsRenderTree([a])}}else{return b.callParent(arguments)}}},renderChildren:function(){var b=this,a=b.getActiveItem();if(!b.deferredRender){b.callParent()}else{if(a){b.renderItems([a],b.getRenderTarget())}}},isValidParent:function(a,d,c){var b=a.el?a.el.dom:Ext.getDom(a);return(b&&b.parentNode===(d.dom||d))||false},getActiveItem:function(){var a=this,b=a.parseActiveItem(a.activeItem||(a.owner&&a.owner.activeItem));if(b&&a.owner.items.indexOf(b)!=-1){a.activeItem=b}else{a.activeItem=null}return a.activeItem},parseActiveItem:function(a){if(a&&a.isComponent){return a}else{if(typeof a=="number"||a===undefined){return this.getLayoutItems()[a||0]}else{return this.owner.getComponent(a)}}},configureItem:function(a){if(a===this.getActiveItem()){a.hidden=false}else{a.hidden=true}this.callParent(arguments)},onRemove:function(a){var b=this;if(a===b.activeItem){b.activeItem=null}},getAnimation:function(b,c){var a=(b||{}).cardSwitchAnimation;if(a===false){return false}return a||c.cardSwitchAnimation},getNext:function(){var c=arguments[0],b=this.getLayoutItems(),a=Ext.Array.indexOf(b,this.activeItem);return b[a+1]||(c?b[0]:false)},next:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getNext(b),a)},getPrev:function(){var c=arguments[0],b=this.getLayoutItems(),a=Ext.Array.indexOf(b,this.activeItem);return b[a-1]||(c?b[b.length-1]:false)},prev:function(){var a=arguments[0],b=arguments[1];return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(b){var a=this,e=a.owner,d=a.activeItem,g=e.rendered,c;b=a.parseActiveItem(b);c=e.items.indexOf(b);if(c==-1){c=e.items.items.length;Ext.suspendLayouts();b=e.add(b);Ext.resumeLayouts()}if(b&&d!=b){if(b.fireEvent("beforeactivate",b,d)===false){return false}if(d&&d.fireEvent("beforedeactivate",d,b)===false){return false}if(g){Ext.suspendLayouts();if(!b.rendered){a.renderItem(b,a.getRenderTarget(),e.items.length)}if(d){if(a.hideInactive){d.hide();d.hiddenByLayout=true}d.fireEvent("deactivate",d,b)}if(b.hidden){b.show()}if(!b.hidden){a.activeItem=b}Ext.resumeLayouts(true)}else{a.activeItem=b}b.fireEvent("activate",b,d);return a.activeItem}return false}});Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:true,manageOverflow:true,isItemShrinkWrap:function(a){return true},getItemSizePolicy:function(a,b){if(a.columnWidth){if(!b){b=this.owner.getSizeModel()}if(!b.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(o,c){var n=this,p=o.targetContext,k=o.childItems,m=k.length,d=0,e=c.gotWidth,b,a,g,h,j,l;if(e===false){p.domBlock(n,"width");b=true}else{if(e){a=c.width}else{return true}}for(g=0;g<m;++g){h=k[g];j=h.getMarginInfo().width;if(!h.widthModel.calculated){l=h.getProp("width");if(typeof l!="number"){h.block(n,"width");b=true}d+=l+j}}if(!b){a=(a<d)?0:a-d;for(g=0;g<m;++g){h=k[g];if(h.widthModel.calculated){j=h.marginInfo.width;l=h.target.columnWidth;l=Math.floor(l*a)-j;l=h.setWidth(l);d+=l+j}}o.setContentWidth(d+o.paddingContext.getPaddingInfo().width)}return !b},setCtSizeIfNeeded:function(c,a){var b=this,d=c.paddingContext.getPaddingInfo();b.callParent(arguments);if((Ext.isIEQuirks||Ext.isIE7m)&&b.isShrinkWrapTpl&&d.right){c.outerCtContext.setProp("width",a.width+d.left)}}});Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",createsInnerCt:true,manageOverflow:true,lastOverflowAdjust:{width:0,height:0},childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var a=this.callParent();a.tableCls=this.tableCls;return a},calculate:function(g){var e=this,b=e.getContainerSize(g,true),j,a,c=0,d,h=g.sizeModel.height.shrinkWrap;if(h){if(g.hasDomProp("containerChildrenSizeDone")){g.setProp("contentHeight",e.formTable.dom.offsetHeight+g.targetContext.getPaddingInfo().height)}else{e.done=false}}if(b.gotWidth){j=e.formTable.dom.offsetWidth;a=g.childItems;for(d=a.length;c<d;++c){a[c].setWidth(j,false)}}else{e.done=false}},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var c=this,d=c.callParent(arguments),a,b;for(a=0,b=d.length;a<b;a++){d[a]=c.transformItemRenderTree(d[a])}return d},transformItemRenderTree:function(a){if(a.tag&&a.tag=="table"){a.tag="tbody";delete a.cellspacing;delete a.cellpadding;if(Ext.isIE6){a.cn=this.padRow}return a}return{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:a}}}},isValidParent:function(a,c,b){return true},isItemShrinkWrap:function(a){return((a.shrinkWrap===true)?3:a.shrinkWrap||0)&2},getItemSizePolicy:function(a){return{setsWidth:1,setsHeight:0}},beginLayoutCycle:function(b,a){var c=this.overflowPadderEl;if(c){c.setStyle("display","none")}if(!b.state.overflowAdjust){b.state.overflowAdjust=this.lastOverflowAdjust}},calculateOverflow:function(j,a,d){var g=this,u=j.targetContext,e=g.manageOverflow,t=j.state,h=t.overflowAdjust,p,o,n,m,s,r,c,b,l,k,q,v,w;if(e&&!t.secondPass&&!g.reserveScrollbar){v=(g.getOverflowXStyle(j)==="auto");w=(g.getOverflowYStyle(j)==="auto");if(!a.gotWidth){v=false}if(!a.gotHeight){w=false}if(v||w){r=Ext.getScrollbarSize();c=j.peek("contentWidth");b=j.peek("contentHeight");m=u.getPaddingInfo();c-=m.width;b-=m.height;l=a.width;k=a.height;q=g.getScrollbarsNeeded(l,k,c,b);t.overflowState=q;if(typeof d=="number"){q&=~d}h={width:(v&&(q&2))?r.width:0,height:(w&&(q&1))?r.height:0};if(h.width!==g.lastOverflowAdjust.width||h.height!==g.lastOverflowAdjust.height){g.done=false;j.invalidate({state:{overflowAdjust:h,overflowState:t.overflowState,secondPass:true}})}}}if(!g.done){return}n=j.padElContext||(j.padElContext=j.getEl("overflowPadderEl",g));if(n){q=t.overflowState;p=j.peek("contentWidth");o=1;if(q){m=u.getPaddingInfo();s=g.scrollRangeFlags;if((q&2)&&(s&1)){o+=m.bottom}if((q&1)&&(s&4)){p+=m.right}n.setProp("display","");n.setSize(p,o)}else{n.setProp("display","none")}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadder:function(b,d){var a=d.$layout,c=a.owner,e=a.getScrollRangeFlags();if(a.manageOverflow){if(e&5){b.push('<div id="',c.id,'-overflowPadderEl" ','style="font-size: 1px; height: 1px; margin-top: -1px; position: relative; z-index: -99999');b.push('"></div>');a.scrollRangeFlags=e}}},getContainerSize:function(l,h,g){var n=l.targetContext,a=n.getFrameInfo(),m=n.getPaddingInfo(),b=0,j=0,k=g?null:l.state.overflowAdjust,d,c,o,e;if(!l.widthModel.shrinkWrap){++j;o=h?n.getDomProp("width"):n.getProp("width");d=(typeof o=="number");if(d){++b;o-=a.width+m.width;if(k){o-=k.width}}}if(!l.heightModel.shrinkWrap){++j;e=h?n.getDomProp("height"):n.getProp("height");c=(typeof e=="number");if(c){++b;e-=a.height+m.height;if(k){e-=k.height}}}return{width:o,height:e,needed:j,got:b,gotAll:b==j,gotWidth:d,gotHeight:c}},getOverflowXStyle:function(b){var a=this;return a.overflowXStyle||(a.overflowXStyle=a.owner.scrollFlags.overflowX||b.targetContext.getStyle("overflow-x"))},getOverflowYStyle:function(b){var a=this;return a.overflowYStyle||(a.overflowYStyle=a.owner.scrollFlags.overflowY||b.targetContext.getStyle("overflow-y"))},getScrollRangeFlags:(function(){var a=-1;return function(){if(a<0){var b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"}}]}),d=b.dom.scrollHeight,e=b.dom.scrollWidth,c={175:0,165:1,170:2,160:3},g={175:0,165:4,170:8,160:12};a=(c[d]||0)|(g[e]||0);b.remove()}return a}}()),initLayout:function(){var a=this,b=Ext.getScrollbarSize().width;a.callParent();if(b&&a.manageOverflow&&!a.hasOwnProperty("lastOverflowAdjust")){if(a.owner.scrollFlags.y||a.reserveScrollbar){a.lastOverflowAdjust={width:b,height:0}}}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadder=this.doRenderPadder}});Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",mixins:{queryable:Ext.Queryable},activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:false,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=true;a.fireEvent("activate",a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=false;a.fireEvent("deactivate",a)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");if(a){a.focus()}}},expandMenu:function(a){var b=this;if(b.menu){b.cancelDeferHide();if(a===0){b.doExpandMenu()}else{clearTimeout(b.expandMenuTimer);b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)}}},doExpandMenu:function(){var a=this,b=a.menu;if(a.activated&&(!b.rendered||!b.isVisible())){a.parentMenu.activeChild=b;b.parentItem=a;b.parentMenu=a.parentMenu;b.showBy(a,a.menuAlign)}},getRefItems:function(a){var c=this.menu,b;if(c){b=c.getRefItems(a);b.unshift(c)}return b||[]},hideMenu:function(a){var b=this;if(b.menu){clearTimeout(b.expandMenuTimer);b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b)}},initComponent:function(){var b=this,d=Ext.baseCSSPrefix,a=[d+"menu-item"],c;b.addEvents("activate","click","deactivate","textchange","iconchange");if(b.plain){a.push(d+"menu-item-plain")}if(b.cls){a.push(b.cls)}b.cls=a.join(" ");if(b.menu){c=b.menu;delete b.menu;b.setMenu(c)}b.callParent(arguments)},onClick:function(b){var c=this,a=c.clickHideDelay;if(!c.href){b.stopEvent()}if(c.disabled){return}if(c.hideOnClick){if(!a){c.deferHideParentMenus()}else{c.deferHideParentMenusTimer=Ext.defer(c.deferHideParentMenus,a,c)}}Ext.callback(c.handler,c.scope||c,[c,b]);c.fireEvent("click",c,b);if(!c.hideOnClick){c.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}a.callParent(arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var h=this,b=Ext.BLANK_IMAGE_URL,c=h.glyph,d=Ext._glyphFontFamily,e,g,a;h.callParent();if(h.iconAlign==="right"){g=h.checkChangeDisabled?h.disabledCls:"";a=Ext.baseCSSPrefix+"menu-item-icon-right "+h.iconCls}else{g=(h.iconCls||"")+(h.checkChangeDisabled?" "+h.disabledCls:"");a=h.menu?h.arrowCls:""}if(typeof c==="string"){e=c.split("@");c=e[0];d=e[1]}Ext.applyIf(h.renderData,{href:h.href||"#",hrefTarget:h.hrefTarget,icon:h.icon,iconCls:g,glyph:c,glyphCls:c?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:d,hasIcon:!!(h.icon||h.iconCls||c),iconAlign:h.iconAlign,plain:h.plain,text:h.text,arrowCls:a,blank:b,tabIndex:h.tabIndex})},onRender:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.setTooltip(a.tooltip,true)}},setMenu:function(d,b){var c=this,e=c.menu,a=c.arrowEl;if(e){delete e.parentItem;delete e.parentMenu;delete e.ownerItem;if(b===true||(b!==false&&c.destroyMenu)){Ext.destroy(e)}}if(d){c.menu=Ext.menu.Manager.get(d);c.menu.ownerItem=c}else{c.menu=null}if(c.rendered&&!c.destroying&&a){a[c.menu?"addCls":"removeCls"](c.arrowCls)}},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;if(b){b.src=a||Ext.BLANK_IMAGE_URL}this.icon=a;this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var c=this,b=c.iconEl,d=c.iconCls;if(b){if(c.iconCls){b.removeCls(c.iconCls)}if(a){b.addCls(a)}}c.iconCls=a;c.fireEvent("iconchange",c,d,a)},setText:function(d){var b=this,a=b.textEl||b.el,c=b.text;b.text=d;if(b.rendered){a.update(d||"");b.ownerCt.updateLayout()}b.fireEvent("textchange",b,c,d)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(c,a){var b=this;if(b.rendered){if(!a){b.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(c)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.itemEl.id},c));b.tooltip=c}else{b.itemEl.dom.setAttribute(b.getTipAttr(),c)}}else{b.tooltip=c}return b}});Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:true,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var a=this;a.checked=!!a.checked;a.addEvents("beforecheckchange","checkchange");a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){a.showCheckbox=false;if(!(a.iconCls||a.icon||a.glyph)){a.iconCls=a.groupCls}if(a.initialConfig.hideOnClick!==false){a.hideOnClick=true}}},beforeRender:function(){this.callParent();this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.addCls(b.disabledCls)}if(!(Ext.isIE10p||(Ext.isIE9&&Ext.isStrict))&&b.rendered){b.el.repaint()}b.checkChangeDisabled=true},enableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.removeCls(b.disabledCls)}b.checkChangeDisabled=false},onClick:function(a){var b=this;if(!b.disabled&&!b.checkChangeDisabled&&!(b.checked&&b.group)){b.setChecked(!b.checked)}this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,c){var b=this;if(b.checked!==a&&(c||b.fireEvent("beforecheckchange",b,a)!==false)){if(b.el){b.el[a?"addCls":"removeCls"](b.checkedCls)[!a?"addCls":"removeCls"](b.uncheckedCls)}b.checked=a;Ext.menu.Manager.onCheckChange(b,a);if(!c){Ext.callback(b.checkHandler,b.scope,[b,a]);b.fireEvent("checkchange",b,a)}}}});Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(a){var b=this;b.menu=a.target;b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(a){var c=this,b=c.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.DOWN&&c.isWhitelisted(b)){return true}c.focusNextItem(1)},enter:function(a){var c=this.menu,b=c.focusedItem;if(c.activeItem){c.onClick(a)}else{if(b&&b.isFormField){return true}}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(k){var h=this.menu,e=h.items,b=h.focusedItem,j=b?e.indexOf(b):-1,c=j+k,g=e.length,a=0,d;while(a<g&&c!==j){if(c<0){c=g-1}else{if(c>=g){c=0}}d=e.getAt(c);if(h.canActivateItem(d)){h.setActiveItem(d);break}c+=k;++a}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(a){var c=this.menu,b=c.focusedItem;if(b&&this.isWhitelisted(b)){return true}c.hide();if(c.parentMenu){c.parentMenu.focus()}},right:function(c){var g=this.menu,d=g.focusedItem,a=g.activeItem,b;if(d&&this.isWhitelisted(d)){return true}if(a){b=g.activeItem.menu;if(b){a.expandMenu(0);b.setActiveItem(b.child(":focusable"))}}},tab:function(a){var b=this;if(a.shiftKey){b.up(a)}else{b.down(a)}},up:function(a){var c=this,b=c.menu.focusedItem;if(b&&a.getKey()==Ext.EventObject.UP&&c.isWhitelisted(b)){return true}c.focusNextItem(-1)}});Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(a,c){var b=this;b.callParent();b.addCls(b.separatorCls)}});Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var d=this,e=Ext.baseCSSPrefix,b=[e+"menu"],a=d.bodyCls?[d.bodyCls]:[],c=d.floating!==false;d.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(d);if(d.plain){b.push(e+"menu-plain")}d.cls=b.join(" ");a.push(e+"menu-body",Ext.dom.Element.unselectableCls);d.bodyCls=a.join(" ");if(!d.layout){d.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}}if(c){if(d.minWidth===undefined){d.minWidth=d.defaultMinWidth}}else{d.hidden=!!d.initialConfig.hidden;d.constrain=false}d.callParent(arguments)},registerWithOwnerCt:function(){if(this.floating){this.ownerCt=null;Ext.WindowManager.register(this)}},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var a=this;a.callParent(arguments);if(a.showSeparator){a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()})}},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(b){var d=this,a=d.activeItem,c=d.focusedItem;if(a){a.deactivate();if(!a.activated){delete d.activeItem}}if(c&&b){c.blur();delete d.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(a){var b=this;if(typeof a=="string"){a=b.lookupItemFromString(a)}else{if(Ext.isObject(a)){a=b.lookupItemFromObject(a)}}a.minWidth=a.minWidth||b.minWidth;return a},lookupItemFromObject:function(b){var c=this,d=Ext.baseCSSPrefix,a;if(!b.isComponent){if(!b.xtype){b=Ext.create("Ext.menu."+(Ext.isBoolean(b.checked)?"Check":"")+"Item",b)}else{b=Ext.ComponentManager.create(b,b.xtype)}}if(b.isMenuItem){b.parentMenu=c}if(!b.isMenuItem&&!b.dock){a=[d+"menu-item-cmp"];if(!c.plain&&(b.indent!==false||b.iconCls==="no-icon")){a.push(d+"menu-item-indent")}if(b.rendered){b.el.addCls(a)}else{b.cls=(b.cls||"")+" "+a.join(" ")}}return b},lookupItemFromString:function(a){return(a=="separator"||a=="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(a){var c=this,b;if(c.disabled){a.stopEvent();return}b=(a.type==="click")?c.getItemFromEvent(a):c.activeItem;if(b&&b.isMenuItem){if(!b.menu||!c.ignoreParentClicks){b.onClick(a)}else{a.stopEvent()}}if(!b||b.disabled){b=undefined}c.fireEvent("click",c,b,a)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}a.callParent(arguments)},onMouseLeave:function(a){var b=this;b.deactivateActiveItem();if(b.disabled){return}b.fireEvent("mouseleave",b,a)},onMouseOver:function(a){var d=this,b=a.getRelatedTarget(),g=!d.el.contains(b),c=d.getItemFromEvent(a),j=d.parentMenu,h=d.parentItem;if(g&&j){j.setActiveItem(h);h.cancelDeferHide();j.mouseMonitor.mouseenter()}if(d.disabled){return}if(c&&!c.activated){d.setActiveItem(c);if(c.activated&&c.expandMenu){c.expandMenu()}}if(g){d.fireEvent("mouseenter",d,a)}d.fireEvent("mouseover",d,c,a)},setActiveItem:function(a){var b=this;if(a&&(a!=b.activeItem)){b.deactivateActiveItem();if(b.canActivateItem(a)){if(a.activate){a.activate();if(a.activated){b.activeItem=a;b.focusedItem=a;b.focus()}}else{a.focus();b.focusedItem=a}}a.el.scrollIntoView(b.layout.getRenderTarget())}},showBy:function(a,d,c){var b=this;b.callParent(arguments);if(!b.hidden){b.setVerticalPosition()}return b},beforeShow:function(){var a=this,b;if(a.floating){a.savedMaxHeight=a.maxHeight;b=a.container.getViewSize().height;a.maxHeight=Math.min(a.maxHeight||b,b)}a.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}},setVerticalPosition:function(){var c=this,b,k=c.getY(),g=k,a=c.getHeight(),j=Ext.Element.getViewportHeight().height,e=c.el.parent(),h=e.getViewSize().height,d=k-e.getScroll().top;e=null;if(c.floating){b=c.maxHeight?c.maxHeight:h-d;if(a>h){g=k-d}else{if(b<a){g=k-(a-b)}else{if((k+a)>j){g=j-a}}}}c.setY(g)}});Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:true,pickerId:null,initComponent:function(){var b=this,a=Ext.apply({},b.initialConfig);delete a.listeners;Ext.apply(b,{plain:true,showSeparator:false,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:b.pickerId,xtype:"colorpicker"},a)});b.callParent(arguments);b.picker=b.down("colorpicker");b.relayEvents(b.picker,["select"]);if(b.hideOnClick){b.on("select",b.hidePickerOnSelect,b)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",hideOnClick:true,pickerId:null,initComponent:function(){var b=this,a=Ext.apply({},b.initialConfig);delete a.listeners;Ext.apply(b,{showSeparator:false,plain:true,border:false,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:b.pickerId,xtype:"datepicker"},a)});b.callParent(arguments);b.picker=b.down("datepicker");b.relayEvents(b.picker,["select"]);if(b.hideOnClick){b.on("select",b.hidePickerOnSelect,b)}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});Ext.define("Ext.panel.Tool",{extend:Ext.Component,alias:"widget.tool",isTool:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click");a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent()},afterRender:function(){var b=this,a;b.callParent(arguments);b.el.on({click:b.onClick,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,scope:b});if(b.tooltip){if(Ext.quickTipsActive&&Ext.isObject(b.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.id},b.tooltip))}else{a=b.tooltipType=="qtip"?"data-qtip":"title";b.el.dom.setAttribute(a,b.tooltip)}}},getFocusEl:function(){return this.el},setType:function(c){var a=this,b=a.type;a.type=c;if(a.rendered){if(b){a.toolEl.removeCls(a.baseCls+"-"+b)}a.toolEl.addCls(a.baseCls+"-"+c)}else{a.renderData.type=c}return a},onClick:function(a,c){var b=this;if(b.disabled){return false}b.el.removeCls(b.toolPressedCls);b.el.removeCls(b.toolOverCls);if(b.stopEvent!==false){a.stopEvent()}if(b.handler){Ext.callback(b.handler,b.scope||b,[a,c,b.ownerCt,b])}else{if(b.callback){Ext.callback(b.callback,b.scope||b,[b.toolOwner||b.ownerCt,b,a])}}b.fireEvent("click",b,a);return true},onDestroy:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}});Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(c){var d=this,h=d.getPrevCmp(),g=d.getNextCmp(),b=d.getSplitter().collapseEl,j=c.getTarget(),a;if(!h||!g){return false}if(b&&j===d.getSplitter().collapseEl.dom){return false}if(g.collapsed||h.collapsed){return false}d.prevBox=h.getEl().getBox();d.nextBox=g.getEl().getBox();d.constrainTo=a=d.calculateConstrainRegion();if(!a){return false}return a},onStart:function(a){var b=this.getSplitter();this.createDragOverlay();b.addCls(b.baseCls+"-active")},calculateConstrainRegion:function(){var c=this,m=c.getSplitter(),n=m.getWidth(),b=m.defaultSplitMin,h=m.orientation,j=c.prevBox,k=c.getPrevCmp(),d=c.nextBox,e=c.getNextCmp(),l,g,a;if(h==="vertical"){a={prevCmp:k,nextCmp:e,prevBox:j,nextBox:d,defaultMin:b,splitWidth:n};l=new Ext.util.Region(j.y,c.getVertPrevConstrainRight(a),j.bottom,c.getVertPrevConstrainLeft(a));g=new Ext.util.Region(d.y,c.getVertNextConstrainRight(a),d.bottom,c.getVertNextConstrainLeft(a))}else{l=new Ext.util.Region(j.y+(k.minHeight||b),j.right,(k.maxHeight?j.y+k.maxHeight:d.bottom-(e.minHeight||b))+n,j.x);g=new Ext.util.Region((e.maxHeight?d.bottom-e.maxHeight:j.y+(k.minHeight||b))-n,d.right,d.bottom-(e.minHeight||b),d.x)}return l.intersect(g)},performResize:function(b,l){var j=this,q=j.getSplitter(),m=q.orientation,o=j.getPrevCmp(),k=j.getNextCmp(),n=q.ownerCt,c=n.query(">[flex]"),h=c.length,s=m==="vertical",d=0,a=s?"width":"height",r=0,g,p;for(;d<h;d++){g=c[d];p=s?g.getWidth():g.getHeight();r+=p;g.flex=p}l=s?l[0]:l[1];if(o){p=j.prevBox[a]+l;if(o.flex){o.flex=p}else{o[a]=p}}if(k){p=j.nextBox[a]-l;if(k.flex){k.flex=p}else{k[a]=p}}n.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}a.callParent(arguments)},onEnd:function(a){var b=this,c=b.getSplitter();c.removeCls(c.baseCls+"-active");b.performResize(a,b.getResizeOffset())},onDrag:function(a){var b=this,c=b.getOffset("dragTarget"),h=b.getSplitter(),g=h.getEl(),d=h.orientation;if(d==="vertical"){g.setX(b.startRegion.left+c[0])}else{g.setY(b.startRegion.top+c[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var o=this,w=o.splitter,c=w.collapseTarget,d=w.defaultSplitMin,v=w.vertical?"Width":"Height",q="min"+v,n="max"+v,e="get"+v,s=w.neighbors,j=s.length,b=c.el.getBox(),h=b.x,y=b.y,t=b.right,a=b.bottom,u=w.vertical?(t-h):(a-y),g,r,p,l,k,m,x;p=(c[q]||Math.min(u,d))-u;l=c[n];if(!l){l=1000000000}else{l-=u}x=u;for(g=0;g<j;++g){r=s[g];u=r[e]();k=u-r[n];m=u-(r[q]||Math.min(u,d));if(!isNaN(k)){if(p<k){p=k}}if(l>m){l=m}}if(l-p<2){return null}b=new Ext.util.Region(y,t,a,h);o.constraintAdjusters[o.getCollapseDirection()](b,p,l,w);o.dragInfo={minRange:p,maxRange:l,targetSize:x};return b},constraintAdjusters:{left:function(a,c,b,d){a[0]=a.x=a.left=a.right+c;a.right+=b+d.getWidth()},top:function(a,c,b,d){a[1]=a.y=a.top=a.bottom+c;a.bottom+=b+d.getHeight()},bottom:function(a,c,b,d){a.bottom=a.top-c;a.top-=b+d.getHeight()},right:function(a,c,b,d){a.right=a.left-c;a[0]=a.x=a.left=a.x-b+d.getWidth()}},onBeforeStart:function(c){var h=this,l=h.splitter,b=l.collapseTarget,k=l.neighbors,a=h.getSplitter().collapseEl,m=c.getTarget(),g=k.length,d,j;if(a&&m===l.collapseEl.dom){return false}if(b.collapsed){return false}for(d=0;d<g;++d){j=k[d];if(j.collapsed&&j.isHorz===b.isHorz){return false}}if(!(h.constrainTo=h.calculateConstrainRegion())){return false}return true},performResize:function(h,k){var j=this,m=j.splitter,b=m.getCollapseDirection(),c=m.collapseTarget,a=j.splitAdjusters[m.vertical?"horz":"vert"],d=k[a.index],g=j.dragInfo,l;if(b=="right"||b=="bottom"){d=-d}d=Math.min(Math.max(g.minRange,d),g.maxRange);if(d){(l=m.ownerCt).suspendLayouts();a.adjustTarget(c,g.targetSize,d);l.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(c,b,a){c.flex=null;c.setSize(b+a)}},vert:{index:1,adjustTarget:function(b,c,a){b.flex=null;b.setSize(undefined,c+a)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var a=this;a.callParent();a.protoEl.unselectable();a.addCls(a.baseHandleCls,a.baseHandleCls+"-"+a.region,a.handleCls)}});Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var c=this,e,b,d;if(!a.el){if(a.target.isComponent){c.el=a.target.getEl()}else{c.el=a.target}}this.callParent(arguments);if(c.preserveRatio&&c.minWidth&&c.minHeight){e=c.minWidth/c.el.getWidth();b=c.minHeight/c.el.getHeight();if(b>e){c.minWidth=c.el.getWidth()*b}else{c.minHeight=c.el.getHeight()*e}}if(c.throttle){d=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(c,arguments)},c.throttle);c.resize=function(h,j,g){if(g){Ext.resizer.ResizeTracker.prototype.resize.apply(c,arguments)}else{d.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic){return b}else{if(!a.proxy){a.proxy=a.createProxy(b)}}a.proxy.show();return a.proxy},createProxy:function(c){var b,a=this.proxyCls;if(c.isComponent){b=c.getProxy().addCls(a)}else{b=c.createProxy({tag:"div",cls:a,id:c.id+"-rzproxy"},Ext.getBody())}b.removeCls(Ext.baseCSSPrefix+"proxy-el");return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(j,c){var m=this,t=m.activeResizeHandle.region,q=m.getOffset(m.constrainTo?"dragTarget":null),g=m.startBox,s,x=0,k=0,v,u,a=0,b=0,h,l=q[0]<0?"right":"left",w=q[1]<0?"down":"up",r,d,n,o,p;t=m.convertRegionName(t);switch(t){case"south":k=q[1];d=2;break;case"north":k=-q[1];b=-k;d=2;break;case"east":x=q[0];d=1;break;case"west":x=-q[0];a=-x;d=1;break;case"northeast":k=-q[1];b=-k;x=q[0];r=[g.x,g.y+g.height];d=3;break;case"southeast":k=q[1];x=q[0];r=[g.x,g.y];d=3;break;case"southwest":x=-q[0];a=-x;k=q[1];r=[g.x+g.width,g.y];d=3;break;case"northwest":k=-q[1];b=-k;x=-q[0];a=-x;r=[g.x+g.width,g.y+g.height];d=3;break}n={width:g.width+x,height:g.height+k,x:g.x+a,y:g.y+b};v=Ext.Number.snap(n.width,m.widthIncrement);u=Ext.Number.snap(n.height,m.heightIncrement);if(v!=n.width||u!=n.height){switch(t){case"northeast":n.y-=u-n.height;break;case"north":n.y-=u-n.height;break;case"southwest":n.x-=v-n.width;break;case"west":n.x-=v-n.width;break;case"northwest":n.x-=v-n.width;n.y-=u-n.height}n.width=v;n.height=u}if(n.width<m.minWidth||n.width>m.maxWidth){n.width=Ext.Number.constrain(n.width,m.minWidth,m.maxWidth);if(a){n.x=g.x+(g.width-n.width)}}else{m.lastX=n.x}if(n.height<m.minHeight||n.height>m.maxHeight){n.height=Ext.Number.constrain(n.height,m.minHeight,m.maxHeight);if(b){n.y=g.y+(g.height-n.height)}}else{m.lastY=n.y}if(m.preserveRatio||j.shiftKey){s=m.startBox.width/m.startBox.height;o=Math.min(Math.max(m.minHeight,n.width/s),m.maxHeight);p=Math.min(Math.max(m.minWidth,n.height*s),m.maxWidth);if(d==1){n.height=o}else{if(d==2){n.width=p}else{h=Math.abs(r[0]-this.lastXY[0])/Math.abs(r[1]-this.lastXY[1]);if(h>s){n.height=o}else{n.width=p}if(t=="northeast"){n.y=g.y-(n.height-g.height)}else{if(t=="northwest"){n.y=g.y-(n.height-g.height);n.x=g.x-(n.width-g.width)}else{if(t=="southwest"){n.x=g.x-(n.width-g.width)}}}}}}if(k===0){w="none"}if(x===0){l="none"}m.resize(n,{horizontal:l,vertical:w},c)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(b,c,a){var d=this,e=d.getResizeTarget(a);e.setBox(b);if(d.originalTarget&&(d.dynamic||a)){d.originalTarget.setBox(b)}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy){this.proxy.hide()}},convertRegionName:function(a){return a}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(b){var k=this,p,r,o,g=k.handles,d,m,j,h=0,l,e=[],c,n,a,q,s=Ext.dom.Element.unselectableCls;k.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(b)||Ext.isElement(b)||b.dom){p=b;b=arguments[1]||{};b.target=p}k.mixins.observable.constructor.call(k,b);p=k.target;if(p){if(p.isComponent){p.addClsWithUI("resizable");k.el=p.getEl();if(p.minWidth){k.minWidth=p.minWidth}if(p.minHeight){k.minHeight=p.minHeight}if(p.maxWidth){k.maxWidth=p.maxWidth}if(p.maxHeight){k.maxHeight=p.maxHeight}if(p.floating){if(!k.hasOwnProperty("handles")){k.handles="n ne e se s sw w nw"}}}else{k.el=k.target=Ext.get(p)}}else{k.target=k.el=Ext.get(k.el)}o=k.el.dom.tagName.toUpperCase();if(o=="TEXTAREA"||o=="IMG"||o=="TABLE"){k.originalTarget=k.target;r=k.el;a=r.getBox();k.target=k.el=k.el.wrap({cls:k.wrapCls,id:k.el.id+"-rzwrap",style:r.getStyles("margin-top","margin-bottom")});k.el.setPositioning(r.getPositioning());r.clearPositioning();k.el.setBox(a);r.setStyle("position","absolute")}k.el.position();if(k.pinned){k.el.addCls(k.pinnedCls)}k.resizeTracker=new Ext.resizer.ResizeTracker({disabled:k.disabled,target:k.target,constrainTo:k.constrainTo,overCls:k.overCls,throttle:k.throttle,originalTarget:k.originalTarget,delegate:"."+k.handleCls,dynamic:k.dynamic,preserveRatio:k.preserveRatio,heightIncrement:k.heightIncrement,widthIncrement:k.widthIncrement,minHeight:k.minHeight,maxHeight:k.maxHeight,minWidth:k.minWidth,maxWidth:k.maxWidth});k.resizeTracker.on({mousedown:k.onBeforeResize,drag:k.onResize,dragend:k.onResizeEnd,scope:k});if(k.handles=="all"){k.handles="n s e w ne nw se sw"}g=k.handles=k.handles.split(k.delimiterRe);m=k.possiblePositions;j=g.length;d=k.handleCls+" "+k.handleCls+"-{0}";if(k.target.isComponent){q=k.target.baseCls;d+=" "+q+"-handle "+q+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){d+=" "+q+"-handle-{0}-br"}}c=Ext.isIE6?' style="height:'+k.el.getHeight()+'px"':"";for(;h<j;h++){if(g[h]&&m[g[h]]){l=m[g[h]];if(l==="east"||l==="west"){n=c}else{n=""}e.push('<div id="',k.el.id,"-",l,'-handle"',' class="',Ext.String.format(d,l)," ",s,'"',' unselectable="on"',n,"></div>")}}Ext.DomHelper.append(k.el,e.join(""));for(h=0;h<j;h++){if(g[h]&&m[g[h]]){l=m[g[h]];k[l]=k.el.getById(k.el.id+"-"+l+"-handle");k[l].region=l;if(k.transparent){k[l].setOpacity(0)}}}if(Ext.isNumber(k.width)){k.width=Ext.Number.constrain(k.width,k.minWidth,k.maxWidth)}if(Ext.isNumber(k.height)){k.height=Ext.Number.constrain(k.height,k.minHeight,k.maxHeight)}if(k.width!==null||k.height!==null){if(k.originalTarget){k.originalTarget.setWidth(k.width);k.originalTarget.setHeight(k.height)}k.resizeTo(k.width,k.height)}k.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(c,b){var a=this.el.getBox();return this.fireEvent("beforeresize",this,a.width,a.height,b)},onResize:function(d,b){var c=this,a=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resizedrag",c,a.width,a.height,b)},onResizeEnd:function(d,b){var c=this,a=c.el.getBox();c.forceHandlesHeight();return c.fireEvent("resize",c,a.width,a.height,b)},resizeTo:function(c,a){var b=this;b.target.setSize(c,a);b.fireEvent("resize",b,c,a,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e=this,c,b=e.handles,d=b.length,g=e.possiblePositions,a;e.resizeTracker.destroy();for(c=0;c<d;c++){if(a=e[g[b[c]]]){a.remove()}}},forceHandlesHeight:function(){var b=this,a;if(Ext.isIE6){a=b.east;if(a){a.setHeight(b.el.getHeight())}a=b.west;if(a){a.setHeight(b.el.getHeight())}b.el.repaint()}}});Ext.define("Ext.selection.CellModel",{extend:Ext.selection.Model,alias:"selection.cellmodel",isCellModel:true,enableKeyNav:true,preventWrap:false,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(c){var b=this,a=c.ownerCt;b.primaryView=c;b.views=b.views||[];b.views.push(c);b.bindStore(c.getStore(),true);c.on({cellmousedown:b.onMouseDown,refresh:b.onViewRefresh,scope:b});if(a.optimizedColumnMove!==false){a.on("columnmove",b.onColumnMove,b)}if(b.enableKeyNav){b.initKeyNav(c)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on("render",Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b.el,ignoreInputFields:true,up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,tab:a.onKeyTab,scope:a})},getHeaderCt:function(){var a=this.getCurrentPosition(),b=a?a.view:this.primaryView;return b.headerCt},onKeyUp:function(a){this.doMove("up",a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(a,b){this.keyNavigation=true;this.move(a,b);this.keyNavigation=false},onVetoUIEvent:Ext.emptyFn,select:function(d,a,h){var b=this,e,c=b.getCurrentPosition(),g=b.view.store;if(d||d===0){if(d.isModel){e=g.indexOf(d);if(e!==-1){d={row:e,column:c?c.column:0}}else{d=null}}else{if(typeof d==="number"){d={row:d,column:0}}}}if(d){b.selectByPosition(d,h)}else{b.deselect()}},deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,b){var c=this,g=c.getCurrentPosition(),d;if(g){d=g.view.walkCells(g,a,b,c.preventWrap);if(d){d.view=g.view;return c.setCurrentPosition(d)}}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(c,d){var b=this,a=b.selection;b.lastSelection=a;if(a){if(c&&(c.record===a.record&&c.columnHeader===a.columnHeader&&c.view===a.view)){c=null}else{b.onCellDeselect(b.selection,d)}}if(c){b.nextSelection=new Ext.grid.CellContext(b.primaryView).setPosition(c);b.selecting=true;b.onCellSelect(b.nextSelection,d);b.selecting=false;return(b.selection=b.nextSelection)}},isCellSelected:function(g,d,a){var b=this,e,c=b.getCurrentPosition();if(c&&c.view===g){e=new Ext.grid.CellContext(g).setPosition({row:d,column:a});return(e.record===c.record)&&(e.columnHeader===c.columnHeader)}},onStoreRemove:function(k,h,c){var e=this,g=e.getCurrentPosition(),a,d=h.length,b,j=0;e.callParent(arguments);if(g){if(c[0]>g.row){return}for(a=0;a<d;a++){b=c[a];if(b<g.row){j++}else{break}}if(j){g.setRow(g.row-j)}}},onMouseDown:function(j,a,b,d,h,g,c){if(g!==-1){this.setCurrentPosition({view:j,row:h,column:b})}},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.record,false,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.record,b)}},onSelectChange:function(g,c,h,a){var d=this,e,b,j;if(c){e=d.nextSelection;b="select"}else{e=d.lastSelection||d.noSelection;b="deselect"}j=e.view||d.primaryView;if((h||d.fireEvent("before"+b,d,g,e.row,e.column))!==false&&a()!==false){if(c){j.focusRow(g,true);j.onCellSelect(e)}else{j.onCellDeselect(e);delete d.selection}if(!h){d.fireEvent(b,d,g,e.row,e.column)}}},onKeyTab:function(a,g){var c=this,d=c.getCurrentPosition(),b;if(d){b=d.view.editingPlugin;if(b&&c.wasEditing){c.onEditorTab(b,a)}else{c.move(a.shiftKey?"left":"right",a)}}},onEditorTab:function(c,b){var d=this,a=b.shiftKey?"left":"right",g=d.move(a,b);if(g){if(c.startEdit(g.record,g.columnHeader)){d.wasEditing=false}else{d.wasEditing=true}}},refresh:function(){var a=this.getCurrentPosition(),b;if(a&&(b=this.store.indexOf(this.selected.last()))!==-1){a.row=b}},onColumnMove:function(d,c,a,e){var b=d.up("tablepanel");if(b){this.onViewRefresh(b.view)}},onUpdate:function(c){var a=this,b;if(a.isSelected(c)){b=a.selecting?a.nextSelection:a.selection;a.view.onCellSelect(b)}},onViewRefresh:function(g){var c=this,d=c.getCurrentPosition(),b=g.headerCt,e,a;if(d&&d.view===g){e=d.record;a=d.columnHeader;if(!a.isDescendantOf(b)){a=b.queryById(a.id)||b.down('[text="'+a.text+'"]')||b.down('[dataIndex="'+a.dataIndex+'"]')}if(a&&(g.store.indexOfId(e.getId())!==-1)){c.setCurrentPosition({row:e,column:a,view:g})}}},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}});Ext.define("Ext.selection.RowModel",{extend:Ext.selection.Model,alias:"selection.rowmodel",deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:false,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(b){var a=this;b.on({itemmousedown:a.onRowMouseDown,itemclick:a.onRowClick,scope:a});if(a.enableKeyNav){a.initKeyNav(b)}},initKeyNav:function(b){var a=this;if(!b.rendered){b.on("render",Ext.Function.bind(a.initKeyNav,a,[b],0),a,{single:true});return}b.el.set({tabIndex:-1});a.keyNav=new Ext.util.KeyNav({target:b,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(h,g,e,d,c){c.record=g;c.recordIndex=d;return c},up:a.onKeyUp,down:a.onKeyDown,right:a.onKeyRight,left:a.onKeyLeft,pageDown:a.onKeyPageDown,pageUp:a.onKeyPageUp,home:a.onKeyHome,end:a.onKeyEnd,space:a.onKeySpace,enter:a.onKeyEnter,scope:a})},onUpdate:function(c){var b=this,d=b.view,a;if(d&&b.isSelected(c)){a=d.indexOf(c);d.onRowSelect(a);if(c===b.lastFocused){d.onRowFocus(a,true)}}},getRowsVisible:function(){var d=false,e=this.views[0],a=e.all.first(),c,b;if(a){c=a.getHeight();b=e.el.getHeight();d=Math.floor(b/c)}return d},onKeyEnd:function(a){var b=this,c=b.views[0];if(c.bufferedRenderer){c.bufferedRenderer.scrollTo(b.store.getCount()-1,false,function(d,e){b.afterKeyNavigate(a,e)})}else{b.afterKeyNavigate(a,c.getRecord(c.all.getCount()-1))}},onKeyHome:function(a){var b=this,c=b.views[0];if(c.bufferedRenderer){c.bufferedRenderer.scrollTo(0,false,function(d,e){b.afterKeyNavigate(a,e)})}else{b.afterKeyNavigate(a,c.getRecord(0))}},onKeyPageUp:function(a){var b=this,h=b.views[0],g=b.getRowsVisible(),c,d;if(g){if(h.bufferedRenderer){c=Math.max(a.recordIndex-g,0);(b.lastKeyEvent||(b.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(a.browserEvent);h.bufferedRenderer.scrollTo(c,false,b.afterBufferedScrollTo,b)}else{d=h.walkRecs(a.record,-g);b.afterKeyNavigate(a,d)}}},onKeyPageDown:function(a){var b=this,h=b.views[0],g=b.getRowsVisible(),c,d;if(g){if(h.bufferedRenderer){c=Math.min(a.recordIndex+g,b.store.getCount()-1);(b.lastKeyEvent||(b.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(a.browserEvent);h.bufferedRenderer.scrollTo(c,false,b.afterBufferedScrollTo,b)}else{d=h.walkRecs(a.record,g);b.afterKeyNavigate(a,d)}}},onKeySpace:function(a){var b=this.lastFocused;if(b){this.afterKeyNavigate(a,b)}},onKeyEnter:Ext.emptyFn,onKeyUp:function(a){var b=this.views[0].walkRecs(a.record,-1);if(b){this.afterKeyNavigate(a,b)}},onKeyDown:function(a){var b=this.views[0].walkRecs(a.record,1);if(b){this.afterKeyNavigate(a,b)}},afterBufferedScrollTo:function(a,b){this.afterKeyNavigate(this.lastKeyEvent,b)},scrollByDeltaX:function(a){var d=this.views[0],c=d.up(),b=c.horizontalScroller;if(b){b.scrollByDeltaX(a)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(h,g,c,b,a){var d=this;if(b!==-1){if(!d.allowRightMouseSelection(a)){return}if(!d.isSelected(g)){d.mousedownAction=true;d.processSelection(h,g,c,b,a)}else{d.mousedownAction=false}}},onVetoUIEvent:function(h,j,a,g,b,c,d){if(h=="mousedown"){this.mousedownAction=!this.isSelected(d)}},onRowClick:function(g,d,c,b,a){if(this.mousedownAction){this.mousedownAction=false}else{this.processSelection(g,d,c,b,a)}},processSelection:function(g,d,c,b,a){this.selectWithEvent(d,a)},allowRightMouseSelection:function(b){var a=this.ignoreRightMouseSelection&&b.button!==0;if(a){a=this.hasSelection()}return !a},onSelectChange:function(g,d,j,a){var e=this,k=e.views,l=k.length,h=k[0].indexOf(g),b=d?"select":"deselect",c=0;if((j||e.fireEvent("before"+b,e,g,h))!==false&&a()!==false){for(;c<l;c++){if(d){k[c].onRowSelect(h,j)}else{k[c].onRowDeselect(h,j)}}if(!j){e.fireEvent(b,e,g,h)}}},onLastFocusChanged:function(c,b,e){var g=this.views,h=g.length,d,a=0;if(c){d=g[0].indexOf(c);if(d!=-1){for(;a<h;a++){g[a].onRowFocus(d,false,true)}}}if(b){d=g[0].indexOf(b);if(d!=-1){for(a=0;a<h;a++){g[a].onRowFocus(d,true,e)}}}this.callParent(arguments)},onEditorTab:function(c,b){var g=this,k=g.views[0],j=c.getActiveRecord(),d=c.getActiveColumn(),h=k.getPosition(j,d),a=b.shiftKey?"left":"right";do{h=k.walkCells(h,a,b,g.preventWrap)}while(h&&(!h.columnHeader.getEditor(j)||!c.startEditByPosition(h)))},getCurrentPosition:function(){var a=this.selected.items[0];if(a){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0)}},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(b,j){var c=this,g=c.store,e=c.getSelection(),d=e[e.length-1],a=c.views[0].indexOf(d)+1,h;if(a===g.getCount()||a===0){h=false}else{c.doSelect(a,b,j);h=true}return h},selectPrevious:function(b,h){var c=this,e=c.getSelection(),d=e[0],a=c.views[0].indexOf(d)-1,g;if(a<0){g=false}else{c.doSelect(a,b,h);g=true}return g},isRowSelected:function(b,a){return this.isSelected(b)}});Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(a){this.callParent(arguments);if(this.pruneRemoved){this.pruneRemoved=false;this.pruneRemovedNodes=true}},bindStore:function(c,a){var b=this;b.callParent(arguments);if(b.pruneRemovedNodes){b.view.mon(b.treeStore,{remove:b.onNodeRemove,scope:b})}},onNodeRemove:function(c,b,a){if(!a){this.deselectDeletedRecords([b])}},onKeyRight:function(a,b){this.navExpand(a,b)},navExpand:function(a,c){var b=this.getLastFocused(),d=this.view;if(b){if(b.isExpanded()){this.onKeyDown(a,c)}else{if(b.isExpandable()){if(!d.isTreeView){d=d.lockingPartner}d.expand(b)}}}},onKeyLeft:function(a,b){this.navCollapse(a,b)},navCollapse:function(a,g){var c=this,b=this.getLastFocused(),h=this.view,d;if(b){d=b.parentNode;if(b.isExpanded()){if(!h.isTreeView){h=h.lockingPartner}h.collapse(b)}else{if(d&&!d.isRoot()){if(a.shiftKey){c.selectRange(d,b,a.ctrlKey,"up");c.setLastFocused(d)}else{if(a.ctrlKey){c.setLastFocused(d)}else{c.select(d)}}}}}},onKeySpace:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else{this.callParent(arguments)}},onKeyEnter:function(a,b){if(a.record.data.checked!=null){this.toggleCheck(a)}else{this.callParent(arguments)}},toggleCheck:function(a){var c=this.view,b=this.getLastSelected();a.stopEvent();if(b){if(!c.isTreeView){c=c.lockingPartner}c.onCheckChange(b)}}});Ext.define("Ext.slider.Thumb",{topZIndex:10000,constructor:function(a){var b=this;Ext.apply(b,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:false});b.callParent([a])},render:function(){var a=this;a.el=a.slider.innerEl.insertFirst(a.getElConfig());a.onRender()},onRender:function(){if(this.disabled){this.disable()}this.initEvents()},getElConfig:function(){var a=this,b=a.slider,c={};c[b.vertical?"bottom":b.horizontalProp]=b.calculateThumbPosition(b.normalizeValue(a.value))+"%";return{style:c,id:this.id,cls:this.cls}},move:function(j,a){var d=this,b=d.el,e=d.slider,g=e.vertical?"bottom":e.horizontalProp,h,c;j+="%";if(!a){b.dom.style[g]=j}else{h={};h[g]=j;if(!Ext.supports.GetPositionPercentage){c={};c[g]=b.dom.style[g]}new Ext.fx.Anim({target:b,duration:350,from:c,to:h})}},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var a=this;a.disabled=false;if(a.el){a.el.removeCls(a.slider.disabledCls)}},disable:function(){var a=this;a.disabled=true;if(a.el){a.el.addCls(a.slider.disabledCls)}},initEvents:function(){var b=this,a=b.el;b.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(b.onBeforeDragStart,b),onStart:Ext.Function.bind(b.onDragStart,b),onDrag:Ext.Function.bind(b.onDrag,b),onEnd:Ext.Function.bind(b.onDragEnd,b),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"});b.tracker.initEl(a)},onBeforeDragStart:function(a){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(a){var b=this,c=b.slider;c.onDragStart(b,a);b.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");b.dragging=b.slider.dragging=true;b.dragStartValue=b.value;c.fireEvent("dragstart",c,a,b)},onDrag:function(c){var g=this,j=g.slider,d=g.index,h=g.getValueFromTracker(),a,b;if(h!==undefined){if(g.constrain){a=j.thumbs[d+1];b=j.thumbs[d-1];if(b!==undefined&&h<=b.value){h=b.value}if(a!==undefined&&h>=a.value){h=a.value}}j.setValue(d,h,false);j.fireEvent("drag",j,c,g)}},getValueFromTracker:function(){var a=this.slider,b=a.getTrackpoint(this.tracker.getXY());if(b!==undefined){return a.reversePixelValue(b)}},onDragEnd:function(a){var b=this,c=b.slider,d=b.value;c.onDragEnd(b,a);b.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");b.dragging=c.dragging=false;c.fireEvent("dragend",c,a);if(b.dragStartValue!=d){c.fireEvent("changecomplete",c,d,b)}},destroy:function(){Ext.destroy(this.tracker)}});Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:true,init:function(d){var b=this,a,c;if(!b.position){b.position=d.vertical?b.defaultVerticalPosition:b.defaultHorizontalPosition}switch(b.position){case"top":c=[0,-10];a="b-t?";break;case"bottom":c=[0,10];a="t-b?";break;case"left":c=[-10,0];a="r-l?";break;case"right":c=[10,0];a="l-r?"}if(!b.align){b.align=a}if(!b.offsets){b.offsets=c}d.on({scope:b,dragstart:b.onSlide,drag:b.onSlide,dragend:b.hide,destroy:b.destroy})},onSlide:function(c,a,d){var b=this;b.show();b.update(b.getText(d));b.el.alignTo(d.el,b.align,b.offsets)},getText:function(a){return String(a.value)}});Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}","{childElCls}",'" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(d,j){var c=j.$comp,a=0,h=c.thumbs,b=h.length,e,g;for(;a<b;a++){e=h[a];g=e.getElConfig();g.id=c.id+"-thumb-"+a;Ext.DomHelper.generateMarkup(g,d)}},disableFormats:true}],horizontalProp:"left",vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,constrainThumbs:true,componentLayout:"sliderfield",useTips:true,tipText:null,ariaRole:"slider",initValue:function(){var d=this,a=Ext.value,e=a(d.values,[a(d.value,a(d.minValue,0))]),b=0,c=e.length;d.originalValue=e;for(;b<c;b++){d.addThumb(e[b])}},initComponent:function(){var b=this,g,a,c,d,e;b.thumbs=[];b.keyIncrement=Math.max(b.increment,b.keyIncrement);b.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");b.callParent();if(b.useTips){if(Ext.isObject(b.useTips)){g=Ext.apply({},b.useTips)}else{g=b.tipText?{getText:b.tipText}:{}}e=b.plugins=b.plugins||[];d=e.length;for(c=0;c<d;c++){if(e[c].isSliderTip){a=true;break}}if(!a){b.plugins.push(new Ext.slider.Tip(g))}}},addThumb:function(c){var a=this,b=new Ext.slider.Thumb({ownerCt:a,ownerLayout:a.getComponentLayout(),value:c,slider:a,index:a.thumbs.length,constrain:a.constrainThumbs,disabled:!!a.readOnly});a.thumbs.push(b);if(a.rendered){b.render()}return b},promoteThumb:function(e){var d=this.thumbs,b=d.length,g,c,a;for(a=0;a<b;a++){c=d[a];if(c==e){c.bringToFront()}else{c.sendToBack()}}},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{$comp:a,vertical:a.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:a.minValue,maxValue:a.maxValue,value:a.value,childElCls:""})},onRender:function(){var c=this,e=c.thumbs,b=e.length,a=0,d;c.callParent(arguments);for(a=0;a<b;a++){d=e[a];d.el=c.el.getById(c.id+"-thumb-"+a);d.onRender()}},initEvents:function(){var a=this;a.mon(a.el,{scope:a,mousedown:a.onMouseDown,keydown:a.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(h){var a=this,g=a.vertical,d=a.innerEl,e,c,b;if(g){b="top";e=d.getHeight()}else{b=a.horizontalProp;e=d.getWidth()}h=a.transformTrackPoints(d.translatePoints(h));c=Ext.Number.constrain(h[b],0,e);return g?e-c:c},transformTrackPoints:Ext.identityFn,onMouseDown:function(a){var d=this,g=false,b=0,h=d.thumbs,c=h.length,j;if(d.disabled){return}for(;b<c;b++){g=g||a.target==h[b].el.dom}if(d.clickToChange&&!g){j=d.getTrackpoint(a.getXY());if(j!==undefined){d.onClickChange(j)}}d.focus()},onClickChange:function(d){var b=this,c,a;c=b.getNearest(d);if(!c.disabled){a=c.index;b.setValue(a,Ext.util.Format.round(b.reversePixelValue(d),b.decimalPrecision),undefined,true)}},getNearest:function(l){var e=this,a=e.reversePixelValue(l),h=e.getRange()+5,g=null,k=e.thumbs,c=0,d=k.length,j,m,b;for(;c<d;c++){j=e.thumbs[c];m=j.value;b=Math.abs(m-a);if(Math.abs(b<=h)){g=j;h=b}}return g},onKeyDown:function(a){var c=this,b,d;if(c.disabled||c.thumbs.length!==1){a.preventDefault();return}b=a.getKey();switch(b){case a.UP:case a.RIGHT:a.stopEvent();d=a.ctrlKey?c.maxValue:c.getValue(0)+c.keyIncrement;c.setValue(0,d,undefined,true);break;case a.DOWN:case a.LEFT:a.stopEvent();d=a.ctrlKey?c.minValue:c.getValue(0)-c.keyIncrement;c.setValue(0,d,undefined,true);break;default:a.preventDefault()}},normalizeValue:function(c){var a=this,b=a.zeroBasedSnapping?"snap":"snapInRange";c=Ext.Number[b](c,a.increment,a.minValue,a.maxValue);c=Ext.util.Format.round(c,a.decimalPrecision);c=Ext.Number.constrain(c,a.minValue,a.maxValue);return c},setMinValue:function(g){var c=this,e=c.thumbs,b=e.length,d,a;c.minValue=g;if(c.rendered){c.inputEl.dom.setAttribute("aria-valuemin",g)}for(a=0;a<b;++a){d=e[a];if(d.value<g){c.setValue(a,g,false)}}c.syncThumbs()},setMaxValue:function(g){var c=this,e=c.thumbs,b=e.length,d,a;c.maxValue=g;if(c.rendered){c.inputEl.dom.setAttribute("aria-valuemax",g)}for(a=0;a<b;++a){d=e[a];if(d.value>g){c.setValue(a,g,false)}}c.syncThumbs()},setValue:function(d,k,a,b){var g=this,j=g.thumbs,h,e,c,l;if(Ext.isArray(d)){l=d;a=k;for(c=0,e=l.length;c<e;++c){h=j[c];if(h){g.setValue(c,l[c],a)}}return g}h=g.thumbs[d];k=g.normalizeValue(k);if(k!==h.value&&g.fireEvent("beforechange",g,k,h.value,h)!==false){h.value=k;if(g.rendered){g.inputEl.set({"aria-valuenow":k,"aria-valuetext":k});h.move(g.calculateThumbPosition(k),Ext.isDefined(a)?a!==false:g.animate);g.fireEvent("change",g,k,h);g.checkDirty();if(b){g.fireEvent("changecomplete",g,k,h)}}}return g},calculateThumbPosition:function(d){var a=this,b=a.minValue,c=(d-b)/a.getRange()*100;if(isNaN(c)){c=b}return c},getRatio:function(){var b=this,a=b.innerEl,c=b.vertical?a.getHeight():a.getWidth(),d=b.getRange();return d===0?c:(c/d)},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+(a/this.getRatio())},reversePercentageValue:function(a){return this.minValue+this.getRange()*(a/100)},onDisable:function(){var d=this,b=0,g=d.thumbs,c=g.length,e,a,h;d.callParent();for(;b<c;b++){e=g[b];a=e.el;e.disable();if(Ext.isIE){h=a.getXY();a.hide();d.innerEl.addCls(d.disabledCls).dom.disabled=true;if(!d.thumbHolder){d.thumbHolder=d.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+d.disabledCls})}d.thumbHolder.show().setXY(h)}}},onEnable:function(){var d=this,b=0,g=d.thumbs,c=g.length,e,a;this.callParent();for(;b<c;b++){e=g[b];a=e.el;e.enable();if(Ext.isIE){d.innerEl.removeCls(d.disabledCls).dom.disabled=false;if(d.thumbHolder){d.thumbHolder.hide()}a.show();d.syncThumbs()}}},syncThumbs:function(){if(this.rendered){var c=this.thumbs,b=c.length,a=0;for(;a<b;a++){c[a].move(this.calculateThumbPosition(c[a].value))}}},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){var d=[],a=0,c=this.thumbs,b=c.length;for(;a<b;a++){d.push(c[a].value)}return d},getSubmitValue:function(){var a=this;return(a.disabled||!a.submitValue)?null:a.getValue()},reset:function(){var e=this,d=[].concat(e.originalValue),b=0,c=d.length,g;for(;b<c;b++){g=d[b];e.setValue(b,g)}e.clearInvalid();delete e.wasValid},setReadOnly:function(d){var c=this,e=c.thumbs,b=e.length,a=0;c.callParent(arguments);d=c.readOnly;for(;a<b;++a){if(d){e[a].disable()}else{e[a].enable()}}},beforeDestroy:function(){var a=this,d=a.thumbs,b=0,e=d.length,c;Ext.destroy(a.innerEl,a.endEl,a.focusEl);for(;b<e;b++){c=d[b];Ext.destroy(c)}a.callParent()}});Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:true,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close");a.callParent(arguments);if(a.card){a.setCard(a.card)}a.overCls=["over",a.position+"-over"]},getTemplateArgs:function(){var a=this,b=a.callParent();b.closable=a.closable;b.closeText=a.closeText;return b},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var a=this,b=a.up("tabbar"),c=a.up("tabpanel");a.callParent();a.addClsWithUI(a.position);if(a.active){a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls])}a.syncClosableUI();if(!a.minWidth){a.minWidth=(b)?b.minTabWidth:a.minWidth;if(!a.minWidth&&c){a.minWidth=c.minTabWidth}if(a.minWidth&&a.iconCls){a.minWidth+=25}}if(!a.maxWidth){a.maxWidth=(b)?b.maxTabWidth:a.maxWidth;if(!a.maxWidth&&c){a.maxWidth=c.maxTabWidth}}},onRender:function(){var a=this;a.setElOrientation();a.callParent(arguments);if(a.closable){a.closeEl.addClsOnOver(a.closeElOverCls)}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;if(a==="left"||a==="right"){this.el.setVertical(a==="right"?90:270)}},enable:function(b){var a=this;a.callParent(arguments);a.removeClsWithUI(a.position+"-disabled");return a},disable:function(b){var a=this;a.callParent(arguments);a.addClsWithUI(a.position+"-disabled");return a},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;a.callParent(arguments)},setClosable:function(a){var b=this;a=(!arguments.length||!!a);if(b.closable!=a){b.closable=a;if(b.card){b.card.closable=a}b.syncClosableUI();if(b.rendered){b.syncClosableElements();b.updateLayout()}}},syncClosableElements:function(){var b=this,a=b.closeEl;if(b.closable){if(!a){a=b.closeEl=b.btnWrap.insertSibling({tag:"a",cls:b.baseCls+"-close-btn",href:"#",title:b.closeText},"after")}a.addClsOnOver(b.closeElOverCls)}else{if(a){a.remove();delete b.closeEl}}},syncClosableUI:function(){var b=this,a=[b.closableCls,b.closableCls+"-"+b.position];if(b.closable){b.addClsWithUI(a)}else{b.removeClsWithUI(a)}},setCard:function(a){var b=this;b.card=a;b.setText(b.title||a.title);b.setIconCls(b.iconCls||a.iconCls);b.setIcon(b.icon||a.icon);b.setGlyph(b.glyph||a.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==false){if(a.tabBar){if(a.tabBar.closeTab(a)===false){return}}else{a.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){var b=this;if(b.tabBar){b.tabBar.onClick(a,b.el)}},onDeleteKey:function(a){if(this.closable){this.onCloseClick()}},activate:function(b){var a=this;a.active=true;a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);if(b!==true){a.fireEvent("activate",a)}},deactivate:function(b){var a=this;a.active=false;a.removeClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);if(b!==true){a.fireEvent("deactivate",a)}}});Ext.define("Ext.util.Point",{extend:Ext.util.Region,statics:{fromEvent:function(a){a=a.browserEvent||a;a=(a.changedTouches&&a.changedTouches.length>0)?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},isWithin:function(a,b){if(!Ext.isObject(b)){b={x:b,y:b}}return(this.x<=a.x+b.x&&this.x>=a.x-b.x&&this.y<=a.y+b.y&&this.y>=a.y-b.y)},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){return(Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y))}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy});Ext.define("Ext.tab.Bar",{extend:Ext.panel.Header,alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:true,defaultType:"tab",plain:false,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var a=this;if(a.plain){a.addCls(a.baseCls+"-plain")}a.addClsWithUI(a.orientation);a.addEvents("change");a.callParent(arguments);Ext.merge(a.layout,a.initialConfig.layout);a.layout.align=(a.orientation=="vertical")?"left":"top";a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;a.callParent();if(a.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){a.el.on({mousemove:a.onMouseMove,scope:a})}},afterRender:function(){var a=this.layout;this.callParent();if(Ext.isIE9&&Ext.isStrict&&this.orientation==="vertical"){a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})}},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var b=this.items.items,a=b.length,c;if(!Ext.isIE9m){if(this.dock==="right"){while(a--){c=b[a];if(c.isVisible()){c.el.setStyle("left",c.lastBox.width+"px")}}}else{if(this.dock==="left"){while(a--){c=b[a];if(c.isVisible()){c.el.setStyle("left",-c.lastBox.height+"px")}}}}}},getLayout:function(){var a=this;a.layout.type=(a.orientation==="horizontal")?"hbox":"vbox";return a.callParent(arguments)},onAdd:function(a){a.position=this.dock;this.callParent(arguments)},onRemove:function(b){var a=this;if(b===a.previousTab){a.previousTab=null}a.callParent(arguments)},afterComponentLayout:function(c){var a=this,b=a.needsScroll;a.callParent(arguments);if(b){a.layout.overflowHandler.scrollToItem(a.activeTab)}delete a.needsScroll},onClick:function(a,k){var c=this,j=c.tabPanel,g,d,b,h;if(a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}if(c.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){h=c.getTabInfoFromPoint(a.getXY());d=h.tab;b=h.close}else{g=a.getTarget("."+Ext.tab.Tab.prototype.baseCls);d=g&&Ext.getCmp(g.id);b=d&&d.closeEl&&(k===d.closeEl.dom)}if(b){a.preventDefault()}if(d&&d.isDisabled&&!d.isDisabled()){if(d.closable&&b){d.onCloseClick()}else{if(j){j.setActiveTab(d.card)}else{c.setActiveTab(d)}d.focus()}}},onMouseMove:function(a){var b=this,c=b._overTab,g,d;if(a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}g=b.getTabInfoFromPoint(a.getXY());d=g.tab;if(d!==c){if(c&&c.rendered){c.onMouseLeave(a);b._overTab=null}if(d){d.onMouseEnter(a);b._overTab=d;if(!d.disabled){b.el.setStyle("cursor","pointer")}}else{b.el.setStyle("cursor","default")}}},onMouseLeave:function(a){var b=this._overTab;if(b&&b.rendered){b.onMouseLeave(a)}},getTabInfoFromPoint:function(A){var r=this,w=r.items.items,q=w.length,m=r.layout.innerCt,n=m.getXY(),s=new Ext.util.Point(A[0],A[1]),l=0,p,v,b,a,h,g,j,e,c,y,z,x,u,d,o,k,t;for(;l<q;l++){p=w[l].lastBox;y=n[0]+p.x;z=n[1]-m.dom.scrollTop+p.y;x=p.width;u=p.height;v=new Ext.util.Region(z,y+x,z+u,y);if(v.contains(s)){t=w[l];b=t.closeEl;if(b){h=b.getXY();e=b.getWidth();c=b.getHeight();if(r._isTabReversed===undefined){r._isTabReversed=o=(t.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1)}k=o?this._reverseDockNames[r.dock]:r.dock;if(k==="right"){g=y+x-((h[1]-z)+b.getHeight());j=z+(h[0]-y)}else{g=y+(h[1]-z);j=z+y+u-h[0]-b.getWidth()}d=new Ext.util.Region(j,g+e,j+c,g);a=d.contains(s)}break}}return{tab:t,close:a}},closeTab:function(e){var b=this,a=e.card,c=b.tabPanel,d;if(a&&a.fireEvent("beforeclose",a)===false){return false}d=b.findNextActivatable(e);Ext.suspendLayouts();if(c&&a){delete e.ownerCt;a.fireEvent("close",a);c.remove(a);if(!c.getComponent(a)){e.fireClose();b.remove(e)}else{e.ownerCt=b;Ext.resumeLayouts(true);return false}}if(d){if(c){c.setActiveTab(d.card)}else{b.setActiveTab(d)}d.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(b){var a=this;if(b.active&&a.items.getCount()>1){return(a.previousTab&&a.previousTab!==b&&!a.previousTab.disabled)?a.previousTab:(b.next("tab[disabled=false]")||b.prev("tab[disabled=false]"))}},setActiveTab:function(c,a){var b=this;if(!c.disabled&&c!==b.activeTab){if(b.activeTab){if(b.activeTab.isDestroyed){b.previousTab=null}else{b.previousTab=b.activeTab;b.activeTab.deactivate()}}c.activate();b.activeTab=c;b.needsScroll=true;if(!a){b.fireEvent("change",b,c,c.card);b.updateLayout()}}}});Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:true,cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>"/>','<tpl if="checked !== null">','<input type="button" role="checkbox" <tpl if="checked">aria-checked="true" </tpl>','class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {baseIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else>parent</tpl> {iconCls}"','<tpl if="icon">style="background-image:url({icon})"</tpl>/>','<tpl if="href">','<a href="{href}" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],initComponent:function(){var a=this;a.origRenderer=a.renderer;a.origScope=a.scope||window;a.renderer=a.treeRenderer;a.scope=a;a.callParent()},treeRenderer:function(p,g,k,n,b,o,q){var e=this,a=k.get("cls"),l=e.origRenderer,c=k.data,h=k.parentNode,m=q.rootVisible,d=[],j;if(a){g.tdCls+=" "+a}while(h&&(m||h.data.depth>0)){j=h.data;d[m?j.depth:j.depth-1]=j.isLast?0:1;h=h.parentNode}return e.getTpl("cellTpl").apply({record:k,baseIconCls:e.iconCls,iconCls:c.iconCls,icon:c.icon,checkboxCls:e.checkboxCls,checked:c.checked,elbowCls:e.elbowCls,expanderCls:e.expanderCls,textCls:e.textCls,leaf:c.leaf,expandable:k.isExpandable(),isLast:c.isLast,blankUrl:Ext.BLANK_IMAGE_URL,href:c.href,hrefTarget:c.hrefTarget,lines:d,metaData:g,childCls:e.getChildCls?e.getChildCls()+" ":"",value:l?l.apply(e.origScope,arguments):p})}});Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var a=this;a.callParent(arguments);if(a.mode==="SINGLE"&&a.showHeaderCheckbox!==true){a.showHeaderCheckbox=false}},beforeViewRender:function(c){var a=this,b;a.callParent(arguments);if(!a.hasLockedHeader()||c.headerCt.lockedCt){if(a.showHeaderCheckbox!==false){c.headerCt.on("headerclick",a.onHeaderClick,a)}a.addCheckbox(c,true);b=c.ownerCt;if(c.headerCt.lockedCt){b=b.ownerCt}a.mon(b,"reconfigure",a.onReconfigure,a)}},bindComponent:function(b){var a=this;a.sortable=false;a.callParent(arguments)},hasLockedHeader:function(){var b=this.views,c=b.length,a;for(a=0;a<c;a++){if(b[a].headerCt.lockedCt){return true}}return false},addCheckbox:function(e,c){var d=this,a=d.injectCheckbox,b=e.headerCt;if(a!==false){if(a=="first"){a=0}else{if(a=="last"){a=b.getColumnCount()}}Ext.suspendLayouts();if(e.getStore().buffered){d.showHeaderCheckbox=false}b.add(a,d.getHeaderConfig());Ext.resumeLayouts()}if(c!==true){e.refresh()}},onReconfigure:function(b,c,a){if(a){this.addCheckbox(this.views[0])}},toggleUiHeader:function(d){var e=this.views[0],c=e.headerCt,a=c.child("gridcolumn[isCheckerHd]"),b=this.checkerOnCls;if(a){if(d){a.addCls(b)}else{a.removeCls(b)}}},onHeaderClick:function(c,b,a){if(b.isCheckerHd){a.stopEvent();var g=this,d=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");g.preventFocus=true;if(d){g.deselectAll()}else{g.selectAll()}delete g.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==false;return{isCheckerHd:b,text:"&#160;",clickTargetName:"el",width:a.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(h,c,d,e,b,g,j){var a=Ext.baseCSSPrefix;c.tdCls=a+"grid-cell-special "+a+"grid-cell-row-checker";return'<div class="'+a+'grid-row-checker">&#160;</div>'},processSelection:function(k,j,d,c,b){var g=this,a=b.getTarget(g.checkSelector),h;if(g.checkOnly&&!a){return}if(a){h=g.getSelectionMode();if(h!=="SINGLE"){g.setSelectionMode("SIMPLE")}g.selectWithEvent(j,b);g.setSelectionMode(h)}else{g.selectWithEvent(j,b)}},onSelectChange:function(){this.callParent(arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){if(a&&!this.suspendChange){this.updateHeaderState()}this.callParent(arguments)},resumeChanges:function(){this.callParent();if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var d=this,h=d.store,j=h.getCount(),k=d.views,a=false,g=0,e,c,b;if(!h.buffered&&j>0){e=d.selected;a=true;for(b=0,c=e.getCount();b<c;++b){if(!d.storeHasSelected(e.getAt(b))){break}++g}a=j===g}if(k&&k.length){d.toggleUiHeader(a)}}});Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(d,a){var b=arguments,c=b.length;if(c==1||(c<=3&&typeof b[1]!="number")){b=Ext.toArray(b);b.unshift(0)}return this.callParent(b)},getNearest:function(){return this.thumbs[0]}});Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(a){var b=this;b.path="/";b.expires=new Date(Ext.Date.now()+(1000*60*60*24*7));b.domain=null;b.secure=false;b.callParent(arguments);b.state=b.readCookies()},set:function(b,c){var a=this;if(typeof c=="undefined"||c===null){a.clear(b);return}a.setCookie(b,c);a.callParent(arguments)},clear:function(a){this.clearCookie(a);this.callParent(arguments)},readCookies:function(){var b={},a=document.cookie+";",j=/\s?(.*?)=(.*?);/g,h=this.prefix,d=h.length,e,g,k;while((e=j.exec(a))!=null){g=e[1];k=e[2];if(g&&g.substring(0,d)==h){b[g.substr(d)]=this.decodeValue(k)}}return b},setCookie:function(b,c){var a=this;document.cookie=a.prefix+b+"="+a.encodeValue(c)+((a.expires==null)?"":("; expires="+a.expires.toGMTString()))+((a.path==null)?"":("; path="+a.path))+((a.domain==null)?"":("; domain="+a.domain))+((a.secure==true)?"; secure":"")},clearCookie:function(b){var a=this;document.cookie=a.prefix+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((a.path==null)?"":("; path="+a.path))+((a.domain==null)?"":("; domain="+a.domain))+((a.secure==true)?"; secure":"")}});Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){var a=this;a.callParent(arguments);a.store=a.getStorageObject();if(a.store){a.state=a.readLocalStorage()}else{a.state={}}},readLocalStorage:function(){var h=this.store,b=0,d=h.length,e=this.prefix,g=e.length,a={},c;for(;b<d;++b){c=h.key(b);if(c.substring(0,g)==e){a[c.substr(g)]=this.decodeValue(h.getItem(c))}}return a},set:function(b,c){var a=this;a.clear(b);if(typeof c=="undefined"||c===null){return}a.store.setItem(a.prefix+b,a.encodeValue(c));a.callParent(arguments)},clear:function(a){this.store.removeItem(this.prefix+a);this.callParent(arguments)},getStorageObject:function(){if(Ext.supports.LocalStorage){return window.localStorage}return false}});Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,initComponent:function(){var c=this,b=[].concat(c.dockedItems||[]),a=c.activeTab||(c.activeTab=0),d=c.tabPosition;c.layout=new Ext.layout.container.Card(Ext.apply({owner:c,deferredRender:c.deferredRender,itemCls:c.itemCls,activeItem:a},c.layout));c.tabBar=new Ext.tab.Bar(Ext.apply({ui:c.ui,dock:c.tabPosition,orientation:(d=="top"||d=="bottom")?"horizontal":"vertical",plain:c.plain,cardLayout:c.layout,tabPanel:c},c.tabBar));b.push(c.tabBar);c.dockedItems=b;c.addEvents("beforetabchange","tabchange");c.callParent(arguments);a=c.activeTab=c.getComponent(a);if(a){c.tabBar.setActiveTab(a.tab,true)}},setActiveTab:function(a){var b=this,c;a=b.getComponent(a);if(a){c=b.getActiveTab();if(c!==a&&b.fireEvent("beforetabchange",b,a,c)===false){return false}if(!a.isComponent){Ext.suspendLayouts();a=b.add(a);Ext.resumeLayouts()}b.activeTab=a;Ext.suspendLayouts();b.layout.setActiveItem(a);a=b.activeTab=b.layout.getActiveItem();if(a&&a!==c){b.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(true);if(c!==a){b.fireEvent("tabchange",b,a,c)}}else{Ext.resumeLayouts(true)}return a}},getActiveTab:function(){var a=this,b=a.getComponent(a.activeTab);if(b&&a.items.indexOf(b)!=-1){a.activeTab=b}else{a.activeTab=null}return a.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(d,c){var e=this,a=d.tabConfig||{},b={xtype:"tab",ui:e.tabBar.ui,card:d,disabled:d.disabled,closable:d.closable,hidden:d.hidden&&!d.hiddenByLayout,tooltip:d.tooltip,tabBar:e.tabBar,position:e.tabPosition,closeText:d.closeText};a=Ext.applyIf(a,b);d.tab=e.tabBar.insert(c,a);d.on({scope:e,enable:e.onItemEnable,disable:e.onItemDisable,beforeshow:e.onItemBeforeShow,iconchange:e.onItemIconChange,iconclschange:e.onItemIconClsChange,titlechange:e.onItemTitleChange});if(d.isPanel){if(e.removePanelHeader){if(d.rendered){if(d.header){d.header.hide()}}else{d.header=false}}if(d.isPanel&&e.border){d.setBorder(false)}}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return false}},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(b,a){var c=this,d;if(c.destroying||c.items.getCount()==1){c.activeTab=null}else{if((d=c.tabBar.items.indexOf(c.tabBar.findNextActivatable(b.tab)))!==-1){c.setActiveTab(d)}}this.callParent(arguments);delete b.tab.card;delete b.tab},onRemove:function(b,a){var c=this;b.un({scope:c,enable:c.onItemEnable,disable:c.onItemDisable,beforeshow:c.onItemBeforeShow});if(!c.destroying&&b.tab.ownerCt===c.tabBar){c.tabBar.remove(b.tab)}}});Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:false});Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:false,rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{};if(a.animate===undefined){a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var b=this,a=[b.treeCls],c=b.store,d;if(b.useArrows){a.push(b.arrowCls);b.lines=false}if(b.lines){a.push(b.linesCls)}else{if(!b.useArrows){a.push(b.noLinesCls)}}if(Ext.isString(c)){c=b.store=Ext.StoreMgr.lookup(c)}else{if(!c||Ext.isObject(c)&&!c.isStore){c=b.store=new Ext.data.TreeStore(Ext.apply({root:b.root,fields:b.fields,model:b.model,folderSort:b.folderSort},c))}else{if(b.root){c=b.store=Ext.data.StoreManager.lookup(c);c.setRootNode(b.root);if(b.folderSort!==undefined){c.folderSort=b.folderSort;c.sort()}}}}b.viewConfig=Ext.apply({rootVisible:b.rootVisible,animate:b.enableAnimations,singleExpand:b.singleExpand,node:c.getRootNode(),hideHeaders:b.hideHeaders},b.viewConfig);if(!b.columns){if(b.initialConfig.hideHeaders===undefined){b.hideHeaders=true}b.addCls(b.autoWidthCls);b.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?"100%":10000,dataIndex:b.displayField}]}if(b.cls){a.push(b.cls)}b.cls=a.join(" ");b.callParent();b.selModel.treeStore=b.store;d=b.getView();b.relayEvents(d,["checkchange","afteritemexpand","afteritemcollapse"]);if(!d.isLockingView){if(!d.rootVisible&&!b.getRootNode()){b.setRootNode({expanded:true})}}},bindStore:function(c,a){var b=this;b.store=c;b.storeListeners=b.mon(c,{destroyable:true,load:b.onStoreLoad,rootchange:b.onRootChange,clear:b.onClear,scope:b});b.storeRelayers=b.relayEvents(c,["beforeload","load"]);b.storeRelayers1=b.mon(c,{destroyable:true,append:b.createRelayer("itemappend"),remove:b.createRelayer("itemremove"),move:b.createRelayer("itemmove",[0,4]),insert:b.createRelayer("iteminsert"),beforeappend:b.createRelayer("beforeitemappend"),beforeremove:b.createRelayer("beforeitemremove"),beforemove:b.createRelayer("beforeitemmove"),beforeinsert:b.createRelayer("beforeiteminsert"),expand:b.createRelayer("itemexpand",[0,1]),collapse:b.createRelayer("itemcollapse",[0,1]),beforeexpand:b.createRelayer("beforeitemexpand",[0,1]),beforecollapse:b.createRelayer("beforeitemcollapse",[0,1])});c.ownerTree=b;if(!a){b.view.setRootNode(b.getRootNode())}},unbindStore:function(){var a=this,b=a.store;if(b){Ext.destroy(a.storeListeners,a.storeRelayers,a.storeRelayers1);delete b.ownerTree}},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(c,b,a,d){return this.getView().expand(c,b,a,d||this)},collapseNode:function(c,b,a,d){return this.getView().collapse(c,b,a,d||this)},expandAll:function(b,e){var c=this,d=c.getRootNode(),a=c.enableAnimations;if(d){if(!a){Ext.suspendLayouts()}d.expand(true,b,e||c);if(!a){Ext.resumeLayouts(true)}}},collapseAll:function(b,e){var c=this,d=c.getRootNode(),a=c.enableAnimations,g=c.getView();if(d){if(!a){Ext.suspendLayouts()}e=e||c;if(g.rootVisible){d.collapse(true,b,e)}else{d.collapseChildren(true,b,e)}if(!a){Ext.resumeLayouts(true)}}},expandPath:function(j,d,l,a,k){var h=this,b=h.getRootNode(),e=1,m=h.getView(),g,c;d=d||h.getRootNode().idProperty;l=l||"/";if(Ext.isEmpty(j)){Ext.callback(a,k||h,[false,null]);return}g=j.split(l);if(b.get(d)!=g[1]){Ext.callback(a,k||h,[false,b]);return}c=function(){if(++e===g.length){Ext.callback(a,k||h,[true,b]);return}var n=b.findChild(d,g[e]);if(!n){Ext.callback(a,k||h,[false,b]);return}b=n;b.expand(false,c)};b.expand(false,c)},selectPath:function(g,b,k,a,j){var e=this,h,c,d;b=b||e.getRootNode().idProperty;k=k||"/";c=g.split(k);d=c.pop();if(c.length>1){e.expandPath(c.join(k),b,k,function(n,m){var l=m;if(n&&m){m=m.findChild(b,d);if(m){e.getSelectionModel().select(m);Ext.callback(a,j||e,[true,m]);return}}Ext.callback(a,j||e,[false,l])},e)}else{h=e.getRootNode();if(h.getId()===d){e.getSelectionModel().select(h);Ext.callback(a,j||e,[true,h])}else{Ext.callback(a,j||e,[false,null])}}}});Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:false,constructor:function(a){var c=this,e,d,b;Ext.apply(c,a);if(!c.ddGroup){c.ddGroup="view-dd-zone-"+c.view.id}e=c.view;d=e.ownerCt;if(d){b=d.getTargetEl().dom}else{b=e.el.dom.parentNode}c.callParent([b]);c.ddel=Ext.get(document.createElement("div"));c.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(b,c,a){this.initTarget(b,c,a);this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(c,a,b){this.callParent();c.el.focus()},onItemMouseDown:function(g,d,c,b,a){if(!this.isPreventDrag(a,d,c,b)){if(g.focusRow){g.focusRow(d)}this.handleMouseDown(a)}},isPreventDrag:function(a){return false},getDragData:function(a){var c=this.view,b=a.getTarget(c.getItemSelector());if(b){return{copy:c.copy||(c.allowCopy&&a.ctrlKey),event:new Ext.EventObjectImpl(a),view:c,ddel:this.ddel,item:b,records:c.getSelectionModel().getSelection(),fromPosition:Ext.fly(b).getXY()}}},onInitDrag:function(g,h){var b=this,a=b.dragData,e=a.view,d=e.getSelectionModel(),c=e.getRecord(a.item);if(!d.isSelected(c)){d.select(c,true)}a.records=d.getSelection();b.ddel.update(b.getDragText());b.proxy.update(b.ddel.dom);b.onStartDrag(g,h);return true},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,a==1?"":"s")},getRepairXY:function(b,a){return a?a.fromPosition:false}});Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(a,b){return(b.get("allowDrag")===false)||!!a.getTarget(this.view.expanderSelector)},getDragText:function(){var b=this.dragData.records,a=b.length,d=b[0].get(this.displayField),c="s";if(a===1&&d){return d}else{if(!d){c=""}}return Ext.String.format(this.dragText,a,c)},afterRepair:function(){var c=this,j=c.view,h=j.selectedItemCls,e=c.dragData.records,d,g=e.length,a=Ext.fly,b;if(Ext.enableFx&&c.repairHighlight){for(d=0;d<g;d++){b=j.getNode(e[d]);a(b.firstChild).highlight(c.repairHighlightColor,{listeners:{beforeanimate:function(){if(j.isSelected(b)){a(b).removeCls(h)}},afteranimate:function(){if(j.isSelected(b)){a(b).addCls(h)}}}})}}c.dragging=false}});Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;this.expandProcId=false;if(!a.isLeaf()&&!a.isExpanded()){b.expand(a);this.expandProcId=false}},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(a,g){var k=this.view,h=k.getRecord(g),l=a.getPageY(),c=h.isLeaf(),d=false,j=Ext.fly(g).getRegion(),b;if(h.isRoot()){return"append"}if(this.appendOnly){return c?false:"append"}if(!this.allowParentInserts){d=h.hasChildNodes()&&h.isExpanded()}b=(j.bottom-j.top)/(c?2:3);if(l>=j.top&&l<(j.top+b)){return"before"}else{if(!d&&(c||(l>=(j.bottom-b)&&l<=j.bottom))){return"after"}else{return"append"}}},isValidDropPoint:function(k,l,d,g,a){if(!k||!a.item){return false}var o=this.view,n=o.getRecord(k),c=a.records,b=c.length,j=c.length,h,m;if(!(n&&l&&b)){return false}for(h=0;h<j;h++){m=c[h];if(m.isNode&&m.contains(n)){return false}}if(l==="append"&&n.get("allowDrop")===false){return false}else{if(l!="append"&&n.parentNode.get("allowDrop")===false){return false}}if(Ext.Array.contains(c,n)){return false}return o.fireEvent("nodedragover",n,l,a,g)!==false},onNodeOver:function(h,b,c,a){var j=this.getPosition(c,h),k=this.dropNotAllowed,m=this.view,l=m.getRecord(h),d=this.getIndicator(),g=0;this.cancelExpand();if(j=="append"&&!this.expandProcId&&!Ext.Array.contains(a.records,l)&&!l.isLeaf()&&!l.isExpanded()){this.queueExpand(l)}if(this.isValidDropPoint(h,j,b,c,a)){this.valid=true;this.currentPosition=j;this.overRecord=l;d.setWidth(Ext.fly(h).getWidth());g=Ext.fly(h).getY()-Ext.fly(m.el).getY()-1;if(j=="before"){k=l.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between";d.showAt(0,g);b.proxy.show()}else{if(j=="after"){k=l.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between";g+=Ext.fly(h).getHeight();d.showAt(0,g);b.proxy.show()}else{k=Ext.baseCSSPrefix+"tree-drop-ok-append";d.hide()}}}else{this.valid=false}this.currentCls=k;return k},onNodeOut:function(d,b,c,a){this.valid=false;this.getIndicator().hide()},onContainerOver:function(b,c,a){return c.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments);this.cancelExpand()},handleNodeDrop:function(b,o,l){var g=this,p=g.view,k=o?o.parentNode:p.panel.getRootNode(),h=p.getStore().treeStore.model,n,c,e,m,d,a,j,q;if(b.copy){n=b.records;b.records=[];for(c=0,e=n.length;c<e;c++){m=n[c];if(m.isNode){b.records.push(m.copy(undefined,true))}else{b.records.push(new h(m.data,m.getId()))}}}g.cancelExpand();if(l=="before"){d=k.insertBefore;a=[null,o];o=k}else{if(l=="after"){if(o.nextSibling){d=k.insertBefore;a=[null,o.nextSibling]}else{d=k.appendChild;a=[null]}o=k}else{if(!(o.isExpanded()||o.isLoading())){j=true}d=o.appendChild;a=[null]}}q=function(){var r,s;Ext.suspendLayouts();p.getSelectionModel().clearSelections();for(c=0,e=b.records.length;c<e;c++){m=b.records[c];if(!m.isNode){if(m.isModel){m=new h(m.data,m.getId())}else{m=new h(m)}b.records[c]=m}a[0]=m;d.apply(o,a)}if(g.sortOnDrop){o.sort(o.getOwnerTree().store.generateComparator())}Ext.resumeLayouts(true);if(Ext.enableFx&&g.dropHighlight){r=g.dropHighlightColor;for(c=0;c<e;c++){s=p.getNode(b.records[c]);if(s){Ext.fly(s).highlight(r)}}}};if(j){o.expand(false,q)}else{if(o.isLoading()){o.on({expand:q,delay:1,single:true})}else{q()}}}});Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.AbstractPlugin,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",containerScroll:false,expandDelay:1000,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,displayField:"text",init:function(a){a.on("render",this.onViewRender,this,{single:true})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(c){var a=this,b;if(a.enableDrag){if(a.containerScroll){b=c.getEl()}a.dragZone=new Ext.tree.ViewDragZone({view:c,ddGroup:a.dragGroup||a.ddGroup,dragText:a.dragText,displayField:a.displayField,repairHighlightColor:a.nodeHighlightColor,repairHighlight:a.nodeHighlightOnRepair,scrollEl:b})}if(a.enableDrop){a.dropZone=new Ext.tree.ViewDropZone({view:c,ddGroup:a.dropGroup||a.ddGroup,allowContainerDrops:a.allowContainerDrops,appendOnly:a.appendOnly,allowParentInserts:a.allowParentInserts,expandDelay:a.expandDelay,dropHighlightColor:a.nodeHighlightColor,dropHighlight:a.nodeHighlightOnDrop,sortOnDrop:a.sortOnDrop,containerScroll:a.containerScroll})}}},function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx});Ext.define("Ext.util.Cookies",{singleton:true,set:function(e,j){var b=arguments,a=arguments.length,d=(a>2)?b[2]:null,g=(a>3)?b[3]:"/",c=(a>4)?b[4]:null,h=(a>5)?b[5]:false;document.cookie=e+"="+escape(j)+((d===null)?"":("; expires="+d.toGMTString()))+((g===null)?"":("; path="+g))+((c===null)?"":("; domain="+c))+((h===true)?"; secure":"")},get:function(g){var b=g+"=",a=b.length,c=document.cookie.length,d=0,e=0;while(d<c){e=d+a;if(document.cookie.substring(d,e)==b){return this.getCookieVal(e)}d=document.cookie.indexOf(" ",d)+1;if(d===0){break}}return null},clear:function(a,b){if(this.get(a)){b=b||"/";document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+b}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))}});Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:true,getGroupString:function(a){return a.get(this.property)}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:true,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var a=this;a.oldIEMode=Ext.isIE7m||!Ext.isStrict&&Ext.isIE8;a.iframe=null;a.hiddenField=null;a.ready=false;a.currentToken=null;a.mixins.observable.constructor.call(a)},getHash:function(){var a=window.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null},setHash:function(b){var c=this,d=c.useTopWindow?window.top:window;try{d.location.hash=b}catch(a){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},updateIFrame:function(d){var c='<html><body><div id="state">'+Ext.util.Format.htmlEncode(d)+"</div></body></html>",a;try{a=this.iframe.contentWindow.document;a.open();a.write(c);a.close();return true}catch(b){return false}},checkIFrame:function(){var d=this,a=d.iframe.contentWindow,b,c,g,e;if(!a||!a.document){Ext.Function.defer(this.checkIFrame,10,this);return}b=a.document;c=b.getElementById("state");g=c?c.innerText:null;e=d.getHash();Ext.TaskManager.start({run:function(){var h=a.document,j=h.getElementById("state"),l=j?j.innerText:null,k=d.getHash();if(l!==g){g=l;d.handleStateChange(l);d.setHash(l);e=l;d.doSave()}else{if(k!==e){e=k;d.updateIFrame(k)}}},interval:50,scope:d});d.ready=true;d.fireEvent("ready",d)},startUp:function(){var b=this,a;b.currentToken=b.hiddenField.value||this.getHash();if(b.oldIEMode){b.checkIFrame()}else{a=b.getHash();Ext.TaskManager.start({run:function(){var c=b.getHash();if(c!==a){a=c;b.handleStateChange(a);b.doSave()}},interval:50,scope:b});b.ready=true;b.fireEvent("ready",b)}},init:function(c,d){var b=this,a=Ext.DomHelper;if(b.ready){Ext.callback(c,d,[b]);return}if(!Ext.isReady){Ext.onReady(function(){b.init(c,d)});return}b.hiddenField=Ext.getDom(b.fieldId);if(!b.hiddenField){b.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:b.fieldId}]},false,true).firstChild}if(b.oldIEMode){b.iframe=Ext.getDom(b.iframeId);if(!b.iframe){b.iframe=a.append(b.hiddenField.parentNode,{tag:"iframe",id:b.iframeId,src:Ext.SSL_SECURE_URL})}}b.addEvents("ready","change");if(c){b.on("ready",c,d,{single:true})}b.startUp()},add:function(c,b){var a=this;if(b!==false){if(a.getToken()===c){return true}}if(a.oldIEMode){return a.updateIFrame(c)}else{a.setHash(c);return true}},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});